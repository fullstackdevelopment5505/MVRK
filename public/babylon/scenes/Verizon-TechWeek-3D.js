// Xbox Project Shim Services
var EnableXboxLiveServices = true;

// Verizon-TechWeek-3D.js
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var PROJECT;
(function (PROJECT) {
    /**
     * Babylon universal camera rig system pro class
     * @class UniversalCameraSystem - All rights reserved (c) 2020 Mackey Kinard
     */
    var UniversalCameraSystem = /** @class */ (function (_super) {
        __extends(UniversalCameraSystem, _super);
        function UniversalCameraSystem() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this.mainCamera = false;
            _this.cameraType = 0;
            _this.cameraInertia = 0.5;
            _this.cameraController = null;
            _this.virtualReality = null;
            _this.arcRotateConfig = null;
            _this.multiPlayerSetup = null;
            _this.editorPostProcessing = null;
            _this.m_cameraRig = null;
            return _this;
        }
        UniversalCameraSystem.GetRenderingPipeline = function () { return PROJECT.UniversalCameraSystem.renderingPipeline; };
        ;
        UniversalCameraSystem.IsCameraSystemReady = function () { return PROJECT.UniversalCameraSystem.cameraReady; };
        UniversalCameraSystem.prototype.isMainCamera = function () { return this.mainCamera; };
        UniversalCameraSystem.prototype.getCameraType = function () { return this.cameraType; };
        UniversalCameraSystem.prototype.awake = function () { this.awakeCameraSystemState(); };
        UniversalCameraSystem.prototype.start = function () { this.startCameraSystemState(); };
        UniversalCameraSystem.prototype.update = function () { this.updateCameraSystemState(); };
        UniversalCameraSystem.prototype.destroy = function () { this.destroyCameraSystemState(); };
        /////////////////////////////////////////////
        // Universal Camera System State Functions //
        /////////////////////////////////////////////
        UniversalCameraSystem.prototype.awakeCameraSystemState = function () {
            this.mainCamera = (this.getTransformTag() === "MainCamera");
            this.cameraType = this.getProperty("mainCameraType", this.cameraType);
            this.cameraInertia = this.getProperty("setCameraInertia", this.cameraInertia);
            this.virtualReality = this.getProperty("virtualRealityRig", this.virtualReality);
            this.arcRotateConfig = this.getProperty("arcRotateConfig", this.arcRotateConfig);
            this.multiPlayerSetup = this.getProperty("multiPlayerSetup", this.multiPlayerSetup);
            this.cameraController = this.getProperty("cameraController", this.cameraController);
            this.editorPostProcessing = this.getProperty("renderingPipeline", this.editorPostProcessing);
        };
        UniversalCameraSystem.prototype.startCameraSystemState = function () {
            return __awaiter(this, void 0, void 0, function () {
                var webvrFloorMeshes, webvrHelperOptions, webvrImmersiveMode, webvrReferenceType, _a, cameraName, playerOneTransform, playerOneName, playerOneCamerax, playerTwoTransform, playerTwoName, playerTwoCamerax, playerThreeTransform, playerThreeName, playerThreeCamerax, playerFourTransform, playerFourName, playerFourCamerax, targetVector, defaultPipeline, colorGradingTexture, curve;
                return __generator(this, function (_b) {
                    switch (_b.label) {
                        case 0:
                            BABYLON.Utilities.ValidateTransformQuaternion(this.transform);
                            if (this.multiPlayerSetup != null) {
                                PROJECT.UniversalCameraSystem.startupMode = this.multiPlayerSetup.playerStartupMode;
                                PROJECT.UniversalCameraSystem.stereoCameras = this.multiPlayerSetup.stereoSideBySide;
                            }
                            // ..
                            // Default Camera System Support
                            // ..
                            this.m_cameraRig = this.getCameraRig();
                            if (!(this.m_cameraRig != null)) return [3 /*break*/, 5];
                            this.m_cameraRig.inertia = this.cameraInertia;
                            if (this.cameraController.attachControl === true) {
                                this.m_cameraRig.parent = null; // Detach Camera Parent When Attaching Control
                                this.m_cameraRig.position.copyFrom(this.transform.position);
                                this.m_cameraRig.rotationQuaternion = (this.transform.rotationQuaternion != null) ? this.transform.rotationQuaternion.clone() : BABYLON.Quaternion.FromEulerAngles(this.transform.rotation.x, this.transform.rotation.y, this.transform.rotation.z);
                                if (this.m_cameraRig instanceof BABYLON.FreeCamera) {
                                    this.m_cameraRig.checkCollisions = this.cameraController.checkCollisions;
                                    this.m_cameraRig.applyGravity = this.cameraController.setApplyGravity;
                                }
                                this.m_cameraRig.attachControl(this.cameraController.preventDefault);
                            }
                            if (!(this.cameraType === 0)) return [3 /*break*/, 1];
                            //if (PROJECT.UniversalCameraSystem.PlayerOneCamera == null) {
                            PROJECT.UniversalCameraSystem.PlayerOneCamera = this.m_cameraRig;
                            PROJECT.UniversalCameraSystem.PlayerOneCamera.inertia = this.cameraInertia;
                            PROJECT.UniversalCameraSystem.PlayerOneCamera.transform = this.transform;
                            return [3 /*break*/, 5];
                        case 1:
                            if (!(this.cameraType === 1)) return [3 /*break*/, 4];
                            if (!(this.virtualReality != null)) return [3 /*break*/, 3];
                            webvrFloorMeshes = null;
                            webvrHelperOptions = null;
                            webvrImmersiveMode = (this.virtualReality.immersiveExperience === 1) ? "immersive-ar" : "immersive-vr";
                            webvrReferenceType = "local-floor";
                            switch (this.virtualReality.referenceSpaceType) {
                                case 0:
                                    webvrReferenceType = "viewer";
                                    break;
                                case 1:
                                    webvrReferenceType = "local";
                                    break;
                                case 2:
                                    webvrReferenceType = "local-floor";
                                    break;
                                case 3:
                                    webvrReferenceType = "bounded-floor";
                                    break;
                                case 4:
                                    webvrReferenceType = "unbounded";
                                    break;
                                default:
                                    webvrReferenceType = "local-floor";
                                    break;
                            }
                            if (this.virtualReality.setFloorMeshesTags == null || this.virtualReality.setFloorMeshesTags === "")
                                this.virtualReality.setFloorMeshesTags = "Navigation";
                            if (this.virtualReality.enableTeleportation === true)
                                webvrFloorMeshes = this.scene.getMeshesByTags(this.virtualReality.setFloorMeshesTags);
                            if (this.virtualReality.enableTeleportation === true && webvrFloorMeshes != null && webvrFloorMeshes.length > 0) {
                                webvrHelperOptions = {
                                    floorMeshes: webvrFloorMeshes,
                                    renderingGroupId: this.virtualReality.renderingGroupNum,
                                    disableDefaultUI: this.virtualReality.disableUserInterface,
                                    disableTeleportation: (this.virtualReality.enableTeleportation === false),
                                    ignoreNativeCameraTransformation: this.virtualReality.ignoreNativeCamera,
                                    inputOptions: {
                                        doNotLoadControllerMeshes: this.virtualReality.experienceInputOptions.disableMeshLoad,
                                        forceInputProfile: this.virtualReality.experienceInputOptions.forceInputProfile,
                                        disableOnlineControllerRepository: this.virtualReality.experienceInputOptions.disableRepository,
                                        customControllersRepositoryURL: this.virtualReality.experienceInputOptions.customRepository,
                                        disableControllerAnimation: this.virtualReality.experienceInputOptions.disableModelAnim,
                                        controllerOptions: {
                                            disableMotionControllerAnimation: this.virtualReality.experienceInputOptions.controllerOptions.disableCtrlAnim,
                                            doNotLoadControllerMesh: this.virtualReality.experienceInputOptions.controllerOptions.disableCtrlMesh,
                                            forceControllerProfile: this.virtualReality.experienceInputOptions.controllerOptions.forceCtrlProfile,
                                            renderingGroupId: this.virtualReality.experienceInputOptions.controllerOptions.renderingGroup
                                        }
                                    },
                                    uiOptions: {
                                        sessionMode: webvrImmersiveMode,
                                        referenceSpaceType: webvrReferenceType
                                    }
                                };
                            }
                            else {
                                webvrHelperOptions = {
                                    renderingGroupId: this.virtualReality.renderingGroupNum,
                                    disableDefaultUI: this.virtualReality.disableUserInterface,
                                    disableTeleportation: (this.virtualReality.enableTeleportation === false),
                                    ignoreNativeCameraTransformation: this.virtualReality.ignoreNativeCamera,
                                    inputOptions: {
                                        doNotLoadControllerMeshes: this.virtualReality.experienceInputOptions.disableMeshLoad,
                                        forceInputProfile: this.virtualReality.experienceInputOptions.forceInputProfile,
                                        disableOnlineControllerRepository: this.virtualReality.experienceInputOptions.disableRepository,
                                        customControllersRepositoryURL: this.virtualReality.experienceInputOptions.customRepository,
                                        disableControllerAnimation: this.virtualReality.experienceInputOptions.disableModelAnim,
                                        controllerOptions: {
                                            disableMotionControllerAnimation: this.virtualReality.experienceInputOptions.controllerOptions.disableCtrlAnim,
                                            doNotLoadControllerMesh: this.virtualReality.experienceInputOptions.controllerOptions.disableCtrlMesh,
                                            forceControllerProfile: this.virtualReality.experienceInputOptions.controllerOptions.forceCtrlProfile,
                                            renderingGroupId: this.virtualReality.experienceInputOptions.controllerOptions.renderingGroup
                                        }
                                    },
                                    uiOptions: {
                                        sessionMode: webvrImmersiveMode,
                                        referenceSpaceType: webvrReferenceType
                                    }
                                };
                            }
                            _a = PROJECT.UniversalCameraSystem;
                            return [4 /*yield*/, this.scene.createDefaultXRExperienceAsync(webvrHelperOptions)];
                        case 2:
                            _a.XRExperienceHelper = _b.sent();
                            if (!PROJECT.UniversalCameraSystem.XRExperienceHelper.baseExperience) {
                                BABYLON.Tools.Warn("WebXR not supported in current browser.");
                            }
                            _b.label = 3;
                        case 3: return [3 /*break*/, 5];
                        case 4:
                            if (this.cameraType === 2) { // Multi Player Camera
                                cameraName = this.m_cameraRig.name;
                                playerOneTransform = new BABYLON.TransformNode("Player Camera 1", this.scene);
                                playerOneTransform.rotationQuaternion = this.transform.rotationQuaternion.clone();
                                playerOneTransform.position = this.transform.position.clone();
                                playerOneTransform.parent = this.transform.parent;
                                playerOneName = cameraName + ".1";
                                playerOneCamerax = this.m_cameraRig.clone(playerOneName);
                                playerOneCamerax.name = playerOneName;
                                playerOneCamerax.parent = playerOneTransform;
                                playerOneCamerax.position = new BABYLON.Vector3(0, 0, 0);
                                playerOneCamerax.rotationQuaternion = new BABYLON.Quaternion(0, 0, 0, 1);
                                playerOneCamerax.viewport = new BABYLON.Viewport(0, 0, 0, 0);
                                playerOneCamerax.setEnabled(false);
                                PROJECT.UniversalCameraSystem.PlayerOneCamera = playerOneCamerax;
                                PROJECT.UniversalCameraSystem.PlayerOneCamera.inertia = this.cameraInertia;
                                PROJECT.UniversalCameraSystem.PlayerOneCamera.transform = playerOneTransform;
                                playerOneTransform.cameraRig = PROJECT.UniversalCameraSystem.PlayerOneCamera;
                                playerTwoTransform = new BABYLON.TransformNode("Player Camera 2", this.scene);
                                playerTwoTransform.rotationQuaternion = this.transform.rotationQuaternion.clone();
                                playerTwoTransform.position = this.transform.position.clone();
                                playerTwoTransform.parent = this.transform.parent;
                                playerTwoName = cameraName + ".2";
                                playerTwoCamerax = this.m_cameraRig.clone(playerTwoName);
                                playerTwoCamerax.name = playerTwoName;
                                playerTwoCamerax.parent = playerTwoTransform;
                                playerTwoCamerax.position = new BABYLON.Vector3(0, 0, 0);
                                playerTwoCamerax.rotationQuaternion = new BABYLON.Quaternion(0, 0, 0, 1);
                                playerTwoCamerax.viewport = new BABYLON.Viewport(0, 0, 0, 0);
                                playerTwoCamerax.setEnabled(false);
                                PROJECT.UniversalCameraSystem.PlayerTwoCamera = playerTwoCamerax;
                                PROJECT.UniversalCameraSystem.PlayerTwoCamera.inertia = this.cameraInertia;
                                PROJECT.UniversalCameraSystem.PlayerTwoCamera.transform = playerTwoTransform;
                                playerTwoTransform.cameraRig = PROJECT.UniversalCameraSystem.PlayerTwoCamera;
                                playerThreeTransform = new BABYLON.TransformNode("Player Camera 3", this.scene);
                                playerThreeTransform.rotationQuaternion = this.transform.rotationQuaternion.clone();
                                playerThreeTransform.position = this.transform.position.clone();
                                playerThreeTransform.parent = this.transform.parent;
                                playerThreeName = cameraName + ".3";
                                playerThreeCamerax = this.m_cameraRig.clone(playerThreeName);
                                playerThreeCamerax.name = playerThreeName;
                                playerThreeCamerax.parent = playerThreeTransform;
                                playerThreeCamerax.position = new BABYLON.Vector3(0, 0, 0);
                                playerThreeCamerax.rotationQuaternion = new BABYLON.Quaternion(0, 0, 0, 1);
                                playerThreeCamerax.viewport = new BABYLON.Viewport(0, 0, 0, 0);
                                playerThreeCamerax.setEnabled(false);
                                PROJECT.UniversalCameraSystem.PlayerThreeCamera = playerThreeCamerax;
                                PROJECT.UniversalCameraSystem.PlayerThreeCamera.inertia = this.cameraInertia;
                                PROJECT.UniversalCameraSystem.PlayerThreeCamera.transform = playerThreeTransform;
                                playerThreeTransform.cameraRig = PROJECT.UniversalCameraSystem.PlayerThreeCamera;
                                playerFourTransform = new BABYLON.TransformNode("Player Camera 4", this.scene);
                                playerFourTransform.rotationQuaternion = this.transform.rotationQuaternion.clone();
                                playerFourTransform.position = this.transform.position.clone();
                                playerFourTransform.parent = this.transform.parent;
                                playerFourName = cameraName + ".4";
                                playerFourCamerax = this.m_cameraRig.clone(playerFourName);
                                playerFourCamerax.name = playerFourName;
                                playerFourCamerax.parent = playerFourTransform;
                                playerFourCamerax.position = new BABYLON.Vector3(0, 0, 0);
                                playerFourCamerax.rotationQuaternion = new BABYLON.Quaternion(0, 0, 0, 1);
                                playerFourCamerax.viewport = new BABYLON.Viewport(0, 0, 0, 0);
                                playerFourCamerax.setEnabled(false);
                                PROJECT.UniversalCameraSystem.PlayerFourCamera = playerFourCamerax;
                                PROJECT.UniversalCameraSystem.PlayerFourCamera.inertia = this.cameraInertia;
                                PROJECT.UniversalCameraSystem.PlayerFourCamera.transform = playerFourTransform;
                                playerFourTransform.cameraRig = PROJECT.UniversalCameraSystem.PlayerFourCamera;
                                //}
                                PROJECT.UniversalCameraSystem.multiPlayerView = true;
                                PROJECT.UniversalCameraSystem.SetMultiPlayerViewLayout(this.scene, PROJECT.UniversalCameraSystem.startupMode);
                            }
                            else if (this.cameraType === 3) { // Arc Rotate Camera
                                targetVector = BABYLON.Utilities.ParseVector3(this.arcRotateConfig.target);
                                this.m_cameraRig = new BABYLON.ArcRotateCamera(this.transform.name + ".ArcRotate", this.arcRotateConfig.alpha, this.arcRotateConfig.beta, this.arcRotateConfig.radius, targetVector, this.scene);
                                this.m_cameraRig.wheelPrecision = this.arcRotateConfig.wheel;
                                this.scene.switchActiveCamera(this.m_cameraRig, true);
                            }
                            _b.label = 5;
                        case 5:
                            //if (PROJECT.UniversalCameraSystem.renderingPipeline == null) {
                            if (this.editorPostProcessing != null && this.editorPostProcessing.usePostProcessing === true) {
                                PROJECT.UniversalCameraSystem.renderingPipeline = new BABYLON.DefaultRenderingPipeline("UniversalCameraSystem", this.editorPostProcessing.highDynamicRange, this.scene, this.scene.cameras, true);
                                if (PROJECT.UniversalCameraSystem.renderingPipeline.isSupported === true) {
                                    defaultPipeline = PROJECT.UniversalCameraSystem.renderingPipeline;
                                    defaultPipeline.samples = this.editorPostProcessing.screenAntiAliasing.multiAntiAliasing; // 1 by default (MSAA)
                                    /* Image Processing */
                                    defaultPipeline.imageProcessingEnabled = this.editorPostProcessing.imageProcessingConfig.imageProcessing; //true by default
                                    if (defaultPipeline.imageProcessingEnabled) {
                                        defaultPipeline.imageProcessing.contrast = this.editorPostProcessing.imageProcessingConfig.imageContrast; // 1 by default
                                        defaultPipeline.imageProcessing.exposure = this.editorPostProcessing.imageProcessingConfig.imageExposure; // 1 by default
                                        /* Color Grading */
                                        defaultPipeline.imageProcessing.colorGradingEnabled = this.editorPostProcessing.imageProcessingConfig.useColorGrading; // false by default
                                        if (defaultPipeline.imageProcessing.colorGradingEnabled) {
                                            // KEEP FOR REFERENCE
                                            /* using .3dl (best) : defaultPipeline.imageProcessing.colorGradingTexture = new BABYLON.ColorGradingTexture("textures/LateSunset.3dl", this.scene); */
                                            /* using .png :
                                            var colorGradingTexture = new BABYLON.Texture("textures/colorGrade-highContrast.png", this.scene, true, false);
                                            colorGradingTexture.wrapU = BABYLON.Texture.CLAMP_ADDRESSMODE;
                                            colorGradingTexture.wrapV = BABYLON.Texture.CLAMP_ADDRESSMODE;
                                            defaultPipeline.imageProcessing.colorGradingTexture = colorGradingTexture;
                                            defaultPipeline.imageProcessing.colorGradingWithGreenDepth = false; */
                                            //////////////////////////////////////////////////////////////////////////
                                            if (this.editorPostProcessing.imageProcessingConfig.setGradingTexture != null) {
                                                colorGradingTexture = BABYLON.Utilities.ParseTexture(this.editorPostProcessing.imageProcessingConfig.setGradingTexture, this.scene, true, false);
                                                colorGradingTexture.wrapU = BABYLON.Texture.CLAMP_ADDRESSMODE;
                                                colorGradingTexture.wrapV = BABYLON.Texture.CLAMP_ADDRESSMODE;
                                                defaultPipeline.imageProcessing.colorGradingTexture = colorGradingTexture;
                                                defaultPipeline.imageProcessing.colorGradingWithGreenDepth = false;
                                            }
                                        }
                                        /* Color Curves */
                                        defaultPipeline.imageProcessing.colorCurvesEnabled = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.curvesEnabled; // false by default
                                        if (defaultPipeline.imageProcessing.colorCurvesEnabled) {
                                            curve = new BABYLON.ColorCurves();
                                            curve.globalDensity = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.globalDen; // 0 by default
                                            curve.globalExposure = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.globalExp; // 0 by default
                                            curve.globalHue = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.globalHue; // 30 by default
                                            curve.globalSaturation = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.globalSat; // 0 by default
                                            curve.highlightsDensity = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.highlightsDen; // 0 by default
                                            curve.highlightsExposure = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.highlightsExp; // 0 by default
                                            curve.highlightsHue = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.highlightsHue; // 30 by default
                                            curve.highlightsSaturation = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.highlightsSat; // 0 by default
                                            curve.midtonesDensity = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.midtonesDen; // 0 by default
                                            curve.midtonesExposure = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.midtonesExp; // 0 by default
                                            curve.midtonesHue = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.midtonesHue; // 30 by default
                                            curve.midtonesSaturation = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.midtonesSat; // 0 by default
                                            curve.shadowsDensity = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.shadowsDen; // 0 by default
                                            curve.shadowsExposure = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.shadowsExp; // 800 by default
                                            curve.shadowsHue = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.shadowsHue; // 30 by default
                                            curve.shadowsSaturation = this.editorPostProcessing.imageProcessingConfig.imagingColorCurves.shadowsSat; // 0 by default;
                                            defaultPipeline.imageProcessing.colorCurves = curve;
                                        }
                                    }
                                    /* Bloom */
                                    defaultPipeline.bloomEnabled = this.editorPostProcessing.bloomEffectProperties.bloomEnabled; // false by default
                                    if (defaultPipeline.bloomEnabled) {
                                        defaultPipeline.bloomKernel = this.editorPostProcessing.bloomEffectProperties.bloomKernel; // 64 by default
                                        defaultPipeline.bloomScale = this.editorPostProcessing.bloomEffectProperties.bloomScale; // 0.5 by default
                                        defaultPipeline.bloomWeight = this.editorPostProcessing.bloomEffectProperties.bloomWeight; // 0.15 by default
                                        defaultPipeline.bloomThreshold = this.editorPostProcessing.bloomEffectProperties.bloomThreshold; // 0.9 by default
                                    }
                                    /* Chromatic Abberation */
                                    defaultPipeline.chromaticAberrationEnabled = this.editorPostProcessing.chromaticAberration.aberrationEnabled; // false by default
                                    if (defaultPipeline.chromaticAberrationEnabled) {
                                        defaultPipeline.chromaticAberration.aberrationAmount = this.editorPostProcessing.chromaticAberration.aberrationAmount; // 30 by default
                                        defaultPipeline.chromaticAberration.adaptScaleToCurrentViewport = this.editorPostProcessing.chromaticAberration.adaptScaleViewport; // false by default
                                        defaultPipeline.chromaticAberration.alphaMode = this.editorPostProcessing.chromaticAberration.alphaMode; // 0 by default
                                        defaultPipeline.chromaticAberration.alwaysForcePOT = this.editorPostProcessing.chromaticAberration.alwaysForcePOT; // false by default
                                        defaultPipeline.chromaticAberration.enablePixelPerfectMode = this.editorPostProcessing.chromaticAberration.pixelPerfectMode; // false by default
                                        defaultPipeline.chromaticAberration.forceFullscreenViewport = this.editorPostProcessing.chromaticAberration.fullscreenViewport; // true by default
                                    }
                                    /* DOF */
                                    defaultPipeline.depthOfFieldEnabled = this.editorPostProcessing.focalDepthOfField.depthOfField; // false by default
                                    if (defaultPipeline.depthOfFieldEnabled && defaultPipeline.depthOfField.isSupported) {
                                        defaultPipeline.depthOfFieldBlurLevel = this.editorPostProcessing.focalDepthOfField.blurLevel; // 0 by default
                                        defaultPipeline.depthOfField.fStop = this.editorPostProcessing.focalDepthOfField.focalStop; // 1.4 by default
                                        defaultPipeline.depthOfField.focalLength = this.editorPostProcessing.focalDepthOfField.focalLength; // 50 by default, mm
                                        defaultPipeline.depthOfField.focusDistance = this.editorPostProcessing.focalDepthOfField.focusDistance; // 2000 by default, mm
                                        defaultPipeline.depthOfField.lensSize = this.editorPostProcessing.focalDepthOfField.maxLensSize; // 50 by default
                                    }
                                    /* FXAA */
                                    defaultPipeline.fxaaEnabled = this.editorPostProcessing.screenAntiAliasing.fullScreenEnabled; // false by default
                                    if (defaultPipeline.fxaaEnabled) {
                                        defaultPipeline.fxaa.samples = this.editorPostProcessing.screenAntiAliasing.screenAntiAliasing; // 1 by default
                                        defaultPipeline.fxaa.adaptScaleToCurrentViewport = this.editorPostProcessing.screenAntiAliasing.adaptScaleViewport; // false by default
                                    }
                                    /* GlowLayer */
                                    defaultPipeline.glowLayerEnabled = this.editorPostProcessing.glowLayerProperties.glowEnabled;
                                    if (defaultPipeline.glowLayerEnabled) {
                                        defaultPipeline.glowLayer.intensity = this.editorPostProcessing.glowLayerProperties.glowIntensity; // 1 by default
                                        defaultPipeline.glowLayer.blurKernelSize = this.editorPostProcessing.glowLayerProperties.blurKernelSize; // 16 by default
                                    }
                                    /* Grain */
                                    defaultPipeline.grainEnabled = this.editorPostProcessing.grainEffectProperties.grainEnabled;
                                    if (defaultPipeline.grainEnabled) {
                                        defaultPipeline.grain.animated = this.editorPostProcessing.grainEffectProperties.grainAnimated; // false by default
                                        defaultPipeline.grain.intensity = this.editorPostProcessing.grainEffectProperties.grainIntensity; // 30 by default
                                        defaultPipeline.grain.adaptScaleToCurrentViewport = this.editorPostProcessing.grainEffectProperties.adaptScaleViewport; // false by default
                                    }
                                    /* Sharpen */
                                    defaultPipeline.sharpenEnabled = this.editorPostProcessing.sharpEffectProperties.sharpenEnabled;
                                    if (defaultPipeline.sharpenEnabled) {
                                        defaultPipeline.sharpen.edgeAmount = this.editorPostProcessing.sharpEffectProperties.sharpEdgeAmount; // 0.3 by default
                                        defaultPipeline.sharpen.colorAmount = this.editorPostProcessing.sharpEffectProperties.sharpColorAmount; // 1 by default
                                        defaultPipeline.sharpen.adaptScaleToCurrentViewport = this.editorPostProcessing.sharpEffectProperties.adaptScaleViewport; // false by default
                                    }
                                }
                                else {
                                    BABYLON.Tools.Warn("Babylon.js default rendering pipeline not supported");
                                }
                            }
                            //}
                            PROJECT.UniversalCameraSystem.cameraReady = true;
                            return [2 /*return*/];
                    }
                });
            });
        };
        UniversalCameraSystem.prototype.updateCameraSystemState = function () {
            if (this.m_cameraRig != null) {
                if (this.cameraType === 0) { // Standard Free Camera
                }
                else if (this.cameraType === 1) { // Virtual Reality Camera
                }
                else if (this.cameraType === 2) { // Multi Player Camera
                }
                else if (this.cameraType === 3) { // Arc Rotate Camera
                }
            }
        };
        UniversalCameraSystem.prototype.destroyCameraSystemState = function () {
            this.virtualReality = null;
        };
        ////////////////////////////////////////////////////////////////////////////////////
        // Universal Camera Virtual Reality Functions
        ////////////////////////////////////////////////////////////////////////////////////
        /** Get the WebXR default experience helper */
        UniversalCameraSystem.GetWebXR = function () { return PROJECT.UniversalCameraSystem.XRExperienceHelper; };
        ////////////////////////////////////////////////////////////////////////////////////
        // Universal Camera System Player Functions
        ////////////////////////////////////////////////////////////////////////////////////
        /** Get universal camera rig for desired player */
        UniversalCameraSystem.GetPlayerCamera = function (scene, player, detach) {
            if (player === void 0) { player = BABYLON.PlayerNumber.One; }
            if (detach === void 0) { detach = false; }
            var result = null;
            if (PROJECT.UniversalCameraSystem.IsCameraSystemReady()) {
                if (player === BABYLON.PlayerNumber.One && PROJECT.UniversalCameraSystem.PlayerOneCamera != null)
                    result = PROJECT.UniversalCameraSystem.PlayerOneCamera;
                else if (player === BABYLON.PlayerNumber.Two && PROJECT.UniversalCameraSystem.PlayerTwoCamera != null)
                    result = PROJECT.UniversalCameraSystem.PlayerTwoCamera;
                else if (player === BABYLON.PlayerNumber.Three && PROJECT.UniversalCameraSystem.PlayerThreeCamera != null)
                    result = PROJECT.UniversalCameraSystem.PlayerThreeCamera;
                else if (player === BABYLON.PlayerNumber.Four && PROJECT.UniversalCameraSystem.PlayerFourCamera != null)
                    result = PROJECT.UniversalCameraSystem.PlayerFourCamera;
            }
            if (detach === true && parent != null)
                result.parent = null;
            return result;
        };
        /** Get camera transform node for desired player */
        UniversalCameraSystem.GetCameraTransform = function (scene, player) {
            if (player === void 0) { player = BABYLON.PlayerNumber.One; }
            var result = null;
            if (PROJECT.UniversalCameraSystem.IsCameraSystemReady()) {
                if (player === BABYLON.PlayerNumber.One && PROJECT.UniversalCameraSystem.PlayerOneCamera != null && PROJECT.UniversalCameraSystem.PlayerOneCamera.transform != null)
                    result = PROJECT.UniversalCameraSystem.PlayerOneCamera.transform;
                else if (player === BABYLON.PlayerNumber.Two && PROJECT.UniversalCameraSystem.PlayerTwoCamera != null && PROJECT.UniversalCameraSystem.PlayerTwoCamera.transform != null)
                    result = PROJECT.UniversalCameraSystem.PlayerTwoCamera.transform;
                else if (player === BABYLON.PlayerNumber.Three && PROJECT.UniversalCameraSystem.PlayerThreeCamera != null && PROJECT.UniversalCameraSystem.PlayerThreeCamera.transform != null)
                    result = PROJECT.UniversalCameraSystem.PlayerThreeCamera.transform;
                else if (player === BABYLON.PlayerNumber.Four && PROJECT.UniversalCameraSystem.PlayerFourCamera != null && PROJECT.UniversalCameraSystem.PlayerFourCamera.transform != null)
                    result = PROJECT.UniversalCameraSystem.PlayerFourCamera.transform;
            }
            return result;
        };
        ////////////////////////////////////////////////////////////////////////////////////
        // Universal Camera System Multi Player Functions
        ////////////////////////////////////////////////////////////////////////////////////
        /** Are stereo side side camera services available. */
        UniversalCameraSystem.IsStereoCameras = function () {
            return PROJECT.UniversalCameraSystem.stereoCameras;
        };
        /** Are local multi player view services available. */
        UniversalCameraSystem.IsMultiPlayerView = function () {
            return PROJECT.UniversalCameraSystem.multiPlayerView;
        };
        /** Get the current local multi player count */
        UniversalCameraSystem.GetMultiPlayerCount = function () {
            return PROJECT.UniversalCameraSystem.multiPlayerCount;
        };
        /** Activates current local multi player cameras. */
        UniversalCameraSystem.ActivateMultiPlayerCameras = function (scene) {
            var result = false;
            if (PROJECT.UniversalCameraSystem.multiPlayerCameras != null && PROJECT.UniversalCameraSystem.multiPlayerCameras.length > 0) {
                scene.activeCameras = PROJECT.UniversalCameraSystem.multiPlayerCameras;
                result = true;
            }
            return result;
        };
        /** Disposes current local multiplayer cameras */
        UniversalCameraSystem.DisposeMultiPlayerCameras = function () {
            if (PROJECT.UniversalCameraSystem.PlayerOneCamera != null) {
                PROJECT.UniversalCameraSystem.PlayerOneCamera.dispose();
                PROJECT.UniversalCameraSystem.PlayerOneCamera = null;
            }
            if (PROJECT.UniversalCameraSystem.PlayerTwoCamera != null) {
                PROJECT.UniversalCameraSystem.PlayerTwoCamera.dispose();
                PROJECT.UniversalCameraSystem.PlayerTwoCamera = null;
            }
            if (PROJECT.UniversalCameraSystem.PlayerThreeCamera != null) {
                PROJECT.UniversalCameraSystem.PlayerThreeCamera.dispose();
                PROJECT.UniversalCameraSystem.PlayerThreeCamera = null;
            }
            if (PROJECT.UniversalCameraSystem.PlayerFourCamera != null) {
                PROJECT.UniversalCameraSystem.PlayerFourCamera.dispose();
                PROJECT.UniversalCameraSystem.PlayerFourCamera = null;
            }
        };
        /** Sets the multi player camera view layout */
        UniversalCameraSystem.SetMultiPlayerViewLayout = function (scene, totalNumPlayers) {
            var result = false;
            var players = BABYLON.Scalar.Clamp(totalNumPlayers, 1, 4);
            if (PROJECT.UniversalCameraSystem.IsMultiPlayerView()) {
                if (PROJECT.UniversalCameraSystem.PlayerOneCamera != null && PROJECT.UniversalCameraSystem.PlayerTwoCamera != null && PROJECT.UniversalCameraSystem.PlayerThreeCamera != null && PROJECT.UniversalCameraSystem.PlayerFourCamera != null) {
                    PROJECT.UniversalCameraSystem.multiPlayerCameras = [];
                    if (players === 1) {
                        PROJECT.UniversalCameraSystem.PlayerOneCamera.viewport = new BABYLON.Viewport(0, 0, 1, 1);
                        PROJECT.UniversalCameraSystem.PlayerTwoCamera.viewport = new BABYLON.Viewport(0, 0, 0, 0);
                        PROJECT.UniversalCameraSystem.PlayerTwoCamera.setEnabled(false);
                        PROJECT.UniversalCameraSystem.PlayerThreeCamera.viewport = new BABYLON.Viewport(0, 0, 0, 0);
                        PROJECT.UniversalCameraSystem.PlayerThreeCamera.setEnabled(false);
                        PROJECT.UniversalCameraSystem.PlayerFourCamera.viewport = new BABYLON.Viewport(0, 0, 0, 0);
                        PROJECT.UniversalCameraSystem.PlayerFourCamera.setEnabled(false);
                        PROJECT.UniversalCameraSystem.multiPlayerCameras.push(PROJECT.UniversalCameraSystem.PlayerOneCamera);
                    }
                    else if (players === 2) {
                        if (PROJECT.UniversalCameraSystem.stereoCameras === true) {
                            PROJECT.UniversalCameraSystem.PlayerOneCamera.viewport = new BABYLON.Viewport(0, 0, 0.5, 1);
                            PROJECT.UniversalCameraSystem.PlayerTwoCamera.viewport = new BABYLON.Viewport(0.5, 0, 0.5, 1);
                        }
                        else {
                            PROJECT.UniversalCameraSystem.PlayerOneCamera.viewport = new BABYLON.Viewport(0, 0.5, 1, 0.5);
                            PROJECT.UniversalCameraSystem.PlayerTwoCamera.viewport = new BABYLON.Viewport(0, 0, 1, 0.5);
                        }
                        PROJECT.UniversalCameraSystem.PlayerTwoCamera.setEnabled(true);
                        PROJECT.UniversalCameraSystem.PlayerThreeCamera.viewport = new BABYLON.Viewport(0, 0, 0, 0);
                        PROJECT.UniversalCameraSystem.PlayerThreeCamera.setEnabled(false);
                        PROJECT.UniversalCameraSystem.PlayerFourCamera.viewport = new BABYLON.Viewport(0, 0, 0, 0);
                        PROJECT.UniversalCameraSystem.PlayerFourCamera.setEnabled(false);
                        PROJECT.UniversalCameraSystem.multiPlayerCameras.push(PROJECT.UniversalCameraSystem.PlayerOneCamera);
                        PROJECT.UniversalCameraSystem.multiPlayerCameras.push(PROJECT.UniversalCameraSystem.PlayerTwoCamera);
                    }
                    else if (players === 3) {
                        PROJECT.UniversalCameraSystem.PlayerOneCamera.viewport = new BABYLON.Viewport(0, 0, 0.5, 1);
                        PROJECT.UniversalCameraSystem.PlayerTwoCamera.viewport = new BABYLON.Viewport(0.5, 0.5, 0.5, 0.5);
                        PROJECT.UniversalCameraSystem.PlayerTwoCamera.setEnabled(true);
                        PROJECT.UniversalCameraSystem.PlayerThreeCamera.viewport = new BABYLON.Viewport(0.5, 0, 0.5, 0.5);
                        PROJECT.UniversalCameraSystem.PlayerThreeCamera.setEnabled(true);
                        PROJECT.UniversalCameraSystem.PlayerFourCamera.viewport = new BABYLON.Viewport(0, 0, 0, 0);
                        PROJECT.UniversalCameraSystem.PlayerFourCamera.setEnabled(false);
                        PROJECT.UniversalCameraSystem.multiPlayerCameras.push(PROJECT.UniversalCameraSystem.PlayerOneCamera);
                        PROJECT.UniversalCameraSystem.multiPlayerCameras.push(PROJECT.UniversalCameraSystem.PlayerTwoCamera);
                        PROJECT.UniversalCameraSystem.multiPlayerCameras.push(PROJECT.UniversalCameraSystem.PlayerThreeCamera);
                    }
                    else if (players === 4) {
                        PROJECT.UniversalCameraSystem.PlayerOneCamera.viewport = new BABYLON.Viewport(0, 0.5, 0.5, 0.5);
                        PROJECT.UniversalCameraSystem.PlayerTwoCamera.viewport = new BABYLON.Viewport(0, 0, 0.5, 0.5);
                        PROJECT.UniversalCameraSystem.PlayerTwoCamera.setEnabled(true);
                        PROJECT.UniversalCameraSystem.PlayerThreeCamera.viewport = new BABYLON.Viewport(0.5, 0.5, 0.5, 0.5);
                        PROJECT.UniversalCameraSystem.PlayerThreeCamera.setEnabled(true);
                        PROJECT.UniversalCameraSystem.PlayerFourCamera.viewport = new BABYLON.Viewport(0.5, 0, 0.5, 0.5);
                        PROJECT.UniversalCameraSystem.PlayerFourCamera.setEnabled(true);
                        PROJECT.UniversalCameraSystem.multiPlayerCameras.push(PROJECT.UniversalCameraSystem.PlayerOneCamera);
                        PROJECT.UniversalCameraSystem.multiPlayerCameras.push(PROJECT.UniversalCameraSystem.PlayerTwoCamera);
                        PROJECT.UniversalCameraSystem.multiPlayerCameras.push(PROJECT.UniversalCameraSystem.PlayerThreeCamera);
                        PROJECT.UniversalCameraSystem.multiPlayerCameras.push(PROJECT.UniversalCameraSystem.PlayerFourCamera);
                    }
                    else {
                        BABYLON.Tools.Warn("Babylon.js camera rig invalid player count specified: " + players);
                    }
                }
                else {
                    BABYLON.Tools.Warn("Babylon.js camera rig failed to initialize multi player cameras");
                }
                PROJECT.UniversalCameraSystem.multiPlayerCount = players;
                result = PROJECT.UniversalCameraSystem.ActivateMultiPlayerCameras(scene);
                if (result === false)
                    BABYLON.Tools.Warn("Babylon.js camera rig failed to initialize multi player views");
            }
            else {
                BABYLON.Tools.Warn("Babylon.js camera rig multi player view option not enabled");
            }
            return result;
        };
        UniversalCameraSystem.PlayerOneCamera = null;
        UniversalCameraSystem.PlayerTwoCamera = null;
        UniversalCameraSystem.PlayerThreeCamera = null;
        UniversalCameraSystem.PlayerFourCamera = null;
        UniversalCameraSystem.XRExperienceHelper = null;
        UniversalCameraSystem.multiPlayerView = false;
        UniversalCameraSystem.multiPlayerCount = 1;
        UniversalCameraSystem.multiPlayerCameras = null;
        UniversalCameraSystem.stereoCameras = true;
        UniversalCameraSystem.startupMode = 1;
        UniversalCameraSystem.cameraReady = false;
        UniversalCameraSystem.renderingPipeline = null;
        return UniversalCameraSystem;
    }(BABYLON.ScriptComponent));
    PROJECT.UniversalCameraSystem = UniversalCameraSystem;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class UniversalPlayerController
    */
    var UniversalPlayerController = /** @class */ (function (_super) {
        __extends(UniversalPlayerController, _super);
        function UniversalPlayerController() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this.enableInput = false;
            _this.attachCamera = false;
            _this.rotateCamera = true;
            _this.moveCharacter = true;
            _this.toggleView = true;
            _this.freeLooking = false;
            _this.rootMotion = false;
            _this.gravityForce = 0.5;
            _this.slopeForce = 0;
            _this.rayLength = 1;
            _this.rayOrigin = 0;
            _this.maxAngle = 45;
            _this.speedFactor = 1.0;
            _this.moveSpeed = 5.0;
            _this.lookSpeed = 2.0;
            _this.jumpSpeed = 8.0;
            _this.jumpDelay = 0.0;
            _this.eyesHeight = 0.25;
            _this.pivotHeight = 0.25;
            _this.topLookLimit = 60.0;
            _this.downLookLimit = 30.0;
            _this.lowTurnSpeed = 15.0;
            _this.highTurnSpeed = 25.0;
            _this.takeoffPower = 2.5;
            _this.stoppingPower = 5.0;
            _this.acceleration = false;
            _this.avatarSkinTag = "Skin";
            _this.distanceFactor = 0.85;
            _this.cameraSmoothing = 5;
            _this.cameraCollisions = true;
            _this.inputMagnitude = 0;
            _this.minimumDistance = 0.85;
            _this.buttonJump = BABYLON.Xbox360Button.A;
            _this.keyboardJump = BABYLON.UserInputKey.SpaceBar;
            _this.buttonCamera = BABYLON.Xbox360Button.Y;
            _this.keyboardCamera = BABYLON.UserInputKey.P;
            _this.playerNumber = BABYLON.PlayerNumber.One;
            _this.boomPosition = new BABYLON.Vector3(0, 0, 0);
            _this.movementVelocity = BABYLON.Vector3.Zero();
            _this.abstractMesh = null;
            _this.cameraDistance = 0;
            _this.forwardCamera = false;
            _this.dollyDirection = BABYLON.Vector3.Zero();
            _this.rotationEulers = BABYLON.Vector3.Zero();
            _this.cameraPivotOffset = BABYLON.Vector3.Zero();
            _this.cameraForwardVector = new BABYLON.Vector3(0, 0, 0);
            _this.cameraRightVector = new BABYLON.Vector3(0, 0, 0);
            _this.desiredForwardVector = new BABYLON.Vector3(0, 0, 0);
            _this.desiredRightVector = new BABYLON.Vector3(0, 0, 0);
            _this.scaledCamDirection = BABYLON.Vector3.Zero();
            _this.scaledMaxDirection = BABYLON.Vector3.Zero();
            _this.parentNodePosition = BABYLON.Vector3.Zero();
            _this.maximumCameraPos = BABYLON.Vector3.Zero();
            _this.raycastShape = null;
            _this.raycastGroup = BABYLON.CollisionFilters.DefaultFilter;
            _this.raycastMask = (BABYLON.CollisionFilters.AllFilter ^ BABYLON.CollisionFilters.CharacterFilter);
            _this.avatarSkins = null;
            _this.cameraNode = null;
            _this.cameraPivot = null;
            _this.navigationAgent = null;
            _this.characterController = null;
            _this.isCharacterNavigating = false;
            _this.isCharacterGrounded = false;
            _this.isCharacterJumpFrame = false;
            _this.isCharacterJumpState = false;
            _this.navigationAngularSpeed = 0;
            _this.animationControllerTag = "Animator";
            _this.animationStateMachine = false;
            _this.animationStateParams = null;
            _this.showDebugColliders = false;
            _this.colliderVisibility = 0;
            _this.deltaTime = 0;
            _this.jumpTimer = 0;
            _this.playerControl = 0;
            _this.playerInputX = 0;
            _this.playerInputZ = 0;
            _this.playerMouseX = 0;
            _this.playerMouseY = 0;
            _this.groundedMesh = null;
            _this.groundedPoint = null;
            _this.groundedAngle = 0;
            _this.groundedNormal = null;
            _this.verticalVelocity = 0;
            _this.rootmotionSpeed = 0;
            _this.smoothDeltaTime = 0;
            _this.animationState = null;
            _this.inputMovementVector = BABYLON.Vector3.Zero();
            _this.playerLookRotation = BABYLON.Vector3.Zero();
            _this.playerRotationVector = BABYLON.Vector2.Zero();
            _this.playerMovementVelocity = BABYLON.Vector3.Zero();
            _this.playerRotationQuaternion = BABYLON.Quaternion.Zero();
            /** Register handler that is triggered before the controller has been updated */
            _this.onPreUpdateObservable = new BABYLON.Observable();
            /** Register handler that is triggered before the controller movement has been applied */
            _this.onBeforeMoveObservable = new BABYLON.Observable();
            /** Register handler that is triggered after the controller has been updated */
            _this.onPostUpdateObservable = new BABYLON.Observable();
            _this.pickingRay = null;
            _this.pickingHelper = null;
            _this.pickingOrigin = null;
            _this.pickingDirection = new BABYLON.Vector3(0, -1, 0);
            _this.cameraRay = null;
            _this.cameraHelper = null;
            _this.cameraForward = new BABYLON.Vector3(0, 0, 0);
            _this.cameraDirection = new BABYLON.Vector3(0, 0, 0);
            return _this;
        }
        UniversalPlayerController.prototype.getPlayerInputX = function () { return this.playerInputX; };
        UniversalPlayerController.prototype.getPlayerInputZ = function () { return this.playerInputZ; };
        UniversalPlayerController.prototype.getPlayerMouseX = function () { return this.playerMouseX; };
        UniversalPlayerController.prototype.getPlayerMouseY = function () { return this.playerMouseY; };
        UniversalPlayerController.prototype.getPlayerJumping = function () { return this.isCharacterJumpState; };
        UniversalPlayerController.prototype.getPlayerGrounded = function () { return this.isCharacterGrounded; };
        UniversalPlayerController.prototype.getGroundedMesh = function () { return this.groundedMesh; };
        UniversalPlayerController.prototype.getGroundedPoint = function () { return this.groundedPoint; };
        UniversalPlayerController.prototype.getGroundedAngle = function () { return this.groundedAngle; };
        UniversalPlayerController.prototype.getGroundedNormal = function () { return this.groundedNormal; };
        UniversalPlayerController.prototype.getCameraBoomNode = function () { return this.cameraNode; };
        UniversalPlayerController.prototype.getCameraTransform = function () { return this.cameraPivot; };
        UniversalPlayerController.prototype.getAnimationState = function () { return this.animationState; };
        UniversalPlayerController.prototype.getCharacterController = function () { return this.characterController; };
        UniversalPlayerController.prototype.awake = function () { this.awakePlayerController(); };
        UniversalPlayerController.prototype.start = function () { this.startPlayerController(); };
        UniversalPlayerController.prototype.update = function () { this.updatePlayerController(); };
        UniversalPlayerController.prototype.late = function () { this.latePlayerController(); };
        UniversalPlayerController.prototype.after = function () { this.afterPlayerController(); };
        UniversalPlayerController.prototype.destroy = function () { this.destroyPlayerController(); };
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        // Controller Attachment Functions
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        /** TODO */
        UniversalPlayerController.prototype.setPlayerControl = function (mode) {
            this.playerControl = mode;
            if (this.playerControl === PROJECT.PlayerInputControl.ThirdPersonStrafing || this.playerControl === PROJECT.PlayerInputControl.ThirdPersonForward) {
                this.showAvatarSkins(true);
            }
            else {
                this.showAvatarSkins(false);
            }
            if (this.playerControl === PROJECT.PlayerInputControl.ThirdPersonForward) {
                this.forwardCamera = true;
            }
            else if (this.playerControl === PROJECT.PlayerInputControl.ThirdPersonStrafing) {
                this.forwardCamera = false;
            }
        };
        /** TODO */
        UniversalPlayerController.prototype.togglePlayerControl = function () {
            if (this.toggleView === true) {
                if (this.playerControl === PROJECT.PlayerInputControl.FirstPersonStrafing) {
                    if (this.forwardCamera === true) {
                        this.setPlayerControl(PROJECT.PlayerInputControl.ThirdPersonForward);
                    }
                    else {
                        this.setPlayerControl(PROJECT.PlayerInputControl.ThirdPersonStrafing);
                    }
                }
                else {
                    this.setPlayerControl(PROJECT.PlayerInputControl.FirstPersonStrafing);
                }
            }
        };
        UniversalPlayerController.prototype.showAvatarSkins = function (show) {
            if (this.avatarSkins != null) {
                // TODO - Make Skins Visible Or Not TO Camera But Keep Shadows - ???
                this.avatarSkins.forEach(function (skin) { skin.isVisible = show; });
            }
        };
        /** TODO */
        UniversalPlayerController.prototype.attachPlayerCamera = function (player) {
            if (this.cameraNode == null) {
                var playerCamera = (player <= 0 || player > 4) ? 1 : player;
                this.cameraNode = PROJECT.UniversalCameraSystem.GetCameraTransform(this.scene, playerCamera);
                if (this.cameraNode != null) {
                    this.cameraNode.parent = this.cameraPivot;
                    this.cameraNode.position.copyFrom(this.boomPosition);
                    this.cameraNode.rotationQuaternion = new BABYLON.Quaternion(0, 0, 0, 1);
                    // ..
                    // TODO - Move somewhere better - ???
                    // TODO - Handle Long Intitial Camera Pan - ???
                    // ..
                    this.cameraDistance = this.cameraNode.position.length();
                    this.dollyDirection.copyFrom(this.cameraNode.position);
                    this.dollyDirection.normalize();
                }
                else {
                    BABYLON.Tools.Warn("Failed to locate player camera for: " + this.transform.name);
                }
            }
        };
        UniversalPlayerController.prototype.attachAnimationController = function () {
            if (this.animationState == null) {
                if (this.animationControllerTag != null && this.animationControllerTag !== "") {
                    var botmesh = null;
                    if (this.hasTransformTags(this.animationControllerTag)) {
                        botmesh = this.transform;
                    }
                    else {
                        botmesh = this.getChildWithTags(this.animationControllerTag, false);
                    }
                    if (botmesh != null) {
                        this.animationState = BABYLON.SceneManager.FindScriptComponent(botmesh, "BABYLON.AnimationState");
                    }
                    else {
                        BABYLON.Tools.Warn("Failed to locate bot mesh with tag: " + this.animationControllerTag);
                    }
                }
            }
        };
        /** TODO */
        UniversalPlayerController.prototype.resetPlayerRotation = function () {
            this.transform.rotationQuaternion.toEulerAnglesToRef(this.rotationEulers);
            this.playerRotationVector.x = this.rotationEulers.x;
            this.playerRotationVector.y = this.rotationEulers.y;
        };
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        // Controller Worker Functions
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        UniversalPlayerController.prototype.awakePlayerController = function () {
            var _this = this;
            this.gravityForce = this.getProperty("gravityForce", this.gravityForce);
            this.rotateCamera = this.getProperty("rotateCamera", this.rotateCamera);
            this.moveCharacter = this.getProperty("moveCharacter", this.moveCharacter);
            this.slopeForce = this.getProperty("slopeForce", this.slopeForce);
            this.rayLength = this.getProperty("rayLength", this.rayLength);
            this.rayOrigin = this.getProperty("rayOrigin", this.rayOrigin);
            this.maxAngle = this.getProperty("maxAngle", this.maxAngle);
            this.speedFactor = this.getProperty("speedFactor", this.speedFactor);
            this.moveSpeed = this.getProperty("moveSpeed", this.moveSpeed);
            this.lookSpeed = this.getProperty("lookSpeed", this.lookSpeed);
            this.jumpSpeed = this.getProperty("jumpSpeed", this.jumpSpeed);
            this.jumpDelay = this.getProperty("jumpDelay", this.jumpDelay);
            this.eyesHeight = this.getProperty("eyesHeight", this.eyesHeight);
            this.pivotHeight = this.getProperty("pivotHeight", this.pivotHeight);
            this.topLookLimit = this.getProperty("topLookLimit", this.topLookLimit);
            this.downLookLimit = this.getProperty("downLookLimit", this.downLookLimit);
            this.lowTurnSpeed = this.getProperty("lowTurnSpeed", this.lowTurnSpeed);
            this.highTurnSpeed = this.getProperty("highTurnSpeed", this.highTurnSpeed);
            this.enableInput = this.getProperty("enableInput", this.enableInput);
            this.rootMotion = this.getProperty("rootMotion", this.rootMotion);
            this.playerNumber = this.getProperty("playerNumber", this.playerNumber);
            this.attachCamera = this.getProperty("attachCamera", this.attachCamera);
            this.freeLooking = this.getProperty("freeLooking", this.freeLooking);
            this.toggleView = this.getProperty("toggleView", this.toggleView);
            this.avatarSkinTag = this.getProperty("avatarSkinTag", this.avatarSkinTag);
            this.cameraCollisions = this.getProperty("cameraCollisions", this.cameraCollisions);
            this.cameraSmoothing = this.getProperty("cameraSmoothing", this.cameraSmoothing);
            this.distanceFactor = this.getProperty("distanceFactor", this.distanceFactor);
            this.minimumDistance = this.getProperty("minimumDistance", this.minimumDistance);
            this.stoppingPower = this.getProperty("stoppingPower", this.stoppingPower);
            this.takeoffPower = this.getProperty("takeoffPower", this.takeoffPower);
            this.acceleration = this.getProperty("acceleration", this.acceleration);
            this.animationControllerTag = this.getProperty("animationControllerTag", this.animationControllerTag);
            this.animationStateMachine = this.getProperty("animationStateMachine", this.animationStateMachine);
            this.animationStateParams = this.getProperty("animationStateParams", this.animationStateParams);
            // ..
            var boomPositionData = this.getProperty("boomPosition");
            if (boomPositionData != null)
                this.boomPosition = BABYLON.Utilities.ParseVector3(boomPositionData);
            // ..
            var sphereRadius = this.getProperty("sphereRadius", 0.5);
            this.raycastShape = BABYLON.SceneManager.CreatePhysicsSphereShape(sphereRadius);
            // ..
            this.abstractMesh = this.getAbstractMesh();
            this.showDebugColliders = BABYLON.Utilities.ShowDebugColliders();
            this.colliderVisibility = BABYLON.Utilities.ColliderVisibility();
            // Note: Get Avatar Skins First Thing
            if (this.avatarSkinTag != null && this.avatarSkinTag !== "") {
                this.avatarSkins = this.getChildrenWithTags(this.avatarSkinTag, false);
            }
            var pcontrol = this.getProperty("playerControl", this.playerControl);
            this.setPlayerControl(pcontrol);
            this.resetPlayerRotation();
            // ..
            this.cameraPivot = new BABYLON.Mesh(this.transform.name + ".CameraPivot", this.scene);
            this.cameraPivot.parent = null;
            this.cameraPivot.position = this.transform.position.clone();
            this.cameraPivot.rotationQuaternion = this.transform.rotationQuaternion.clone();
            this.cameraPivot.checkCollisions = false;
            this.cameraPivot.isPickable = false;
            // ..
            if (this.showDebugColliders === true) {
                var testPivot = BABYLON.MeshBuilder.CreateBox("TestPivot", { width: 0.25, height: 0.25, depth: 0.5 }, this.scene);
                testPivot.parent = this.cameraPivot;
                testPivot.position.set(0, 0, 0);
                testPivot.rotationQuaternion = new BABYLON.Quaternion(0, 0, 0, 1);
                testPivot.visibility = 0.5;
                testPivot.checkCollisions = false;
                testPivot.isPickable = false;
            }
            // ..
            BABYLON.SceneManager.OnKeyboardPress(this.keyboardCamera, function () { _this.togglePlayerControl(); });
            BABYLON.SceneManager.OnGamepadButtonPress(this.buttonCamera, function () { _this.togglePlayerControl(); });
            //
            this.navigationAgent = this.getComponent("BABYLON.NavigationAgent");
            this.characterController = this.getComponent("BABYLON.CharacterController");
            if (this.characterController != null) {
                BABYLON.Tools.Warn("Starting player controller in physic engine mode for: " + this.transform.name);
            }
            else {
                BABYLON.Tools.Warn("Starting player controller in check collisions mode for: " + this.transform.name);
            }
            if (this.characterController == null && this.abstractMesh != null) {
                this.abstractMesh.checkCollisions = true;
                this.abstractMesh.isPickable = true;
                // ..
                // Create a debug collision shape
                // ..
                if (this.showDebugColliders === true && this.transform._debugCollider == null) {
                    var ellipsoidSegs = 16;
                    var capsuleSize = this.abstractMesh.ellipsoid.clone();
                    var debugName = this.transform.name + ".Debug";
                    var debugCapsule = BABYLON.MeshBuilder.CreateSphere(debugName, { segments: ellipsoidSegs, diameterX: (capsuleSize.x * 2), diameterY: (capsuleSize.y * 2), diameterZ: (capsuleSize.z * 2) }, this.scene);
                    debugCapsule.position.set(0, 0, 0);
                    debugCapsule.rotationQuaternion = this.transform.rotationQuaternion.clone();
                    debugCapsule.setParent(this.transform);
                    debugCapsule.position.set(0, 0, 0);
                    debugCapsule.visibility = this.colliderVisibility;
                    debugCapsule.material = BABYLON.Utilities.GetColliderMaterial(this.scene);
                    debugCapsule.checkCollisions = false;
                    debugCapsule.isPickable = false;
                    this.transform._debugCollider = debugCapsule;
                }
            }
        };
        UniversalPlayerController.prototype.startPlayerController = function () {
            // TODO - Support Dynamic PlayerNumber Change - ???
            if (this.attachCamera === true) {
                this.attachPlayerCamera(this.playerNumber);
            }
        };
        UniversalPlayerController.prototype.updatePlayerController = function () {
            // TODO - FIX THIS SHIT
            if (this.animationStateMachine === true) {
                this.attachAnimationController();
            }
            // ..
            this.deltaTime = this.getDeltaSeconds();
            this.smoothDeltaTime = BABYLON.System.SmoothDeltaFactor * this.deltaTime + (1 - BABYLON.System.SmoothDeltaFactor) * this.smoothDeltaTime;
            if (this.jumpTimer > 0) {
                this.jumpTimer -= this.deltaTime;
                if (this.jumpTimer < 0)
                    this.jumpTimer = 0;
            }
            // ..
            if (this.enableInput === false)
                return;
            this.playerInputX = BABYLON.SceneManager.GetUserInput(BABYLON.UserInputAxis.Horizontal, this.playerNumber);
            this.playerInputZ = BABYLON.SceneManager.GetUserInput(BABYLON.UserInputAxis.Vertical, this.playerNumber);
            this.playerMouseX = BABYLON.SceneManager.GetUserInput(BABYLON.UserInputAxis.MouseX, this.playerNumber);
            this.playerMouseY = BABYLON.SceneManager.GetUserInput(BABYLON.UserInputAxis.MouseY, this.playerNumber);
            //..
            // Update Input Magnitude
            // ..
            this.inputMovementVector.set(this.playerInputX, 0, this.playerInputZ);
            BABYLON.Utilities.ClampMagnitudeVector3ToRef(this.inputMovementVector, 1.0, this.inputMovementVector);
            this.inputMagnitude = this.inputMovementVector.length();
            // ..
            // Update Pre Notifications
            // ..
            if (this.onPreUpdateObservable.hasObservers() === true) {
                this.onPreUpdateObservable.notifyObservers(this.transform);
            }
            // ..
            // Update Forward Camera Vector
            // ..
            this.cameraForwardVector.copyFrom(this.cameraPivot.forward);
            this.cameraForwardVector.y = 0;
            this.cameraForwardVector.normalize();
            this.cameraForwardVector.scaleToRef(this.playerInputZ, this.desiredForwardVector);
            // ..
            // Update Right Camera Vector
            // ..
            this.cameraRightVector.copyFrom(this.cameraPivot.right);
            this.cameraRightVector.y = 0;
            this.cameraRightVector.normalize();
            this.cameraRightVector.scaleToRef(this.playerInputX, this.desiredRightVector);
            // ..
            // Update Player Rotation Vector
            // ..
            this.playerRotationVector.y += (this.playerMouseX * this.lookSpeed * this.deltaTime);
            this.playerRotationVector.x += (-this.playerMouseY * this.lookSpeed * this.deltaTime);
            this.playerRotationVector.x = BABYLON.Scalar.Clamp(this.playerRotationVector.x, -BABYLON.Tools.ToRadians(this.downLookLimit), BABYLON.Tools.ToRadians(this.topLookLimit));
            // ..
            // Update Player Movement Velocity
            // ..
            var movementSpeed = (this.inputMagnitude * this.moveSpeed * this.deltaTime * this.speedFactor);
            var locomotionSpeed = (this.rootmotionSpeed * this.speedFactor);
            if (this.playerControl === PROJECT.PlayerInputControl.FirstPersonStrafing) {
                // Strafing First Person View - Player Movement Velocity
                this.desiredForwardVector.addToRef(this.desiredRightVector, this.playerMovementVelocity);
                if (this.rootMotion === true) {
                    this.playerMovementVelocity.scaleInPlace(locomotionSpeed);
                }
                else {
                    this.playerMovementVelocity.scaleInPlace(movementSpeed);
                }
                // No Free Looking - Snap Player Rotation (Euler Angle Rotation)
                BABYLON.Quaternion.FromEulerAnglesToRef(0, this.playerRotationVector.y, 0, this.transform.rotationQuaternion);
            }
            else if (this.playerControl === PROJECT.PlayerInputControl.ThirdPersonStrafing) {
                // Strafing Third Person View - Player Movement Velocity
                this.desiredForwardVector.addToRef(this.desiredRightVector, this.playerMovementVelocity);
                if (this.rootMotion === true) {
                    this.playerMovementVelocity.scaleInPlace(locomotionSpeed);
                }
                else {
                    this.playerMovementVelocity.scaleInPlace(movementSpeed);
                }
                // Validate Free Looking Rotation
                if (this.freeLooking === true) {
                    if (this.inputMagnitude > 0) {
                        // FIXME - Note: Large Movement - Slerp Player Rotation (Euler Angle Rotation)
                        var strafingTurnRatio = (this.playerMovementVelocity.length() / this.moveSpeed);
                        var strafingTurnSpeed = BABYLON.Scalar.Lerp(this.highTurnSpeed, this.lowTurnSpeed, strafingTurnRatio);
                        BABYLON.Quaternion.FromEulerAnglesToRef(0, this.playerRotationVector.y, 0, this.playerRotationQuaternion);
                        BABYLON.Quaternion.SlerpToRef(this.transform.rotationQuaternion, this.playerRotationQuaternion, (strafingTurnSpeed * this.deltaTime), this.transform.rotationQuaternion);
                    }
                }
                else {
                    // No Free Looking - Snap Player Rotation (Euler Angle Rotation)
                    BABYLON.Quaternion.FromEulerAnglesToRef(0, this.playerRotationVector.y, 0, this.transform.rotationQuaternion);
                }
            }
            else if (this.playerControl === PROJECT.PlayerInputControl.ThirdPersonForward) {
                // Forward Third Person View - Player Look Rotation
                this.desiredForwardVector.addToRef(this.desiredRightVector, this.playerLookRotation);
                if (this.rootMotion === true) {
                    this.transform.forward.scaleToRef(locomotionSpeed, this.playerMovementVelocity);
                }
                else {
                    this.transform.forward.scaleToRef(movementSpeed, this.playerMovementVelocity);
                }
                // Always Free Looking - Lerp Player Rotation (Turn And Burn)
                if (this.inputMagnitude > 0) {
                    var forwardTurnRatio = (this.playerMovementVelocity.length() / this.moveSpeed);
                    var forwardTurnSpeed = BABYLON.Scalar.Lerp(this.highTurnSpeed, this.lowTurnSpeed, forwardTurnRatio);
                    BABYLON.Utilities.LookRotationToRef(this.playerLookRotation, this.playerRotationQuaternion);
                    BABYLON.Quaternion.SlerpToRef(this.transform.rotationQuaternion, this.playerRotationQuaternion, (forwardTurnSpeed * this.deltaTime), this.transform.rotationQuaternion);
                }
            }
            // ..
            // Update Player Acceleration
            // ..
            if (this.acceleration === true) {
                if (this.takeoffPower < 0.1)
                    this.takeoffPower = 0.1;
                if (this.stoppingPower < 0.1)
                    this.stoppingPower = 0.1;
                BABYLON.Vector3.LerpToRef(this.movementVelocity, this.playerMovementVelocity, (this.takeoffPower * this.smoothDeltaTime), this.movementVelocity);
                var playerMovementLength = this.playerMovementVelocity.length();
                var finalMovementLength = this.movementVelocity.length();
                if (playerMovementLength === 0 && finalMovementLength > 0 && finalMovementLength < (this.stoppingPower * 0.01)) {
                    this.movementVelocity.copyFrom(this.playerMovementVelocity);
                }
            }
            else {
                this.movementVelocity.copyFrom(this.playerMovementVelocity);
            }
            // ..
            // Update Character Controller
            // ..
            this.isCharacterGrounded = true;
            this.isCharacterJumpFrame = false;
            this.isCharacterNavigating = (this.navigationAgent != null && this.navigationAgent.isNavigating());
            this.navigationAngularSpeed = (this.navigationAgent != null) ? this.navigationAgent.angularSpeed : 0;
            if (this.characterController != null) {
                this.updateCharacterController();
            }
            else {
                this.updateCheckCollisions();
            }
            // ..
            // Update Animation State Params
            // ..
            if (this.animationState != null) {
                if (this.animationStateMachine === true) {
                    this.validateAnimationStateParams();
                    this.animationState.setFloat(this.animationStateParams.horizontalInput, this.playerInputX);
                    this.animationState.setFloat(this.animationStateParams.verticalInput, this.playerInputZ);
                    this.animationState.setFloat(this.animationStateParams.mouseXInput, this.playerMouseX);
                    this.animationState.setFloat(this.animationStateParams.mouseYInput, this.playerMouseY);
                    this.animationState.setFloat(this.animationStateParams.speedInput, this.inputMagnitude);
                    this.animationState.setBool(this.animationStateParams.jumpedInput, this.isCharacterJumpFrame);
                    this.animationState.setBool(this.animationStateParams.jumpingInput, this.isCharacterJumpState);
                    this.animationState.setBool(this.animationStateParams.groundedInput, this.isCharacterGrounded);
                    if (this.isCharacterNavigating === true) {
                        // TODO - Update Speed Input With Navigation Magnitude
                        // this.animationState.setFloat(this.animationStateParams.speedInput, this.inputMagnitude);
                    }
                }
            }
            // ..
            // Update Post Notifications
            // ..
            if (this.onPostUpdateObservable.hasObservers() === true) {
                this.onPostUpdateObservable.notifyObservers(this.transform);
            }
        };
        UniversalPlayerController.prototype.updateCharacterController = function () {
            if (this.moveCharacter === true && this.characterController != null) {
                this.isCharacterGrounded = this.characterController.isGrounded();
                this.groundedMesh = null;
                this.groundedPoint = null;
                this.groundedNormal = null;
                this.groundedAngle = (this.groundedNormal != null) ? Math.abs(BABYLON.Utilities.GetAngle(this.groundedNormal, this.transform.forward) - 90) : 0;
                // ..
                // DEBUG: let msg:string = "Character Controller Gounded: " + this.isCharacterGrounded;
                // DEBUG: if (this.groundedNormal != null) msg += (" --> Hit Angle: " + this.groundedAngle.toString());
                // DEBUG: if (this.groundedMesh != null) msg += (" --> Ground Mesh: " + this.groundedMesh.name);
                // DEBUG: BABYLON.Utilities.PrintToScreen(msg);
                // ..
                if (this.isCharacterNavigating === false) {
                    if (this.isCharacterGrounded === true) {
                        if (this.isCharacterJumpState === true) {
                            if (this.jumpDelay > 0)
                                this.jumpTimer = (this.jumpDelay + this.deltaTime);
                            this.isCharacterJumpState = false;
                        }
                        if (this.jumpTimer <= 0)
                            this.isCharacterJumpFrame = (BABYLON.SceneManager.GetKeyboardInput(this.keyboardJump) || BABYLON.SceneManager.GetGamepadButtonInput(this.buttonJump));
                        if (this.isCharacterJumpFrame === true) {
                            this.isCharacterJumpState = true;
                            this.characterController.jump(this.jumpSpeed);
                        }
                        // ..
                        // Update Move Notifications
                        // ..
                        if (this.onBeforeMoveObservable.hasObservers() === true) {
                            this.onBeforeMoveObservable.notifyObservers(this.transform);
                        }
                        this.characterController.move(this.movementVelocity);
                    }
                }
                else {
                    this.characterController.setGhostWorldPosition(this.transform.position);
                }
            }
        };
        UniversalPlayerController.prototype.updateCheckCollisions = function () {
            if (this.moveCharacter === true && this.abstractMesh != null) {
                var pick = this.pickCheckCollisionsRaycast();
                this.isCharacterGrounded = (pick != null && pick.hit);
                this.groundedMesh = (pick != null && pick.hit) ? pick.pickedMesh : null;
                this.groundedPoint = (pick != null && pick.hit) ? pick.pickedPoint : null;
                this.groundedNormal = (pick != null && pick.hit) ? pick.getNormal(true) : null;
                this.groundedAngle = (this.groundedNormal != null) ? Math.abs(BABYLON.Utilities.GetAngle(this.groundedNormal, this.transform.forward) - 90) : 0;
                // ..
                // DEBUG: let msg:string = "Check Collisions Gounded: " + this.isCharacterGrounded;
                // DEBUG: if (this.groundedNormal != null) msg += (" --> Hit Angle: " + this.groundedAngle.toString());
                // DEBUG: if (this.groundedMesh != null) msg += (" --> Ground Mesh: " + this.groundedMesh.name);
                // DEBUG: BABYLON.Utilities.PrintToScreen(msg);
                // ..
                if (this.gravityForce > 0)
                    this.verticalVelocity -= (this.deltaTime * this.gravityForce); // Note: Apply Constant Gravity
                if (this.isCharacterNavigating === false) {
                    if (this.isCharacterGrounded === true) {
                        var slopeFactor = (this.maxAngle > 0 && this.groundedAngle > 0 && this.groundedAngle < this.maxAngle) ? 0 : this.slopeForce;
                        this.verticalVelocity = Math.max(-slopeFactor, this.verticalVelocity); // Note: Allowed Slope Angle Support
                        if (this.isCharacterJumpState === true) {
                            if (this.jumpDelay > 0)
                                this.jumpTimer = (this.jumpDelay + this.deltaTime);
                            this.isCharacterJumpState = false;
                        }
                        if (this.jumpTimer <= 0)
                            this.isCharacterJumpFrame = (BABYLON.SceneManager.GetKeyboardInput(this.keyboardJump) || BABYLON.SceneManager.GetGamepadButtonInput(this.buttonJump));
                        if (this.isCharacterJumpFrame === true) {
                            this.isCharacterJumpState = true;
                            this.verticalVelocity = (this.jumpSpeed * 0.015); // Note: Jump Speed Scale Factor
                        }
                    }
                    this.movementVelocity.y = this.verticalVelocity;
                    // ..
                    // Update Move Notifications
                    // ..
                    if (this.onBeforeMoveObservable.hasObservers() === true) {
                        this.onBeforeMoveObservable.notifyObservers(this.transform);
                    }
                    this.abstractMesh.moveWithCollisions(this.movementVelocity);
                }
            }
        };
        UniversalPlayerController.prototype.pickCheckCollisionsRaycast = function (fastCheck) {
            var _this = this;
            if (fastCheck === void 0) { fastCheck = true; }
            if (this.abstractMesh == null)
                return null;
            if (this.rayLength <= 0)
                this.rayLength = 0.1;
            var raycastLength = (this.rayLength / this.transform.scaling.y) + 0.05;
            if (this.pickingRay == null) {
                if (this.pickingOrigin == null)
                    this.pickingOrigin = new BABYLON.Vector3(0, this.rayOrigin, 0);
                this.pickingRay = new BABYLON.Ray(this.pickingOrigin, this.pickingDirection, raycastLength);
            }
            if (this.pickingHelper == null) {
                this.pickingHelper = new BABYLON.RayHelper(this.pickingRay);
                if (this.pickingOrigin == null)
                    this.pickingOrigin = new BABYLON.Vector3(0, this.rayOrigin, 0);
                this.pickingHelper.attachToMesh(this.abstractMesh, this.pickingDirection, this.pickingOrigin, raycastLength);
                if (this.showDebugColliders === true)
                    this.pickingHelper.show(this.scene, new BABYLON.Color3(1, 0, 0));
            }
            return (this.pickingRay != null) ? this.scene.pickWithRay(this.pickingRay, function (mesh) { return (mesh != _this.abstractMesh && mesh.checkCollisions === true); }, fastCheck) : null;
        };
        UniversalPlayerController.prototype.pickCameraCollisionsRaycast = function (origin, direction, rayLength, fastCheck) {
            var _this = this;
            if (fastCheck === void 0) { fastCheck = true; }
            if (this.abstractMesh == null)
                return null;
            if (this.cameraRay == null)
                this.cameraRay = new BABYLON.Ray(origin, direction, rayLength);
            if (this.cameraRay != null) {
                this.cameraRay.origin.copyFrom(origin);
                this.cameraRay.direction.copyFrom(direction);
                this.cameraRay.length = rayLength;
            }
            if (this.cameraHelper == null) {
                this.cameraHelper = new BABYLON.RayHelper(this.cameraRay);
                if (this.showDebugColliders === true)
                    this.cameraHelper.show(this.scene, new BABYLON.Color3(1, 0, 0));
            }
            return (this.cameraRay != null) ? this.scene.pickWithRay(this.cameraRay, function (mesh) { return (mesh != _this.abstractMesh && mesh.checkCollisions === true); }, fastCheck) : null;
        };
        UniversalPlayerController.prototype.latePlayerController = function () {
            if (this.enableInput === false)
                return;
            var allowRotation = this.rotateCamera;
            // DUNNO FUR SURE:  if (this.isCharacterNavigating === true && this.navigationAngularSpeed > 0) allowRotation = false;
            if (this.cameraPivot != null) {
                // .. 
                // Update Camera Pivot Offset
                // ..
                if (this.playerControl === PROJECT.PlayerInputControl.ThirdPersonStrafing || this.playerControl === PROJECT.PlayerInputControl.ThirdPersonForward) {
                    this.cameraPivotOffset.set(0, this.pivotHeight, 0);
                }
                else {
                    this.cameraPivotOffset.set(0, this.eyesHeight, 0);
                }
                // ..
                // Update Camera Pivot Position
                // ..
                BABYLON.Utilities.GetAbsolutePositionToRef(this.transform, this.cameraPivot.position, this.cameraPivotOffset);
                // ..
                // Update Camera Pivot Rotation
                // ..
                if (allowRotation === true) {
                    BABYLON.Quaternion.FromEulerAnglesToRef(this.playerRotationVector.x, this.playerRotationVector.y, 0, this.cameraPivot.rotationQuaternion);
                }
            }
            if (allowRotation === true && this.cameraNode != null) {
                if (this.cameraSmoothing <= 0)
                    this.cameraSmoothing = 5.0; // Default Camera Smoothing
                if (this.playerControl === PROJECT.PlayerInputControl.ThirdPersonStrafing || this.playerControl === PROJECT.PlayerInputControl.ThirdPersonForward) {
                    if (this.cameraCollisions === true) {
                        // ..
                        // Check Camera Collision
                        // ..
                        var maxDistance = Math.abs(this.boomPosition.z);
                        var parentNode = this.cameraNode.parent;
                        this.dollyDirection.scaleToRef(maxDistance, this.scaledMaxDirection);
                        this.dollyDirection.scaleToRef(this.cameraDistance, this.scaledCamDirection);
                        BABYLON.Utilities.GetAbsolutePositionToRef(parentNode, this.parentNodePosition);
                        BABYLON.Utilities.TransformPointToRef(parentNode, this.scaledMaxDirection, this.maximumCameraPos);
                        // ..
                        var contact = false;
                        var distance = 0;
                        if (this.characterController != null) {
                            // Note: Use Bullet Physics Shape Cast
                            var raycast = BABYLON.SceneManager.PhysicsShapecastToPoint(this.scene, this.raycastShape, this.parentNodePosition, this.maximumCameraPos, this.raycastGroup, this.raycastMask);
                            contact = (raycast != null && raycast.hasHit === true && raycast.collisionObject != null && raycast.collisionObject.entity != null);
                            distance = (raycast != null && raycast.hasHit === true) ? raycast.hitDistance : 0;
                        }
                        else {
                            // Note: Use Native Scene Pick With Ray
                            this.cameraForward.set(0, 0, -1);
                            BABYLON.Utilities.TransformPointToRef(parentNode, this.cameraForward, this.cameraForward);
                            this.cameraForward.subtractToRef(this.parentNodePosition, this.cameraDirection);
                            this.cameraDirection.normalize();
                            // ..
                            var pick = this.pickCameraCollisionsRaycast(this.parentNodePosition, this.cameraDirection, this.maximumCameraPos.length());
                            contact = (pick != null && pick.hit);
                            distance = (pick != null && pick.distance);
                        }
                        if (contact === true) {
                            this.cameraDistance = BABYLON.Scalar.Clamp((distance * this.distanceFactor), this.minimumDistance, maxDistance);
                            // Lerp Past Camera Collisions
                            if (this.cameraNode.position.x !== this.scaledCamDirection.x || this.cameraNode.position.y !== this.scaledCamDirection.y || this.cameraNode.position.z !== this.scaledCamDirection.z) {
                                BABYLON.Vector3.LerpToRef(this.cameraNode.position, this.scaledCamDirection, (this.deltaTime * this.cameraSmoothing), this.cameraNode.position);
                            }
                        }
                        else {
                            // Lerp To Camera Boom Position
                            if (this.cameraNode.position.x !== this.boomPosition.x || this.cameraNode.position.y !== this.boomPosition.y || this.cameraNode.position.z !== this.boomPosition.z) {
                                BABYLON.Vector3.LerpToRef(this.cameraNode.position, this.boomPosition, (this.deltaTime * this.cameraSmoothing), this.cameraNode.position);
                            }
                        }
                    }
                    else {
                        // Lerp To Camera Boom Position
                        if (this.cameraNode.position.x !== this.boomPosition.x || this.cameraNode.position.y !== this.boomPosition.y || this.cameraNode.position.z !== this.boomPosition.z) {
                            BABYLON.Vector3.LerpToRef(this.cameraNode.position, this.boomPosition, (this.deltaTime * this.cameraSmoothing), this.cameraNode.position);
                        }
                    }
                }
                else {
                    // Note: Snap To Zero Camera Pivot Position - First Person View
                    if (this.cameraNode.position.x !== 0 || this.cameraNode.position.y !== 0 || this.cameraNode.position.z !== 0) {
                        this.cameraNode.position.set(0, 0, 0);
                    }
                }
            }
        };
        UniversalPlayerController.prototype.afterPlayerController = function () {
            if (this.enableInput === false)
                return;
            this.rootmotionSpeed = 0;
            if (this.animationState != null && this.animationStateMachine === true) {
                this.rootmotionSpeed = this.animationState.getRootMotionSpeed();
            }
        };
        UniversalPlayerController.prototype.destroyPlayerController = function () {
            this.cameraPivot = null;
            this.cameraNode = null;
            this.animationState = null;
            this.characterController = null;
            this.onPreUpdateObservable.clear();
            this.onPreUpdateObservable = null;
            this.onBeforeMoveObservable.clear();
            this.onBeforeMoveObservable = null;
            this.onPostUpdateObservable.clear();
            this.onPostUpdateObservable = null;
        };
        UniversalPlayerController.prototype.validateAnimationStateParams = function () {
            if (this.animationStateParams == null) {
                this.animationStateParams = {
                    horizontalInput: "Horizontal",
                    verticalInput: "Vertical",
                    mouseXInput: "MouseX",
                    mouseYInput: "MouseY",
                    speedInput: "Speed",
                    jumpedInput: "Jumped",
                    jumpingInput: "Jumping",
                    groundedInput: "Grounded"
                };
            }
        };
        return UniversalPlayerController;
    }(BABYLON.ScriptComponent));
    PROJECT.UniversalPlayerController = UniversalPlayerController;
    /**
    * Babylon Enum Definition
    * @interface PlayerInputControl
    */
    var PlayerInputControl;
    (function (PlayerInputControl) {
        PlayerInputControl[PlayerInputControl["FirstPersonStrafing"] = 0] = "FirstPersonStrafing";
        PlayerInputControl[PlayerInputControl["ThirdPersonStrafing"] = 1] = "ThirdPersonStrafing";
        PlayerInputControl[PlayerInputControl["ThirdPersonForward"] = 2] = "ThirdPersonForward";
    })(PlayerInputControl = PROJECT.PlayerInputControl || (PROJECT.PlayerInputControl = {}));
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class FxParticleSystem
    */
    var FxParticleSystem = /** @class */ (function (_super) {
        __extends(FxParticleSystem, _super);
        function FxParticleSystem() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this.m_particleEmitter = null;
            _this.m_particleSystem = null;
            return _this;
        }
        FxParticleSystem.prototype.getParticleEmitter = function () { return this.m_particleEmitter; };
        FxParticleSystem.prototype.getParticleSystem = function () { return this.m_particleSystem; };
        FxParticleSystem.prototype.awake = function () {
            var rootUrl = BABYLON.SceneManager.GetRootUrl(this.scene);
            var classType = this.getProperty("classType", 0);
            var particleText = this.getProperty("base64ParticleSystem");
            var playOnAwake = this.getProperty("playOnAwake", false);
            var particleTexture = this.getProperty("particleTexture");
            this.m_particleEmitter = this.getAbstractMesh();
            if (this.m_particleEmitter == null) {
                this.m_particleEmitter = BABYLON.Mesh.CreateBox(this.transform.name + ".Emitter", 0.25, this.scene);
                this.m_particleEmitter.parent = this.transform;
                this.m_particleEmitter.position.set(0, 0, 0);
                this.m_particleEmitter.isVisible = false;
                this.m_particleEmitter.isPickable = false;
                this.m_particleEmitter.material = BABYLON.Utilities.GetColliderMaterial(this.scene);
            }
            if (particleText != null && particleText !== "") {
                var particleJson = window.atob(particleText);
                if (particleJson != null && particleJson !== "") {
                    var particleParsed = JSON.parse(particleJson);
                    if (particleParsed != null) {
                        if (particleParsed.texture != null && particleTexture != null) {
                            particleParsed.texture.name = particleTexture.filename; // Note: Particle System Parser Use Name Not Url
                            particleParsed.texture.url = particleTexture.filename; // Note: Particle System Parser Use Name Not Url
                        }
                        if (classType === 1) { // GPU Particle System
                            this.m_particleSystem = BABYLON.GPUParticleSystem.Parse(particleParsed, this.scene, rootUrl);
                        }
                        else { // CPU Particle System
                            this.m_particleSystem = BABYLON.ParticleSystem.Parse(particleParsed, this.scene, rootUrl);
                        }
                        if (this.m_particleSystem != null) {
                            if (this.m_particleEmitter != null)
                                this.m_particleSystem.emitter = this.m_particleEmitter;
                            if (playOnAwake === false)
                                this.m_particleSystem.stop();
                        }
                    }
                }
            }
        };
        FxParticleSystem.prototype.destroy = function () {
            this.m_particleEmitter = null;
            if (this.m_particleSystem != null) {
                this.m_particleSystem.dispose();
                this.m_particleSystem = null;
            }
        };
        return FxParticleSystem;
    }(BABYLON.ScriptComponent));
    PROJECT.FxParticleSystem = FxParticleSystem;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
     * Babylon water material system pro class (Babylon Water Material)
     * @class SkyMaterialSystem - All rights reserved (c) 2020 Mackey Kinard
     */
    var SkyMaterialSystem = /** @class */ (function (_super) {
        __extends(SkyMaterialSystem, _super);
        function SkyMaterialSystem() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this.skyfog = false;
            _this.skysize = 1000;
            _this.probesize = 128;
            _this.reflections = false;
            _this.reflectlevel = 1;
            _this.skytintcolor = new BABYLON.Color3(1, 1, 1);
            _this.m_skyboxMesh = null;
            _this.m_skyMaterial = null;
            _this.m_reflectProbe = null;
            return _this;
        }
        SkyMaterialSystem.prototype.getSkyboxMesh = function () { return this.m_skyboxMesh; };
        SkyMaterialSystem.prototype.getSkyMaterial = function () { return this.m_skyMaterial; };
        SkyMaterialSystem.prototype.getReflectionProbe = function () { return this.m_reflectProbe; };
        SkyMaterialSystem.prototype.awake = function () { this.awakeSkyboxMaterial(); };
        SkyMaterialSystem.prototype.start = function () { };
        SkyMaterialSystem.prototype.update = function () { };
        SkyMaterialSystem.prototype.late = function () { };
        SkyMaterialSystem.prototype.after = function () { };
        SkyMaterialSystem.prototype.destroy = function () { this.destroySkyboxMaterial(); };
        SkyMaterialSystem.prototype.awakeSkyboxMaterial = function () {
            this.skyfog = this.getProperty("skyfog", this.skyfog);
            this.skysize = this.getProperty("skysize", this.skysize);
            this.probesize = this.getProperty("probesize", this.probesize);
            this.reflections = this.getProperty("reflections", this.reflections);
            this.reflectlevel = this.getProperty("reflectlevel", this.reflectlevel);
            // ..
            var tintColor = this.getProperty("tintColor");
            if (tintColor != null)
                this.skytintcolor = BABYLON.Utilities.ParseColor3(tintColor);
            // ..
            this.m_skyboxMesh = BABYLON.Mesh.CreateBox("Ambient Skybox", this.skysize, this.scene);
            this.m_skyboxMesh.position.set(0, 0, 0);
            this.m_skyboxMesh.infiniteDistance = true;
            this.m_skyboxMesh.applyFog = this.skyfog;
            if (this.scene.useRightHandedSystem === true)
                this.m_skyboxMesh.scaling.x *= -1;
            // Setup Sky Material Properties
            this.m_skyMaterial = new BABYLON.SkyMaterial(this.transform.name + ".SkyMaterial", this.scene);
            this.m_skyMaterial.backFaceCulling = false;
            this.setSkyboxTintColor(this.skytintcolor);
            /**
             * Defines the overall luminance of sky in interval [0, 1].
             */
            this.m_skyMaterial.luminance = this.getProperty("luminance", this.m_skyMaterial.luminance);
            /**
            * Defines the amount (scattering) of haze as opposed to molecules in atmosphere.
            */
            this.m_skyMaterial.turbidity = this.getProperty("turbidity", this.m_skyMaterial.turbidity);
            /**
             * Defines the sky appearance (light intensity).
             */
            this.m_skyMaterial.rayleigh = this.getProperty("rayleigh", this.m_skyMaterial.rayleigh);
            /**
             * Defines the mieCoefficient in interval [0, 0.1] which affects the property .mieDirectionalG.
             */
            this.m_skyMaterial.mieCoefficient = this.getProperty("miecoefficient", this.m_skyMaterial.mieCoefficient);
            /**
             * Defines the amount of haze particles following the Mie scattering theory.
             */
            this.m_skyMaterial.mieDirectionalG = this.getProperty("miedirectionalg", this.m_skyMaterial.mieDirectionalG);
            /**
             * Defines the distance of the sun according to the active scene camera.
             */
            this.m_skyMaterial.distance = this.getProperty("distance", this.m_skyMaterial.distance);
            /**
             * Defines the sun inclination, in interval [-0.5, 0.5]. When the inclination is not 0, the sun is said
             * "inclined".
             */
            this.m_skyMaterial.inclination = this.getProperty("inclination", this.m_skyMaterial.inclination);
            /**
             * Defines the solar azimuth in interval [0, 1]. The azimuth is the angle in the horizontal plan between
             * an object direction and a reference direction.
             */
            this.m_skyMaterial.azimuth = this.getProperty("azimuth", this.m_skyMaterial.azimuth);
            /**
             * Defines an offset vector used to get a horizon offset.
             * @example skyMaterial.cameraOffset.y = camera.globalPosition.y // Set horizon relative to 0 on the Y axis
             */
            var camOffsetData = this.getProperty("cameraoffset");
            if (camOffsetData != null)
                this.m_skyMaterial.cameraOffset = BABYLON.Utilities.ParseVector3(camOffsetData);
            /**
             * Defines if the sun position should be computed (inclination and azimuth) according to the scene
             * sun position.
             */
            this.m_skyMaterial.useSunPosition = this.getProperty("usesunposition", this.m_skyMaterial.useSunPosition);
            this.m_skyMaterial.sunPosition = new BABYLON.Vector3(0, 50, 0);
            if (this.scene.metadata != null && this.scene.metadata.unity != null && this.scene.metadata.unity) {
                if (this.scene.metadata.unity.sunposition != null) {
                    this.m_skyMaterial.sunPosition = BABYLON.Utilities.ParseVector3(this.scene.metadata.unity.sunposition);
                }
            }
            // Assign Sky Material To Skybox Mesh
            this.m_skyboxMesh.material = this.m_skyMaterial;
            // Setup Environment Reflection Probe Texture
            if (this.reflections === true) {
                this.m_reflectProbe = new BABYLON.ReflectionProbe("Skybox-ReflectionProbe", this.probesize, this.scene);
                this.m_reflectProbe.renderList.push(this.m_skyboxMesh);
                this.scene.customRenderTargets.push(this.m_reflectProbe.cubeTexture);
                this.scene.environmentTexture = this.m_reflectProbe.cubeTexture;
                this.scene.environmentIntensity = this.reflectlevel;
            }
        };
        SkyMaterialSystem.prototype.destroySkyboxMaterial = function () {
            if (this.m_skyboxMesh != null) {
                this.m_skyboxMesh.dispose();
                this.m_skyboxMesh = null;
            }
            if (this.m_reflectProbe != null) {
                this.m_reflectProbe.dispose();
                this.m_reflectProbe = null;
            }
            if (this.m_skyMaterial != null) {
                this.m_skyMaterial.dispose();
                this.m_skyMaterial = null;
            }
        };
        /** Set Skybox Mesh tint color. (Box Mesh Vertex Colors) */
        SkyMaterialSystem.prototype.setSkyboxTintColor = function (color) {
            var colors = [];
            var numVertices = this.m_skyboxMesh.getTotalVertices();
            for (var i = 0; i < numVertices; ++i) {
                colors.push(color.r, color.g, color.b, 1.0);
            }
            this.m_skyboxMesh.setVerticesData("color", colors);
            this.m_skyboxMesh.useVertexColors = true;
        };
        return SkyMaterialSystem;
    }(BABYLON.ScriptComponent));
    PROJECT.SkyMaterialSystem = SkyMaterialSystem;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
     * Babylon water material system pro class (Babylon Water Material)
     * @class WaterMaterialSystem - All rights reserved (c) 2020 Mackey Kinard
     */
    var WaterMaterialSystem = /** @class */ (function (_super) {
        __extends(WaterMaterialSystem, _super);
        function WaterMaterialSystem() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this.waterTag = "Water";
            _this.targetSize = new BABYLON.Vector2(128, 128);
            _this.renderSize = new BABYLON.Vector2(512, 512);
            _this.depthFactor = 1.0;
            _this.reflectSkybox = true;
            _this.subDivisions = 32;
            _this.heightOffset = 1.0;
            _this.windDirection = new BABYLON.Vector2(0, 1);
            _this.windForce = 6;
            _this.waveSpeed = 1.0;
            _this.waveLength = 0.4;
            _this.waveHeight = 0.4;
            _this.bumpHeight = 0.4;
            _this.waterColor = new BABYLON.Color3(0.1, 0.1, 0.6);
            _this.colorBlendFactor = 0.2;
            _this.waterColor2 = new BABYLON.Color3(0.1, 0.1, 0.6);
            _this.colorBlendFactor2 = 0.2;
            _this.disableClipPlane = false;
            _this.m_waterGeometry = null;
            _this.m_waterMaterial = null;
            return _this;
        }
        WaterMaterialSystem.prototype.getWaterGeometry = function () { return this.m_waterGeometry; };
        WaterMaterialSystem.prototype.getWaterMaterial = function () { return this.m_waterMaterial; };
        WaterMaterialSystem.prototype.awake = function () {
            var _this = this;
            this.waterTag = this.getProperty("watertag", this.waterTag);
            this.depthFactor = this.getProperty("depthfactor", this.depthFactor);
            this.subDivisions = this.getProperty("subdivisions", this.subDivisions);
            this.heightOffset = this.getProperty("heightoffset", this.heightOffset);
            this.reflectSkybox = this.getProperty("reflectskybox", this.reflectSkybox);
            this.windForce = this.getProperty("windforce", this.windForce);
            this.waveSpeed = this.getProperty("wavespeed", this.waveSpeed);
            this.waveLength = this.getProperty("wavelength", this.waveLength);
            this.waveHeight = this.getProperty("waveheight", this.waveHeight);
            this.bumpHeight = this.getProperty("bumpheight", this.bumpHeight);
            this.bumpSuperimpose = this.getProperty("bumpsuperimpose", this.bumpSuperimpose);
            this.bumpAffectsReflection = this.getProperty("bumpaffectsreflection", this.bumpAffectsReflection);
            this.colorBlendFactor = this.getProperty("colorblendfactor", this.colorBlendFactor);
            this.colorBlendFactor2 = this.getProperty("colorblendfactor2", this.colorBlendFactor2);
            this.disableClipPlane = this.getProperty("disableclipplane", this.disableClipPlane);
            this.fresnelSeparate = this.getProperty("fresnelseparate", this.fresnelSeparate);
            // ..
            var wcolor1 = this.getProperty("watercolor");
            this.waterColor = BABYLON.Utilities.ParseColor3(wcolor1);
            // ..
            var wcolor2 = this.getProperty("watercolor2");
            this.waterColor2 = BABYLON.Utilities.ParseColor3(wcolor2);
            // ..
            var wdirection = this.getProperty("winddirection");
            this.windDirection = BABYLON.Utilities.ParseVector2(wdirection);
            // ..
            var itargetsize = this.getProperty("targetsize");
            if (itargetsize != null)
                this.targetSize = BABYLON.Utilities.ParseVector2(itargetsize);
            // ..        
            var irendersize = this.getProperty("rendersize");
            if (irendersize != null)
                this.renderSize = BABYLON.Utilities.ParseVector2(irendersize);
            /* Awake component function */
            var bumpTexture = null;
            var bumpTextureData = this.getProperty("bumptexture");
            if (bumpTextureData != null)
                bumpTexture = BABYLON.Utilities.ParseTexture(bumpTextureData, this.scene);
            if (bumpTexture != null) {
                this.m_waterMaterial = new BABYLON.WaterMaterial(this.transform.name + ".Water", this.scene, this.renderSize);
                this.m_waterMaterial.bumpTexture = bumpTexture;
                this.m_waterMaterial.windDirection = this.windDirection;
                this.m_waterMaterial.windForce = this.windForce;
                this.m_waterMaterial.waveSpeed = this.waveSpeed;
                this.m_waterMaterial.waveLength = this.waveLength;
                this.m_waterMaterial.waveHeight = this.waveHeight;
                this.m_waterMaterial.bumpHeight = this.bumpHeight;
                this.m_waterMaterial.bumpSuperimpose = this.bumpSuperimpose;
                this.m_waterMaterial.bumpAffectsReflection = this.bumpAffectsReflection;
                this.m_waterMaterial.waterColor = this.waterColor;
                this.m_waterMaterial.colorBlendFactor = this.colorBlendFactor;
                this.m_waterMaterial.waterColor2 = this.waterColor2;
                this.m_waterMaterial.colorBlendFactor2 = this.colorBlendFactor2;
                this.m_waterMaterial.disableClipPlane = this.disableClipPlane;
                this.m_waterMaterial.fresnelSeparate = this.fresnelSeparate;
                // ..
                // Water Material Tags
                // ..
                if (this.reflectSkybox === true) {
                    var skyboxMesh = BABYLON.SceneManager.GetAmbientSkybox(this.scene);
                    if (skyboxMesh != null)
                        this.m_waterMaterial.addToRenderList(skyboxMesh);
                }
                if (this.waterTag != null && this.waterTag !== "") {
                    var waterMeshes = this.scene.getMeshesByTags(this.waterTag);
                    if (waterMeshes != null && waterMeshes.length > 0) {
                        waterMeshes.forEach(function (mesh) {
                            _this.m_waterMaterial.addToRenderList(mesh);
                        });
                    }
                }
                // ..
                // Water Material Mesh
                // ..
                this.m_waterGeometry = BABYLON.Mesh.CreateGround(this.transform.name + ".WaterMesh", this.targetSize.x, this.targetSize.y, this.subDivisions, this.scene, false);
                this.m_waterGeometry.parent = this.transform;
                this.m_waterGeometry.position.set(0, this.heightOffset, 0);
                if (this.depthFactor > 0)
                    this.m_waterGeometry.scaling.y *= this.depthFactor;
                this.m_waterGeometry.material = this.m_waterMaterial;
            }
            else {
                BABYLON.Tools.Warn("No supported water bump texture for: " + this.transform.name);
            }
        };
        WaterMaterialSystem.prototype.start = function () { };
        WaterMaterialSystem.prototype.update = function () { };
        WaterMaterialSystem.prototype.late = function () { };
        WaterMaterialSystem.prototype.after = function () { };
        WaterMaterialSystem.prototype.destroy = function () { };
        return WaterMaterialSystem;
    }(BABYLON.ScriptComponent));
    PROJECT.WaterMaterialSystem = WaterMaterialSystem;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class SimpleFollowCamera
    */
    var SimpleFollowCamera = /** @class */ (function (_super) {
        __extends(SimpleFollowCamera, _super);
        function SimpleFollowCamera(transform, scene, properties) {
            if (properties === void 0) { properties = {}; }
            var _this = _super.call(this, transform, scene, properties) || this;
            _this.smoothFollow = 0;
            _this.smoothRotate = 0;
            _this.matchRotation = false;
            _this.followTarget = null;
            _this.targetPosition = BABYLON.Vector3.Zero();
            _this.targetRotation = BABYLON.Quaternion.Zero();
            _this.smoothFollow = _this.getProperty("smoothFollow", _this.smoothFollow);
            _this.smoothRotate = _this.getProperty("smoothRotate", _this.smoothRotate);
            _this.matchRotation = _this.getProperty("matchRotation", _this.matchRotation);
            var ftarget = _this.getProperty("followTarget");
            if (ftarget != null) {
                _this.followTarget = BABYLON.Utilities.ParseTransformByID(ftarget, _this.scene);
                if (_this.followTarget != null) {
                    BABYLON.Utilities.ValidateTransformQuaternion(_this.followTarget);
                }
            }
            BABYLON.Utilities.ValidateTransformQuaternion(_this.transform);
            return _this;
        }
        SimpleFollowCamera.prototype.start = function () {
            //console.log("Starting simple follow target for: " + this.transform.name);
        };
        SimpleFollowCamera.prototype.late = function () {
            if (this.followTarget != null) {
                var deltaTime = this.getDeltaSeconds();
                BABYLON.Utilities.GetAbsolutePositionToRef(this.followTarget, this.targetPosition);
                this.targetRotation.copyFrom(this.followTarget.absoluteRotationQuaternion);
                // ..
                if (this.smoothFollow > 0) {
                    BABYLON.Vector3.LerpToRef(this.transform.position, this.targetPosition, (deltaTime * this.smoothFollow), this.transform.position);
                }
                else {
                    this.transform.position.copyFrom(this.targetPosition);
                }
                // ..
                if (this.matchRotation === true) {
                    if (this.smoothRotate > 0) {
                        BABYLON.Quaternion.SlerpToRef(this.transform.rotationQuaternion, this.targetRotation, (deltaTime * this.smoothRotate), this.transform.rotationQuaternion);
                    }
                    else {
                        this.transform.rotationQuaternion.copyFrom(this.targetRotation);
                    }
                }
            }
        };
        return SimpleFollowCamera;
    }(BABYLON.ScriptComponent));
    PROJECT.SimpleFollowCamera = SimpleFollowCamera;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class SmoothFollowTarget
    */
    var SmoothFollowTarget = /** @class */ (function (_super) {
        __extends(SmoothFollowTarget, _super);
        function SmoothFollowTarget(transform, scene, properties) {
            if (properties === void 0) { properties = {}; }
            var _this = _super.call(this, transform, scene, properties) || this;
            _this.target = null;
            _this.targetHeight = 1.75;
            _this.followHeight = 1.75;
            _this.heightDamping = 12.0;
            _this.rotationDamping = 3.0;
            _this.minimumDistance = 6.0;
            _this.maximumDistance = 8.0;
            _this.startBehindTarget = true;
            _this.followBehindTarget = true;
            _this.targetPosition = BABYLON.Vector3.Zero();
            _this.targetAngles = new BABYLON.Vector3(0, 0, 0);
            _this.transformAngles = new BABYLON.Vector3(0, 0, 0);
            _this.positionBuffer = new BABYLON.Vector3(0, 0, 0);
            _this.rotationBuffer = new BABYLON.Quaternion(0, 0, 0, 1);
            _this.tempRotationBuffer = new BABYLON.Vector3(0, 0, 0);
            _this.targetHeight = _this.getProperty("targetHeight", _this.targetHeight);
            _this.followHeight = _this.getProperty("followHeight", _this.followHeight);
            _this.heightDamping = _this.getProperty("heightDamping", _this.heightDamping);
            _this.rotationDamping = _this.getProperty("rotationDamping", _this.rotationDamping);
            _this.minimumDistance = _this.getProperty("minimumDistance", _this.minimumDistance);
            _this.maximumDistance = _this.getProperty("maximumDistance", _this.maximumDistance);
            _this.startBehindTarget = _this.getProperty("startBehindTarget", _this.startBehindTarget);
            _this.followBehindTarget = _this.getProperty("followBehindTarget", _this.followBehindTarget);
            if (_this.rotationDamping <= 0)
                _this.rotationDamping = 3;
            if (_this.heightDamping <= 0)
                _this.heightDamping = 12;
            var followTarget = _this.getProperty("target");
            if (followTarget != null) {
                _this.target = BABYLON.Utilities.ParseTransformByID(followTarget, _this.scene);
            }
            return _this;
        }
        SmoothFollowTarget.prototype.start = function () {
            if (this.target != null) {
                if (this.startBehindTarget === true) {
                    // TODO - this.transform.position = this.target.position.clone(); - ???
                }
            }
        };
        SmoothFollowTarget.prototype.late = function () {
            if (this.target != null) {
                this.targetPosition.copyFrom(this.target.position);
                if (this.followBehindTarget === true) {
                    var deltaTime = this.getDeltaSeconds();
                    BABYLON.Utilities.ToEulerToRef(this.target.rotationQuaternion, this.targetAngles);
                    BABYLON.Utilities.ToEulerToRef(this.transform.rotationQuaternion, this.transformAngles);
                    var normalizedSpeed = 1.0; // TODO - Get Target Normalized Speed
                    var wantedHeight = (this.targetPosition.y + this.followHeight);
                    var currentHeight = BABYLON.Scalar.Lerp(this.transform.position.y, wantedHeight, (this.heightDamping * deltaTime));
                    var wantedRotationAngle = this.targetAngles.y;
                    var currentRotationAngle = BABYLON.Scalar.LerpAngle(this.transformAngles.y, wantedRotationAngle, (this.rotationDamping * deltaTime));
                    var wantedTargetDistance = BABYLON.Scalar.Lerp(this.minimumDistance, this.maximumDistance, normalizedSpeed);
                    BABYLON.Utilities.FromEulerToRef(0, currentRotationAngle, 0, this.rotationBuffer);
                    BABYLON.Utilities.MultiplyQuaternionByVectorToRef(this.rotationBuffer, BABYLON.Vector3.Forward(), this.tempRotationBuffer);
                    this.tempRotationBuffer.scaleInPlace(wantedTargetDistance);
                    //let wantedRotationAngle = this.targetAngles.y;
                    //let wantedHeight = this.targetPosition.y + this.height;
                    //let currentRotationAngle = this.transformAngles.y;
                    //let currentHeight = this.transform.position.y;
                    //currentRotationAngle = BABYLON.Scalar.LerpAngle(currentRotationAngle, wantedRotationAngle, this.rotationDamping * deltaTime);
                    //currentHeight = BABYLON.Scalar.Lerp(currentHeight, wantedHeight, this.heightDamping * deltaTime);
                    //BABYLON.Utilities.FromEulerToRef(0, currentRotationAngle, 0, this.rotationBuffer);
                    //BABYLON.Utilities.MultiplyQuaternionByVectorToRef(this.rotationBuffer, BABYLON.Vector3.Forward(), this.tempRotationBuffer);
                    //this.tempRotationBuffer.scaleInPlace(this.distance);
                    this.positionBuffer.copyFrom(this.targetPosition);
                    this.positionBuffer.subtractInPlace(this.tempRotationBuffer);
                    this.transform.position.set(this.positionBuffer.x, currentHeight, this.positionBuffer.z);
                }
                this.targetPosition.y += this.targetHeight;
                this.transform.lookAt(this.targetPosition);
            }
        };
        SmoothFollowTarget.prototype.destroy = function () {
            this.target = null;
            this.targetAngles = null;
            this.transformAngles = null;
            this.positionBuffer = null;
            this.rotationBuffer = null;
            this.tempRotationBuffer = null;
        };
        return SmoothFollowTarget;
    }(BABYLON.ScriptComponent));
    PROJECT.SmoothFollowTarget = SmoothFollowTarget;
})(PROJECT || (PROJECT = {}));
var PROJECT;
(function (PROJECT) {
    /**
    * Babylon Script Component
    * @class WaypointTargetManager
    */
    var WaypointTargetManager = /** @class */ (function (_super) {
        __extends(WaypointTargetManager, _super);
        function WaypointTargetManager(transform, scene, properties) {
            if (properties === void 0) { properties = {}; }
            var _this = _super.call(this, transform, scene, properties) || this;
            _this._waypointMeshLines = null;
            _this._waypointSplineCurve = null;
            _this._waypointTransformNodes = null;
            _this._waypointSplinePositions = null;
            _this._waypointSphereMaterial = null;
            _this.resolution = 1;
            _this.closedLoop = true;
            _this.drawLines = false;
            _this.drawPoints = false;
            _this.drawTraces = false;
            _this.pointSize = 0.5;
            _this.lineHeight = 0.25;
            _this.lineColor = new BABYLON.Color3(1, 1, 1);
            _this.pointColor = new BABYLON.Color3(1, 1, 1);
            _this.traceColor = new BABYLON.Color3(1, 1, 1);
            _this.resolution = _this.getProperty("resolution", _this.resolution);
            _this.closedLoop = _this.getProperty("closedLoop", _this.closedLoop);
            _this.drawLines = _this.getProperty("drawLines", _this.drawLines);
            _this.drawPoints = _this.getProperty("drawPoints", _this.drawPoints);
            _this.drawTraces = _this.getProperty("drawTraces", _this.drawTraces);
            _this.pointSize = _this.getProperty("pointSize", _this.pointSize);
            _this.lineHeight = _this.getProperty("lineHeight", _this.lineHeight);
            // ..
            var lcolor = _this.getProperty("lineColor");
            var pcolor = _this.getProperty("pointColor");
            var tcolor = _this.getProperty("traceColor");
            // ..
            _this.lineColor = BABYLON.Utilities.ParseColor3(lcolor, _this.lineColor);
            _this.pointColor = BABYLON.Utilities.ParseColor3(pcolor, _this.pointColor);
            _this.traceColor = BABYLON.Utilities.ParseColor3(tcolor, _this.traceColor);
            // ..
            _this._waypointSphereMaterial = new BABYLON.StandardMaterial(_this.transform.name + ".SplineMaterial", _this.scene);
            _this._waypointSphereMaterial.diffuseColor = _this.pointColor;
            //this._waypointSphereMaterial.wireframe = true;
            // ..
            _this._waypointTransformNodes = _this.transform.getChildren(null, true);
            if (_this._waypointTransformNodes != null && _this._waypointTransformNodes.length > 0) {
                var controlPoints_1 = [];
                _this._waypointTransformNodes.forEach(function (transform) {
                    BABYLON.Utilities.ValidateTransformQuaternion(transform);
                    // TODO - FIXME - Use Transform Point To Get World Position
                    // controlPoints.push(transform.getAbsolutePosition().clone());
                    controlPoints_1.push(BABYLON.Utilities.GetAbsolutePosition(transform));
                    if (_this.drawPoints === true) {
                        var controlPoint = BABYLON.MeshBuilder.CreateSphere(transform.name + ".WireSphere", { segments: 24, diameter: (_this.pointSize * 2) }, _this.scene);
                        controlPoint.parent = transform;
                        controlPoint.position.set(0, 0, 0);
                        controlPoint.visibility = 0.25;
                        controlPoint.isVisible = true;
                        controlPoint.material = _this._waypointSphereMaterial;
                    }
                });
                _this._waypointSplineCurve = BABYLON.Curve3.CreateCatmullRomSpline(controlPoints_1, _this.resolution, _this.closedLoop);
                if (_this._waypointSplineCurve != null)
                    _this._waypointSplinePositions = _this._waypointSplineCurve.getPoints();
                if (_this._waypointSplinePositions != null)
                    console.warn("DEBUG: Waypoint Manager - " + _this.transform.name + ": (" + _this._waypointTransformNodes.length + " - " + _this._waypointSplinePositions.length + " - " + _this._waypointSplineCurve.length().toFixed(2) + ")");
            }
            return _this;
        }
        WaypointTargetManager.prototype.getSplineCurve = function () { return this._waypointSplineCurve; };
        WaypointTargetManager.prototype.getSplineCurveLength = function () { return (this._waypointSplineCurve != null) ? this._waypointSplineCurve.length() : 0; };
        WaypointTargetManager.prototype.getSplineCurvePositions = function () { return this._waypointSplinePositions; };
        WaypointTargetManager.prototype.getControlPointTransforms = function () { return this._waypointTransformNodes; };
        WaypointTargetManager.prototype.start = function () {
            if (this._waypointSplinePositions != null && this.drawLines === true) {
                this._waypointMeshLines = BABYLON.MeshBuilder.CreateLines((this.transform.name + ".SplineMesh"), { points: this._waypointSplinePositions }, this.scene);
                this._waypointMeshLines.parent = this.transform;
                this._waypointMeshLines.color = this.lineColor;
                this._waypointMeshLines.position.y += this.lineHeight;
            }
        };
        WaypointTargetManager.prototype.destroy = function () {
            this.lineColor = null;
            this._waypointSplineCurve = null;
            this._waypointTransformNodes = null;
            this._waypointSplinePositions = null;
            if (this._waypointMeshLines != null) {
                this._waypointMeshLines.dispose();
                this._waypointMeshLines = null;
            }
        };
        return WaypointTargetManager;
    }(BABYLON.ScriptComponent));
    PROJECT.WaypointTargetManager = WaypointTargetManager;
})(PROJECT || (PROJECT = {}));
var BABYLON;
(function (BABYLON) {
    /**
     * Babylon metadata parser class (Internal use only)
     * @class PerlinNoiseGenerator - All rights reserved (c) 2020 Mackey Kinard
     */
    var PerlinNoiseGenerator = /** @class */ (function () {
        function PerlinNoiseGenerator() {
        }
        PerlinNoiseGenerator.rand_vect = function () {
            var theta = Math.random() * 2 * Math.PI;
            return { x: Math.cos(theta), y: Math.sin(theta) };
        };
        PerlinNoiseGenerator.dot_prod_grid = function (x, y, vx, vy) {
            var g_vect;
            var d_vect = { x: x - vx, y: y - vy };
            if (PerlinNoiseGenerator.gradients[[vx, vy]]) {
                g_vect = PerlinNoiseGenerator.gradients[[vx, vy]];
            }
            else {
                g_vect = PerlinNoiseGenerator.rand_vect();
                PerlinNoiseGenerator.gradients[[vx, vy]] = g_vect;
            }
            return d_vect.x * g_vect.x + d_vect.y * g_vect.y;
        };
        PerlinNoiseGenerator.smootherstep = function (x) {
            return 6 * Math.pow(x, 5) - 15 * Math.pow(x, 4) + 10 * Math.pow(x, 3);
        };
        PerlinNoiseGenerator.interp = function (x, a, b) {
            return a + PerlinNoiseGenerator.smootherstep(x) * (b - a);
        };
        /** Seed perlin noise generator */
        PerlinNoiseGenerator.seed = function () {
            PerlinNoiseGenerator.gradients = {};
        };
        /** Generate perlin noise value from 2D coordinates. (Note: Use normalized input values) */
        PerlinNoiseGenerator.generate = function (x, y) {
            var xf = Math.floor(x);
            var yf = Math.floor(y);
            //interpolate
            var tl = PerlinNoiseGenerator.dot_prod_grid(x, y, xf, yf);
            var tr = PerlinNoiseGenerator.dot_prod_grid(x, y, xf + 1, yf);
            var bl = PerlinNoiseGenerator.dot_prod_grid(x, y, xf, yf + 1);
            var br = PerlinNoiseGenerator.dot_prod_grid(x, y, xf + 1, yf + 1);
            var xt = PerlinNoiseGenerator.interp(x - xf, tl, tr);
            var xb = PerlinNoiseGenerator.interp(x - xf, bl, br);
            return PerlinNoiseGenerator.interp(y - yf, xt, xb);
        };
        PerlinNoiseGenerator.gradients = {};
        return PerlinNoiseGenerator;
    }());
    BABYLON.PerlinNoiseGenerator = PerlinNoiseGenerator;
})(BABYLON || (BABYLON = {}));
BABYLON.PerlinNoiseGenerator.seed();
var MVRK;
(function (MVRK) {
    /**
    * Babylon Script Component
    * @class CaptionManager
    */
    var CaptionManager = /** @class */ (function (_super) {
        __extends(CaptionManager, _super);
        function CaptionManager() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        CaptionManager.prototype.awake = function () {
            /* Init component function */
            var DOMelement = this.getProperty("DomElement");
            var fontType = this.getProperty("fontType");
            var fontSize = this.getProperty("fontSize");
            var fontHexColor = this.getProperty("fontHexColor");
            var fontOutlineColor = this.getProperty("fontOutlineColor");
            var debugLanguageCode = this.getProperty("debugLanguageCode");
            // Enable debug language locale for testing
            if (debugLanguageCode != null && debugLanguageCode !== "") {
                BABYLON.SceneManager.SetWindowState("debugLocale", debugLanguageCode.toLowerCase());
            }
            // Make sure this element doesn't already exist
            if (!document.getElementById(DOMelement)) {
                var captionsDiv = document.createElement("div");
                captionsDiv.id = DOMelement;
                if (fontType)
                    captionsDiv.style.fontFamily = fontType;
                if (fontSize)
                    captionsDiv.style.fontSize = fontSize + "pt";
                captionsDiv.style.zIndex = "2";
                captionsDiv.style.position = "absolute";
                captionsDiv.style.bottom = "100px";
                captionsDiv.style.left = "0";
                captionsDiv.style.right = "0";
                captionsDiv.style.margin = "0 auto";
                captionsDiv.style.textAlign = "center";
                captionsDiv.style.fontWeight = "bold";
                captionsDiv.style.userSelect = "none";
                captionsDiv.style.pointerEvents = "none";
                captionsDiv.style.color = fontHexColor;
                if (fontOutlineColor) {
                    captionsDiv.style.textShadow = "0 0 1px " + fontOutlineColor + ", 0 0 1px " + fontOutlineColor + ", 0 0 1px " + fontOutlineColor + ", 0 0 1px " + fontOutlineColor;
                }
                document.body.append(captionsDiv);
            }
        };
        return CaptionManager;
    }(BABYLON.ScriptComponent));
    MVRK.CaptionManager = CaptionManager;
})(MVRK || (MVRK = {}));
var MVRK;
(function (MVRK) {
    /**
    * Babylon Script Component
    * @class CaptionSystem
    */
    var CaptionSystem = /** @class */ (function (_super) {
        __extends(CaptionSystem, _super);
        function CaptionSystem(transform, scene, properties) {
            var _this = _super.call(this, transform, scene, properties) || this;
            _this.captionType = 0;
            _this.displayTimer = 5;
            _this.domElement = null;
            _this.textTracks = null;
            _this.userLocale = "en";
            _this.logCaptions = false;
            _this.m_captionSource = null;
            _this.m_captionTimer = 0;
            /** Register handler that is triggered on vtt caption cue changed */
            _this.onUpdateCaptionObservable = new BABYLON.Observable();
            if (_this.transform.metadata == null)
                _this.transform.metadata = {};
            // ..
            // Flag WebVTT Support Required
            // ..            
            _this.transform.metadata.vtt = true;
            return _this;
        }
        CaptionSystem.prototype.getUserLocale = function () { return this.userLocale; };
        CaptionSystem.prototype.getCaptionType = function () { return this.captionType; };
        CaptionSystem.prototype.awake = function () { this.awakeCaptionSystem(); };
        CaptionSystem.prototype.start = function () { this.startCaptionSystem(); };
        CaptionSystem.prototype.update = function () { this.updateCaptionSystem(); };
        CaptionSystem.prototype.destroy = function () { this.destroyCaptionSystem(); };
        CaptionSystem.prototype.awakeCaptionSystem = function () {
            var _a;
            this.captionType = this.getProperty("captionType", this.captionType);
            this.displayTimer = this.getProperty("displayTimer", this.displayTimer);
            this.domElement = this.getProperty("domElement", this.domElement);
            this.textTracks = this.getProperty("textTracks", this.textTracks);
            this.logCaptions = this.getProperty("logCaptions", this.logCaptions);
            this.userLocale = BABYLON.SceneManager.GetWindowState("debugLocale") || ((_a = MVRK.System.GetUserInfo()) === null || _a === void 0 ? void 0 : _a.locale) || this.userLocale;
            // HACK: Quick Fix
            if (this.userLocale === "zh")
                this.userLocale = "ch";
            else if (this.userLocale === "ja")
                this.userLocale = "jp";
        };
        CaptionSystem.prototype.startCaptionSystem = function () {
            if (this.captionType === 0) {
                this.m_captionSource = this.getComponent("BABYLON.WebVideoPlayer");
                if (this.m_captionSource == null)
                    BABYLON.Tools.Warn("Failed to locate web video player component for: " + this.transform.name);
            }
            else {
                this.m_captionSource = this.getComponent("BABYLON.AudioSource");
                if (this.m_captionSource == null)
                    BABYLON.Tools.Warn("Failed to locate audio source component for: " + this.transform.name);
            }
            if (this.m_captionSource != null)
                this.attachCaptionSystem();
            this.postCaptionMessage(""); // Note: Post Initial Clear Screen Message
        };
        CaptionSystem.prototype.updateCaptionSystem = function () {
            if (this.displayTimer > 0 && this.m_captionTimer > 0) {
                this.m_captionTimer += this.getDeltaSeconds();
                if (this.m_captionTimer >= this.displayTimer) {
                    this.postCaptionMessage(""); // Note: Post Timeout Clear Screen Message
                }
            }
        };
        CaptionSystem.prototype.destroyCaptionSystem = function () {
            this.textTracks = null;
            this.m_captionSource = null;
            this.m_captionElement = null;
            this.onUpdateCaptionObservable.clear();
            this.onUpdateCaptionObservable = null;
        };
        ///////////////////////////////////////////////////////////////////////////////////////////
        // Private Worker Functions
        ///////////////////////////////////////////////////////////////////////////////////////////
        CaptionSystem.prototype.attachCaptionSystem = function () {
            var _this = this;
            var _a, _b;
            var rootUrl = BABYLON.SceneManager.GetRootUrl(this.scene);
            if (this.m_captionSource != null && this.userLocale != null && this.userLocale !== "") {
                if (this.textTracks != null && this.textTracks.length > 0) {
                    for (var index = 0; index < this.textTracks.length; index++) {
                        var textTrack = this.textTracks[index];
                        if (textTrack.trackLanguage === this.userLocale) {
                            var trackElement = document.createElement("track");
                            trackElement.src = (rootUrl + textTrack.trackAsset.filename);
                            trackElement.kind = this.formatTextTrackKind(textTrack.trackKind);
                            trackElement.label = textTrack.trackLabel;
                            trackElement.srclang = textTrack.trackLanguage;
                            trackElement.default = false;
                            trackElement.addEventListener("cuechange", function (event) {
                                var target = event.target;
                                if (target != null && target.track != null && target.track.activeCues != null && target.track.activeCues[0] != null) {
                                    var cue = target.track.activeCues[0];
                                    if (cue.text != null && cue.text !== "") {
                                        if (_this.logCaptions === true)
                                            console.log(cue.text);
                                        _this.postCaptionMessage(cue.text); // Note: Post Caption System Track Message
                                    }
                                }
                            });
                            // ..
                            // Attach Track Element To Source
                            // ..
                            if (this.m_captionSource instanceof BABYLON.WebVideoPlayer) {
                                (_a = this.m_captionSource.getVideoElement()) === null || _a === void 0 ? void 0 : _a.appendChild(trackElement);
                            }
                            else if (this.m_captionSource instanceof BABYLON.AudioSource) {
                                (_b = this.m_captionSource.getAudioElement()) === null || _b === void 0 ? void 0 : _b.appendChild(trackElement);
                            }
                            break;
                        }
                    }
                }
            }
            // ..
            // Setup Default Caption System Locale
            // ..
            if (this.m_captionSource instanceof BABYLON.WebVideoPlayer) {
                var video = this.m_captionSource.getVideoElement();
                if (video != null) {
                    MVRK.CaptionSystem.EnableDefaultTextTrack(video, true);
                }
                else {
                    BABYLON.Tools.Warn("Null html video element for: " + this.transform.name);
                }
            }
            else if (this.m_captionSource instanceof BABYLON.AudioSource) {
                var audio = this.m_captionSource.getAudioElement();
                if (audio != null) {
                    MVRK.CaptionSystem.EnableDefaultTextTrack(audio, true);
                }
                else {
                    BABYLON.Tools.Warn("Null html audio element for: " + this.transform.name);
                }
            }
        };
        CaptionSystem.prototype.postCaptionMessage = function (message) {
            this.m_captionTimer = 0;
            if (message != null) {
                if (this.onUpdateCaptionObservable.hasObservers() === true) {
                    this.onUpdateCaptionObservable.notifyObservers(message);
                }
                if (this.domElement != null) {
                    if (this.m_captionElement == null)
                        this.m_captionElement = document.getElementById(this.domElement);
                    if (this.m_captionElement != null)
                        this.m_captionElement.innerHTML = message;
                }
                if (message !== "")
                    this.m_captionTimer = 0.00001; // Note: Set Very Small Timer Start Value
            }
        };
        CaptionSystem.prototype.formatTextTrackKind = function (kind) {
            var result = "subtitles";
            switch (kind) {
                case 0:
                    result = "subtitles";
                    break;
                case 1:
                    result = "captions";
                    break;
                case 2:
                    result = "descriptions";
                    break;
                case 3:
                    result = "chapters";
                    break;
                case 4:
                    result = "metadata";
                    break;
            }
            return result;
        };
        ///////////////////////////////////////////////////////////////////////////////////////////
        // Static Helper Functions
        ///////////////////////////////////////////////////////////////////////////////////////////
        CaptionSystem.EnableDefaultTextTrack = function (source, enable) {
            if (source != null && source.textTracks != null && source.textTracks.length > 0) {
                source.textTracks[0].mode = (enable === true) ? "showing" : "disabled";
            }
        };
        return CaptionSystem;
    }(BABYLON.ScriptComponent));
    MVRK.CaptionSystem = CaptionSystem;
})(MVRK || (MVRK = {}));
var MVRK;
(function (MVRK) {
    /**
    * Babylon Script Component
    * @class SceneSoundSystem
    */
    var SceneSoundSystem = /** @class */ (function (_super) {
        __extends(SceneSoundSystem, _super);
        function SceneSoundSystem() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        Object.defineProperty(SceneSoundSystem, "MUSIC", {
            get: function () { return SceneSoundSystem._MUSIC; },
            enumerable: false,
            configurable: true
        });
        Object.defineProperty(SceneSoundSystem, "SFX", {
            get: function () { return SceneSoundSystem._SFX; },
            enumerable: false,
            configurable: true
        });
        SceneSoundSystem.prototype.start = function () {
            var _a;
            var musicNode = this.getChildNode("MUSIC");
            if (musicNode != null)
                SceneSoundSystem._MUSIC = BABYLON.SceneManager.FindScriptComponent(musicNode, "MVRK.SoundManager");
            var soundNode = this.getChildNode("SFX");
            if (soundNode != null)
                SceneSoundSystem._SFX = BABYLON.SceneManager.FindScriptComponent(soundNode, "MVRK.SoundManager");
            var defaultMusicTrack = this.getProperty("defaultMusicTrack");
            if (defaultMusicTrack != null && defaultMusicTrack !== "") {
                (_a = SceneSoundSystem.MUSIC) === null || _a === void 0 ? void 0 : _a.playTrack(defaultMusicTrack);
            }
        };
        SceneSoundSystem._MUSIC = null;
        SceneSoundSystem._SFX = null;
        return SceneSoundSystem;
    }(BABYLON.ScriptComponent));
    MVRK.SceneSoundSystem = SceneSoundSystem;
})(MVRK || (MVRK = {}));
var MVRK;
(function (MVRK) {
    /**
    * Babylon Script Component
    * @class SoundManager
    */
    var SoundManager = /** @class */ (function (_super) {
        __extends(SoundManager, _super);
        function SoundManager() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this.isReady = false;
            _this.groupName = null;
            _this.m_soundMap = null;
            _this.m_soundList = null;
            return _this;
        }
        SoundManager.prototype.getIsReady = function () { return this.isReady; };
        SoundManager.prototype.getGroupName = function () { return this.groupName; };
        SoundManager.prototype.awake = function () {
            this.groupName = this.getProperty("groupName", this.transform.name); // Note: Default Transform Group Name
            this.m_soundMap = new Map();
            this.m_soundList = [];
            this.isReady = false;
        };
        SoundManager.prototype.start = function () {
            var audioTransforms = this.transform.getChildren(null, true);
            if (audioTransforms != null && audioTransforms.length > 0) {
                for (var index = 0; index < audioTransforms.length; index++) {
                    var audioTrackNode = audioTransforms[index];
                    var audioSource = BABYLON.SceneManager.FindScriptComponent(audioTrackNode, "BABYLON.AudioSource");
                    if (audioSource != null) {
                        this.m_soundMap.set(audioTrackNode.name, audioSource);
                        this.m_soundList.push(audioSource);
                    }
                }
            }
        };
        SoundManager.prototype.update = function () { };
        SoundManager.prototype.destroy = function () {
            this.m_soundList = null;
            this.m_soundMap.clear();
            this.m_soundMap = null;
        };
        ///////////////////////////////////////////////////
        // Public Sound Manager Helpers
        //////////////////////////////////////////////////
        /**
         * Play the sound track by name
         * @param time (optional) Start the sound after X seconds. Start immediately (0) by default.
         * @param offset (optional) Start the sound at a specific time in seconds
         * @param length (optional) Sound duration (in seconds)
         */
        SoundManager.prototype.playTrack = function (name, time, offset, length) {
            var _a;
            return (_a = this.getAudioSource(name)) === null || _a === void 0 ? void 0 : _a.play(time, offset, length);
        };
        /**
         * Pause the sound track by name
         * @param time (optional) Start the sound after X seconds. Start immediately (0) by default.
         */
        SoundManager.prototype.pauseTrack = function (name) {
            var _a;
            return (_a = this.getAudioSource(name)) === null || _a === void 0 ? void 0 : _a.pause();
        };
        /**
         * Pause the sound for all tracks in the group
         * @param time (optional) Stop the sound after X seconds. Stop immediately (0) by default.
         */
        SoundManager.prototype.pauseAllTracks = function () {
            var _a;
            if (this.m_soundList != null && this.m_soundList.length > 0) {
                for (var index = 0; index < this.m_soundList.length; index++) {
                    (_a = this.m_soundList[index]) === null || _a === void 0 ? void 0 : _a.pause();
                }
            }
        };
        /**
         * Stop the sound track by name
         * @param time (optional) Start the sound after X seconds. Start immediately (0) by default.
         */
        SoundManager.prototype.stopTrack = function (name, time) {
            var _a;
            return (_a = this.getAudioSource(name)) === null || _a === void 0 ? void 0 : _a.stop(time);
        };
        /**
         * Stop the sound for all tracks in the group
         * @param time (optional) Stop the sound after X seconds. Stop immediately (0) by default.
         */
        SoundManager.prototype.stopAllTracks = function (time) {
            var _a;
            if (this.m_soundList != null && this.m_soundList.length > 0) {
                for (var index = 0; index < this.m_soundList.length; index++) {
                    (_a = this.m_soundList[index]) === null || _a === void 0 ? void 0 : _a.stop(time);
                }
            }
        };
        /**
         * Mute the sound track by name
         * @param time (optional) Start the sound after X seconds. Start immediately (0) by default.
         */
        SoundManager.prototype.muteTrack = function (name, time) {
            var _a;
            return (_a = this.getAudioSource(name)) === null || _a === void 0 ? void 0 : _a.mute(time);
        };
        /**
         * Unmute the sound track by name
         * @param time (optional) Start the sound after X seconds. Start immediately (0) by default.
         */
        SoundManager.prototype.unmuteTrack = function (name, time) {
            var _a;
            return (_a = this.getAudioSource(name)) === null || _a === void 0 ? void 0 : _a.unmute(time);
        };
        /**
         * Mutes the volume for all sound tracks in the group
         * @param time Define time for gradual change to new volume
         */
        SoundManager.prototype.muteAllTracks = function (time) {
            var _a;
            if (this.m_soundList != null && this.m_soundList.length > 0) {
                for (var index = 0; index < this.m_soundList.length; index++) {
                    (_a = this.m_soundList[index]) === null || _a === void 0 ? void 0 : _a.mute(time);
                }
            }
        };
        /**
         * Unmutes the volume for all sound tracks in the group
         * @param time Define time for gradual change to new volume
         */
        SoundManager.prototype.unmuteAllTracks = function (time) {
            var _a;
            if (this.m_soundList != null && this.m_soundList.length > 0) {
                for (var index = 0; index < this.m_soundList.length; index++) {
                    (_a = this.m_soundList[index]) === null || _a === void 0 ? void 0 : _a.unmute(time);
                }
            }
        };
        /**
         * Sets the volume for all sound tracks in the group
         * @param volume Define the new volume of the sound
         * @param time Define time for gradual change to new volume
         */
        SoundManager.prototype.setGroupVolume = function (volume, time) {
            var _a;
            if (this.m_soundList != null && this.m_soundList.length > 0) {
                for (var index = 0; index < this.m_soundList.length; index++) {
                    (_a = this.m_soundList[index]) === null || _a === void 0 ? void 0 : _a.setVolume(volume, time);
                }
            }
        };
        /**
         * Get a sound source by name
         */
        SoundManager.prototype.getAudioSource = function (name) {
            return this.m_soundMap.get(name);
        };
        return SoundManager;
    }(BABYLON.ScriptComponent));
    MVRK.SoundManager = SoundManager;
})(MVRK || (MVRK = {}));
var MVRK;
(function (MVRK) {
    /**
    * Babylon Script Component
    * @class VideoController
    */
    var VideoController = /** @class */ (function (_super) {
        __extends(VideoController, _super);
        function VideoController() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        VideoController.prototype.awake = function () {
            /* Init component function */
        };
        VideoController.prototype.start = function () {
            /* Start render loop function */
        };
        VideoController.prototype.update = function () {
            /* Update render loop function */
        };
        VideoController.prototype.late = function () {
            /* Late update render loop function */
        };
        VideoController.prototype.after = function () {
            /* After render loop function */
        };
        VideoController.prototype.destroy = function () {
            /* Destroy component function */
        };
        return VideoController;
    }(BABYLON.ScriptComponent));
    MVRK.VideoController = VideoController;
})(MVRK || (MVRK = {}));
var MVRK;
(function (MVRK) {
    /**
    * Babylon Script Component
    * @class InsideNotification
    */
    var InsideNotification = /** @class */ (function (_super) {
        __extends(InsideNotification, _super);
        function InsideNotification() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this.abstractMesh = null;
            return _this;
        }
        InsideNotification.prototype.awake = function () {
            this.abstractMesh = this.getAbstractMesh();
        };
        InsideNotification.prototype.update = function () {
            if (MVRK.InsideNotification.CurrentRoom !== this.transform.name) {
                var cameraPos = this.scene.activeCamera.globalPosition;
                if (this.pointIsInside(cameraPos)) {
                    MVRK.InsideNotification.CurrentRoom = this.transform.name;
                    var JSON_1 = '{"command":"location","param1":"' + this.transform.name + '"}';
                    BABYLON.SceneManager.PostWindowMessage(JSON_1, '*');
                }
            }
            //console.warn("MVRK.InsideNotification: " + this.transform.name);
        };
        InsideNotification.prototype.pointIsInside = function (point) {
            if (this.abstractMesh != null) {
                var boundInfo = this.abstractMesh.getBoundingInfo();
                var max = boundInfo.boundingBox.maximumWorld;
                var min = boundInfo.boundingBox.minimumWorld;
                if (point.x < min.x || point.x > max.x) {
                    return false;
                }
                if (point.y < min.y || point.y > max.y) {
                    return false;
                }
                if (point.z < min.z || point.z > max.z) {
                    return false;
                }
            }
            return true;
        };
        InsideNotification.CurrentRoom = "";
        return InsideNotification;
    }(BABYLON.ScriptComponent));
    MVRK.InsideNotification = InsideNotification;
})(MVRK || (MVRK = {}));
var MVRK;
(function (MVRK) {
    /**
    * Babylon Script Component
    * @class PopupTrigger
    */
    var PopupTrigger = /** @class */ (function (_super) {
        __extends(PopupTrigger, _super);
        function PopupTrigger() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this.triggerType = "vod";
            _this.triggerParam = "defaultParam";
            _this.triggerFocus = null;
            _this.abstractMesh = null;
            /** Register handler that is triggered when the mesh has been picked */
            _this.onPickTriggerObservable = new BABYLON.Observable();
            return _this;
        }
        PopupTrigger.prototype.awake = function () {
            var _this = this;
            this.triggerParam = this.getProperty("triggerParam", this.triggerParam);
            this.triggerType = this.getProperty("triggerType", this.triggerType);
            var nodeFocusData = this.getProperty("triggerFocus");
            if (nodeFocusData != null)
                this.triggerFocus = BABYLON.Utilities.ParseTransformByID(nodeFocusData, this.scene);
            this.abstractMesh = this.getAbstractMesh();
            var JSON = '{"command":"' + this.triggerType + '","param":"' + this.triggerParam + '"}';
            if (this.abstractMesh != null) {
                this.abstractMesh.actionManager = new BABYLON.ActionManager(this.scene);
            }
            if (this.abstractMesh != null) {
                this.abstractMesh.actionManager.registerAction(new BABYLON.ExecuteCodeAction({
                    trigger: BABYLON.ActionManager.OnPickTrigger
                }, function () {
                    if (_this.getComponent("PROJECT.LerpObject") == null) {
                        if (!!_this.triggerFocus) {
                            _this.gradualFocus();
                        }
                        if (_this.onPickTriggerObservable.hasObservers() === true) {
                            _this.onPickTriggerObservable.notifyObservers(_this.abstractMesh);
                        }
                        BABYLON.SceneManager.PostWindowMessage(JSON, '*');
                    }
                }));
            }
        };
        PopupTrigger.prototype.sendMessage = function () {
            var JSON = '{"command":"' + this.triggerType + '","param":"' + this.triggerParam + '"}';
            BABYLON.SceneManager.PostWindowMessage(JSON, '*');
        };
        PopupTrigger.prototype.registerNewTrigger = function () {
            var _this = this;
            var JSON = '{"command":"' + this.triggerType + '","param":"' + this.triggerParam + '"}';
            if (this.abstractMesh != null) {
                this.abstractMesh.actionManager.registerAction(new BABYLON.ExecuteCodeAction({
                    trigger: BABYLON.ActionManager.OnPickTrigger
                }, function () {
                    if (!!_this.triggerFocus) {
                        _this.gradualFocus();
                    }
                    if (_this.onPickTriggerObservable.hasObservers() === true) {
                        _this.onPickTriggerObservable.notifyObservers(_this.abstractMesh);
                    }
                    BABYLON.SceneManager.PostWindowMessage(JSON, '*');
                }));
            }
        };
        PopupTrigger.prototype.gradualFocus = function () {
            var camera = this.scene.activeCamera;
            var empty = new BABYLON.Mesh("empty", this.scene);
            empty.position = camera.position.clone();
            empty.rotation = camera["rotation"].clone();
            empty.movePOV(0, 0, -2);
            var vecSource = empty.position.clone();
            var vecDest = this.triggerFocus.absolutePosition;
            this.scene.activeCamera["lockedTarget"] = vecSource;
            empty.dispose();
            this.lerpCameraView(vecSource, vecDest, 0);
        };
        PopupTrigger.prototype.lerpCameraView = function (vecSource, vecDest, amount) {
            var _this = this;
            var newVec = BABYLON.Vector3.Lerp(vecSource, vecDest, amount);
            if (amount < 1) {
                setTimeout(function () {
                    var newAmount = amount + 0.01;
                    _this.scene.activeCamera["lockedTarget"] = newVec;
                    _this.lerpCameraView(vecSource, vecDest, newAmount);
                }, 5);
            }
            else {
                this.scene.activeCamera["lockedTarget"] = null;
            }
        };
        return PopupTrigger;
    }(BABYLON.ScriptComponent));
    MVRK.PopupTrigger = PopupTrigger;
})(MVRK || (MVRK = {}));
var MVRK;
(function (MVRK) {
    /**
    * Babylon Script Component State Class
    * @class State
    */
    var State = /** @class */ (function () {
        function State() {
        }
        State.prototype.tick = function () { };
        ;
        return State;
    }());
    MVRK.State = State;
    /**
    * Babylon Stateful Script Component
    * @class StatefulScriptComponent
    */
    var StatefulScriptComponent = /** @class */ (function (_super) {
        __extends(StatefulScriptComponent, _super);
        function StatefulScriptComponent() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this._currentState = null;
            /** Register handler that is triggered when the animation ik setup has been triggered */
            _this.onStateChangeObservable = new BABYLON.Observable();
            return _this;
        }
        /** Gets the current script component state */
        StatefulScriptComponent.prototype.getCurrentState = function () { return this._currentState; };
        /** Sets the new script component state */
        StatefulScriptComponent.prototype.setState = function (newState, forced) {
            if (this._currentState === newState) {
                return false;
            }
            if (forced != null && forced == true) {
                if (this._currentState)
                    this._currentState.onExit();
                this._currentState = newState;
                newState.onEnter();
                if (this.onStateChangeObservable.hasObservers() === true) {
                    this.onStateChangeObservable.notifyObservers(this._currentState);
                }
                return true;
            }
            else if (newState.canChangeState()) {
                if (this._currentState)
                    this._currentState.onExit();
                this._currentState = newState;
                newState.onEnter();
                if (this.onStateChangeObservable.hasObservers() === true) {
                    this.onStateChangeObservable.notifyObservers(this._currentState);
                }
                return true;
            }
            else {
                newState.onStateChangeFail();
                return false;
            }
        };
        return StatefulScriptComponent;
    }(BABYLON.ScriptComponent));
    MVRK.StatefulScriptComponent = StatefulScriptComponent;
})(MVRK || (MVRK = {}));
var MVRK;
(function (MVRK) {
    /**
    * Babylon Script Component
    * @class BillboardMesh
    */
    var BillboardMesh = /** @class */ (function (_super) {
        __extends(BillboardMesh, _super);
        function BillboardMesh() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        BillboardMesh.prototype.awake = function () {
            /* Init component function */
            this.camera = this.scene.activeCamera;
        };
        BillboardMesh.prototype.update = function () {
            /* Update render loop function */
            var absCameraPos = this.camera.globalPosition;
            var absTransformPos = this.transform.absolutePosition;
            var lookDirection = absCameraPos.subtract(absTransformPos).normalize().scale(-1);
            this.transform.lookAt(absTransformPos.add(lookDirection), null, null, null, BABYLON.Space.WORLD);
        };
        return BillboardMesh;
    }(BABYLON.ScriptComponent));
    MVRK.BillboardMesh = BillboardMesh;
})(MVRK || (MVRK = {}));
var MVRK;
(function (MVRK) {
    /**
    * Babylon Script Component
    * @class BlinkManager
    */
    var BlinkManager = /** @class */ (function (_super) {
        __extends(BlinkManager, _super);
        function BlinkManager() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this.enableBlinking = false;
            _this.blinkingState = false;
            _this.blinkingTimer = 0;
            _this.blinkTimeout = 0.5;
            /** Register handler that is triggered when the blink change has been triggered */
            _this.onBlinkUpdateObservable = new BABYLON.Observable();
            return _this;
        }
        BlinkManager.prototype.awake = function () {
            this.blinkTimeout = this.getProperty("blinkTimeout", this.blinkTimeout);
        };
        BlinkManager.prototype.update = function () {
            if (this.enableBlinking === true) {
                this.blinkingTimer += this.getDeltaSeconds();
                if (this.blinkingTimer >= this.blinkTimeout) {
                    this.blinkingTimer = 0;
                    this.blinkingState = !this.blinkingState;
                    if (this.onBlinkUpdateObservable.hasObservers() === true) {
                        this.onBlinkUpdateObservable.notifyObservers(this.blinkingState);
                    }
                }
            }
        };
        BlinkManager.prototype.destroy = function () {
            this.onBlinkUpdateObservable.clear();
            this.onBlinkUpdateObservable = null;
        };
        BlinkManager.prototype.enableBlinkMode = function (blinking) {
            this.blinkingTimer = 0;
            this.blinkingState = false;
            this.enableBlinking = blinking;
        };
        return BlinkManager;
    }(BABYLON.ScriptComponent));
    MVRK.BlinkManager = BlinkManager;
})(MVRK || (MVRK = {}));
var MVRK;
(function (MVRK) {
    /**
    * Babylon Script Component
    * @class FloatingAnimation
    */
    var FloatingAnimation = /** @class */ (function (_super) {
        __extends(FloatingAnimation, _super);
        function FloatingAnimation() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this.floatSpeed = 1.0;
            _this.floatDistance = 0.2;
            _this.randomOffset = 0.1;
            _this.initPosition = new BABYLON.Vector3(0, 0, 0);
            _this.floatingVector = new BABYLON.Vector3(0, 0, 0);
            return _this;
        }
        FloatingAnimation.prototype.awake = function () {
            this.floatSpeed = this.getProperty("floatSpeed", this.floatSpeed);
            this.floatDistance = this.getProperty("floatDistance", this.floatDistance);
            this.randomOffset = BABYLON.Scalar.RandomRange(-Math.PI, Math.PI);
            this.initPosition.copyFrom(this.transform.position);
        };
        FloatingAnimation.prototype.update = function () {
            var time = this.getGameTime();
            this.floatingVector.set(0, Math.sin((time + this.randomOffset) * this.floatSpeed) * this.floatDistance, 0);
            this.floatingVector.addToRef(this.initPosition, this.transform.position);
        };
        FloatingAnimation.prototype.destroy = function () {
            this.initPosition = null;
            this.floatingVector = null;
        };
        return FloatingAnimation;
    }(BABYLON.ScriptComponent));
    MVRK.FloatingAnimation = FloatingAnimation;
})(MVRK || (MVRK = {}));
var MVRK;
(function (MVRK) {
    /**
    * Babylon Script Component
    * @class RotateTransform
    */
    var RotateTransform = /** @class */ (function (_super) {
        __extends(RotateTransform, _super);
        function RotateTransform() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this.rotateSpeedX = 0.0;
            _this.rotateSpeedY = 0.0;
            _this.rotateSpeedZ = 1.0;
            return _this;
        }
        RotateTransform.prototype.awake = function () {
            this.rotateSpeedX = this.getProperty("rotateSpeedX", this.rotateSpeedX);
            this.rotateSpeedY = this.getProperty("rotateSpeedY", this.rotateSpeedY);
            this.rotateSpeedZ = this.getProperty("rotateSpeedZ", this.rotateSpeedZ);
            // Note: Setup Transform To Use Euler Rotations
            if (this.transform.rotation == null) {
                this.transform.rotation = new BABYLON.Vector3(0, 0, 0);
            }
            if (this.transform.rotationQuaternion != null) {
                this.transform.rotationQuaternion.toEulerAnglesToRef(this.transform.rotation);
                this.transform.rotationQuaternion = null;
            }
        };
        RotateTransform.prototype.update = function () {
            var deltaTime = this.getDeltaSeconds();
            if (this.rotateSpeedX !== 0)
                this.transform.rotation.x += (this.rotateSpeedX * deltaTime);
            if (this.rotateSpeedY !== 0)
                this.transform.rotation.y += (this.rotateSpeedY * deltaTime);
            if (this.rotateSpeedZ !== 0)
                this.transform.rotation.z += (this.rotateSpeedZ * deltaTime);
        };
        return RotateTransform;
    }(BABYLON.ScriptComponent));
    MVRK.RotateTransform = RotateTransform;
})(MVRK || (MVRK = {}));
var MVRK;
(function (MVRK) {
    /**
    * Babylon Script Component
    * @class RuntimeTexture
    */
    var RuntimeTexture = /** @class */ (function (_super) {
        __extends(RuntimeTexture, _super);
        function RuntimeTexture() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this.m_dynamicTexture = null;
            _this.m_dynamicMaterial = null;
            return _this;
        }
        RuntimeTexture.prototype.awake = function () {
            var textureUrl = this.getProperty("textureUrl");
            var invertAxis = this.getProperty("invertAxis", false);
            var genMipmaps = this.getProperty("genMipmaps", false);
            var materialIndex = this.getProperty("materialIndex", 0);
            var abstractMesh = this.getAbstractMesh();
            if (abstractMesh != null) {
                if (abstractMesh.material instanceof BABYLON.MultiMaterial) {
                    var mmat1 = abstractMesh.material.clone(abstractMesh.material.name + "." + abstractMesh.name);
                    this.m_dynamicMaterial = mmat1.subMaterials[materialIndex].clone(mmat1.subMaterials[materialIndex].name + "_" + abstractMesh.name);
                    mmat1.subMaterials[materialIndex] = this.m_dynamicMaterial;
                    abstractMesh.material = mmat1;
                }
                else {
                    this.m_dynamicMaterial = abstractMesh.material.clone(abstractMesh.material.name + "." + abstractMesh.name);
                    abstractMesh.material = this.m_dynamicMaterial;
                }
                this.m_dynamicMaterial.unfreeze();
            }
            if (textureUrl != null && textureUrl !== "")
                this.setTextureUrl(textureUrl, invertAxis, genMipmaps);
        };
        RuntimeTexture.prototype.destroy = function () {
            if (this.m_dynamicTexture != null) {
                this.m_dynamicTexture.dispose();
                this.m_dynamicTexture = null;
            }
            if (this.m_dynamicMaterial != null) {
                this.m_dynamicMaterial.dispose();
                this.m_dynamicMaterial = null;
            }
        };
        RuntimeTexture.prototype.setTextureUrl = function (url, invertY, createMipmaps) {
            if (invertY === void 0) { invertY = false; }
            if (createMipmaps === void 0) { createMipmaps = false; }
            if (this.m_dynamicTexture != null) {
                this.m_dynamicTexture.dispose();
                this.m_dynamicTexture = null;
            }
            this.m_dynamicTexture = new BABYLON.Texture(url, this.scene, !createMipmaps, invertY);
            if (this.m_dynamicMaterial != null) {
                if (this.m_dynamicMaterial instanceof BABYLON.PBRMaterial) {
                    this.m_dynamicMaterial.albedoTexture = this.m_dynamicTexture;
                }
                else if (this.m_dynamicMaterial instanceof BABYLON.StandardMaterial) {
                    this.m_dynamicMaterial.diffuseTexture = this.m_dynamicTexture;
                }
            }
        };
        return RuntimeTexture;
    }(BABYLON.ScriptComponent));
    MVRK.RuntimeTexture = RuntimeTexture;
})(MVRK || (MVRK = {}));
var MVRK;
(function (MVRK) {
    /**
    * Babylon Script Component
    * @class SpriteAnimation
    */
    var SpriteAnimation = /** @class */ (function (_super) {
        __extends(SpriteAnimation, _super);
        function SpriteAnimation() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this.gridCols = 1;
            _this.gridRows = 1;
            _this.startRow = 1;
            _this.bottomUp = false;
            _this.timeInSeconds = 1;
            _this.colWidth = 0;
            _this.rowHeight = 0;
            _this.animTimer = 0;
            _this.tileIndex = 0;
            _this.tileReset = 0;
            _this.baseTexture = null;
            return _this;
        }
        SpriteAnimation.prototype.awake = function () {
            this.gridCols = this.getProperty("gridCols", this.gridCols);
            this.gridRows = this.getProperty("gridRows", this.gridRows);
            this.startRow = this.getProperty("startRow", this.startRow);
            this.bottomUp = this.getProperty("bottomUp", this.bottomUp);
            this.timeInSeconds = this.getProperty("timeInSeconds", this.timeInSeconds);
            // ..
            this.colWidth = (1 / this.gridCols);
            this.rowHeight = (1 / this.gridRows);
            // ..
            // Set Max Tile Reset Count
            // ..
            this.tileIndex = 0;
            this.tileReset = 0;
            var totalTiles = (this.gridCols * this.gridRows);
            var maxTileCount = this.getProperty("maxTileCount", 0);
            if (maxTileCount > 0 && maxTileCount < totalTiles) {
                this.tileReset = maxTileCount;
            }
            // ..
            // Create Mesh Material Clone
            // ..
            var mesh = this.getAbstractMesh();
            if (mesh != null && mesh.material != null) {
                if (mesh.material instanceof BABYLON.PBRMaterial) {
                    var pbrMaterial = mesh.material.clone(mesh.name + "." + mesh.material.name);
                    this.baseTexture = pbrMaterial.albedoTexture;
                    mesh.material = pbrMaterial;
                }
                else if (mesh.material instanceof BABYLON.StandardMaterial) {
                    var stdMaterial = mesh.material.clone(mesh.name + "." + mesh.material.name);
                    this.baseTexture = stdMaterial.diffuseTexture;
                    mesh.material = stdMaterial;
                }
            }
            // ..
            // Setup Texture Rows And Columns
            // ..
            if (this.baseTexture != null) {
                this.baseTexture.uScale = this.colWidth;
                this.baseTexture.vScale = this.rowHeight;
                // ..
                // Offset Starting Row And Column
                // ..
                var startRowOffset = BABYLON.Scalar.Clamp(((this.startRow - 1) * this.rowHeight));
                this.baseTexture.uOffset = 0;
                this.baseTexture.vOffset = (this.bottomUp === true) ? startRowOffset : ((1 - startRowOffset) - this.rowHeight);
                if (this.startRow > 1) {
                    this.tileIndex = ((this.startRow - 1) * this.gridCols);
                }
            }
        };
        SpriteAnimation.prototype.start = function () {
            this.animTimer = 0;
        };
        SpriteAnimation.prototype.reset = function () {
            if (this.baseTexture != null) {
                this.baseTexture.uOffset = 0;
                this.baseTexture.vOffset = (this.bottomUp === true) ? 0 : (1 - this.rowHeight);
            }
        };
        SpriteAnimation.prototype.update = function () {
            if (this.timeInSeconds > 0) {
                this.animTimer += this.getDeltaSeconds();
                if (this.animTimer >= this.timeInSeconds) {
                    this.animTimer = 0;
                    this.animate();
                }
            }
        };
        SpriteAnimation.prototype.animate = function () {
            // ..
            // Animate Tile Offset
            // ..
            if (this.baseTexture != null) {
                if (this.baseTexture.uOffset >= (1 - this.colWidth)) {
                    this.baseTexture.uOffset = 0;
                    /////////////////////////////////////////////////////////////////
                    // Update Row After Whole Column
                    /////////////////////////////////////////////////////////////////
                    if (this.bottomUp === true) {
                        if (this.baseTexture.vOffset >= (1 - this.rowHeight)) {
                            this.baseTexture.vOffset = 0;
                        }
                        else {
                            this.baseTexture.vOffset += this.rowHeight;
                        }
                    }
                    else {
                        if (this.baseTexture.vOffset <= 0) {
                            this.baseTexture.vOffset = (1 - this.rowHeight);
                        }
                        else {
                            this.baseTexture.vOffset -= this.rowHeight;
                        }
                    }
                    if (this.baseTexture.vOffset < 0 || this.baseTexture.vOffset > 0) {
                        this.baseTexture.vOffset = BABYLON.Scalar.Clamp(this.baseTexture.vOffset);
                    }
                    /////////////////////////////////////////////////////////////////
                }
                else {
                    this.baseTexture.uOffset += this.colWidth;
                }
                if (this.baseTexture.uOffset < 0 || this.baseTexture.uOffset > 0) {
                    this.baseTexture.uOffset = BABYLON.Scalar.Clamp(this.baseTexture.uOffset);
                }
            }
            // ..
            // Validate Max Tile Reset
            // ..            
            if (this.tileReset > 0) {
                this.tileIndex++;
                if (this.tileIndex >= this.tileReset) {
                    this.tileIndex = 0;
                    this.reset();
                }
            }
        };
        SpriteAnimation.prototype.destroy = function () {
            this.baseTexture = null;
        };
        return SpriteAnimation;
    }(BABYLON.ScriptComponent));
    MVRK.SpriteAnimation = SpriteAnimation;
})(MVRK || (MVRK = {}));
var MVRK;
(function (MVRK) {
    /**
     * Babylon scene loader helper class
     * @class SceneLoader
     */
    var SceneLoader = /** @class */ (function () {
        function SceneLoader() {
        }
        SceneLoader.SwitchScene = function (sceneFile) {
            MVRK.SceneLoader.TeleFade.SceneFile = sceneFile;
            BABYLON.SceneManager.RegisterOnShowSceneLoader(function (show) { });
            var blanket = parent.window.document.getElementById("blanket");
            if (blanket == null) {
                blanket = parent.window.document.createElement("div");
                blanket.id = "blanket";
                blanket.style.position = "absolute";
                blanket.style.minHeight = "100%";
                blanket.style.width = "100%";
                blanket.style.height = "100%";
                blanket.style.padding = "0px";
                blanket.style.margin = "0px";
                blanket.style.top = "0";
                blanket.style.left = "0";
                blanket.style.display = "none";
                blanket.style.outline = "none";
                blanket.style.overflow = "hidden";
                blanket.style.opacity = "0";
                blanket.style.zIndex = "-1";
                blanket.style.backgroundColor = "black";
                parent.window.document.body.appendChild(blanket);
            }
            if (blanket != null) {
                blanket.style.zIndex = "2001";
                blanket.style.display = "block";
                blanket.style.opacity = "0";
                MVRK.SceneLoader.FadeToBlack(blanket, MVRK.SceneLoader.TeleFade.Speed);
            }
        };
        SceneLoader.FadeToBlack = function (blanket, speed) {
            if (blanket != null) {
                if (speed < MVRK.SceneLoader.TeleFade.Limit) {
                    BABYLON.SceneManager.SetTimeout(MVRK.SceneLoader.TeleFade.Timeout, function () {
                        blanket.style.opacity = (speed / (MVRK.SceneLoader.TeleFade.Limit - speed)).toString();
                        MVRK.SceneLoader.FadeToBlack(blanket, speed * MVRK.SceneLoader.TeleFade.Multiplier);
                    });
                }
                else {
                    blanket.style.zIndex = "2001";
                    blanket.style.display = "block";
                    blanket.style.opacity = "1";
                    BABYLON.SceneManager.ShowParentLoader(true);
                    BABYLON.SceneManager.LoadSceneFile(MVRK.SceneLoader.TeleFade.SceneFile);
                }
            }
        };
        SceneLoader.FadeToScene = function (blanket, speed) {
            if (blanket != null) {
                if (speed > 0.001) {
                    BABYLON.SceneManager.SetTimeout(MVRK.SceneLoader.TeleFade.Timeout, function () {
                        blanket.style.opacity = (speed / (MVRK.SceneLoader.TeleFade.Limit - speed)).toString();
                        MVRK.SceneLoader.FadeToScene(blanket, speed / MVRK.SceneLoader.TeleFade.Multiplier);
                    });
                }
                else {
                    blanket.style.zIndex = "-1";
                    blanket.style.display = "none";
                    blanket.style.opacity = "0";
                }
            }
        };
        SceneLoader.LoadSceneComplete = function () {
            BABYLON.SceneManager.ShowParentLoader(false);
            var blanket = parent.window.document.getElementById("blanket");
            if (blanket != null)
                MVRK.SceneLoader.FadeToScene(blanket, MVRK.SceneLoader.TeleFade.Limit);
        };
        SceneLoader.TeleFade = { Speed: 0.01, Timeout: 50, Multiplier: 1.8, Limit: 0.4, SceneFile: null };
        return SceneLoader;
    }());
    MVRK.SceneLoader = SceneLoader;
})(MVRK || (MVRK = {}));
var MVRK;
(function (MVRK) {
    /**
     * Babylon system utilities helper class
     * @class System
     */
    var System = /** @class */ (function () {
        function System() {
        }
        System.GetUserInfo = function () {
            var result = null;
            if (window.frameElement != null && parent != null && parent.window != null) {
                if (parent.window["getMVRKUser"]) {
                    result = parent.window["getMVRKUser"]();
                }
            }
            else {
                if (window["getMVRKUser"]) {
                    result = window["getMVRKUser"]();
                }
            }
            if (result == null) {
                result = { firstName: "Default", lastName: "Player", locale: "en", email: null };
            }
            return result;
        };
        System.GetGameLobbyInfo = function () {
            var result = null;
            if (window.frameElement != null && parent != null && parent.window != null) {
                if (parent.window["getGameLobbyInfo"]) {
                    result = parent.window["getGameLobbyInfo"]();
                }
            }
            else {
                if (window["getGameLobbyInfo"]) {
                    result = window["getGameLobbyInfo"]();
                }
            }
            if (result == null) {
                result = { id: "12345" };
            }
            return result;
        };
        return System;
    }());
    MVRK.System = System;
})(MVRK || (MVRK = {}));
var PROJECT;
(function (PROJECT) {
    var PosterRoom = /** @class */ (function (_super) {
        __extends(PosterRoom, _super);
        function PosterRoom() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this.slots = [];
            _this.spinTime = 500;
            _this.spinDelay = 200;
            return _this;
        }
        PosterRoom.prototype.awake = function () {
            /* Init component function */
            PosterRoom._instance = this;
            this.elBody = document.body;
            this.elContainer = document.createElement('div');
            this.elContainer.id = 'poster-carousel';
            this.loadStylesheet();
            //REQUEST FOR DATA
            //ON RESPONSE 
            this.initialPosterData([
                this.getRandomPosterSlotData(),
                this.getRandomPosterSlotData(),
                this.getRandomPosterSlotData()
            ]);
        };
        PosterRoom.prototype.initialPosterData = function (posterData) {
            var _this = this;
            this.posterData = posterData;
            this.elPosterElements = document.createElement("div");
            this.elPosterElements.id = "posters";
            this.elContainer.appendChild(this.elPosterElements);
            //prep slots
            this.slots.push(document.createElement('div'), document.createElement('div'), document.createElement('div'));
            this.slots.forEach(function (s, i) {
                s.id = 'slot' + i;
                s.classList.add('slot');
                _this.buildSlot(i, posterData[i]);
                _this.elPosterElements.appendChild(s);
            });
            //this.populatePosters();
            // Hide canvas
            this.scene.getEngine().getRenderingCanvas().style.zIndex = "-1";
            // Set background image
            var backgroundFilename = this.getProperty("backgroundImage").filename;
            this.elBody.style.backgroundImage = "url('scenes/" + backgroundFilename + "')";
            this.addButtons();
            setTimeout(function () {
                _this.elBody.appendChild(_this.elContainer);
                _this.fade(true);
            }, 1000);
        };
        PosterRoom.prototype.fade = function (state) {
            if (state) {
                this.elContainer.classList.add('fade-in');
            }
            else {
                this.elContainer.classList.remove('fade-in');
            }
        };
        PosterRoom.prototype.addButtons = function () {
            var _this = this;
            // Add containers for all buttons
            this.elButtons = document.createElement("div");
            this.elButtons.id = "buttons";
            this.elContainer.appendChild(this.elButtons);
            // Add individual buttons
            var elButtonPrevious = document.createElement("button");
            elButtonPrevious.innerText = "PREVIOUS";
            elButtonPrevious.onclick = function () { _this.previous(); };
            this.elButtons.appendChild(elButtonPrevious);
            var elButtonNext = document.createElement("button");
            elButtonNext.innerText = "NEXT";
            elButtonNext.onclick = function () { _this.next(); };
            this.elButtons.appendChild(elButtonNext);
        };
        PosterRoom.prototype.disableButtons = function () {
            var buttons = this.elButtons.getElementsByTagName('button');
            for (var i = 0; i < buttons.length; i++) {
                var childButton = buttons[i];
                childButton.disabled = true;
            }
        };
        PosterRoom.prototype.enableButtons = function () {
            var buttons = this.elButtons.getElementsByTagName('button');
            for (var i = 0; i < buttons.length; i++) {
                var childButton = buttons[i];
                childButton.disabled = false;
            }
        };
        PosterRoom.prototype.clearAnimations = function (slot) {
            this.getSlot(slot).querySelectorAll('a.poster').forEach(function (el, i) {
                //console.log(el)
                el.classList.remove('forwardAnim', 'backwardAnim');
                el.style.animation = 'none';
                el.style.webkitAnimation = 'none';
                el.offsetHeight;
                el.style.animation = null;
                el.style.webkitAnimationName = null;
                el.style.animationName = null;
            });
        };
        PosterRoom.prototype.getSlot = function (slot) {
            return this.slots[slot];
        };
        PosterRoom.prototype.next = function () {
            var _this = this;
            this.disableButtons();
            this.clearAnimations(1);
            this.getSlot(1).classList.add('fade-out');
            //Animates Center Element out to left
            this.getSlot(1).querySelectorAll('a.poster').forEach(function (el, i) {
                //console.log(el)
                var animationId = i + 1;
                el.classList.add('forwardAnim');
                el.style.webkitAnimationName = 'orbit-next' + animationId;
                el.style.animationName = 'orbit-next' + animationId;
                el.style.webkitAnimationTimingFunction = 'ease-out';
                el.style.animationTimingFunction = 'ease-out';
            });
            this.slots.push(this.slots.shift());
            this.buildSlot(2, this.getRandomPosterSlotData());
            setTimeout(function () {
                _this.getSlot(0).classList.remove('active', 'fade-out');
                _this.getSlot(0).querySelectorAll('a.poster').forEach(function (el, i) {
                    el.style.webkitAnimationName = 'orbit-prev' + (i + 1);
                    el.style.animationName = 'orbit-prev' + (i + 1);
                    el.style.webkitAnimationTimingFunction = 'ease-in';
                    el.style.animationTimingFunction = 'ease-in';
                });
                _this.getSlot(1).classList.add('active');
                _this.getSlot(1).querySelectorAll('a.poster').forEach(function (el, i) {
                    el.classList.add('forwardAnim');
                    el.style.webkitAnimationName = 'orbit-prev' + (i + 1);
                    el.style.animationName = 'orbit-prev' + (i + 1);
                    el.style.webkitAnimationTimingFunction = 'ease-in';
                    el.style.animationTimingFunction = 'ease-in';
                });
                setTimeout(function () {
                    _this.enableButtons();
                }, _this.spinTime);
            }, this.spinTime + this.spinDelay);
        };
        PosterRoom.prototype.previous = function () {
            var _this = this;
            this.disableButtons();
            this.clearAnimations(1);
            this.getSlot(1).classList.add('fade-out');
            //Animates Center Element out to left
            this.getSlot(1).querySelectorAll('a.poster').forEach(function (el, i) {
                var animationId = i + 1;
                el.classList.add('backwardAnim');
                el.style.webkitAnimationName = 'orbit-prev' + animationId;
                el.style.animationName = 'orbit-prev' + animationId;
                el.style.webkitAnimationTimingFunction = 'ease-out';
                el.style.animationTimingFunction = 'ease-out';
            });
            this.slots.unshift(this.slots.pop());
            this.buildSlot(0, this.getRandomPosterSlotData());
            setTimeout(function () {
                _this.getSlot(2).classList.remove('active', 'fade-out');
                _this.getSlot(2).querySelectorAll('a.poster').forEach(function (el, i) {
                    el.style.webkitAnimationName = 'orbit-next' + (i + 1);
                    el.style.animationName = 'orbit-next' + (i + 1);
                    el.style.webkitAnimationTimingFunction = 'ease-out';
                    el.style.animationTimingFunction = 'ease-out';
                });
                _this.getSlot(1).classList.add('active');
                _this.getSlot(1).querySelectorAll('a.poster').forEach(function (el, i) {
                    el.classList.add('backwardAnim');
                    el.style.webkitAnimationName = 'orbit-next' + (i + 1);
                    el.style.animationName = 'orbit-next' + (i + 1);
                    el.style.webkitAnimationTimingFunction = 'ease-in';
                    el.style.animationTimingFunction = 'ease-in';
                });
                setTimeout(function () {
                    _this.enableButtons();
                }, _this.spinTime);
            }, this.spinTime + this.spinDelay);
        };
        PosterRoom.prototype.updateSlotData = function (slot, data) {
            this.slots[slot].querySelectorAll('a.poster').forEach(function (el, i) {
                if (data[i].active) {
                    el.classList.remove('faded-out');
                }
                else {
                    el.classList.add('faded-out');
                }
            });
        };
        PosterRoom.prototype.getRandomPosterSlotData = function () {
            var poster1 = {
                id: 0,
                url: "scenes/" + this.getProperty("poster1").filename,
                active: true
            };
            var poster2 = {
                id: 1,
                url: "scenes/" + this.getProperty("poster2").filename,
                active: true
            };
            var poster3 = {
                id: 2,
                url: "scenes/" + this.getProperty("poster3").filename,
                active: true
            };
            var posters = [poster1, poster2, poster3];
            var data = [];
            for (var i = 0; i < 14; i++) {
                data.push(posters[Math.floor(Math.random() * posters.length)]);
                data[i].active = (Math.random() <= 0.5) ? true : false;
            }
            return data;
        };
        PosterRoom.prototype.buildSlot = function (slot, data) {
            var _this = this;
            if (data === void 0) { data = null; }
            this.slots[slot].innerHTML = "";
            var slotData = data || this.posterData[slot];
            this.posterData[slot] = slotData;
            slotData.forEach(function (data, i) {
                var pId = Date.now();
                var poster = document.createElement("a");
                poster.setAttribute('href', '#');
                poster.id = 'poster' + pId;
                poster.style.backgroundImage = "url(" + data.url + ")";
                var command = "posters";
                var param = data.id;
                poster.onclick = function () {
                    if (!poster.classList.contains('faded-out')) {
                        console.log("{\"command\":\"" + command + "\",\"param\":\"" + param + "\"}");
                        BABYLON.SceneManager.PostWindowMessage("{\"command\":\"" + command + "\",\"param\":\"" + param + "\"}", '*');
                    }
                };
                _this.slots[slot].appendChild(poster);
                poster.classList.add('poster');
                //poster.classList.add('poster', 'backwardAnim');
                if (!_this.posterData[slot][i].active) {
                    poster.classList.add('faded-out');
                }
                switch (slot) {
                    case 0:
                        poster.style.webkitAnimationName = 'orbit-next' + (i + 1);
                        poster.style.animationName = 'orbit-next' + (i + 1);
                        poster.style.webkitAnimationTimingFunction = 'ease-in';
                        poster.style.animationTimingFunction = 'ease-in';
                        break;
                    case 1:
                        _this.slots[1].classList.add('active');
                        poster.classList.add('forwardAnim');
                    case 2:
                        poster.style.webkitAnimationName = 'orbit-prev' + (i + 1);
                        poster.style.animationName = 'orbit-prev' + (i + 1);
                        poster.style.webkitAnimationTimingFunction = 'ease-in';
                        poster.style.animationTimingFunction = 'ease-in';
                        break;
                }
            });
        };
        PosterRoom.prototype.loadStylesheet = function () {
            var stylesheetFile = "scenes/" + this.getProperty("stylesheet").filename;
            var styles = document.createElement("link");
            styles.rel = "stylesheet";
            styles.type = "text/css";
            styles.href = stylesheetFile;
            document.getElementsByTagName('head')[0].appendChild(styles);
        };
        return PosterRoom;
    }(BABYLON.ScriptComponent));
    PROJECT.PosterRoom = PosterRoom;
})(PROJECT || (PROJECT = {}));
var BABYLON;
(function (BABYLON) {
    /**
     * Babylon animation state pro class (Unity Style Mechanim Animation System)
     * @class AnimationState - All rights reserved (c) 2020 Mackey Kinard
     */
    var AnimationState = /** @class */ (function (_super) {
        __extends(AnimationState, _super);
        function AnimationState() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this._frametime = 0;
            _this._layercount = 0;
            _this._updatemode = 0;
            _this._hasrootmotion = false;
            _this._processmotion = true;
            _this._initialtargetblending = false;
            _this._hastransformhierarchy = false;
            _this._leftfeetbottomheight = 0;
            _this._rightfeetbottomheight = 0;
            _this._runtimecontroller = null;
            _this._executed = false;
            _this._checkers = new BABYLON.TransitionCheck();
            _this._source = "";
            _this._machine = null;
            _this._deltaPosition = new BABYLON.Vector3(0, 0, 0);
            _this._deltaRotation = new BABYLON.Quaternion(0, 0, 0, 1);
            _this._deltaAngleY = 0;
            _this._positionWeight = false;
            _this._rootBoneWeight = false;
            _this._rotationWeight = false;
            _this._rootQuatWeight = false;
            _this._positionHolder = new BABYLON.Vector3(0, 0, 0);
            _this._rootBoneHolder = new BABYLON.Vector3(0, 0, 0);
            _this._rotationHolder = new BABYLON.Quaternion(0, 0, 0, 1);
            _this._rootQuatHolder = new BABYLON.Quaternion(0, 0, 0, 1);
            _this._rootMotionMatrix = BABYLON.Matrix.Zero();
            _this._rootMotionScaling = new BABYLON.Vector3(0, 0, 0);
            _this._rootMotionRotation = new BABYLON.Quaternion(0, 0, 0, 1);
            _this._rootMotionPosition = new BABYLON.Vector3(0, 0, 0);
            _this._lastMotionRotation = new BABYLON.Quaternion(0, 0, 0, 1);
            _this._lastMotionPosition = new BABYLON.Vector3(0, 0, 0);
            _this._quatRotationDiff = new BABYLON.Quaternion(0, 0, 0, 1);
            _this._quatRotateVector = new BABYLON.Vector3(0, 0, 0);
            _this._dirtyMotionMatrix = null;
            _this._dirtyBlenderMatrix = null;
            //private _bodyOrientationAngleY:number = 0;
            _this._targetPosition = new BABYLON.Vector3(0, 0, 0);
            _this._targetRotation = new BABYLON.Quaternion(0, 0, 0, 1);
            _this._targetScaling = new BABYLON.Vector3(1, 1, 1);
            _this._updateMatrix = BABYLON.Matrix.Zero();
            _this._blenderMatrix = BABYLON.Matrix.Zero();
            _this._blendWeights = new BABYLON.BlendingWeights();
            _this._data = new Map();
            _this._anims = new Map();
            _this._numbers = new Map();
            _this._booleans = new Map();
            _this._triggers = new Map();
            _this._parameters = new Map();
            _this.speedRatio = 1.0;
            _this.applyRootMotion = false;
            _this.enableAnimation = true;
            _this.m_avatarMask = null;
            _this.m_defaultGroup = null;
            _this.m_animationTargets = null;
            /** Register handler that is triggered when the animation ik setup has been triggered */
            _this.onAnimationIKObservable = new BABYLON.Observable();
            /** Register handler that is triggered when the animation end has been triggered */
            _this.onAnimationEndObservable = new BABYLON.Observable();
            /** Register handler that is triggered when the animation loop has been triggered */
            _this.onAnimationLoopObservable = new BABYLON.Observable();
            /** Register handler that is triggered when the animation event has been triggered */
            _this.onAnimationEventObservable = new BABYLON.Observable();
            /** Register handler that is triggered when the animation frame has been updated */
            _this.onAnimationUpdateObservable = new BABYLON.Observable();
            return _this;
        }
        AnimationState.prototype.hasRootMotion = function () { return this._hasrootmotion; };
        AnimationState.prototype.getAnimationTime = function () { return this._frametime; };
        AnimationState.prototype.getDeltaPosition = function () { return this._deltaPosition; };
        AnimationState.prototype.getDeltaRotation = function () { return this._deltaRotation; };
        AnimationState.prototype.getRuntimeController = function () { return this._runtimecontroller; };
        AnimationState.prototype.awake = function () { this.awakeStateMachine(); };
        AnimationState.prototype.late = function () { this.lateStateMachine(); };
        AnimationState.prototype.destroy = function () { this.destroyStateMachine(); };
        /////////////////////////////////////////////////////////////////////////////////////
        // State Machine Functions
        /////////////////////////////////////////////////////////////////////////////////////
        AnimationState.prototype.playAnimation = function (state, transitionDuration, animationLayer, frameRate) {
            if (transitionDuration === void 0) { transitionDuration = 0; }
            if (animationLayer === void 0) { animationLayer = 0; }
            if (frameRate === void 0) { frameRate = null; }
            var result = false;
            if (this._machine.layers != null && this._machine.layers.length > animationLayer) {
                var layer = this._machine.layers[animationLayer];
                var blendFrameRate = (layer.animationStateMachine != null) ? (layer.animationStateMachine.rate || BABYLON.AnimationState.FPS) : BABYLON.AnimationState.FPS;
                var blendingSpeed = (transitionDuration > 0) ? BABYLON.Utilities.ComputeBlendingSpeed(frameRate || blendFrameRate, transitionDuration) : 0;
                this.setCurrentAnimationState(layer, state, blendingSpeed);
                result = true;
            }
            else {
                BABYLON.Tools.Warn("No animation state layers on " + this.transform.name);
            }
            return result;
        };
        /////////////////////////////////////////////////////////////////////////////////////
        // State Machine Functions
        /////////////////////////////////////////////////////////////////////////////////////
        AnimationState.prototype.getBool = function (name) {
            return this._booleans.get(name) || false;
        };
        AnimationState.prototype.setBool = function (name, value) {
            this._booleans.set(name, value);
        };
        AnimationState.prototype.getFloat = function (name) {
            return this._numbers.get(name) || 0;
        };
        AnimationState.prototype.setFloat = function (name, value) {
            this._numbers.set(name, value);
        };
        AnimationState.prototype.getInteger = function (name) {
            return this._numbers.get(name) || 0;
        };
        AnimationState.prototype.setInteger = function (name, value) {
            this._numbers.set(name, value);
        };
        AnimationState.prototype.getTrigger = function (name) {
            return this._triggers.get(name) || false;
        };
        AnimationState.prototype.setTrigger = function (name) {
            this._triggers.set(name, true);
        };
        AnimationState.prototype.resetTrigger = function (name) {
            this._triggers.set(name, false);
        };
        AnimationState.prototype.getMachineState = function (name) {
            return this._data.get(name);
        };
        AnimationState.prototype.setMachineState = function (name, value) {
            this._data.set(name, value);
        };
        AnimationState.prototype.getCurrentState = function (layer) {
            return (this._machine.layers != null && this._machine.layers.length > layer) ? this._machine.layers[layer].animationStateMachine : null;
        };
        AnimationState.prototype.getAnimationGroup = function (name) {
            return this._anims.get(name);
        };
        AnimationState.prototype.getAnimationGroups = function () {
            return this._anims;
        };
        AnimationState.prototype.setAnimationGroups = function (groups, remapTargets) {
            var _this = this;
            if (remapTargets === void 0) { remapTargets = false; }
            // ..
            // TODO - Handle Remap Animation Targets
            // ..
            if (groups != null && groups.length > 0) {
                this._anims = new Map();
                this.m_animationTargets = [];
                this.m_defaultGroup = groups[0];
                groups.forEach(function (group) {
                    var agroup = group;
                    try {
                        group.stop();
                    }
                    catch (_a) { }
                    if (group.targetedAnimations != null && group.targetedAnimations.length > 0) {
                        group.targetedAnimations.forEach(function (targetedAnimation) {
                            // Note: For Loop Faster Than IndexOf
                            var indexOfTarget = -1;
                            for (var i = 0; i < _this.m_animationTargets.length; i++) {
                                if (_this.m_animationTargets[i].target === targetedAnimation.target) {
                                    indexOfTarget = i;
                                    break;
                                }
                            }
                            if (indexOfTarget < 0) {
                                _this.m_animationTargets.push(targetedAnimation);
                                if (targetedAnimation.target.metadata == null)
                                    targetedAnimation.target.metadata = {};
                                if (targetedAnimation.target instanceof BABYLON.TransformNode) {
                                    BABYLON.Utilities.ValidateTransformQuaternion(targetedAnimation.target);
                                    var layerMixers = [];
                                    for (var index = 0; index < _this._layercount; index++) {
                                        var layerMixer = new BABYLON.AnimationMixer();
                                        layerMixer.positionBuffer = null;
                                        layerMixer.rotationBuffer = null;
                                        layerMixer.scalingBuffer = null;
                                        layerMixer.originalMatrix = null;
                                        layerMixer.blendingFactor = 0;
                                        layerMixer.blendingSpeed = 0;
                                        layerMixer.rootPosition = null;
                                        layerMixer.rootRotation = null;
                                        layerMixers.push(layerMixer);
                                    }
                                    targetedAnimation.target.metadata.mixer = layerMixers;
                                }
                                else if (targetedAnimation.target instanceof BABYLON.MorphTarget) {
                                    var morphLayerMixers = [];
                                    for (var index = 0; index < _this._layercount; index++) {
                                        var morphLayerMixer = new BABYLON.AnimationMixer();
                                        morphLayerMixer.influenceBuffer = null;
                                        morphLayerMixers.push(morphLayerMixer);
                                    }
                                    targetedAnimation.target.metadata.mixer = morphLayerMixers;
                                }
                            }
                        });
                    }
                    if (agroup != null && agroup.metadata != null && agroup.metadata.unity != null && agroup.metadata.unity.clip != null && agroup.metadata.unity.clip !== "") {
                        _this._anims.set(agroup.metadata.unity.clip, group);
                    }
                });
            }
        };
        AnimationState.prototype.getRootMotionAngle = function () {
            return this._deltaAngleY;
        };
        AnimationState.prototype.getRootMotionSpeed = function () {
            var length = this._deltaPosition.length();
            return (length >= BABYLON.AnimationState.MOTION) ? length : 0;
        };
        AnimationState.prototype.getForwardMoveSpeed = function (absolute) {
            if (absolute === void 0) { absolute = true; }
            return absolute ? Math.abs(this._deltaPosition.z) : this._deltaPosition.z;
        };
        /* Animation Controller State Machine Functions */
        AnimationState.prototype.awakeStateMachine = function () {
            var _this = this;
            this.m_animationTargets = [];
            this.m_defaultGroup = null;
            this.m_avatarMask = new Map();
            // ..
            this._machine = this.getProperty("machine", this._machine);
            this._updatemode = this.getProperty("updatemode", this._updatemode);
            this._hasrootmotion = this.getProperty("hasrootmotion", this._hasrootmotion);
            this._processmotion = this.getProperty("parserootmotion", this._processmotion);
            this._runtimecontroller = this.getProperty("runtimecontroller", this._runtimecontroller);
            this._hastransformhierarchy = this.getProperty("hastransformhierarchy", this._hastransformhierarchy);
            this._leftfeetbottomheight = this.getProperty("leftfeetbottomheight", this._leftfeetbottomheight);
            this._rightfeetbottomheight = this.getProperty("rightfeetbottomheight", this._rightfeetbottomheight);
            this.applyRootMotion = this.getProperty("applyrootmotion", this.applyRootMotion);
            this._source = (this.transform.metadata != null && this.transform.metadata.unity != null && this.transform.metadata.unity.animator != null && this.transform.metadata.unity.animator !== "") ? this.transform.metadata.unity.animator : null;
            // ..
            if (this._machine != null) {
                if (this._machine.speed != null) {
                    this.speedRatio = this._machine.speed;
                }
                if (this._machine.parameters != null && this._machine.parameters.length > 0) {
                    var plist = this._machine.parameters;
                    plist.forEach(function (parameter) {
                        var name = parameter.name;
                        var type = parameter.type;
                        var curve = parameter.curve;
                        var defaultFloat = parameter.defaultFloat;
                        var defaultBool = parameter.defaultBool;
                        var defaultInt = parameter.defaultInt;
                        _this._parameters.set(name, type);
                        if (type === BABYLON.AnimatorParameterType.Bool) {
                            _this.setBool(name, defaultBool);
                        }
                        else if (type === BABYLON.AnimatorParameterType.Float) {
                            _this.setFloat(name, defaultFloat);
                        }
                        else if (type === BABYLON.AnimatorParameterType.Int) {
                            _this.setInteger(name, defaultInt);
                        }
                        else if (type === BABYLON.AnimatorParameterType.Trigger) {
                            _this.resetTrigger(name);
                        }
                    });
                }
                // ..
                // Process Machine State Layers
                // ..
                if (this._machine.layers != null && this._machine.layers.length > 0) {
                    this._layercount = this._machine.layers.length;
                    // Sort In Ascending Order
                    this._machine.layers.sort(function (left, right) {
                        if (left.index < right.index)
                            return -1;
                        if (left.index > right.index)
                            return 1;
                        return 0;
                    });
                    // Parse Sstate Machine Layers
                    this._machine.layers.forEach(function (layer) {
                        // Set Layer Avatar Mask Transform Path
                        if (layer.avatarMask != null && layer.avatarMask.transformPaths != null && layer.avatarMask.transformPaths.length > 0) {
                            for (var i = 0; i < layer.avatarMask.transformPaths.length; i++) {
                                _this.m_avatarMask.set(layer.avatarMask.transformPaths[i], i);
                            }
                        }
                    });
                }
            }
            if (this._source != null && this._source !== "" && this.scene.animationGroups != null) {
                var sourceanims_1 = null;
                // ..
                // TODO - Optimize Searching Global Animation Groups - ???
                // ..
                this.scene.animationGroups.forEach(function (group) {
                    var agroup = group;
                    if (agroup != null && agroup.metadata != null && agroup.metadata.unity != null && agroup.metadata.unity.source != null && agroup.metadata.unity.source !== "") {
                        if (agroup.metadata.unity.source === _this._source) {
                            if (sourceanims_1 == null)
                                sourceanims_1 = [];
                            sourceanims_1.push(group);
                        }
                    }
                });
                if (sourceanims_1 != null && sourceanims_1.length > 0) {
                    this.setAnimationGroups(sourceanims_1);
                }
            }
            // ..
            // Map State Machine Tracks (Animation Groups)
            // ..
            if (this._machine != null && this._machine.states != null && this._machine.states.length > 0) {
                this._machine.states.forEach(function (state) {
                    if (state != null && state.name != null) {
                        _this.setupTreeBranches(state.blendtree);
                        _this.setMachineState(state.name, state);
                    }
                });
            }
            // DEBUG: Dump State Machine Debug Information
            // console.warn("*** Animation State Machine: " + this.transform.name);
            // console.log(this);
        };
        AnimationState.prototype.lateStateMachine = function (deltaTime) {
            var _this = this;
            if (deltaTime === void 0) { deltaTime = null; }
            if (this._executed === false) {
                this._executed = true;
                if (this._machine.layers != null && this._machine.layers.length > 0) {
                    this._machine.layers.forEach(function (layer) {
                        _this.setCurrentAnimationState(layer, layer.entry, 0);
                    });
                }
            }
            if (this.enableAnimation === true) {
                var frameDeltaTime = deltaTime || this.getDeltaSeconds();
                this.updateAnimationState(frameDeltaTime);
                this.updateAnimationCurves(frameDeltaTime);
                this.updateAnimationTargets(frameDeltaTime);
                if (this.onAnimationUpdateObservable.hasObservers() === true) {
                    this.onAnimationUpdateObservable.notifyObservers(this.transform);
                }
            }
        };
        AnimationState.prototype.destroyStateMachine = function () {
            this._data = null;
            this._anims = null;
            this._numbers = null;
            this._booleans = null;
            this._triggers = null;
            this._parameters = null;
            this._checkers = null;
            this._machine = null;
            this.onAnimationIKObservable.clear();
            this.onAnimationIKObservable = null;
            this.onAnimationEndObservable.clear();
            this.onAnimationEndObservable = null;
            this.onAnimationLoopObservable.clear();
            this.onAnimationLoopObservable = null;
            this.onAnimationEventObservable.clear();
            this.onAnimationEventObservable = null;
            this.onAnimationUpdateObservable.clear();
            this.onAnimationUpdateObservable = null;
        };
        /* Animation Controller Private Update Functions */
        AnimationState.prototype.updateAnimationState = function (deltaTime) {
            var _this = this;
            if (this._machine.layers != null && this._machine.layers.length > 0) {
                this._machine.layers.forEach(function (layer) {
                    _this.checkStateMachine(layer, deltaTime);
                });
            }
        };
        AnimationState.prototype.updateAnimationCurves = function (deltaTime) {
            // TODO - Update Custom Animation Curves (Animation Event Dispatcher)
        };
        AnimationState.prototype.updateAnimationTargets = function (deltaTime) {
            var _this = this;
            //this._bodyOrientationAngleY = 0;
            if (this.transform.rotationQuaternion != null) {
                //this._bodyOrientationAngleY = this.transform.rotationQuaternion.toEulerAngles().y; // TODO - OPTIMIZE THIS
            }
            else if (this.transform.rotation != null) {
                //this._bodyOrientationAngleY = this.transform.rotation.y;
            }
            if (this._machine.layers != null && this._machine.layers.length > 0) {
                this._machine.layers.forEach(function (layer) {
                    //////////////////////////////////////////////////////////////////////////////////////////////////////////////
                    if (layer.index === 0)
                        _this._frametime = layer.animationTime; // Note: Update Master Animation Frame Time
                    //////////////////////////////////////////////////////////////////////////////////////////////////////////////
                    if (layer.animationStateMachine != null && layer.animationStateMachine.blendtree != null) {
                        if (layer.iKPass === true && _this.onAnimationIKObservable.hasObservers() === true) {
                            _this.onAnimationIKObservable.notifyObservers(layer.index);
                        }
                        var layerState = layer.animationStateMachine;
                        if (layerState.type === BABYLON.MotionType.Clip && layerState.played !== -1)
                            layerState.played += deltaTime;
                        if (layerState.blendtree.children != null && layerState.blendtree.children.length > 0) {
                            var primaryBlendTree = layerState.blendtree.children[0];
                            if (primaryBlendTree != null) {
                                if (layerState.blendtree.blendType == BABYLON.BlendTreeType.Clip) {
                                    var animationTrack = primaryBlendTree.track;
                                    if (animationTrack != null) {
                                        var frameRatio = (BABYLON.AnimationState.TIME / animationTrack.to);
                                        //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                        // Motion Clip Animation Timeline
                                        //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                        layer.animationNormal = (layer.animationTime / BABYLON.AnimationState.TIME); // Note: Normalize Layer Frame Time
                                        var validateTime = (layer.animationNormal > 0.99) ? 1 : layer.animationNormal;
                                        var formattedTime_1 = Math.round(validateTime * 100) / 100;
                                        if (layerState.speed < 0)
                                            layer.animationNormal = (1 - layer.animationNormal); // Note: Reverse Normalized Frame Time
                                        var animationFrameTime_1 = (animationTrack.to * layer.animationNormal); // Note: Denormalize Animation Frame Time
                                        //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                        // let additivereferenceposeclip:number = 0;
                                        // let additivereferenceposetime:number = 0.0;
                                        // let hasadditivereferencepose:boolean = false;
                                        // let starttime:number = 0.0;
                                        // let stoptime:number = 0.0;
                                        // let mirror:boolean = false;
                                        //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                        var level_1 = 0.0;
                                        var looptime = false;
                                        var loopblend = false;
                                        var cycleoffset = 0.0;
                                        var heightfromfeet = false;
                                        var orientationoffsety_1 = 0.0;
                                        var keeporiginalorientation = false;
                                        var keeporiginalpositionxz = false;
                                        var keeporiginalpositiony = false;
                                        var loopblendorientation_1 = false;
                                        var loopblendpositiony_1 = false;
                                        var loopblendpositionxz_1 = false;
                                        //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                        var agroup = animationTrack;
                                        if (agroup.metadata != null && agroup.metadata.unity != null) {
                                            if (agroup.metadata.unity.settings != null) {
                                                level_1 = (agroup.metadata.unity.settings.level != null) ? agroup.metadata.unity.settings.level : 0;
                                                looptime = (agroup.metadata.unity.settings.looptime != null) ? agroup.metadata.unity.settings.looptime : false;
                                                loopblend = (agroup.metadata.unity.settings.loopblend != null) ? agroup.metadata.unity.settings.loopblend : false;
                                                cycleoffset = (agroup.metadata.unity.settings.cycleoffset != null) ? agroup.metadata.unity.settings.cycleoffset : 0;
                                                heightfromfeet = (agroup.metadata.unity.settings.heightfromfeet != null) ? agroup.metadata.unity.settings.heightfromfeet : false;
                                                orientationoffsety_1 = (agroup.metadata.unity.settings.orientationoffsety != null) ? agroup.metadata.unity.settings.orientationoffsety : 0;
                                                keeporiginalorientation = (agroup.metadata.unity.settings.keeporiginalorientation != null) ? agroup.metadata.unity.settings.keeporiginalorientation : false;
                                                keeporiginalpositionxz = (agroup.metadata.unity.settings.keeporiginalpositionxz != null) ? agroup.metadata.unity.settings.keeporiginalpositionxz : false;
                                                keeporiginalpositiony = (agroup.metadata.unity.settings.keeporiginalpositiony != null) ? agroup.metadata.unity.settings.keeporiginalpositiony : false;
                                                loopblendorientation_1 = (agroup.metadata.unity.settings.loopblendorientation != null) ? agroup.metadata.unity.settings.loopblendorientation : false;
                                                loopblendpositiony_1 = (agroup.metadata.unity.settings.loopblendpositiony != null) ? agroup.metadata.unity.settings.loopblendpositiony : false;
                                                loopblendpositionxz_1 = (agroup.metadata.unity.settings.loopblendpositionxz != null) ? agroup.metadata.unity.settings.loopblendpositionxz : false;
                                            }
                                        }
                                        //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                        // Unity Inverts Root Motion Animation Offsets
                                        //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                        orientationoffsety_1 = BABYLON.Tools.ToRadians(orientationoffsety_1);
                                        orientationoffsety_1 *= -1;
                                        level_1 *= -1;
                                        //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                        if (layer.animationTime >= BABYLON.AnimationState.TIME) {
                                            layer.animationFirstRun = false;
                                            layer.animationLoopFrame = true;
                                            if (looptime === true) {
                                                if (_this.onAnimationLoopObservable.hasObservers() === true) {
                                                    _this.onAnimationLoopObservable.notifyObservers(layer.index);
                                                }
                                            }
                                            else {
                                                if (layer.animationEndFrame === false) {
                                                    layer.animationEndFrame = true;
                                                    if (_this.onAnimationEndObservable.hasObservers() === true) {
                                                        _this.onAnimationEndObservable.notifyObservers(layer.index);
                                                    }
                                                }
                                            }
                                        }
                                        //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                        if (layer.animationFirstRun === true || looptime === true) {
                                            animationTrack.targetedAnimations.forEach(function (targetedAnim) {
                                                if (targetedAnim.target instanceof BABYLON.TransformNode) {
                                                    var clipTarget = targetedAnim.target;
                                                    if (layer.index === 0 || layer.avatarMask == null || _this.filterTargetAvatarMask(layer, clipTarget)) {
                                                        var targetRootBone = (clipTarget.metadata != null && clipTarget.metadata.unity != null && clipTarget.metadata.unity.rootbone != null) ? clipTarget.metadata.unity.rootbone : false;
                                                        if (clipTarget.metadata != null && clipTarget.metadata.mixer != null) {
                                                            var clipTargetMixer = clipTarget.metadata.mixer[layer.index];
                                                            if (clipTargetMixer != null) {
                                                                if (targetedAnim.animation.targetProperty === "position") {
                                                                    _this._targetPosition = BABYLON.Utilities.SampleAnimationVector3(targetedAnim.animation, animationFrameTime_1);
                                                                    // ..
                                                                    // Handle Root Motion (Position)
                                                                    // ..
                                                                    if (targetRootBone === true) {
                                                                        _this._positionWeight = false;
                                                                        _this._positionHolder.set(0, 0, 0);
                                                                        _this._rootBoneWeight = false;
                                                                        _this._rootBoneHolder.set(0, 0, 0);
                                                                        // ..
                                                                        // Apply Root Motion
                                                                        // ..
                                                                        if (_this.applyRootMotion === true) {
                                                                            if (loopblendpositiony_1 === true && loopblendpositionxz_1 === true) {
                                                                                _this._positionWeight = true; // Bake XYZ Into Pose
                                                                                _this._positionHolder.set(_this._targetPosition.x, (_this._targetPosition.y + level_1), _this._targetPosition.z);
                                                                            }
                                                                            else if (loopblendpositiony_1 === false && loopblendpositionxz_1 === false) {
                                                                                _this._rootBoneWeight = true; // Use XYZ As Root Motion
                                                                                _this._rootBoneHolder.set(_this._targetPosition.x, (_this._targetPosition.y + level_1), _this._targetPosition.z);
                                                                            }
                                                                            else if (loopblendpositiony_1 === true && loopblendpositionxz_1 === false) {
                                                                                _this._positionWeight = true; // Bake Y Into Pose 
                                                                                _this._positionHolder.set(0, (_this._targetPosition.y + level_1), 0);
                                                                                _this._rootBoneWeight = true; // Use XZ As Root Motion
                                                                                _this._rootBoneHolder.set(_this._targetPosition.x, 0, _this._targetPosition.z);
                                                                            }
                                                                            else if (loopblendpositionxz_1 === true && loopblendpositiony_1 === false) {
                                                                                _this._positionWeight = true; // Bake XZ Into Pose
                                                                                _this._positionHolder.set(_this._targetPosition.x, 0, _this._targetPosition.z);
                                                                                _this._rootBoneWeight = true; // Use Y As Root Motion
                                                                                _this._rootBoneHolder.set(0, (_this._targetPosition.y + level_1), 0);
                                                                            }
                                                                        }
                                                                        else {
                                                                            if (_this._processmotion === true) {
                                                                                _this._positionWeight = true; // Bake Y Into Pose 
                                                                                _this._positionHolder.set(0, (_this._targetPosition.y + level_1), 0);
                                                                                _this._rootBoneWeight = true; // Zero XZ In-Place Motion
                                                                                _this._rootBoneHolder.set(0, 0, 0);
                                                                            }
                                                                            else {
                                                                                _this._positionWeight = true; // Bake XYZ Original Motion
                                                                                _this._positionHolder.set(_this._targetPosition.x, (_this._targetPosition.y + level_1), _this._targetPosition.z);
                                                                            }
                                                                        }
                                                                        // Bake Position Holder
                                                                        if (_this._positionWeight === true) {
                                                                            if (clipTargetMixer.positionBuffer == null)
                                                                                clipTargetMixer.positionBuffer = new BABYLON.Vector3(0, 0, 0);
                                                                            BABYLON.Utilities.BlendVector3Value(clipTargetMixer.positionBuffer, _this._positionHolder, 1.0);
                                                                        }
                                                                        // Bake Root Bone Holder
                                                                        if (_this._rootBoneWeight === true) {
                                                                            if (clipTargetMixer.rootPosition == null)
                                                                                clipTargetMixer.rootPosition = new BABYLON.Vector3(0, 0, 0);
                                                                            BABYLON.Utilities.BlendVector3Value(clipTargetMixer.rootPosition, _this._rootBoneHolder, 1.0);
                                                                        }
                                                                    }
                                                                    else {
                                                                        // Bake Normal Pose Position
                                                                        if (clipTargetMixer.positionBuffer == null)
                                                                            clipTargetMixer.positionBuffer = new BABYLON.Vector3(0, 0, 0);
                                                                        BABYLON.Utilities.BlendVector3Value(clipTargetMixer.positionBuffer, _this._targetPosition, 1.0);
                                                                    }
                                                                }
                                                                else if (targetedAnim.animation.targetProperty === "rotationQuaternion") {
                                                                    _this._targetRotation = BABYLON.Utilities.SampleAnimationQuaternion(targetedAnim.animation, animationFrameTime_1);
                                                                    // ..
                                                                    // Handle Root Motion (Rotation)
                                                                    // ..
                                                                    if (targetRootBone === true) {
                                                                        _this._rotationWeight = false;
                                                                        _this._rotationHolder.set(0, 0, 0, 0);
                                                                        _this._rootQuatWeight = false;
                                                                        _this._rootQuatHolder.set(0, 0, 0, 0);
                                                                        // TODO - OPTIMIZE TO EULER ANGLES
                                                                        var eulerAngle = _this._targetRotation.toEulerAngles();
                                                                        var orientationAngleY = eulerAngle.y; //(keeporiginalorientation === true) ? eulerAngle.y : this._bodyOrientationAngleY;
                                                                        // ..
                                                                        // Apply Root Motion
                                                                        // ..
                                                                        if (_this.applyRootMotion === true) {
                                                                            if (loopblendorientation_1 === true) {
                                                                                _this._rotationWeight = true; // Bake XYZ Into Pose
                                                                                BABYLON.Quaternion.FromEulerAnglesToRef(eulerAngle.x, (orientationAngleY + orientationoffsety_1), eulerAngle.z, _this._rotationHolder);
                                                                            }
                                                                            else {
                                                                                _this._rotationWeight = true; // Bake XZ Into Pose
                                                                                BABYLON.Quaternion.FromEulerAnglesToRef(eulerAngle.x, 0, eulerAngle.z, _this._rotationHolder);
                                                                                _this._rootQuatWeight = true; // Use Y As Root Motion
                                                                                BABYLON.Quaternion.FromEulerAnglesToRef(0, (orientationAngleY + orientationoffsety_1), 0, _this._rootQuatHolder);
                                                                            }
                                                                        }
                                                                        else {
                                                                            _this._rotationWeight = true; // Bake XYZ Into Pose
                                                                            BABYLON.Quaternion.FromEulerAnglesToRef(eulerAngle.x, (orientationAngleY + orientationoffsety_1), eulerAngle.z, _this._rotationHolder);
                                                                        }
                                                                        // Bake Rotation Holder
                                                                        if (_this._rotationWeight === true) {
                                                                            if (clipTargetMixer.rotationBuffer == null)
                                                                                clipTargetMixer.rotationBuffer = new BABYLON.Quaternion(0, 0, 0, 1);
                                                                            BABYLON.Utilities.BlendQuaternionValue(clipTargetMixer.rotationBuffer, _this._rotationHolder, 1.0);
                                                                        }
                                                                        // Bake Root Bone Rotation
                                                                        if (_this._rootQuatWeight === true) {
                                                                            if (clipTargetMixer.rootRotation == null)
                                                                                clipTargetMixer.rootRotation = new BABYLON.Quaternion(0, 0, 0, 1);
                                                                            BABYLON.Utilities.BlendQuaternionValue(clipTargetMixer.rootRotation, _this._rootQuatHolder, 1.0);
                                                                        }
                                                                    }
                                                                    else {
                                                                        // Bake Normal Pose Rotation
                                                                        if (clipTargetMixer.rotationBuffer == null)
                                                                            clipTargetMixer.rotationBuffer = new BABYLON.Quaternion(0, 0, 0, 1);
                                                                        BABYLON.Utilities.BlendQuaternionValue(clipTargetMixer.rotationBuffer, _this._targetRotation, 1.0);
                                                                    }
                                                                }
                                                                else if (targetedAnim.animation.targetProperty === "scaling") {
                                                                    _this._targetScaling = BABYLON.Utilities.SampleAnimationVector3(targetedAnim.animation, animationFrameTime_1);
                                                                    if (clipTargetMixer.scalingBuffer == null)
                                                                        clipTargetMixer.scalingBuffer = new BABYLON.Vector3(1, 1, 1);
                                                                    BABYLON.Utilities.BlendVector3Value(clipTargetMixer.scalingBuffer, _this._targetScaling, 1.0);
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                                else if (targetedAnim.target instanceof BABYLON.MorphTarget) {
                                                    var morphTarget = targetedAnim.target;
                                                    if (morphTarget.metadata != null && morphTarget.metadata.mixer != null) {
                                                        var morphTargetMixer = morphTarget.metadata.mixer[layer.index];
                                                        if (targetedAnim.animation.targetProperty === "influence") {
                                                            var floatValue = BABYLON.Utilities.SampleAnimationFloat(targetedAnim.animation, animationFrameTime_1);
                                                            if (morphTargetMixer.influenceBuffer == null)
                                                                morphTargetMixer.influenceBuffer = 0;
                                                            morphTargetMixer.influenceBuffer = BABYLON.Utilities.BlendFloatValue(morphTargetMixer.influenceBuffer, floatValue, 1.0);
                                                        }
                                                    }
                                                }
                                            });
                                        }
                                        //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                        // Validate Layer Animation Events (TODO - Pass Layer Index Properties To Observers)
                                        //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                        if (layer.animationStateMachine.events != null && layer.animationStateMachine.events.length > 0) {
                                            layer.animationStateMachine.events.forEach(function (animatorEvent) {
                                                if (animatorEvent.time === formattedTime_1) {
                                                    // console.log("MOTION CLIP ANIM EVENT: " + animatorEvent.function + " -->  AT: " + formattedTime);
                                                    // TODO - Ensure Only Fired Off Once Per Loop
                                                    // FIXME - console.log("Motion Clip Animation Event: " + animatorEvent.time + " >> " + animatorEvent.clip + " >> " + animatorEvent.function);
                                                    if (_this.onAnimationEventObservable.hasObservers() === true) {
                                                        _this.onAnimationEventObservable.notifyObservers(animatorEvent);
                                                    }
                                                }
                                            });
                                        }
                                        //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                        // Step Motion Clip Animation Time
                                        //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                        if (layer.animationLoopFrame === true) {
                                            layer.animationTime = 0;
                                            layer.animationNormal = 0;
                                            layer.animationLoopFrame = false;
                                        }
                                        else {
                                            layer.animationTime += (deltaTime * frameRatio * Math.abs(layerState.speed) * Math.abs(_this.speedRatio));
                                            layer.animationTime = BABYLON.Scalar.Clamp(layer.animationTime, 0, BABYLON.AnimationState.TIME);
                                        }
                                    }
                                    else {
                                        // console.warn(">>> No Motion Clip Animation Track Found For: " + this.transform.name);
                                    }
                                }
                                else {
                                    // this._blendMessage = "";
                                    _this._blendWeights.primary = null;
                                    _this._blendWeights.secondary = null;
                                    var scaledWeightList = [];
                                    var primaryBlendTree_1 = layerState.blendtree;
                                    _this.parseTreeBranches(layer, primaryBlendTree_1, 1.0, scaledWeightList);
                                    var frameRatio = _this.computeWeightedFrameRatio(scaledWeightList);
                                    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                    // Blend Tree Animation Timeline
                                    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                    layer.animationNormal = (layer.animationTime / BABYLON.AnimationState.TIME); // Note: Normalize Layer Frame Time
                                    var validateTime = (layer.animationNormal > 0.99) ? 1 : layer.animationNormal;
                                    var formattedTime_2 = Math.round(validateTime * 100) / 100;
                                    if (layerState.speed < 0)
                                        layer.animationNormal = (1 - layer.animationNormal); // Note: Reverse Normalized Frame Time
                                    var blendingNormalTime = layer.animationNormal; // Note: Denormalize Animation Frame Time
                                    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                    if (layer.animationTime >= BABYLON.AnimationState.TIME) {
                                        layer.animationLoopFrame = true; // Note: No Loop Or End Events For Blend Trees
                                    }
                                    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                    var masterAnimationTrack = (scaledWeightList != null && scaledWeightList.length > 0 && scaledWeightList[0].track != null) ? scaledWeightList[0].track : null;
                                    if (masterAnimationTrack != null) {
                                        var targetCount = masterAnimationTrack.targetedAnimations.length;
                                        for (var targetIndex = 0; targetIndex < targetCount; targetIndex++) {
                                            var masterAnimimation = masterAnimationTrack.targetedAnimations[targetIndex];
                                            if (masterAnimimation.target instanceof BABYLON.TransformNode) {
                                                var blendTarget = masterAnimimation.target;
                                                if (layer.index === 0 || layer.avatarMask == null || _this.filterTargetAvatarMask(layer, blendTarget)) {
                                                    var targetRootBone = (blendTarget.metadata != null && blendTarget.metadata.unity != null && blendTarget.metadata.unity.rootbone != null) ? blendTarget.metadata.unity.rootbone : false;
                                                    if (blendTarget.metadata != null && blendTarget.metadata.mixer != null) {
                                                        _this._initialtargetblending = true; // Note: Reset First Target Blending Buffer
                                                        var blendTargetMixer = blendTarget.metadata.mixer[layer.index];
                                                        _this.updateBlendableTargets(deltaTime, layer, primaryBlendTree_1, masterAnimimation, targetIndex, blendTargetMixer, blendingNormalTime, targetRootBone);
                                                    }
                                                }
                                            }
                                        }
                                    }
                                    else {
                                        // console.warn(">>> No Blend Tree Master Animation Track Found For: " + this.transform.name);
                                    }
                                    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                    // Validate Layer Animation Events (TODO - Pass Layer Index And Clip Blended Weight Properties To Observers)
                                    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                    if (layer.animationStateMachine.events != null && layer.animationStateMachine.events.length > 0) {
                                        layer.animationStateMachine.events.forEach(function (animatorEvent) {
                                            if (animatorEvent.time === formattedTime_2) {
                                                // console.log("BLEND TREE ANIM EVENT: " + animatorEvent.function + " -->  AT: " + formattedTime);
                                                // TODO - Ensure Only Fired Off Once Per Loop
                                                // FIXME - console.log("Blend Tree Animation Event: " + animatorEvent.time + " >> " + animatorEvent.clip + " >> " + animatorEvent.function);
                                                if (_this.onAnimationEventObservable.hasObservers() === true) {
                                                    _this.onAnimationEventObservable.notifyObservers(animatorEvent);
                                                }
                                            }
                                        });
                                    }
                                    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                    // Step Blend Tree Animation Time
                                    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                    if (layer.animationLoopFrame === true) {
                                        layer.animationTime = 0;
                                        layer.animationNormal = 0;
                                        layer.animationLoopFrame = false;
                                    }
                                    else {
                                        layer.animationTime += (deltaTime * frameRatio * Math.abs(layerState.speed) * Math.abs(_this.speedRatio));
                                        layer.animationTime = BABYLON.Scalar.Clamp(layer.animationTime, 0, BABYLON.AnimationState.TIME);
                                    }
                                    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                }
                            }
                        }
                    }
                });
            }
            this.finalizeAnimationTargets();
        };
        // private _blendMessage:string = "";
        AnimationState.prototype.updateBlendableTargets = function (deltaTime, layer, tree, masterAnimation, targetIndex, targetMixer, normalizedFrameTime, targetRootBone) {
            if (targetMixer != null && tree.children != null && tree.children.length > 0) {
                for (var index = 0; index < tree.children.length; index++) {
                    var child = tree.children[index];
                    if (child.weight > 0) {
                        if (child.type === BABYLON.MotionType.Clip) {
                            if (child.track != null) {
                                //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                // let additivereferenceposeclip:number = 0;
                                // let additivereferenceposetime:number = 0.0;
                                // let hasadditivereferencepose:boolean = false;
                                // let starttime:number = 0.0;
                                // let stoptime:number = 0.0;
                                // let mirror:boolean = false;
                                //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                // let looptime:boolean = true;
                                //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                var level = 0.0;
                                var loopblend = false;
                                var cycleoffset = 0.0;
                                var heightfromfeet = false;
                                var orientationoffsety = 0.0;
                                var keeporiginalorientation = false;
                                var keeporiginalpositionxz = false;
                                var keeporiginalpositiony = false;
                                var loopblendorientation = false;
                                var loopblendpositiony = false;
                                var loopblendpositionxz = false;
                                //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                var agroup = child.track;
                                if (agroup.metadata != null && agroup.metadata.unity != null) {
                                    if (agroup.metadata.unity.settings != null) {
                                        level = (agroup.metadata.unity.settings.level != null) ? agroup.metadata.unity.settings.level : 0;
                                        loopblend = (agroup.metadata.unity.settings.loopblend != null) ? agroup.metadata.unity.settings.loopblend : false;
                                        cycleoffset = (agroup.metadata.unity.settings.cycleoffset != null) ? agroup.metadata.unity.settings.cycleoffset : 0;
                                        heightfromfeet = (agroup.metadata.unity.settings.heightfromfeet != null) ? agroup.metadata.unity.settings.heightfromfeet : false;
                                        orientationoffsety = (agroup.metadata.unity.settings.orientationoffsety != null) ? agroup.metadata.unity.settings.orientationoffsety : 0;
                                        keeporiginalorientation = (agroup.metadata.unity.settings.keeporiginalorientation != null) ? agroup.metadata.unity.settings.keeporiginalorientation : false;
                                        keeporiginalpositionxz = (agroup.metadata.unity.settings.keeporiginalpositionxz != null) ? agroup.metadata.unity.settings.keeporiginalpositionxz : false;
                                        keeporiginalpositiony = (agroup.metadata.unity.settings.keeporiginalpositiony != null) ? agroup.metadata.unity.settings.keeporiginalpositiony : false;
                                        loopblendorientation = (agroup.metadata.unity.settings.loopblendorientation != null) ? agroup.metadata.unity.settings.loopblendorientation : false;
                                        loopblendpositiony = (agroup.metadata.unity.settings.loopblendpositiony != null) ? agroup.metadata.unity.settings.loopblendpositiony : false;
                                        loopblendpositionxz = (agroup.metadata.unity.settings.loopblendpositionxz != null) ? agroup.metadata.unity.settings.loopblendpositionxz : false;
                                    }
                                }
                                //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                // Unity Inverts Root Motion Animation Offsets
                                //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                orientationoffsety = BABYLON.Tools.ToRadians(orientationoffsety);
                                orientationoffsety *= -1;
                                level *= -1;
                                //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                // this._blendMessage += (" >>> " + child.motion + ": " + child.weight.toFixed(2));
                                //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                // TODO - Get blendable animation from target map - ???
                                var blendableAnim = child.track.targetedAnimations[targetIndex];
                                var blendableWeight = (this._initialtargetblending === true) ? 1.0 : parseFloat(child.weight.toFixed(2));
                                this._initialtargetblending = false; // Note: Clear First Target Blending Buffer
                                if (blendableAnim.target === masterAnimation.target && blendableAnim.animation.targetProperty === masterAnimation.animation.targetProperty) {
                                    var adjustedFrameTime = normalizedFrameTime; // Note: Adjust Normalized Frame Time
                                    if (child.timescale < 0)
                                        adjustedFrameTime = (1 - adjustedFrameTime); // Note: Reverse Normalized Frame Time
                                    var animationFrameTime = (child.track.to * adjustedFrameTime); // Note: Denormalize Animation Frame Time
                                    //const animationFrameTime:number = (Math.round((child.track.to * adjustedFrameTime) * 100) / 100);  // Note: Denormalize Animation Frame Time
                                    if (masterAnimation.animation.targetProperty === "position") {
                                        this._targetPosition = BABYLON.Utilities.SampleAnimationVector3(blendableAnim.animation, animationFrameTime);
                                        // ..
                                        // Root Transform Position
                                        // ..
                                        if (targetRootBone === true) {
                                            this._positionWeight = false;
                                            this._positionHolder.set(0, 0, 0);
                                            this._rootBoneWeight = false;
                                            this._rootBoneHolder.set(0, 0, 0);
                                            // ..
                                            // Apply Root Motion
                                            // ..
                                            if (this.applyRootMotion === true) {
                                                if (loopblendpositiony === true && loopblendpositionxz === true) {
                                                    this._positionWeight = true; // Bake XYZ Into Pose
                                                    this._positionHolder.set(this._targetPosition.x, (this._targetPosition.y + level), this._targetPosition.z);
                                                }
                                                else if (loopblendpositiony === false && loopblendpositionxz === false) {
                                                    this._rootBoneWeight = true; // Use XYZ As Root Motion
                                                    this._rootBoneHolder.set(this._targetPosition.x, (this._targetPosition.y + level), this._targetPosition.z);
                                                }
                                                else if (loopblendpositiony === true && loopblendpositionxz === false) {
                                                    this._positionWeight = true; // Bake Y Into Pose 
                                                    this._positionHolder.set(0, (this._targetPosition.y + level), 0);
                                                    this._rootBoneWeight = true; // Use XZ As Root Motion
                                                    this._rootBoneHolder.set(this._targetPosition.x, 0, this._targetPosition.z);
                                                }
                                                else if (loopblendpositionxz === true && loopblendpositiony === false) {
                                                    this._positionWeight = true; // Bake XZ Into Pose
                                                    this._positionHolder.set(this._targetPosition.x, 0, this._targetPosition.z);
                                                    this._rootBoneWeight = true; // Use Y As Root Motion
                                                    this._rootBoneHolder.set(0, (this._targetPosition.y + level), 0);
                                                }
                                            }
                                            else {
                                                if (this._processmotion === true) {
                                                    this._positionWeight = true; // Bake Y Into Pose 
                                                    this._positionHolder.set(0, (this._targetPosition.y + level), 0);
                                                    this._rootBoneWeight = true; // Zero XZ In-Place Motion
                                                    this._rootBoneHolder.set(0, 0, 0);
                                                }
                                                else {
                                                    this._positionWeight = true; // Bake XYZ Original Motion
                                                    this._positionHolder.set(this._targetPosition.x, (this._targetPosition.y + level), this._targetPosition.z);
                                                }
                                            }
                                            // Bake Position Holder
                                            if (this._positionWeight === true) {
                                                if (targetMixer.positionBuffer == null)
                                                    targetMixer.positionBuffer = new BABYLON.Vector3(0, 0, 0);
                                                BABYLON.Utilities.BlendVector3Value(targetMixer.positionBuffer, this._positionHolder, blendableWeight);
                                            }
                                            // Bake Root Bone Holder
                                            if (this._rootBoneWeight === true) {
                                                if (targetMixer.rootPosition == null)
                                                    targetMixer.rootPosition = new BABYLON.Vector3(0, 0, 0);
                                                BABYLON.Utilities.BlendVector3Value(targetMixer.rootPosition, this._rootBoneHolder, blendableWeight);
                                            }
                                        }
                                        else {
                                            // Bake Normal Pose Position
                                            if (targetMixer.positionBuffer == null)
                                                targetMixer.positionBuffer = new BABYLON.Vector3(0, 0, 0);
                                            BABYLON.Utilities.BlendVector3Value(targetMixer.positionBuffer, this._targetPosition, blendableWeight);
                                        }
                                    }
                                    else if (masterAnimation.animation.targetProperty === "rotationQuaternion") {
                                        this._targetRotation = BABYLON.Utilities.SampleAnimationQuaternion(blendableAnim.animation, animationFrameTime);
                                        // ..
                                        // Root Transform Rotation
                                        // ..
                                        if (targetRootBone === true) {
                                            this._rotationWeight = false;
                                            this._rotationHolder.set(0, 0, 0, 0);
                                            this._rootQuatWeight = false;
                                            this._rootQuatHolder.set(0, 0, 0, 0);
                                            var eulerAngle = this._targetRotation.toEulerAngles();
                                            var orientationAngleY = eulerAngle.y; //(keeporiginalorientation === true) ? eulerAngle.y : this._bodyOrientationAngleY;
                                            // ..
                                            // Apply Root Motion
                                            // ..
                                            if (this.applyRootMotion === true) {
                                                if (loopblendorientation === true) {
                                                    this._rotationWeight = true; // Bake XYZ Into Pose
                                                    BABYLON.Quaternion.FromEulerAnglesToRef(eulerAngle.x, (orientationAngleY + orientationoffsety), eulerAngle.z, this._rotationHolder);
                                                }
                                                else {
                                                    this._rotationWeight = true; // Bake XZ Into Pose
                                                    BABYLON.Quaternion.FromEulerAnglesToRef(eulerAngle.x, 0, eulerAngle.z, this._rotationHolder);
                                                    this._rootQuatWeight = true; // Use Y As Root Motion
                                                    BABYLON.Quaternion.FromEulerAnglesToRef(0, (orientationAngleY + orientationoffsety), 0, this._rootQuatHolder);
                                                }
                                            }
                                            else {
                                                this._rotationWeight = true; // Bake XYZ Into Pose
                                                BABYLON.Quaternion.FromEulerAnglesToRef(eulerAngle.x, (orientationAngleY + orientationoffsety), eulerAngle.z, this._rotationHolder);
                                            }
                                            // Bake Rotation Holder
                                            if (this._rotationWeight === true) {
                                                if (targetMixer.rotationBuffer == null)
                                                    targetMixer.rotationBuffer = new BABYLON.Quaternion(0, 0, 0, 1);
                                                BABYLON.Utilities.BlendQuaternionValue(targetMixer.rotationBuffer, this._rotationHolder, blendableWeight);
                                            }
                                            // Bake Root Bone Rotation
                                            if (this._rootQuatWeight === true) {
                                                if (targetMixer.rootRotation == null)
                                                    targetMixer.rootRotation = new BABYLON.Quaternion(0, 0, 0, 1);
                                                BABYLON.Utilities.BlendQuaternionValue(targetMixer.rootRotation, this._rootQuatHolder, blendableWeight);
                                            }
                                        }
                                        else {
                                            // Bake Normal Pose Rotation
                                            if (targetMixer.rotationBuffer == null)
                                                targetMixer.rotationBuffer = new BABYLON.Quaternion(0, 0, 0, 1);
                                            BABYLON.Utilities.BlendQuaternionValue(targetMixer.rotationBuffer, this._targetRotation, blendableWeight);
                                        }
                                    }
                                    else if (masterAnimation.animation.targetProperty === "scaling") {
                                        this._targetScaling = BABYLON.Utilities.SampleAnimationVector3(blendableAnim.animation, animationFrameTime);
                                        if (targetMixer.scalingBuffer == null)
                                            targetMixer.scalingBuffer = new BABYLON.Vector3(1, 1, 1);
                                        BABYLON.Utilities.BlendVector3Value(targetMixer.scalingBuffer, this._targetScaling, blendableWeight);
                                    }
                                }
                                else {
                                    BABYLON.Tools.Warn(tree.name + " - " + child.track.name + " blend tree mismatch (" + targetIndex + "): " + masterAnimation.target.name + " >>> " + blendableAnim.target.name);
                                }
                            }
                        }
                        else if (child.type === BABYLON.MotionType.Tree) {
                            this.updateBlendableTargets(deltaTime, layer, child.subtree, masterAnimation, targetIndex, targetMixer, normalizedFrameTime, targetRootBone);
                        }
                    }
                }
            }
            //if (targetIndex === 0) BABYLON.Utilities.PrintToScreen(this._blendMessage, "red");
        };
        AnimationState.prototype.finalizeAnimationTargets = function () {
            var _this = this;
            this._deltaAngleY = 0;
            this._deltaPosition.set(0, 0, 0);
            this._deltaRotation.set(0, 0, 0, 1);
            this._dirtyMotionMatrix = null;
            if (this.m_animationTargets != null && this.m_animationTargets.length > 0) {
                this.m_animationTargets.forEach(function (targetedAnim) {
                    var animationTarget = targetedAnim.target;
                    // ..
                    // Update Direct Transform Targets For Each Layer
                    // ..
                    if (animationTarget.metadata != null && animationTarget.metadata.mixer != null) {
                        if (_this._machine.layers != null && _this._machine.layers.length > 0) {
                            _this._blenderMatrix.reset();
                            _this._dirtyBlenderMatrix = null;
                            _this._machine.layers.forEach(function (layer) {
                                var animationTargetMixer = animationTarget.metadata.mixer[layer.index];
                                if (animationTargetMixer != null) {
                                    if (animationTarget instanceof BABYLON.TransformNode) {
                                        // ..
                                        // Update Dirty Transform Matrix
                                        // ..
                                        if (animationTargetMixer.positionBuffer != null || animationTargetMixer.rotationBuffer != null || animationTargetMixer.scalingBuffer != null) {
                                            BABYLON.Matrix.ComposeToRef((animationTargetMixer.scalingBuffer || animationTarget.scaling), (animationTargetMixer.rotationBuffer || animationTarget.rotationQuaternion), (animationTargetMixer.positionBuffer || animationTarget.position), _this._updateMatrix);
                                            if (animationTargetMixer.blendingSpeed > 0.0) {
                                                if (animationTargetMixer.blendingFactor <= 1.0 && animationTargetMixer.originalMatrix == null) {
                                                    animationTargetMixer.originalMatrix = BABYLON.Matrix.Compose((animationTarget.scaling), (animationTarget.rotationQuaternion), (animationTarget.position));
                                                }
                                                if (animationTargetMixer.blendingFactor <= 1.0 && animationTargetMixer.originalMatrix != null) {
                                                    BABYLON.Utilities.FastMatrixSlerp(animationTargetMixer.originalMatrix, _this._updateMatrix, animationTargetMixer.blendingFactor, _this._updateMatrix);
                                                    animationTargetMixer.blendingFactor += animationTargetMixer.blendingSpeed;
                                                }
                                            }
                                            BABYLON.Utilities.FastMatrixSlerp(_this._blenderMatrix, _this._updateMatrix, layer.defaultWeight, _this._blenderMatrix);
                                            _this._dirtyBlenderMatrix = true;
                                            animationTargetMixer.positionBuffer = null;
                                            animationTargetMixer.rotationBuffer = null;
                                            animationTargetMixer.scalingBuffer = null;
                                        }
                                        // ..
                                        // Update Dirty Root Motion Matrix
                                        // ..
                                        if (animationTargetMixer.rootPosition != null || animationTargetMixer.rootRotation != null) {
                                            BABYLON.Matrix.ComposeToRef((_this.transform.scaling), (animationTargetMixer.rootRotation || _this.transform.rotationQuaternion), (animationTargetMixer.rootPosition || _this.transform.position), _this._updateMatrix);
                                            // ..
                                            // TODO - May Need Seperate Blending Speed Properties
                                            // Note: Might Fix Large Root Motion Delta Issue - ???
                                            // ..
                                            /*
                                            if (animationTargetMixer.blendingSpeed > 0.0) {
                                                if (animationTargetMixer.blendingFactor <= 1.0 && animationTargetMixer.originalMatrix == null) {
                                                    animationTargetMixer.originalMatrix = BABYLON.Matrix.Compose(
                                                        (this.transform.scaling),
                                                        (this.transform.rotationQuaternion),
                                                        (this.transform.position)
                                                    );
                                                }
                                                if (animationTargetMixer.blendingFactor <= 1.0 && animationTargetMixer.originalMatrix != null) {
                                                    BABYLON.Utilities.FastMatrixSlerp(animationTargetMixer.originalMatrix, this._updateMatrix, animationTargetMixer.blendingFactor, this._updateMatrix);
                                                    animationTargetMixer.blendingFactor += animationTargetMixer.blendingSpeed;
                                                }
                                            }
                                            */
                                            BABYLON.Utilities.FastMatrixSlerp(_this._rootMotionMatrix, _this._updateMatrix, layer.defaultWeight, _this._rootMotionMatrix);
                                            _this._dirtyMotionMatrix = true;
                                            animationTargetMixer.rootPosition = null;
                                            animationTargetMixer.rootRotation = null;
                                        }
                                    }
                                    else if (animationTarget instanceof BABYLON.MorphTarget) {
                                        if (animationTargetMixer.influenceBuffer != null) {
                                            animationTarget.influence = BABYLON.Scalar.Lerp(animationTarget.influence, animationTargetMixer.influenceBuffer, layer.defaultWeight);
                                            animationTargetMixer.influenceBuffer = null;
                                        }
                                    }
                                }
                            });
                            if (_this._dirtyBlenderMatrix != null) {
                                _this._blenderMatrix.decompose(animationTarget.scaling, animationTarget.rotationQuaternion, animationTarget.position);
                            }
                        }
                    }
                });
            }
            // ..
            if (this._dirtyMotionMatrix != null) {
                this._rootMotionMatrix.decompose(this._rootMotionScaling, this._rootMotionRotation, this._rootMotionPosition);
                if (this._frametime === 0) {
                    this._lastMotionPosition.copyFrom(this._rootMotionPosition);
                    this._lastMotionRotation.copyFrom(this._rootMotionRotation);
                }
                if (this.applyRootMotion != null) {
                    // ..
                    // Update Current Delta Position
                    // ..
                    this._rootMotionPosition.subtractToRef(this._lastMotionPosition, this._deltaPosition);
                    // ..
                    // Update Current Delta Rotation
                    // ..
                    BABYLON.Utilities.QuaternionDiffToRef(this._lastMotionRotation, this._rootMotionRotation, this._quatRotationDiff);
                    this._quatRotationDiff.toEulerAnglesToRef(this._quatRotateVector);
                    this._deltaAngleY = this._quatRotateVector.y;
                    BABYLON.Quaternion.FromEulerAnglesToRef(0, this._deltaAngleY, 0, this._deltaRotation);
                    // ..
                    // Update Last Root Motion Deltas
                    // ..
                    this._lastMotionPosition.addInPlace(this._deltaPosition);
                    this._lastMotionRotation.multiplyInPlace(this._deltaRotation);
                }
            }
        };
        AnimationState.prototype.checkStateMachine = function (layer, deltaTime) {
            var _this = this;
            this._checkers.result = null;
            this._checkers.offest = 0;
            this._checkers.blending = 0;
            this._checkers.triggered = [];
            // ..
            // Check Animation State Transitions
            // ..
            if (layer.animationStateMachine != null) {
                // Check Local Transition Conditions
                this.checkStateTransitions(layer, layer.animationStateMachine.transitions, layer.animationStateMachine.time, layer.animationStateMachine.length, layer.animationStateMachine.rate);
                // Check Any State Transition Conditions
                if (this._checkers.result == null && this._machine.transitions != null) {
                    this.checkStateTransitions(layer, this._machine.transitions, layer.animationStateMachine.time, layer.animationStateMachine.length, layer.animationStateMachine.rate);
                }
            }
            // ..
            // Reset Transition Condition Triggers
            // ..
            if (this._checkers.triggered != null && this._checkers.triggered.length > 0) {
                this._checkers.triggered.forEach(function (trigger) { _this.resetTrigger(trigger); });
                this._checkers.triggered = null;
            }
            // ..
            // Set Current Machine State Result
            // ..
            if (this._checkers.result != null) {
                if (this._checkers.offest > 0)
                    BABYLON.SceneManager.SetTimeout((this._checkers.offest * 1000), function () { _this.setCurrentAnimationState(layer, _this._checkers.result, _this._checkers.blending); });
                else
                    this.setCurrentAnimationState(layer, this._checkers.result, this._checkers.blending);
            }
        };
        AnimationState.prototype.checkStateTransitions = function (layer, transitions, time, length, rate) {
            var _this = this;
            if (transitions != null && transitions.length > 0) {
                var i = 0;
                var ii = 0;
                var solo = -1;
                // ..
                // Check Has Solo Transitions
                // ..
                for (i = 0; i < transitions.length; i++) {
                    if (transitions[i].solo === true && transitions[i].mute === false) {
                        solo = i;
                        break;
                    }
                }
                var _loop_1 = function () {
                    var transition = transitions[i];
                    if (transition.layerIndex !== layer.index)
                        return "continue";
                    if (transition.mute === true)
                        return "continue";
                    if (solo >= 0 && solo !== i)
                        return "continue";
                    var transitionOk = false;
                    // ..
                    // Check Has Transition Exit Time
                    // ..
                    var exitTimeSecs = BABYLON.Scalar.Denormalize(transition.exitTime, 0, length);
                    var exitTimeExpired = ((BABYLON.SceneManager.GetGameTime() - time) >= exitTimeSecs);
                    if (transition.hasExitTime === true && transition.intSource == BABYLON.InterruptionSource.None && exitTimeExpired === false)
                        return "continue";
                    // ..
                    // Check All Transition Conditions
                    // ..
                    if (transition.conditions != null && transition.conditions.length > 0) {
                        var passed_1 = 0;
                        var checks = transition.conditions.length;
                        transition.conditions.forEach(function (condition) {
                            var ptype = _this._parameters.get(condition.parameter);
                            if (ptype != null) {
                                if (ptype == BABYLON.AnimatorParameterType.Float || ptype == BABYLON.AnimatorParameterType.Int) {
                                    var numValue = parseFloat(_this.getFloat(condition.parameter).toFixed(2));
                                    if (condition.mode === BABYLON.ConditionMode.Greater && numValue > condition.threshold) {
                                        passed_1++;
                                    }
                                    else if (condition.mode === BABYLON.ConditionMode.Less && numValue < condition.threshold) {
                                        passed_1++;
                                    }
                                    else if (condition.mode === BABYLON.ConditionMode.Equals && numValue === condition.threshold) {
                                        passed_1++;
                                    }
                                    else if (condition.mode === BABYLON.ConditionMode.NotEqual && numValue !== condition.threshold) {
                                        passed_1++;
                                    }
                                }
                                else if (ptype == BABYLON.AnimatorParameterType.Bool) {
                                    var boolValue = _this.getBool(condition.parameter);
                                    if (condition.mode === BABYLON.ConditionMode.If && boolValue === true) {
                                        passed_1++;
                                    }
                                    else if (condition.mode === BABYLON.ConditionMode.IfNot && boolValue === false) {
                                        passed_1++;
                                    }
                                }
                                else if (ptype == BABYLON.AnimatorParameterType.Trigger) {
                                    var triggerValue = _this.getTrigger(condition.parameter);
                                    if (triggerValue === true) {
                                        passed_1++;
                                        // Note: For Loop Faster Than IndexOf
                                        var indexOfTrigger = -1;
                                        for (var i_1 = 0; i_1 < _this._checkers.triggered.length; i_1++) {
                                            if (_this._checkers.triggered[i_1] === condition.parameter) {
                                                indexOfTrigger = i_1;
                                                break;
                                            }
                                        }
                                        if (indexOfTrigger < 0) {
                                            _this._checkers.triggered.push(condition.parameter);
                                        }
                                    }
                                }
                            }
                        });
                        if (transition.hasExitTime === true) {
                            // ..
                            // TODO - CHECK TRANSITION INTERUPTION SOURCE STATUS
                            // ..
                            // Validate Transition Has Exit Time And All Conditions Passed
                            transitionOk = (exitTimeExpired === true && passed_1 === checks);
                        }
                        else {
                            // Validate All Transition Conditions Passed
                            transitionOk = (passed_1 === checks);
                        }
                    }
                    else {
                        // Validate Transition Has Expired Exit Time Only
                        transitionOk = (transition.hasExitTime === true && exitTimeExpired === true);
                    }
                    // Validate Current Transition Destination Change
                    if (transitionOk === true) {
                        var blendSize = (length > 0) ? length : 1;
                        var blendRate = (rate > 0) ? rate : BABYLON.AnimationState.FPS;
                        var destState = (transition.isExit === false) ? transition.destination : BABYLON.AnimationState.EXIT;
                        var offsetSecs = (transition.fixedDuration === true) ? transition.offset : BABYLON.Scalar.Denormalize(transition.offset, 0, blendSize);
                        var durationSecs = (transition.fixedDuration === true) ? transition.duration : BABYLON.Scalar.Denormalize(transition.duration, 0, blendSize);
                        var blendingSpeed = BABYLON.Utilities.ComputeBlendingSpeed(blendRate, durationSecs);
                        this_1._checkers.result = destState;
                        this_1._checkers.offest = offsetSecs;
                        this_1._checkers.blending = blendingSpeed;
                        return "break";
                    }
                };
                var this_1 = this;
                // ..
                // Check State Machine Transitions
                // ..
                for (i = 0; i < transitions.length; i++) {
                    var state_1 = _loop_1();
                    if (state_1 === "break")
                        break;
                }
            }
        };
        AnimationState.prototype.setCurrentAnimationState = function (layer, name, blending) {
            if (name == null || name === "" || name === BABYLON.AnimationState.EXIT)
                return;
            if (layer.animationStateMachine != null && layer.animationStateMachine.name === name)
                return;
            var state = this.getMachineState(name);
            // ..
            // Reset Animation Target Mixers
            // ..
            if (this.m_animationTargets != null && this.m_animationTargets.length > 0) {
                this.m_animationTargets.forEach(function (targetedAnim) {
                    var animationTarget = targetedAnim.target;
                    if (animationTarget.metadata != null && animationTarget.metadata.mixer != null) {
                        var animationTargetMixer = animationTarget.metadata.mixer[layer.index];
                        if (animationTargetMixer != null) {
                            animationTargetMixer.originalMatrix = null;
                            animationTargetMixer.blendingFactor = 0;
                            animationTargetMixer.blendingSpeed = blending;
                        }
                    }
                });
            }
            // ..
            // Setup Current Layer Animation State
            // ..
            if (state != null && state.layerIndex === layer.index) {
                state.time = 0;
                state.played = 0;
                state.interrupted = false;
                layer.animationTime = 0;
                layer.animationNormal = 0;
                layer.animationFirstRun = true;
                layer.animationEndFrame = false;
                layer.animationLoopFrame = false;
                layer.animationStateMachine = state;
                layer.animationStateMachine.time = BABYLON.SceneManager.GetGameTime();
                //console.warn("Set Animation State: " + this.transform.name + " --> " + name);
            }
        };
        AnimationState.prototype.checkAvatarTransformPath = function (layer, transformPath) {
            var result = false;
            if (this.m_avatarMask != null) {
                var transformIndex = this.m_avatarMask.get(transformPath);
                if (transformIndex != null && transformIndex >= 0) {
                    result = true;
                }
            }
            return result;
        };
        AnimationState.prototype.filterTargetAvatarMask = function (layer, target) {
            var result = false;
            if (target.metadata != null && target.metadata.unity != null && target.metadata.unity.bone != null && target.metadata.unity.bone !== "") {
                var transformPath = target.metadata.unity.bone;
                result = this.checkAvatarTransformPath(layer, transformPath);
            }
            return result;
        };
        AnimationState.prototype.sortWeightedBlendingList = function (weightList) {
            if (weightList != null && weightList.length > 0) {
                // Sort In Descending Order
                weightList.sort(function (left, right) {
                    if (left.weight < right.weight)
                        return 1;
                    if (left.weight > right.weight)
                        return -1;
                    return 0;
                });
            }
        };
        AnimationState.prototype.computeWeightedFrameRatio = function (weightList) {
            var result = 1.0;
            if (weightList != null && weightList.length > 0) {
                this.sortWeightedBlendingList(weightList);
                this._blendWeights.primary = weightList[0];
                var primaryWeight = this._blendWeights.primary.weight;
                if (primaryWeight < 1.0 && weightList.length > 1) {
                    this._blendWeights.secondary = weightList[1];
                }
                // ..
                if (this._blendWeights.primary != null && this._blendWeights.secondary != null) {
                    var frameWeightDelta = BABYLON.Scalar.Clamp(this._blendWeights.primary.weight);
                    result = BABYLON.Scalar.Lerp(this._blendWeights.secondary.ratio, this._blendWeights.primary.ratio, frameWeightDelta);
                }
                else if (this._blendWeights.primary != null && this._blendWeights.secondary == null) {
                    result = this._blendWeights.primary.ratio;
                }
            }
            return result;
        };
        ///////////////////////////////////////////////////////////////////////////////////////////////
        // Blend Tree Branches -  Helper Functions
        ///////////////////////////////////////////////////////////////////////////////////////////////
        AnimationState.prototype.setupTreeBranches = function (tree) {
            var _this = this;
            if (tree != null && tree.children != null && tree.children.length > 0) {
                tree.children.forEach(function (child) {
                    if (child.type === BABYLON.MotionType.Tree) {
                        _this.setupTreeBranches(child.subtree);
                    }
                    else if (child.type === BABYLON.MotionType.Clip) {
                        if (child.motion != null && child.motion !== "") {
                            child.weight = 0;
                            child.ratio = 0;
                            child.track = _this.getAnimationGroup(child.motion);
                            if (child.track != null)
                                child.ratio = (BABYLON.AnimationState.TIME / child.track.to);
                        }
                    }
                });
            }
        };
        AnimationState.prototype.parseTreeBranches = function (layer, tree, parentWeight, weightList) {
            if (tree != null) {
                tree.valueParameterX = (tree.blendParameterX != null) ? parseFloat(this.getFloat(tree.blendParameterX).toFixed(2)) : 0;
                tree.valueParameterY = (tree.blendParameterY != null) ? parseFloat(this.getFloat(tree.blendParameterY).toFixed(2)) : 0;
                switch (tree.blendType) {
                    case BABYLON.BlendTreeType.Simple1D:
                        this.parse1DSimpleTreeBranches(layer, tree, parentWeight, weightList);
                        break;
                    case BABYLON.BlendTreeType.SimpleDirectional2D:
                        this.parse2DSimpleDirectionalTreeBranches(layer, tree, parentWeight, weightList);
                        break;
                    case BABYLON.BlendTreeType.FreeformDirectional2D:
                        this.parse2DFreeformDirectionalTreeBranches(layer, tree, parentWeight, weightList);
                        break;
                    case BABYLON.BlendTreeType.FreeformCartesian2D:
                        this.parse2DFreeformCartesianTreeBranches(layer, tree, parentWeight, weightList);
                        break;
                }
            }
        };
        AnimationState.prototype.parse1DSimpleTreeBranches = function (layer, tree, parentWeight, weightList) {
            var _this = this;
            if (tree != null && tree.children != null && tree.children.length > 0) {
                var blendTreeArray_1 = [];
                tree.children.forEach(function (child) {
                    child.weight = 0; // Note: Reset Weight Value
                    var item = {
                        source: child,
                        motion: child.motion,
                        posX: child.threshold,
                        posY: child.threshold,
                        weight: child.weight
                    };
                    blendTreeArray_1.push(item);
                });
                BABYLON.BlendTreeSystem.Calculate1DSimpleBlendTree(tree.valueParameterX, blendTreeArray_1);
                blendTreeArray_1.forEach(function (element) {
                    if (element.source != null) {
                        element.source.weight = element.weight;
                    }
                });
                tree.children.forEach(function (child) {
                    child.weight *= parentWeight; // Note: Scale Weight Value
                    if (child.type === BABYLON.MotionType.Clip) {
                        if (child.weight > 0) {
                            weightList.push(child);
                        }
                    }
                    if (child.type === BABYLON.MotionType.Tree) {
                        _this.parseTreeBranches(layer, child.subtree, child.weight, weightList);
                    }
                });
            }
        };
        AnimationState.prototype.parse2DSimpleDirectionalTreeBranches = function (layer, tree, parentWeight, weightList) {
            var _this = this;
            if (tree != null && tree.children != null && tree.children.length > 0) {
                var blendTreeArray_2 = [];
                tree.children.forEach(function (child) {
                    child.weight = 0; // Note: Reset Weight Value
                    var item = {
                        source: child,
                        motion: child.motion,
                        posX: child.positionX,
                        posY: child.positionY,
                        weight: child.weight
                    };
                    blendTreeArray_2.push(item);
                });
                BABYLON.BlendTreeSystem.Calculate2DFreeformDirectional(tree.valueParameterX, tree.valueParameterY, blendTreeArray_2);
                blendTreeArray_2.forEach(function (element) {
                    if (element.source != null) {
                        element.source.weight = element.weight;
                    }
                });
                tree.children.forEach(function (child) {
                    child.weight *= parentWeight; // Note: Scale Weight Value
                    if (child.type === BABYLON.MotionType.Clip) {
                        if (child.weight > 0) {
                            weightList.push(child);
                        }
                    }
                    if (child.type === BABYLON.MotionType.Tree) {
                        _this.parseTreeBranches(layer, child.subtree, child.weight, weightList);
                    }
                });
            }
        };
        AnimationState.prototype.parse2DFreeformDirectionalTreeBranches = function (layer, tree, parentWeight, weightList) {
            var _this = this;
            if (tree != null && tree.children != null && tree.children.length > 0) {
                var blendTreeArray_3 = [];
                tree.children.forEach(function (child) {
                    child.weight = 0; // Note: Reset Weight Value
                    var item = {
                        source: child,
                        motion: child.motion,
                        posX: child.positionX,
                        posY: child.positionY,
                        weight: child.weight
                    };
                    blendTreeArray_3.push(item);
                });
                BABYLON.BlendTreeSystem.Calculate2DFreeformDirectional(tree.valueParameterX, tree.valueParameterY, blendTreeArray_3);
                blendTreeArray_3.forEach(function (element) {
                    if (element.source != null) {
                        element.source.weight = element.weight;
                    }
                });
                tree.children.forEach(function (child) {
                    child.weight *= parentWeight; // Note: Scale Weight Value
                    if (child.type === BABYLON.MotionType.Clip) {
                        if (child.weight > 0) {
                            weightList.push(child);
                        }
                    }
                    if (child.type === BABYLON.MotionType.Tree) {
                        _this.parseTreeBranches(layer, child.subtree, child.weight, weightList);
                    }
                });
            }
        };
        AnimationState.prototype.parse2DFreeformCartesianTreeBranches = function (layer, tree, parentWeight, weightList) {
            var _this = this;
            if (tree != null && tree.children != null && tree.children.length > 0) {
                var blendTreeArray_4 = [];
                tree.children.forEach(function (child) {
                    child.weight = 0; // Note: Reset Weight Value
                    var item = {
                        source: child,
                        motion: child.motion,
                        posX: child.positionX,
                        posY: child.positionY,
                        weight: child.weight
                    };
                    blendTreeArray_4.push(item);
                });
                BABYLON.BlendTreeSystem.Calculate2DFreeformCartesian(tree.valueParameterX, tree.valueParameterY, blendTreeArray_4);
                blendTreeArray_4.forEach(function (element) {
                    if (element.source != null) {
                        element.source.weight = element.weight;
                    }
                });
                tree.children.forEach(function (child) {
                    child.weight *= parentWeight; // Note: Scale Weight Value
                    if (child.type === BABYLON.MotionType.Clip) {
                        if (child.weight > 0) {
                            weightList.push(child);
                        }
                    }
                    if (child.type === BABYLON.MotionType.Tree) {
                        _this.parseTreeBranches(layer, child.subtree, child.weight, weightList);
                    }
                });
            }
        };
        AnimationState.FPS = 30;
        AnimationState.TIME = 1;
        AnimationState.EXIT = "[EXIT]";
        AnimationState.MOTION = 0.001;
        return AnimationState;
    }(BABYLON.ScriptComponent));
    BABYLON.AnimationState = AnimationState;
    ///////////////////////////////////////////
    // Support Classes, Blend Tree Utilities
    ///////////////////////////////////////////
    var BlendTreeValue = /** @class */ (function () {
        function BlendTreeValue(config) {
            this.source = config.source;
            this.motion = config.motion;
            this.posX = config.posX || 0;
            this.posY = config.posY || 0;
            this.weight = config.weight || 0;
        }
        return BlendTreeValue;
    }());
    BABYLON.BlendTreeValue = BlendTreeValue;
    var BlendTreeUtils = /** @class */ (function () {
        function BlendTreeUtils() {
        }
        BlendTreeUtils.ClampValue = function (num, min, max) {
            return num <= min ? min : num >= max ? max : num;
        };
        BlendTreeUtils.GetSignedAngle = function (a, b) {
            return Math.atan2(a.x * b.y - a.y * b.x, a.x * b.x + a.y * b.y);
        };
        BlendTreeUtils.GetLinearInterpolation = function (x0, y0, x1, y1, x) {
            return y0 + (x - x0) * ((y1 - y0) / (x1 - x0));
        };
        BlendTreeUtils.GetRightNeighbourIndex = function (inputX, blendTreeArray) {
            blendTreeArray.sort(function (a, b) { return (a.posX - b.posX); });
            for (var i = 0; i < blendTreeArray.length; ++i) {
                if (blendTreeArray[i].posX > inputX) {
                    return i;
                }
            }
            return -1;
        };
        return BlendTreeUtils;
    }());
    BABYLON.BlendTreeUtils = BlendTreeUtils;
    var BlendTreeSystem = /** @class */ (function () {
        function BlendTreeSystem() {
        }
        BlendTreeSystem.Calculate1DSimpleBlendTree = function (inputX, blendTreeArray) {
            var firstBlendTree = blendTreeArray[0];
            var lastBlendTree = blendTreeArray[blendTreeArray.length - 1];
            if (inputX <= firstBlendTree.posX) {
                firstBlendTree.weight = 1;
            }
            else if (inputX >= lastBlendTree.posX) {
                lastBlendTree.weight = 1;
            }
            else {
                var rightNeighbourBlendTreeIndex = BABYLON.BlendTreeUtils.GetRightNeighbourIndex(inputX, blendTreeArray);
                var leftNeighbour = blendTreeArray[rightNeighbourBlendTreeIndex - 1];
                var rightNeighbour = blendTreeArray[rightNeighbourBlendTreeIndex];
                var interpolatedValue = BABYLON.BlendTreeUtils.GetLinearInterpolation(leftNeighbour.posX, 1, rightNeighbour.posX, 0, inputX);
                leftNeighbour.weight = interpolatedValue;
                rightNeighbour.weight = 1 - leftNeighbour.weight;
            }
        };
        BlendTreeSystem.Calculate2DFreeformDirectional = function (inputX, inputY, blendTreeArray) {
            BABYLON.BlendTreeSystem.TempVector2_IP.set(inputX, inputY);
            BABYLON.BlendTreeSystem.TempVector2_POSI.set(0, 0);
            BABYLON.BlendTreeSystem.TempVector2_POSJ.set(0, 0);
            BABYLON.BlendTreeSystem.TempVector2_POSIP.set(0, 0);
            BABYLON.BlendTreeSystem.TempVector2_POSIJ.set(0, 0);
            var kDirScale = 2;
            var totalWeight = 0;
            var inputLength = BABYLON.BlendTreeSystem.TempVector2_IP.length();
            for (var i = 0; i < blendTreeArray.length; ++i) {
                var blendTree = blendTreeArray[i];
                BABYLON.BlendTreeSystem.TempVector2_POSI.set(blendTree.posX, blendTree.posY);
                var posILength = BABYLON.BlendTreeSystem.TempVector2_POSI.length();
                var inputToPosILength = (inputLength - posILength);
                var posIToInputAngle = BABYLON.BlendTreeUtils.GetSignedAngle(BABYLON.BlendTreeSystem.TempVector2_POSI, BABYLON.BlendTreeSystem.TempVector2_IP);
                var weight = 1;
                for (var j = 0; j < blendTreeArray.length; ++j) {
                    if (j === i) {
                        continue;
                    }
                    else {
                        BABYLON.BlendTreeSystem.TempVector2_POSJ.set(blendTreeArray[j].posX, blendTreeArray[j].posY);
                        var posJLength = BABYLON.BlendTreeSystem.TempVector2_POSJ.length();
                        var averageLengthOfIJ = (posILength + posJLength) / 2;
                        var magOfPosIToInputPos = (inputToPosILength / averageLengthOfIJ);
                        var magOfIJ = (posJLength - posILength) / averageLengthOfIJ;
                        var angleIJ = BABYLON.BlendTreeUtils.GetSignedAngle(BABYLON.BlendTreeSystem.TempVector2_POSI, BABYLON.BlendTreeSystem.TempVector2_POSJ);
                        BABYLON.BlendTreeSystem.TempVector2_POSIP.set(magOfPosIToInputPos, posIToInputAngle * kDirScale);
                        BABYLON.BlendTreeSystem.TempVector2_POSIJ.set(magOfIJ, angleIJ * kDirScale);
                        var lenSqIJ = BABYLON.BlendTreeSystem.TempVector2_POSIJ.lengthSquared();
                        var newWeight = BABYLON.Vector2.Dot(BABYLON.BlendTreeSystem.TempVector2_POSIP, BABYLON.BlendTreeSystem.TempVector2_POSIJ) / lenSqIJ;
                        newWeight = 1 - newWeight;
                        newWeight = BABYLON.BlendTreeUtils.ClampValue(newWeight, 0, 1);
                        weight = Math.min(newWeight, weight);
                    }
                }
                blendTree.weight = weight;
                totalWeight += weight;
            }
            for (var _i = 0, blendTreeArray_5 = blendTreeArray; _i < blendTreeArray_5.length; _i++) {
                var blendTree = blendTreeArray_5[_i];
                blendTree.weight /= totalWeight;
            }
        };
        BlendTreeSystem.Calculate2DFreeformCartesian = function (inputX, inputY, blendTreeArray) {
            BABYLON.BlendTreeSystem.TempVector2_IP.set(inputX, inputY);
            BABYLON.BlendTreeSystem.TempVector2_POSI.set(0, 0);
            BABYLON.BlendTreeSystem.TempVector2_POSJ.set(0, 0);
            BABYLON.BlendTreeSystem.TempVector2_POSIP.set(0, 0);
            BABYLON.BlendTreeSystem.TempVector2_POSIJ.set(0, 0);
            var totalWeight = 0;
            for (var i = 0; i < blendTreeArray.length; ++i) {
                var blendTree = blendTreeArray[i];
                BABYLON.BlendTreeSystem.TempVector2_POSI.set(blendTree.posX, blendTree.posY);
                BABYLON.BlendTreeSystem.TempVector2_IP.subtractToRef(BABYLON.BlendTreeSystem.TempVector2_POSI, BABYLON.BlendTreeSystem.TempVector2_POSIP);
                var weight = 1;
                for (var j = 0; j < blendTreeArray.length; ++j) {
                    if (j === i) {
                        continue;
                    }
                    else {
                        BABYLON.BlendTreeSystem.TempVector2_POSJ.set(blendTreeArray[j].posX, blendTreeArray[j].posY);
                        BABYLON.BlendTreeSystem.TempVector2_POSJ.subtractToRef(BABYLON.BlendTreeSystem.TempVector2_POSI, BABYLON.BlendTreeSystem.TempVector2_POSIJ);
                        var lenSqIJ = BABYLON.BlendTreeSystem.TempVector2_POSIJ.lengthSquared();
                        var newWeight = BABYLON.Vector2.Dot(BABYLON.BlendTreeSystem.TempVector2_POSIP, BABYLON.BlendTreeSystem.TempVector2_POSIJ) / lenSqIJ;
                        newWeight = 1 - newWeight;
                        newWeight = BABYLON.BlendTreeUtils.ClampValue(newWeight, 0, 1);
                        weight = Math.min(weight, newWeight);
                    }
                }
                blendTree.weight = weight;
                totalWeight += weight;
            }
            for (var _i = 0, blendTreeArray_6 = blendTreeArray; _i < blendTreeArray_6.length; _i++) {
                var blendTree = blendTreeArray_6[_i];
                blendTree.weight /= totalWeight;
            }
        };
        BlendTreeSystem.TempVector2_IP = new BABYLON.Vector2(0, 0);
        BlendTreeSystem.TempVector2_POSI = new BABYLON.Vector2(0, 0);
        BlendTreeSystem.TempVector2_POSJ = new BABYLON.Vector2(0, 0);
        BlendTreeSystem.TempVector2_POSIP = new BABYLON.Vector2(0, 0);
        BlendTreeSystem.TempVector2_POSIJ = new BABYLON.Vector2(0, 0);
        return BlendTreeSystem;
    }());
    BABYLON.BlendTreeSystem = BlendTreeSystem;
    ///////////////////////////////////////////
    // Support Classes, Enums And Interfaces
    ///////////////////////////////////////////
    var MachineState = /** @class */ (function () {
        function MachineState() {
        }
        return MachineState;
    }());
    BABYLON.MachineState = MachineState;
    var TransitionCheck = /** @class */ (function () {
        function TransitionCheck() {
        }
        return TransitionCheck;
    }());
    BABYLON.TransitionCheck = TransitionCheck;
    var AnimationMixer = /** @class */ (function () {
        function AnimationMixer() {
        }
        return AnimationMixer;
    }());
    BABYLON.AnimationMixer = AnimationMixer;
    var BlendingWeights = /** @class */ (function () {
        function BlendingWeights() {
        }
        return BlendingWeights;
    }());
    BABYLON.BlendingWeights = BlendingWeights;
    var MotionType;
    (function (MotionType) {
        MotionType[MotionType["Clip"] = 0] = "Clip";
        MotionType[MotionType["Tree"] = 1] = "Tree";
    })(MotionType = BABYLON.MotionType || (BABYLON.MotionType = {}));
    var ConditionMode;
    (function (ConditionMode) {
        ConditionMode[ConditionMode["If"] = 1] = "If";
        ConditionMode[ConditionMode["IfNot"] = 2] = "IfNot";
        ConditionMode[ConditionMode["Greater"] = 3] = "Greater";
        ConditionMode[ConditionMode["Less"] = 4] = "Less";
        ConditionMode[ConditionMode["Equals"] = 6] = "Equals";
        ConditionMode[ConditionMode["NotEqual"] = 7] = "NotEqual";
    })(ConditionMode = BABYLON.ConditionMode || (BABYLON.ConditionMode = {}));
    var InterruptionSource;
    (function (InterruptionSource) {
        InterruptionSource[InterruptionSource["None"] = 0] = "None";
        InterruptionSource[InterruptionSource["Source"] = 1] = "Source";
        InterruptionSource[InterruptionSource["Destination"] = 2] = "Destination";
        InterruptionSource[InterruptionSource["SourceThenDestination"] = 3] = "SourceThenDestination";
        InterruptionSource[InterruptionSource["DestinationThenSource"] = 4] = "DestinationThenSource";
    })(InterruptionSource = BABYLON.InterruptionSource || (BABYLON.InterruptionSource = {}));
    var BlendTreeType;
    (function (BlendTreeType) {
        BlendTreeType[BlendTreeType["Simple1D"] = 0] = "Simple1D";
        BlendTreeType[BlendTreeType["SimpleDirectional2D"] = 1] = "SimpleDirectional2D";
        BlendTreeType[BlendTreeType["FreeformDirectional2D"] = 2] = "FreeformDirectional2D";
        BlendTreeType[BlendTreeType["FreeformCartesian2D"] = 3] = "FreeformCartesian2D";
        BlendTreeType[BlendTreeType["Direct"] = 4] = "Direct";
        BlendTreeType[BlendTreeType["Clip"] = 5] = "Clip";
    })(BlendTreeType = BABYLON.BlendTreeType || (BABYLON.BlendTreeType = {}));
    var BlendTreePosition;
    (function (BlendTreePosition) {
        BlendTreePosition[BlendTreePosition["Lower"] = 0] = "Lower";
        BlendTreePosition[BlendTreePosition["Upper"] = 1] = "Upper";
    })(BlendTreePosition = BABYLON.BlendTreePosition || (BABYLON.BlendTreePosition = {}));
    var AnimatorParameterType;
    (function (AnimatorParameterType) {
        AnimatorParameterType[AnimatorParameterType["Float"] = 1] = "Float";
        AnimatorParameterType[AnimatorParameterType["Int"] = 3] = "Int";
        AnimatorParameterType[AnimatorParameterType["Bool"] = 4] = "Bool";
        AnimatorParameterType[AnimatorParameterType["Trigger"] = 9] = "Trigger";
    })(AnimatorParameterType = BABYLON.AnimatorParameterType || (BABYLON.AnimatorParameterType = {}));
})(BABYLON || (BABYLON = {}));
var BABYLON;
(function (BABYLON) {
    /**
     * Babylon audio source manager pro class
     * @class AudioSource - All rights reserved (c) 2020 Mackey Kinard
     */
    var AudioSource = /** @class */ (function (_super) {
        __extends(AudioSource, _super);
        function AudioSource() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this._audio = null;
            _this._name = null;
            _this._file = null;
            _this._loop = false;
            _this._mute = false;
            _this._volume = 1;
            _this._pitch = 1;
            _this._priority = 128;
            _this._panstereo = 0;
            _this._mindistance = 1;
            _this._maxdistance = 50;
            _this._rolloffmode = "linear";
            _this._rollofffactor = 1;
            _this._playonawake = true;
            _this._spatialblend = 0;
            _this._reverbzonemix = 1;
            _this._lastmutedvolume = null;
            _this._bypasseffects = false;
            _this._bypassreverbzones = false;
            _this._bypasslistenereffects = false;
            _this._initializedReadyInstance = false;
            /** Register handler that is triggered when the audio clip is ready */
            _this.onReadyObservable = new BABYLON.Observable();
            return _this;
        }
        AudioSource.prototype.getSoundClip = function () { return this._audio; };
        AudioSource.prototype.getAudioElement = function () { return (this._audio != null) ? this._audio._htmlAudioElement : null; };
        AudioSource.prototype.awake = function () { this.awakeAudioSource(); };
        AudioSource.prototype.destroy = function () { this.destroyAudioSource(); };
        AudioSource.prototype.awakeAudioSource = function () {
            var _this = this;
            this._name = this.getProperty("name", this._name);
            this._file = this.getProperty("file", this._file);
            this._loop = this.getProperty("loop", this._loop);
            this._mute = this.getProperty("mute", this._mute);
            this._volume = this.getProperty("volume", this._volume);
            this._pitch = this.getProperty("pitch", this._pitch);
            this._priority = this.getProperty("priority", this._priority);
            this._panstereo = this.getProperty("panstereo", this._panstereo);
            this._playonawake = this.getProperty("playonawake", this._playonawake);
            this._mindistance = this.getProperty("mindistance", this._mindistance);
            this._maxdistance = this.getProperty("maxdistance", this._maxdistance);
            this._rolloffmode = this.getProperty("rolloffmode", this._rolloffmode);
            this._rollofffactor = this.getProperty("rollofffactor", this._rollofffactor);
            this._spatialblend = this.getProperty("spatialblend", this._spatialblend);
            this._reverbzonemix = this.getProperty("reverbzonemix", this._reverbzonemix);
            this._bypasseffects = this.getProperty("bypasseffects", this._bypasseffects);
            this._bypassreverbzones = this.getProperty("bypassreverbzones", this._bypassreverbzones);
            this._bypasslistenereffects = this.getProperty("bypasslistenereffects", this._bypasslistenereffects);
            // ..
            var htmlAudioElementRequired = (this.transform.metadata != null && this.transform.metadata.vtt != null && this.transform.metadata.vtt === true);
            if (this._name == null || this._name === "")
                this._name = "Unknown";
            if (this._file != null && this._file !== "") {
                var rootUrl = BABYLON.SceneManager.GetRootUrl(this.scene);
                var spatialBlend = (this._spatialblend >= 0.1);
                var distanceModel = (this._rolloffmode === "logarithmic") ? "exponential" : "linear";
                // ..
                // TODO - Use Custom Loader For Progress - ???
                // ..
                this._audio = new BABYLON.Sound(this._name, (rootUrl + this._file), this.scene, function () {
                    if (_this._mute === true) {
                        _this._lastmutedvolume = _this._volume;
                        _this._audio.setVolume(0);
                    }
                    else {
                        _this._audio.setVolume(_this._volume);
                    }
                    _this._audio.setVolume((_this._mute === true) ? 0 : _this._volume);
                    _this._audio.setPlaybackRate(_this._pitch);
                    _this._initializedReadyInstance = true;
                    if (_this.onReadyObservable.hasObservers() === true) {
                        _this.onReadyObservable.notifyObservers(_this._audio);
                    }
                }, {
                    loop: this._loop,
                    autoplay: this._playonawake,
                    refDistance: this._mindistance,
                    maxDistance: this._maxdistance,
                    rolloffFactor: this._rollofffactor,
                    spatialSound: spatialBlend,
                    distanceModel: distanceModel,
                    streaming: htmlAudioElementRequired
                });
                this._audio.setPosition(this.transform.position.clone());
                if (spatialBlend === true)
                    this._audio.attachToMesh(this.transform);
            }
        };
        AudioSource.prototype.destroyAudioSource = function () {
            this.onReadyObservable.clear();
            this.onReadyObservable = null;
            if (this._audio != null) {
                this._audio.dispose();
                this._audio = null;
            }
        };
        /**
         * Gets the ready status for track
         */
        AudioSource.prototype.isReady = function () {
            var result = false;
            if (this._audio != null) {
                result = this._audio.isReady();
            }
            return result;
        };
        /**
         * Gets the playing status for track
         */
        AudioSource.prototype.isPlaying = function () {
            var result = false;
            if (this._audio != null) {
                result = this._audio.isPlaying;
            }
            return result;
        };
        /**
         * Gets the paused status for track
         */
        AudioSource.prototype.isPaused = function () {
            var result = false;
            if (this._audio != null) {
                result = this._audio.isPaused;
            }
            return result;
        };
        /**
         * Play the sound track
         * @param time (optional) Start the sound after X seconds. Start immediately (0) by default.
         * @param offset (optional) Start the sound at a specific time in seconds
         * @param length (optional) Sound duration (in seconds)
         */
        AudioSource.prototype.play = function (time, offset, length) {
            var _this = this;
            var result = false;
            if (this._audio != null) {
                if (this._initializedReadyInstance === true) {
                    this._audio.play(time, offset, length);
                }
                else {
                    this.onReadyObservable.addOnce(function () { _this._audio.play(time, offset, length); });
                }
                result = true;
            }
            return result;
        };
        /**
         * Pause the sound track
         */
        AudioSource.prototype.pause = function () {
            var result = false;
            if (this._audio != null) {
                this._audio.pause();
                result = true;
            }
            return result;
        };
        /**
         * Stop the sound track
         * @param time (optional) Start the sound after X seconds. Start immediately (0) by default.
         */
        AudioSource.prototype.stop = function (time) {
            var result = false;
            if (this._audio != null) {
                this._audio.stop(time);
                result = true;
            }
            return result;
        };
        /**
         * Mute the sound track
         * @param time (optional) Mute the sound after X seconds. Start immediately (0) by default.
         */
        AudioSource.prototype.mute = function (time) {
            var result = false;
            if (this._audio != null) {
                this._lastmutedvolume = this._audio.getVolume();
                this._audio.setVolume(0, time);
            }
            return result;
        };
        /**
         * Unmute the sound track
         * @param time (optional) Unmute the sound after X seconds. Start immediately (0) by default.
         */
        AudioSource.prototype.unmute = function (time) {
            var result = false;
            if (this._audio != null) {
                if (this._lastmutedvolume != null) {
                    this._audio.setVolume(this._lastmutedvolume, time);
                    this._lastmutedvolume = null;
                }
            }
            return result;
        };
        /**
         * Gets the volume of the track
         */
        AudioSource.prototype.getVolume = function () {
            var result = 0;
            if (this._audio != null) {
                result = this._audio.getVolume();
            }
            return result;
        };
        /**
         * Sets the volume of the track
         * @param volume Define the new volume of the sound
         * @param time Define time for gradual change to new volume
         */
        AudioSource.prototype.setVolume = function (volume, time) {
            var result = false;
            if (this._audio != null) {
                this._audio.setVolume(volume, time);
                result = true;
            }
            return result;
        };
        /**
         * Gets the spatial sound option of the track
         */
        AudioSource.prototype.getSpatialSound = function () {
            var result = false;
            if (this._audio != null) {
                result = this._audio.spatialSound;
            }
            return result;
        };
        /**
         * Gets the spatial sound option of the track
         * @param value Define the value of the spatial sound
         */
        AudioSource.prototype.setSpatialSound = function (value) {
            if (this._audio != null) {
                this._audio.spatialSound = value;
            }
        };
        /**
         * Sets the sound track playback speed
         * @param rate the audio playback rate
         */
        AudioSource.prototype.setPlaybackSpeed = function (rate) {
            if (this._audio != null) {
                this._audio.setPlaybackRate(rate);
            }
        };
        /**
         * Gets the current time of the track
         */
        AudioSource.prototype.getCurrentTrackTime = function () {
            var result = 0;
            if (this._audio != null) {
                result = this._audio.currentTime;
            }
            return result;
        };
        return AudioSource;
    }(BABYLON.ScriptComponent));
    BABYLON.AudioSource = AudioSource;
})(BABYLON || (BABYLON = {}));
var BABYLON;
(function (BABYLON) {
    /**
     * Babylon kinematic character controller pro class (Native Bullet Physics 2.82)
     * @class CharacterController - All rights reserved (c) 2020 Mackey Kinard
     */
    var CharacterController = /** @class */ (function (_super) {
        __extends(CharacterController, _super);
        function CharacterController() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this._abstractMesh = null;
            _this._avatarRadius = 0.5;
            _this._avatarHeight = 2;
            _this._centerOffset = new BABYLON.Vector3(0, 0, 0);
            _this._skinWidth = 0.08;
            _this._stepOffset = 0.3;
            _this._slopeLimit = 45;
            _this._capsuleSegments = 16;
            _this._minMoveDistance = 0.001;
            _this._isPhysicsReady = false;
            _this._maxCollisions = 4;
            _this._useGhostSweepTest = false;
            _this._tmpCollisionContacts = null;
            _this.updatePosition = true;
            _this.m_character = null;
            _this.m_ghostShape = null;
            _this.m_ghostObject = null;
            _this.m_ghostCollision = null;
            _this.m_ghostTransform = null;
            _this.m_ghostPosition = null;
            _this.m_startPosition = null;
            _this.m_startTransform = null;
            _this.m_walkDirection = null;
            _this.m_warpPosition = null;
            _this.m_turningRate = 0;
            _this.m_moveDeltaX = 0;
            _this.m_moveDeltaZ = 0;
            _this.m_physicsEngine = null;
            _this.m_collisionPosition = BABYLON.Vector3.Zero();
            ///////////////////////////////////////////////////
            // Character Controller Observer Event Functions //
            ///////////////////////////////////////////////////
            /** Register handler that is triggered when the transform position has been updated */
            _this.onUpdatePositionObservable = new BABYLON.Observable();
            /** Register handler that is triggered when the a collision contact has entered */
            _this.onCollisionEnterObservable = new BABYLON.Observable();
            /** Register handler that is triggered when the a collision contact is active */
            _this.onCollisionStayObservable = new BABYLON.Observable();
            /** Register handler that is triggered when the a collision contact has exited */
            _this.onCollisionExitObservable = new BABYLON.Observable();
            return _this;
        }
        CharacterController.prototype.getInternalCharacter = function () { return this.m_character; };
        CharacterController.prototype.getAvatarRadius = function () { return this._avatarRadius; };
        CharacterController.prototype.getAvatarHeight = function () { return this._avatarHeight; };
        CharacterController.prototype.getSkinWidth = function () { return this._skinWidth; };
        CharacterController.prototype.getStepOffset = function () { return this._stepOffset; };
        CharacterController.prototype.getUseSweepTest = function () { return this._useGhostSweepTest; };
        CharacterController.prototype.getMinMoveDistance = function () { return this._minMoveDistance; };
        CharacterController.prototype.setMinMoveDistance = function (distance) { this._minMoveDistance = distance; };
        CharacterController.prototype.getVerticalVelocity = function () { return (this.m_character != null && this.m_character.getVerticalVelocity) ? this.m_character.getVerticalVelocity() : 0; }; // Note: Toolkit Addon Function
        CharacterController.prototype.getAddedMargin = function () { return (this.m_character != null && this.m_character.getAddedMargin) ? this.m_character.getAddedMargin() : 0; }; // Note: Toolkit Addon Function
        CharacterController.prototype.setAddedMargin = function (margin) { if (this.m_character != null && this.m_character.getAddedMargin)
            this.m_character.setAddedMargin(margin); }; // Note: Toolkit Addon Function
        CharacterController.prototype.setMaxJumpHeight = function (maxJumpHeight) { if (this.m_character != null)
            this.m_character.setMaxJumpHeight(maxJumpHeight); };
        CharacterController.prototype.setFallingSpeed = function (fallSpeed) { if (this.m_character != null)
            this.m_character.setFallSpeed(fallSpeed); };
        CharacterController.prototype.getSlopeLimit = function () { return (this.m_character != null) ? this.m_character.getMaxSlope() : 0; };
        CharacterController.prototype.setSlopeLimit = function (slopeRadians) { if (this.m_character != null)
            this.m_character.setMaxSlope(slopeRadians); };
        CharacterController.prototype.setUpAxis = function (axis) { if (this.m_character != null)
            this.m_character.setUpAxis(axis); };
        CharacterController.prototype.getGravity = function () { return (this.m_character != null) ? this.m_character.getGravity() : 0; };
        CharacterController.prototype.setGravity = function (gravity) { if (this.m_character != null)
            this.m_character.setGravity(gravity); };
        CharacterController.prototype.isGrounded = function () { return (this.m_character != null) ? this.m_character.onGround() : false; };
        CharacterController.prototype.isReady = function () { return (this.m_character != null); };
        CharacterController.prototype.canJump = function () { return (this.m_character != null) ? this.m_character.canJump() : false; };
        CharacterController.prototype.internalWarp = function (position) { if (this.m_character != null)
            this.m_character.warp(position); }; // Position: Ammo.btVector3
        CharacterController.prototype.internalJump = function () { if (this.m_character != null)
            this.m_character.jump(); };
        CharacterController.prototype.internalSetJumpSpeed = function (speed) { if (this.m_character != null)
            this.m_character.setJumpSpeed(speed); };
        CharacterController.prototype.internalSetWalkDirection = function (direction) { if (this.m_character != null)
            this.m_character.setWalkDirection(direction); }; // Direction: Ammo.btVector3
        CharacterController.prototype.internalSetVelocityForTimeInterval = function (velocity, interval) { if (this.m_character != null)
            this.m_character.setVelocityForTimeInterval(velocity, interval); }; // Velocity: Ammo.btVector3
        CharacterController.prototype.awake = function () { this.awakeMovementState(); };
        CharacterController.prototype.start = function () { this.startMovementState(); };
        CharacterController.prototype.update = function () { this.updateMovementState(); };
        CharacterController.prototype.destroy = function () { this.destroyMovementState(); };
        //////////////////////////////////////////////////
        // Protected Character Movement State Functions //
        //////////////////////////////////////////////////
        CharacterController.prototype.awakeMovementState = function () {
            this._abstractMesh = this.getAbstractMesh();
            this._avatarRadius = this.getProperty("avatarRadius", this._avatarRadius);
            this._avatarHeight = this.getProperty("avatarHeight", this._avatarHeight);
            this._skinWidth = this.getProperty("skinWidth", this._skinWidth);
            this._slopeLimit = this.getProperty("slopeLimit", this._slopeLimit);
            this._stepOffset = this.getProperty("stepOffset", this._stepOffset);
            this._minMoveDistance = this.getProperty("minMoveDistance", this._minMoveDistance);
            this._capsuleSegments = this.getProperty("capsuleSegments", this._capsuleSegments);
            this._useGhostSweepTest = this.getProperty("useGhostSweepTest", this._useGhostSweepTest);
            this.m_warpPosition = new Ammo.btVector3(0, 0, 0);
            this.m_walkDirection = new Ammo.btVector3(0, 0, 0);
            this.m_physicsEngine = BABYLON.SceneManager.GetPhysicsEngine(this.scene);
            //
            var centerOffsetData = this.getProperty("centerOffset");
            if (centerOffsetData != null)
                this._centerOffset = BABYLON.Utilities.ParseVector3(centerOffsetData);
            // console.warn("Starting Character Controller For: " + this.transform.name);
            this.setMaxNotifications(this._maxCollisions);
            var world = BABYLON.SceneManager.GetPhysicsWorld(this.scene);
            if (world != null) {
                var startingPos = BABYLON.Utilities.GetAbsolutePosition(this.transform, this._centerOffset);
                this.m_startPosition = new Ammo.btVector3(startingPos.x, startingPos.y, startingPos.z);
                this.m_startTransform = new Ammo.btTransform();
                this.m_startTransform.setIdentity();
                this.m_startTransform.setOrigin(this.m_startPosition);
                // ..
                // Create a debug collision shape
                // ..
                var showDebugColliders = BABYLON.Utilities.ShowDebugColliders();
                var colliderVisibility = BABYLON.Utilities.ColliderVisibility();
                if (showDebugColliders === true && this.transform._debugCollider == null) {
                    var capsuleSize = new BABYLON.Vector3(this._avatarRadius, this._avatarHeight, 1);
                    capsuleSize.x *= Math.max(Math.abs(this.transform.scaling.x), Math.abs(this.transform.scaling.z));
                    capsuleSize.y *= this.transform.scaling.y;
                    var debugName = this.transform.name + ".Debug";
                    var debugCapsule = BABYLON.MeshBuilder.CreateCapsule(debugName, { tessellation: this._capsuleSegments, subdivisions: 8, capSubdivisions: 16, height: capsuleSize.y, radius: capsuleSize.x }, this.scene);
                    debugCapsule.position.set(0, 0, 0);
                    debugCapsule.rotationQuaternion = this.transform.rotationQuaternion.clone();
                    debugCapsule.setParent(this.transform);
                    debugCapsule.position.copyFrom(this._centerOffset);
                    debugCapsule.visibility = colliderVisibility;
                    debugCapsule.material = BABYLON.Utilities.GetColliderMaterial(this.scene);
                    debugCapsule.checkCollisions = false;
                    debugCapsule.isPickable = false;
                    this.transform._debugCollider = debugCapsule;
                }
                // Create a ghost collision shape
                this.m_ghostShape = new Ammo.btCapsuleShape(this._avatarRadius, this._avatarHeight / 2);
                this.m_ghostShape.setMargin((this._skinWidth + BABYLON.CharacterController.MARGIN_FACTOR));
                // Create a ghost collision object
                this.m_ghostObject = new Ammo.btPairCachingGhostObject();
                this.m_ghostObject.setWorldTransform(this.m_startTransform);
                this.m_ghostObject.setCollisionShape(this.m_ghostShape);
                this.m_ghostObject.setCollisionFlags(BABYLON.CollisionFlags.CF_CHARACTER_OBJECT);
                // Create a ghost collision casting
                this.m_ghostCollision = Ammo.castObject(this.m_ghostObject, Ammo.btCollisionObject);
                // DEPRECIATED: this.m_ghostCollision.setContactProcessingThreshold(0);
                this.m_ghostCollision.entity = this._abstractMesh;
                // Create kinematic character controller
                this.m_character = new Ammo.btKinematicCharacterController(this.m_ghostObject, this.m_ghostShape, this._stepOffset);
                this.m_character.setUseGhostSweepTest(this._useGhostSweepTest);
                this.m_character.setUpInterpolate(true);
                this.m_character.setMaxSlope(BABYLON.Tools.ToRadians(this._slopeLimit));
                this.m_character.setGravity(BABYLON.System.Gravity3G);
                // Add ghost object and character to world
                world.addCollisionObject(this.m_ghostObject, BABYLON.CollisionFilters.CharacterFilter, BABYLON.CollisionFilters.StaticFilter | BABYLON.CollisionFilters.DefaultFilter | BABYLON.CollisionFilters.CharacterFilter);
                world.addAction(this.m_character);
            }
            else {
                BABYLON.Tools.Warn("Null physics world detected. Failed to create character controller: " + this.transform.name);
            }
            this._isPhysicsReady = (this.m_physicsEngine != null && this._tmpCollisionContacts != null && this.m_ghostObject != null && this._abstractMesh != null);
        };
        CharacterController.prototype.startMovementState = function () {
            this.updateMovementState();
        };
        CharacterController.prototype.syncMovementState = function () {
            if (this._isPhysicsReady === true) {
                this.m_ghostTransform = this.m_ghostObject.getWorldTransform();
                if (this.m_ghostTransform != null) {
                    this.m_ghostPosition = this.m_ghostTransform.getOrigin();
                }
                else {
                    this.m_ghostPosition = null;
                }
            }
        };
        CharacterController.prototype.updateMovementState = function () {
            this.syncMovementState();
            if (this._isPhysicsReady === true) {
                if (this.m_ghostPosition != null) {
                    if (this.updatePosition === true) {
                        // DEPRECIATED: this.transform.position.set(this.m_ghostPosition.x(), this.m_ghostPosition.y(), this.m_ghostPosition.z());
                        this.m_collisionPosition.set(this.m_ghostPosition.x(), this.m_ghostPosition.y(), this.m_ghostPosition.z());
                        if (this._centerOffset != null) {
                            // Note: Subtract Character Controller Center Offset
                            this.m_collisionPosition.subtractInPlace(this._centerOffset);
                        }
                        this.transform.position.copyFrom(this.m_collisionPosition);
                    }
                    else {
                        this.setGhostWorldPosition(this.transform.position);
                    }
                    if (this.onUpdatePositionObservable.hasObservers() === true) {
                        this.onUpdatePositionObservable.notifyObservers(this.transform);
                    }
                }
            }
            this.parseGhostCollisionContacts();
        };
        CharacterController.prototype.parseGhostCollisionContacts = function () {
            if (this._isPhysicsReady === true) {
                var hasEnterObservers = this.onCollisionEnterObservable.hasObservers();
                var hasStayObservers = this.onCollisionStayObservable.hasObservers();
                var hasExitObservers = this.onCollisionExitObservable.hasObservers();
                if (hasEnterObservers || hasStayObservers || hasExitObservers) {
                    var index = 0; // Note: Flag All Collision List Items For End Contact State
                    for (index = 0; index < this._tmpCollisionContacts.length; index++) {
                        this._tmpCollisionContacts[index].reset = true;
                    }
                    // ..
                    // Parse Overlapping Ghost Contact Objects
                    // ..
                    var contacts = this.m_ghostObject.getNumOverlappingObjects();
                    if (contacts > this._maxCollisions)
                        contacts = this._maxCollisions;
                    if (contacts > 0) {
                        for (index = 0; index < contacts; index++) {
                            var contactObject = this.m_ghostObject.getOverlappingObject(index);
                            if (contactObject != null) {
                                var contactBody = Ammo.castObject(contactObject, Ammo.btCollisionObject);
                                if (contactBody != null && contactBody.entity != null && contactBody.isActive()) {
                                    var foundindex = -1;
                                    var contactMesh = contactBody.entity;
                                    for (index = 0; index < this._tmpCollisionContacts.length; index++) {
                                        var check = this._tmpCollisionContacts[index];
                                        if (check.mesh != null && check.mesh === contactMesh) {
                                            check.state = 1;
                                            check.reset = false;
                                            foundindex = index;
                                            break;
                                        }
                                    }
                                    if (foundindex === -1) {
                                        for (index = 0; index < this._tmpCollisionContacts.length; index++) {
                                            var insert = this._tmpCollisionContacts[index];
                                            if (insert.mesh == null) {
                                                insert.mesh = contactMesh;
                                                insert.state = 0;
                                                insert.reset = false;
                                                break;
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                    // ..
                    // Dispatch Ghost Collision Contact State
                    // ..
                    for (index = 0; index < this._tmpCollisionContacts.length; index++) {
                        var info = this._tmpCollisionContacts[index];
                        if (info.reset === true) {
                            // Dispatch On Collision Exit Event
                            if (hasExitObservers && info.mesh != null) {
                                this.onCollisionExitObservable.notifyObservers(info.mesh);
                            }
                            // Reset Collision Contact Info Item
                            info.mesh = null;
                            info.state = 0;
                            info.reset = false;
                        }
                        else {
                            if (info.state === 0) {
                                // Dispatch On Collision Enter Event
                                if (hasEnterObservers && info.mesh != null) {
                                    this.onCollisionEnterObservable.notifyObservers(info.mesh);
                                }
                            }
                            else {
                                // Dispatch On Collision Stay Event
                                if (hasStayObservers && info.mesh != null) {
                                    this.onCollisionStayObservable.notifyObservers(info.mesh);
                                }
                            }
                        }
                    }
                }
            }
        };
        CharacterController.prototype.destroyMovementState = function () {
            this.m_physicsEngine = null;
            if (this.m_character != null) {
                Ammo.destroy(this.m_character);
                this.m_character = null;
            }
            if (this.m_ghostObject != null) {
                Ammo.destroy(this.m_ghostObject);
                this.m_ghostObject = null;
            }
            if (this.m_ghostShape != null) {
                Ammo.destroy(this.m_ghostShape);
                this.m_ghostShape = null;
            }
            if (this.m_ghostCollision != null) {
                Ammo.destroy(this.m_ghostCollision); // ???
                this.m_ghostCollision = null;
            }
            if (this.m_ghostPosition != null) {
                Ammo.destroy(this.m_ghostPosition); // ???
                this.m_ghostPosition = null;
            }
            if (this.m_ghostTransform != null) {
                Ammo.destroy(this.m_ghostTransform); // ???
                this.m_ghostTransform = null;
            }
            if (this.m_startPosition != null) {
                Ammo.destroy(this.m_startPosition);
                this.m_startPosition = null;
            }
            if (this.m_startTransform != null) {
                Ammo.destroy(this.m_startTransform);
                this.m_startTransform = null;
            }
            if (this.m_warpPosition != null) {
                Ammo.destroy(this.m_warpPosition);
                this.m_warpPosition = null;
            }
            if (this.m_walkDirection != null) {
                Ammo.destroy(this.m_walkDirection);
                this.m_walkDirection = null;
            }
            this.onUpdatePositionObservable.clear();
            this.onUpdatePositionObservable = null;
            this.onCollisionEnterObservable.clear();
            this.onCollisionEnterObservable = null;
            this.onCollisionStayObservable.clear();
            this.onCollisionStayObservable = null;
            this.onCollisionExitObservable.clear();
            this.onCollisionExitObservable = null;
            this._tmpCollisionContacts = null;
            this._abstractMesh = null;
        };
        ////////////////////////////////////////////////////
        // Character Controller Advanced Helper Functions //
        ////////////////////////////////////////////////////
        /** Sets the maximum number of simultaneous contact notfications to dispatch per frame. Defaults value is 4. (Advanved Use Only) */
        CharacterController.prototype.setMaxNotifications = function (max) {
            this._maxCollisions = max;
            this._tmpCollisionContacts = [];
            for (var index = 0; index < this._maxCollisions; index++) {
                this._tmpCollisionContacts.push(new BABYLON.CollisionContactInfo());
            }
        };
        /** Sets character collision activation state using physics ghost object. (Advanved Use Only) */
        CharacterController.prototype.setActivationState = function (state) {
            if (this.m_ghostCollision != null && this.m_ghostCollision.setActivationState) {
                this.m_ghostCollision.setActivationState(state);
            }
        };
        /** Gets character collision group filter using physics ghost object. (Advanved Use Only) */
        CharacterController.prototype.getCollisionFilterGroup = function () {
            var result = -1;
            if (this.m_ghostCollision != null && this.m_ghostCollision.getBroadphaseHandle) {
                result = this.m_ghostCollision.getBroadphaseHandle().get_m_collisionFilterGroup();
            }
            return result;
        };
        /** Sets character collision group filter using physics ghost object. (Advanved Use Only) */
        CharacterController.prototype.setCollisionFilterGroup = function (group) {
            if (this.m_ghostCollision != null && this.m_ghostCollision.getBroadphaseHandle) {
                this.m_ghostCollision.getBroadphaseHandle().set_m_collisionFilterGroup(group);
            }
        };
        /** Gets character collision mask filter using physics ghost object. (Advanved Use Only) */
        CharacterController.prototype.getCollisionFilterMask = function () {
            var result = -1;
            if (this.m_ghostCollision != null && this.m_ghostCollision.getBroadphaseHandle) {
                result = this.m_ghostCollision.getBroadphaseHandle().get_m_collisionFilterMask();
            }
            return result;
        };
        /** Sets the character collision mask filter using physics ghost object. (Advanved Use Only) */
        CharacterController.prototype.setCollisionFilterMask = function (mask) {
            if (this.m_ghostCollision != null && this.m_ghostCollision.getBroadphaseHandle) {
                this.m_ghostCollision.getBroadphaseHandle().set_m_collisionFilterMask(mask);
            }
        };
        /** Gets the chracter contact processing threshold using physics ghost object. (Advanved Use Only) */
        CharacterController.prototype.getContactProcessingThreshold = function () {
            var result = -1;
            if (this.m_ghostCollision != null && this.m_ghostCollision.getContactProcessingThreshold) {
                this.m_ghostCollision.getContactProcessingThreshold();
            }
            return result;
        };
        /** Sets character contact processing threshold using physics ghost object. (Advanved Use Only) */
        CharacterController.prototype.setContactProcessingThreshold = function (threshold) {
            if (this.m_ghostCollision != null && this.m_ghostCollision.setContactProcessingThreshold) {
                this.m_ghostCollision.setContactProcessingThreshold(threshold);
            }
        };
        /** Manually set the position of the physics ghost object world transform. (Advanved Use Only) */
        CharacterController.prototype.setGhostWorldPosition = function (position) {
            if (this.m_ghostObject != null && this.m_ghostTransform != null) {
                if (this.m_ghostPosition != null && position != null) {
                    this.m_ghostPosition.setValue(position.x, position.y, position.z);
                    this.m_ghostTransform.setOrigin(this.m_ghostPosition);
                }
                this.m_ghostObject.setWorldTransform(this.m_ghostTransform);
            }
        };
        ////////////////////////////////////////////////////
        // Public Character Controller Movement Functions //
        ////////////////////////////////////////////////////
        /** Translates the kinematic character with the specfied movement velocity. */
        CharacterController.prototype.move = function (velocity) {
            if (velocity != null) {
                this.m_moveDeltaX = velocity.x;
                this.m_moveDeltaZ = velocity.z;
                if (Math.abs(velocity.x) < this._minMoveDistance) {
                    if (velocity.x > 0) {
                        this.m_moveDeltaX = this._minMoveDistance;
                    }
                    else if (velocity.x < 0) {
                        this.m_moveDeltaX = -this._minMoveDistance;
                    }
                }
                if (Math.abs(velocity.z) < this._minMoveDistance) {
                    if (velocity.z > 0) {
                        this.m_moveDeltaZ = this._minMoveDistance;
                    }
                    else if (velocity.z < 0) {
                        this.m_moveDeltaZ = -this._minMoveDistance;
                    }
                }
                if (this.m_walkDirection != null) {
                    this.m_walkDirection.setValue(this.m_moveDeltaX, 0, this.m_moveDeltaZ);
                    this.internalSetWalkDirection(this.m_walkDirection);
                }
            }
        };
        /** Jumps the kinematic chacracter with the specified jump speed. */
        CharacterController.prototype.jump = function (speed) {
            this.internalSetJumpSpeed(speed);
            this.internalJump();
        };
        /** Warps the kinematic chacracter to the specified warp position. */
        CharacterController.prototype.warp = function (position) {
            if (this.m_warpPosition != null) {
                this.m_warpPosition.setValue(position.x, position.y, position.z);
                this.internalWarp(this.m_warpPosition);
            }
        };
        CharacterController.MARGIN_FACTOR = -0.04;
        return CharacterController;
    }(BABYLON.ScriptComponent));
    BABYLON.CharacterController = CharacterController;
})(BABYLON || (BABYLON = {}));
var BABYLON;
(function (BABYLON) {
    /**
     * Babylon navigation agent pro class (Unity Style Navigation Agent System)
     * @class NavigationAgent - All rights reserved (c) 2020 Mackey Kinard
     */
    var NavigationAgent = /** @class */ (function (_super) {
        __extends(NavigationAgent, _super);
        function NavigationAgent() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this.distanceToTarget = 0;
            _this.moveDirection = new BABYLON.Vector3(0.0, 0.0, 0.0);
            _this.resetPosition = new BABYLON.Vector3(0.0, 0.0, 0.0);
            _this.lastPosition = new BABYLON.Vector3(0.0, 0.0, 0.0);
            _this.currentPosition = new BABYLON.Vector3(0.0, 0.0, 0.0);
            _this.currentVelocity = new BABYLON.Vector3(0.0, 0.0, 0.0);
            _this.currentWaypoint = new BABYLON.Vector3(0.0, 0.0, 0.0);
            _this.heightOffset = 0;
            _this.angularSpeed = 0;
            _this.updatePosition = true;
            _this.distanceEpsilon = 0.1;
            _this.velocityEpsilon = 1.0;
            _this.stoppingDistance = 0;
            _this.m_agentState = 0;
            _this.m_agentIndex = -1;
            _this.m_agentTrans = null;
            _this.m_agentParams = null;
            _this.m_agentRotation = new BABYLON.Quaternion(0.0, 0.0, 0.0, 1.0);
            _this.m_agentMovement = new BABYLON.Vector3(0.0, 0.0, 0.0);
            _this.m_agentDirection = new BABYLON.Vector3(0.0, 0.0, 1.0);
            _this.m_agentQuaternion = new BABYLON.Quaternion(0.0, 0.0, 0.0, 1.0);
            _this.m_agentDestination = null;
            /** Register handler that is triggered before the navigation update */
            _this.onPreUpdateObservable = new BABYLON.Observable();
            /** Register handler that is triggered after the navigation update */
            _this.onPostUpdateObservable = new BABYLON.Observable();
            /** Register handler that is triggered when the navigation is complete */
            _this.onNavCompleteObservable = new BABYLON.Observable();
            return _this;
        }
        NavigationAgent.prototype.isNavigating = function () { return (this.m_agentDestination != null); };
        NavigationAgent.prototype.getAgentType = function () { return this.type; };
        NavigationAgent.prototype.getAgentState = function () { return this.m_agentState; };
        NavigationAgent.prototype.getAgentIndex = function () { return this.m_agentIndex; };
        NavigationAgent.prototype.getAgentRadius = function () { return this.avoidRadius; };
        NavigationAgent.prototype.getAgentHeight = function () { return this.avoidHeight; };
        NavigationAgent.prototype.getAgentSpeed = function () { return this.speed; };
        NavigationAgent.prototype.getAgentOffset = function () { return this.baseOffset; };
        NavigationAgent.prototype.getTargetDistance = function () { return this.distanceToTarget; };
        NavigationAgent.prototype.awake = function () { this.awakeNavigationAgent(); };
        NavigationAgent.prototype.late = function () { this.updateNavigationAgent(); };
        NavigationAgent.prototype.destroy = function () { this.destroyNavigationAgent(); };
        //////////////////////////////////////////////////////
        // Navigation Private Functions                     //
        //////////////////////////////////////////////////////
        NavigationAgent.prototype.awakeNavigationAgent = function () {
            this.type = this.getProperty("type", this.type);
            this.speed = this.getProperty("speed", this.speed);
            this.baseOffset = this.getProperty("offset", this.baseOffset);
            this.angularSpeed = this.getProperty("angularspeed", this.angularSpeed);
            this.acceleration = this.getProperty("acceleration", this.acceleration);
            this.stoppingDistance = this.getProperty("stoppingdistance", this.stoppingDistance);
            this.autoBraking = this.getProperty("autobraking", this.autoBraking);
            this.avoidRadius = this.getProperty("avoidradius", this.avoidRadius);
            this.avoidHeight = this.getProperty("avoidheight", this.avoidHeight);
            this.obstacleAvoidanceType = this.getProperty("avoidquality", this.obstacleAvoidanceType);
            this.avoidancePriority = this.getProperty("avoidpriority", this.avoidancePriority);
            this.autoTraverseOffMeshLink = this.getProperty("autotraverse", this.autoTraverseOffMeshLink);
            this.autoRepath = this.getProperty("autopepath", this.autoRepath);
            this.areaMask = this.getProperty("areamask", this.areaMask);
            // ..
            BABYLON.Utilities.ValidateTransformQuaternion(this.transform);
            //this.m_agentTrans = BABYLON.Mesh.CreateBox((this.transform.name + "Agent"), 1, this.scene);
            this.m_agentTrans = new BABYLON.TransformNode((this.transform.name + ".Agent"), this.scene);
            this.m_agentTrans.position = new BABYLON.Vector3(0.0, 0.0, 0.0);
            this.m_agentTrans.rotation = new BABYLON.Vector3(0.0, 0.0, 0.0);
            BABYLON.Utilities.ValidateTransformQuaternion(this.m_agentTrans);
            this.lastPosition.copyFrom(this.transform.position);
        };
        NavigationAgent.prototype.updateNavigationAgent = function () {
            var crowd = BABYLON.SceneManager.GetCrowdInterface(this.scene);
            if (crowd == null)
                return; // Note: No Detour Navigation Mesh Available Yet
            if (this.m_agentIndex < 0) {
                this.m_agentParams = {
                    radius: this.avoidRadius,
                    height: this.avoidHeight,
                    maxSpeed: this.speed,
                    maxAcceleration: this.acceleration,
                    collisionQueryRange: 0.5,
                    pathOptimizationRange: 0.0,
                    separationWeight: 1.0
                };
                BABYLON.Utilities.GetAbsolutePositionToRef(this.transform, this.resetPosition);
                this.m_agentIndex = crowd.addAgent(this.resetPosition, this.m_agentParams, this.m_agentTrans);
            }
            // ..
            this.m_agentState = crowd.getAgentState(this.m_agentIndex);
            this.getAgentWaypointToRef(this.currentWaypoint);
            this.getAgentPositionToRef(this.currentPosition);
            if (this.m_agentState === BABYLON.CrowdAgentState.DT_CROWDAGENT_STATE_OFFMESH) {
                this.currentPosition.subtractToRef(this.lastPosition, this.currentVelocity);
                this.currentVelocity.scaleInPlace(this.speed * 1.5);
            }
            else {
                this.getAgentVelocityToRef(this.currentVelocity);
            }
            // ..
            if (this.m_agentDestination != null) {
                this.distanceToTarget = BABYLON.Vector3.Distance(this.currentPosition, this.m_agentDestination);
                if (this.updatePosition === true || this.angularSpeed > 0) {
                    if (this.onPreUpdateObservable.hasObservers() === true) {
                        this.onPreUpdateObservable.notifyObservers(this.transform);
                    }
                    if (this.angularSpeed > 0) {
                        if (this.currentVelocity.length() >= this.velocityEpsilon) {
                            this.currentVelocity.normalize();
                            var rotateFactor = (this.angularSpeed * BABYLON.NavigationAgent.ANGULAR_SPEED_RATIO * this.getDeltaSeconds());
                            if (this.m_agentState === BABYLON.CrowdAgentState.DT_CROWDAGENT_STATE_OFFMESH) {
                                // Rotate Toward Velocity Direction
                                this.moveDirection.copyFrom(this.m_agentDirection);
                                this.m_agentDirection.set((this.moveDirection.x + (this.currentVelocity.x - this.moveDirection.x)), (this.moveDirection.y + (this.currentVelocity.y - this.moveDirection.y)), (this.moveDirection.z + (this.currentVelocity.z - this.moveDirection.z)));
                                this.m_agentDirection.normalize();
                                var targetAngle = (BABYLON.NavigationAgent.TARGET_ANGLE_FACTOR - Math.atan2(this.m_agentDirection.z, this.m_agentDirection.x));
                                BABYLON.Quaternion.FromEulerAnglesToRef(0.0, targetAngle, 0.0, this.m_agentRotation);
                                BABYLON.Quaternion.SlerpToRef(this.transform.rotationQuaternion, this.m_agentRotation, rotateFactor, this.transform.rotationQuaternion);
                            }
                            else {
                                // Rotate Toward Next Target Waypoint
                                this.m_agentQuaternion.copyFrom(this.transform.rotationQuaternion);
                                this.transform.lookAt(this.currentWaypoint);
                                // Correct Transform Look At Rotation
                                this.transform.rotationQuaternion.toEulerAnglesToRef(this.m_agentDirection);
                                BABYLON.Quaternion.FromEulerAnglesToRef(0.0, this.m_agentDirection.y, 0.0, this.m_agentRotation);
                                BABYLON.Quaternion.SlerpToRef(this.m_agentQuaternion, this.m_agentRotation, rotateFactor, this.transform.rotationQuaternion);
                            }
                        }
                    }
                    if (this.updatePosition === true) {
                        this.transform.position.set(this.currentPosition.x, (this.currentPosition.y + this.baseOffset + this.heightOffset), this.currentPosition.z);
                    }
                    if (this.onPostUpdateObservable.hasObservers() === true) {
                        this.onPostUpdateObservable.notifyObservers(this.transform);
                    }
                }
                if (this.distanceToTarget <= Math.max(this.distanceEpsilon, this.stoppingDistance)) {
                    this.cancelNavigation();
                    if (this.onNavCompleteObservable.hasObservers() === true) {
                        this.onNavCompleteObservable.notifyObservers(this.transform);
                    }
                }
            }
            else {
                this.distanceToTarget = 0;
            }
            this.lastPosition.copyFrom(this.transform.position);
        };
        NavigationAgent.prototype.destroyNavigationAgent = function () {
            this.m_agentIndex = -1;
            this.m_agentRotation = null;
            this.m_agentMovement = null;
            this.m_agentDirection = null;
            this.m_agentDestination = null;
            this.moveDirection = null;
            this.resetPosition = null;
            this.lastPosition = null;
            this.currentPosition = null;
            this.currentVelocity = null;
            this.currentWaypoint = null;
            this.onPreUpdateObservable.clear();
            this.onPreUpdateObservable = null;
            this.onPostUpdateObservable.clear();
            this.onPostUpdateObservable = null;
            this.onNavCompleteObservable.clear();
            this.onNavCompleteObservable = null;
            if (this.m_agentTrans != null) {
                this.m_agentTrans.dispose();
                this.m_agentTrans = null;
            }
        };
        //////////////////////////////////////////////////////
        // Navigation Public Functions                      //
        //////////////////////////////////////////////////////
        /** Move agent relative to current position. */
        NavigationAgent.prototype.move = function (offset, closetPoint) {
            if (closetPoint === void 0) { closetPoint = true; }
            var plugin = BABYLON.SceneManager.GetNavigationTools();
            var crowd = BABYLON.SceneManager.GetCrowdInterface(this.scene);
            if (plugin != null && crowd != null) {
                crowd.getAgentPosition(this.m_agentIndex).addToRef(offset, this.m_agentMovement);
                if (closetPoint === true)
                    this.m_agentDestination = plugin.getClosestPoint(this.m_agentMovement);
                else
                    this.m_agentDestination = this.m_agentMovement.clone();
                if (this.m_agentIndex >= 0)
                    crowd.agentGoto(this.m_agentIndex, this.m_agentDestination);
            }
            else {
                BABYLON.Tools.Warn("No recast navigation mesh or crowd interface data available!");
            }
        };
        /** Teleport agent to destination point. */
        NavigationAgent.prototype.teleport = function (destination, closetPoint) {
            if (closetPoint === void 0) { closetPoint = true; }
            var plugin = BABYLON.SceneManager.GetNavigationTools();
            var crowd = BABYLON.SceneManager.GetCrowdInterface(this.scene);
            if (plugin != null && crowd != null) {
                if (closetPoint === true)
                    this.m_agentDestination = plugin.getClosestPoint(destination);
                else
                    this.m_agentDestination = destination.clone();
                if (this.m_agentIndex >= 0)
                    crowd.agentTeleport(this.m_agentIndex, this.m_agentDestination);
            }
            else {
                BABYLON.Tools.Warn("No recast navigation mesh or crowd interface data available!");
            }
        };
        /** Sets agent current destination point. */
        NavigationAgent.prototype.setDestination = function (destination, closetPoint, resetAgent) {
            if (closetPoint === void 0) { closetPoint = true; }
            if (resetAgent === void 0) { resetAgent = true; }
            var plugin = BABYLON.SceneManager.GetNavigationTools();
            var crowd = BABYLON.SceneManager.GetCrowdInterface(this.scene);
            if (plugin != null && crowd != null) {
                if (resetAgent === true)
                    this.resetAgentPosition();
                if (closetPoint === true)
                    this.m_agentDestination = plugin.getClosestPoint(destination);
                else
                    this.m_agentDestination = destination.clone();
                if (this.m_agentIndex >= 0)
                    crowd.agentGoto(this.m_agentIndex, this.m_agentDestination);
            }
            else {
                BABYLON.Tools.Warn("No recast navigation mesh or crowd interface data available!");
            }
        };
        /** Gets agent current world space velocity. */
        NavigationAgent.prototype.getAgentVelocity = function () {
            var crowd = BABYLON.SceneManager.GetCrowdInterface(this.scene);
            return (crowd != null && this.m_agentIndex >= 0) ? crowd.getAgentVelocity(this.m_agentIndex) : null;
        };
        /** Gets agent current world space velocity. */
        NavigationAgent.prototype.getAgentVelocityToRef = function (result) {
            var crowd = BABYLON.SceneManager.GetCrowdInterface(this.scene);
            if (crowd != null && this.m_agentIndex >= 0)
                crowd.getAgentVelocityToRef(this.m_agentIndex, result);
        };
        /** Gets agent current world space position. */
        NavigationAgent.prototype.getAgentPosition = function () {
            var crowd = BABYLON.SceneManager.GetCrowdInterface(this.scene);
            return (crowd != null && this.m_agentIndex >= 0) ? crowd.getAgentPosition(this.m_agentIndex) : null;
        };
        /** Gets agent current world space position. */
        NavigationAgent.prototype.getAgentPositionToRef = function (result) {
            var crowd = BABYLON.SceneManager.GetCrowdInterface(this.scene);
            if (crowd != null && this.m_agentIndex >= 0)
                crowd.getAgentPositionToRef(this.m_agentIndex, result);
        };
        /** Gets agent current waypoint position. */
        NavigationAgent.prototype.getAgentWaypoint = function () {
            var crowd = BABYLON.SceneManager.GetCrowdInterface(this.scene);
            return (crowd != null && this.m_agentIndex >= 0) ? crowd.getAgentNextTargetPath(this.m_agentIndex) : null;
        };
        /** Gets agent current waypoint position. */
        NavigationAgent.prototype.getAgentWaypointToRef = function (result) {
            var crowd = BABYLON.SceneManager.GetCrowdInterface(this.scene);
            if (crowd != null && this.m_agentIndex >= 0)
                crowd.getAgentNextTargetPathToRef(this.m_agentIndex, result);
        };
        /** Reset the agent to transform world space position. */
        NavigationAgent.prototype.resetAgentPosition = function () {
            this.m_agentDestination = null; // Note: Disable Auto Position Update
            BABYLON.Utilities.GetAbsolutePositionToRef(this.transform, this.resetPosition);
            var crowd = BABYLON.SceneManager.GetCrowdInterface(this.scene);
            if (crowd != null && this.m_agentIndex >= 0)
                crowd.agentTeleport(this.m_agentIndex, this.resetPosition);
        };
        /** Cancel current waypoint path navigation. */
        NavigationAgent.prototype.cancelNavigation = function () {
            this.m_agentDestination = null; // Note: Disable Auto Position Update
            var crowd = BABYLON.SceneManager.GetCrowdInterface(this.scene);
            var position = this.getAgentPosition();
            if (position != null && crowd != null && this.m_agentIndex >= 0) {
                crowd.agentTeleport(this.m_agentIndex, position);
                position.y += (this.baseOffset + this.heightOffset);
                this.transform.position.copyFrom(position);
            }
        };
        NavigationAgent.TARGET_ANGLE_FACTOR = (Math.PI * 0.5);
        NavigationAgent.ANGULAR_SPEED_RATIO = 0.1;
        return NavigationAgent;
    }(BABYLON.ScriptComponent));
    BABYLON.NavigationAgent = NavigationAgent;
    /**
     *  Recast Detour Crowd Agent States
     */
    var CrowdAgentState;
    (function (CrowdAgentState) {
        CrowdAgentState[CrowdAgentState["DT_CROWDAGENT_STATE_INVALID"] = 0] = "DT_CROWDAGENT_STATE_INVALID";
        CrowdAgentState[CrowdAgentState["DT_CROWDAGENT_STATE_WALKING"] = 1] = "DT_CROWDAGENT_STATE_WALKING";
        CrowdAgentState[CrowdAgentState["DT_CROWDAGENT_STATE_OFFMESH"] = 2] = "DT_CROWDAGENT_STATE_OFFMESH";
    })(CrowdAgentState = BABYLON.CrowdAgentState || (BABYLON.CrowdAgentState = {}));
    ;
})(BABYLON || (BABYLON = {}));
var BABYLON;
(function (BABYLON) {
    /**
     * Babylon raycast vehicle controller pro class (Native Bullet Physics 2.82)
     * @class RaycastVehicle - All rights reserved (c) 2020 Mackey Kinard
     */
    var RaycastVehicle = /** @class */ (function () {
        function RaycastVehicle(entity, world, center, defaultAngularFactor) {
            if (defaultAngularFactor === void 0) { defaultAngularFactor = null; }
            this._centerMass = new BABYLON.Vector3(0, 0, 0);
            this._chassisMesh = null;
            this._tempVectorPos = new BABYLON.Vector3(0, 0, 0);
            this.lockedWheelIndexes = null;
            this.m_vehicle = null;
            this.m_vehicleTuning = null;
            this.m_vehicleRaycaster = null;
            this.m_vehicleColliders = null;
            this.m_tempTransform = null;
            this.m_tempPosition = null;
            this.m_wheelDirectionCS0 = null;
            this.m_wheelAxleCS = null;
            this._chassisMesh = entity;
            this._centerMass = center;
            this.m_vehicleTuning = new Ammo.btVehicleTuning();
            this.m_vehicleRaycaster = (Ammo.btSmoothVehicleRaycaster != null) ? new Ammo.btSmoothVehicleRaycaster(world) : new Ammo.btDefaultVehicleRaycaster(world);
            this.m_vehicleColliders = (this._chassisMesh.metadata != null && this._chassisMesh.metadata.unity != null && this._chassisMesh.metadata.unity.wheels != null) ? this._chassisMesh.metadata.unity.wheels : null;
            this.m_vehicle = new Ammo.btRaycastVehicle(this.m_vehicleTuning, this._chassisMesh.physicsImpostor.physicsBody, this.m_vehicleRaycaster);
            this.m_vehicle.setCoordinateSystem(0, 1, 2); // Y-UP-AXIS
            this.m_wheelDirectionCS0 = new Ammo.btVector3(0, -1, 0); // Y-UP-AXIS
            this.m_wheelAxleCS = new Ammo.btVector3(-1, 0, 0); // Y-UP-AXIS
            this.m_tempPosition = null;
            this.m_tempTransform = null;
            this.setupWheelInformation(defaultAngularFactor);
            world.addAction(this.m_vehicle);
            if (Ammo.btSmoothVehicleRaycaster == null)
                BABYLON.Tools.Warn("Using Default Vehicle Raycaster For:" + entity.name);
        }
        RaycastVehicle.prototype.getInternalVehicle = function () { return this.m_vehicle; };
        RaycastVehicle.prototype.getUpAxis = function () { if (this.m_vehicle != null)
            return this.m_vehicle.getUpAxis(); };
        RaycastVehicle.prototype.getRightAxis = function () { if (this.m_vehicle != null)
            return this.m_vehicle.getRightAxis(); };
        RaycastVehicle.prototype.getForwardAxis = function () { if (this.m_vehicle != null)
            return this.m_vehicle.getForwardAxis(); };
        RaycastVehicle.prototype.getForwardVector = function () { if (this.m_vehicle != null)
            return this.m_vehicle.getForwardVector(); };
        RaycastVehicle.prototype.getNumWheels = function () { if (this.m_vehicle != null)
            return this.m_vehicle.getNumWheels(); };
        RaycastVehicle.prototype.getWheelInfo = function (wheel) { if (this.m_vehicle != null)
            return this.m_vehicle.getWheelInfo(wheel); }; // Ammo.btWheelInfo
        RaycastVehicle.prototype.resetSuspension = function () { if (this.m_vehicle != null)
            this.m_vehicle.resetSuspension(); };
        RaycastVehicle.prototype.setPitchControl = function (pitch) { if (this.m_vehicle != null)
            this.m_vehicle.setPitchControl(pitch); };
        RaycastVehicle.prototype.setEngineForce = function (power, wheel) { if (this.m_vehicle != null)
            this.m_vehicle.applyEngineForce(power, wheel); };
        RaycastVehicle.prototype.setBrakingForce = function (brake, wheel) { if (this.m_vehicle != null)
            this.m_vehicle.setBrake(brake, wheel); };
        RaycastVehicle.prototype.getWheelTransform = function (wheel) { if (this.m_vehicle != null)
            return this.m_vehicle.getWheelTransformWS(wheel); }; // Ammo.btTransform
        RaycastVehicle.prototype.updateWheelTransform = function (wheel, interpolate) { if (this.m_vehicle != null)
            this.m_vehicle.updateWheelTransform(wheel, interpolate); };
        RaycastVehicle.prototype.getUserConstraintType = function () { if (this.m_vehicle != null)
            return this.m_vehicle.getUserConstraintType(); };
        RaycastVehicle.prototype.setUserConstraintType = function (userConstraintType) { if (this.m_vehicle != null)
            this.m_vehicle.setUserConstraintType(userConstraintType); };
        RaycastVehicle.prototype.setUserConstraintId = function (uid) { if (this.m_vehicle != null)
            this.m_vehicle.setUserConstraintId(uid); };
        RaycastVehicle.prototype.getUserConstraintId = function () { if (this.m_vehicle != null)
            return this.m_vehicle.getUserConstraintId(); };
        RaycastVehicle.prototype.getRawCurrentSpeedKph = function () { if (this.m_vehicle != null)
            return this.m_vehicle.getCurrentSpeedKmHour(); };
        RaycastVehicle.prototype.getRawCurrentSpeedMph = function () { if (this.m_vehicle != null)
            return this.m_vehicle.getCurrentSpeedKmHour() * BABYLON.System.Kph2Mph; };
        RaycastVehicle.prototype.getAbsCurrentSpeedKph = function () { if (this.m_vehicle != null)
            return Math.abs(this.m_vehicle.getCurrentSpeedKmHour()); };
        RaycastVehicle.prototype.getAbsCurrentSpeedMph = function () { if (this.m_vehicle != null)
            return Math.abs(this.m_vehicle.getCurrentSpeedKmHour()) * BABYLON.System.Kph2Mph; };
        RaycastVehicle.prototype.getVehicleTuningSystem = function () { return this.m_vehicleTuning; }; // Ammo.btVehicleTuning
        RaycastVehicle.prototype.getChassisWorldTransform = function () { if (this.m_vehicle != null)
            return this.m_vehicle.getChassisWorldTransform(); }; // Ammo.btTransform
        RaycastVehicle.prototype.dispose = function () {
            this.deleteWheelInformation();
            if (this.m_vehicle != null) {
                Ammo.destroy(this.m_vehicle);
                this.m_vehicle = null;
            }
            if (this.m_vehicleTuning != null) {
                Ammo.destroy(this.m_vehicleTuning);
                this.m_vehicleTuning = null;
            }
            if (this.m_vehicleRaycaster != null) {
                Ammo.destroy(this.m_vehicleRaycaster);
                this.m_vehicleRaycaster = null;
            }
            if (this.m_wheelDirectionCS0 != null) {
                Ammo.destroy(this.m_wheelDirectionCS0);
                this.m_wheelDirectionCS0 = null;
            }
            if (this.m_wheelAxleCS != null) {
                Ammo.destroy(this.m_wheelAxleCS);
                this.m_wheelAxleCS = null;
            }
            if (this.m_tempPosition != null) {
                Ammo.destroy(this.m_tempPosition); // ???
                this.m_tempPosition = null;
            }
            if (this.m_tempTransform != null) {
                Ammo.destroy(this.m_tempTransform); // ???
                this.m_tempTransform = null;
            }
            this.m_vehicleColliders = null;
        };
        ///////////////////////////////////////////////////////
        // Static Raycast Vehicle Instance Helper Functions
        ///////////////////////////////////////////////////////
        /** Gets the rigidbody raycast vehicle controller for the entity. Note: Wheel collider metadata informaion is required for raycast vehicle control. */
        RaycastVehicle.GetInstance = function (scene, rigidbody, defaultAngularFactor) {
            if (defaultAngularFactor === void 0) { defaultAngularFactor = null; }
            var anybody = rigidbody;
            if (anybody.m_raycastVehicle == null) {
                if (rigidbody.hasWheelColliders()) {
                    var rightHanded = BABYLON.SceneManager.GetRightHanded(scene);
                    if (rightHanded === true)
                        BABYLON.Tools.Warn("Raycast vehicle not supported for right handed scene: " + anybody._abstractMesh.name);
                    anybody.m_raycastVehicle = new BABYLON.RaycastVehicle(anybody._abstractMesh, anybody.m_physicsWorld, anybody._centerOfMass, defaultAngularFactor);
                }
                else {
                    BABYLON.Tools.Warn("No wheel collider metadata found for: " + anybody._abstractMesh.name);
                }
            }
            return anybody.m_raycastVehicle;
        };
        ///////////////////////////////////////////////////////
        // Smooth Raycast Vehicle Advanced Helper Functions
        ///////////////////////////////////////////////////////
        /** Gets vehicle enable multi raycast flag using physics vehicle object. (Advanved Use Only) */
        RaycastVehicle.prototype.getEnableMultiRaycast = function () {
            var result = false;
            if (this.m_vehicle != null && this.m_vehicle.get_m_enableMultiRaycast) {
                result = this.m_vehicle.get_m_enableMultiRaycast();
            }
            return result;
        };
        /** Sets vehicle enable multi raycast flag using physics vehicle object. (Advanved Use Only) */
        RaycastVehicle.prototype.setEnableMultiRaycast = function (flag) {
            if (this.m_vehicle != null && this.m_vehicle.set_m_enableMultiRaycast) {
                this.m_vehicle.set_m_enableMultiRaycast(flag);
            }
        };
        /** Gets vehicle stable force using physics vehicle object. (Advanved Use Only) */
        RaycastVehicle.prototype.getStabilizingForce = function () {
            var result = -1;
            if (this.m_vehicle != null && this.m_vehicle.get_m_stabilizingForce) {
                result = this.m_vehicle.get_m_stabilizingForce();
            }
            return result;
        };
        /** Sets vehicle stable force using physics vehicle object. (Advanved Use Only) */
        RaycastVehicle.prototype.setStabilizingForce = function (force) {
            if (this.m_vehicle != null && this.m_vehicle.set_m_stabilizingForce) {
                this.m_vehicle.set_m_stabilizingForce(force);
            }
        };
        /** Gets vehicle smooth flying impulse force using physics vehicle object. (Advanved Use Only) */
        RaycastVehicle.prototype.getSmoothFlyingImpulse = function () {
            var result = -1;
            if (this.m_vehicle != null && this.m_vehicle.get_m_smoothFlyingImpulse) {
                result = this.m_vehicle.get_m_smoothFlyingImpulse();
            }
            return result;
        };
        /** Sets vehicle smooth flying impulse using physics vehicle object. (Advanved Use Only) */
        RaycastVehicle.prototype.setSmoothFlyingImpulse = function (impulse) {
            if (this.m_vehicle != null && this.m_vehicle.set_m_smoothFlyingImpulse) {
                this.m_vehicle.set_m_smoothFlyingImpulse(impulse);
            }
        };
        /** Gets vehicle track connection accel force using physics vehicle object. (Advanved Use Only) */
        RaycastVehicle.prototype.getTrackConnectionAccel = function () {
            var result = -1;
            if (this.m_vehicle != null && this.m_vehicle.get_m_trackConnectionAccel) {
                result = this.m_vehicle.get_m_trackConnectionAccel();
            }
            return result;
        };
        /** Sets vehicle track connection accel force using physics vehicle object. (Advanved Use Only) */
        RaycastVehicle.prototype.setTrackConnectionAccel = function (force) {
            if (this.m_vehicle != null && this.m_vehicle.set_m_trackConnectionAccel) {
                this.m_vehicle.set_m_trackConnectionAccel(force);
            }
        };
        /** Gets vehicle min wheel contact count using physics vehicle object. (Advanved Use Only) */
        RaycastVehicle.prototype.getMinimumWheelContacts = function () {
            var result = -1;
            if (this.m_vehicle != null && this.m_vehicle.get_m_minimumWheelContacts) {
                result = this.m_vehicle.get_m_minimumWheelContacts();
            }
            return result;
        };
        /** Sets vehicle min wheel contact count using physics vehicle object. (Advanved Use Only) */
        RaycastVehicle.prototype.setMinimumWheelContacts = function (force) {
            if (this.m_vehicle != null && this.m_vehicle.set_m_minimumWheelContacts) {
                this.m_vehicle.set_m_minimumWheelContacts(force);
            }
        };
        /** Gets vehicle interpolate mesh normals flag using physics raycaster object. (Advanved Use Only) */
        RaycastVehicle.prototype.getInterpolateNormals = function () {
            var result = false;
            if (this.m_vehicleRaycaster != null && this.m_vehicleRaycaster.get_m_interpolateNormals) {
                result = this.m_vehicleRaycaster.get_m_interpolateNormals();
            }
            return result;
        };
        /** Sets the vehicle interpolate mesh normals using physics raycaster object. (Advanved Use Only) */
        RaycastVehicle.prototype.setInterpolateNormals = function (flag) {
            if (this.m_vehicleRaycaster != null && this.m_vehicleRaycaster.set_m_interpolateNormals) {
                this.m_vehicleRaycaster.set_m_interpolateNormals(flag);
            }
        };
        /** Gets vehicle shape testing mode using physics raycaster object. (Advanved Use Only) */
        RaycastVehicle.prototype.getShapeTestingMode = function () {
            var result = false;
            if (this.m_vehicleRaycaster != null && this.m_vehicleRaycaster.get_m_shapeTestingMode) {
                result = this.m_vehicleRaycaster.get_m_shapeTestingMode();
            }
            return result;
        };
        /** Sets the vehicle shape testing mode using physics raycaster object. (Advanved Use Only) */
        RaycastVehicle.prototype.setShapeTestingMode = function (mode) {
            if (this.m_vehicleRaycaster != null && this.m_vehicleRaycaster.set_m_shapeTestingMode) {
                this.m_vehicleRaycaster.set_m_shapeTestingMode(mode);
            }
        };
        /** Gets vehicle shape testing size using physics raycaster object. (Advanved Use Only) */
        RaycastVehicle.prototype.getShapeTestingSize = function () {
            var result = 0;
            if (this.m_vehicleRaycaster != null && this.m_vehicleRaycaster.get_m_shapeTestingSize) {
                result = this.m_vehicleRaycaster.get_m_shapeTestingSize();
            }
            return result;
        };
        /** Sets the vehicle shape testing mode using physics raycaster object. (Advanved Use Only) */
        RaycastVehicle.prototype.setShapeTestingSize = function (size) {
            if (this.m_vehicleRaycaster != null && this.m_vehicleRaycaster.set_m_shapeTestingSize) {
                this.m_vehicleRaycaster.set_m_shapeTestingSize(size);
            }
        };
        /** Gets vehicle shape test point count using physics raycaster object. (Advanved Use Only) */
        RaycastVehicle.prototype.getShapeTestingCount = function () {
            var result = 0;
            if (this.m_vehicleRaycaster != null && this.m_vehicleRaycaster.get_m_testPointCount) {
                result = this.m_vehicleRaycaster.get_m_testPointCount();
            }
            return result;
        };
        /** Sets the vehicle shape test point count using physics raycaster object. (Advanved Use Only) */
        RaycastVehicle.prototype.setShapeTestingCount = function (count) {
            if (this.m_vehicleRaycaster != null && this.m_vehicleRaycaster.set_m_testPointCount) {
                this.m_vehicleRaycaster.set_m_testPointCount(count);
            }
        };
        /** Gets vehicle sweep penetration amount using physics raycaster object. (Advanved Use Only) */
        RaycastVehicle.prototype.getSweepPenetration = function () {
            var result = 0;
            if (this.m_vehicleRaycaster != null && this.m_vehicleRaycaster.get_m_sweepPenetration) {
                result = this.m_vehicleRaycaster.get_m_sweepPenetration();
            }
            return result;
        };
        /** Sets the vehicle sweep penetration amount using physics raycaster object. (Advanved Use Only) */
        RaycastVehicle.prototype.setSweepPenetration = function (amount) {
            if (this.m_vehicleRaycaster != null && this.m_vehicleRaycaster.set_m_sweepPenetration) {
                this.m_vehicleRaycaster.set_m_sweepPenetration(amount);
            }
        };
        ///////////////////////////////////////////////////////
        // Smooth Raycast Vehicle Advanced Collision Functions
        ///////////////////////////////////////////////////////
        /** Gets vehicle collision group filter using physics raycaster object. (Advanved Use Only) */
        RaycastVehicle.prototype.getCollisionFilterGroup = function () {
            var result = -1;
            if (this.m_vehicleRaycaster != null && this.m_vehicleRaycaster.get_m_collisionFilterGroup) {
                result = this.m_vehicleRaycaster.get_m_collisionFilterGroup();
            }
            return result;
        };
        /** Sets vehicle collision group filter using physics raycaster object. (Advanved Use Only) */
        RaycastVehicle.prototype.setCollisionFilterGroup = function (group) {
            if (this.m_vehicleRaycaster != null && this.m_vehicleRaycaster.set_m_collisionFilterGroup) {
                this.m_vehicleRaycaster.set_m_collisionFilterGroup(group);
            }
        };
        /** Gets vehicle collision mask filter using physics raycaster object. (Advanved Use Only) */
        RaycastVehicle.prototype.getCollisionFilterMask = function () {
            var result = -1;
            if (this.m_vehicleRaycaster != null && this.m_vehicleRaycaster.get_m_collisionFilterMask) {
                result = this.m_vehicleRaycaster.get_m_collisionFilterMask();
            }
            return result;
        };
        /** Sets the vehicle collision mask filter using physics raycaster object. (Advanved Use Only) */
        RaycastVehicle.prototype.setCollisionFilterMask = function (mask) {
            if (this.m_vehicleRaycaster != null && this.m_vehicleRaycaster.set_m_collisionFilterMask) {
                this.m_vehicleRaycaster.set_m_collisionFilterMask(mask);
            }
        };
        ///////////////////////////////////////////////////////
        // Raycast Vehicle Wheel Information Helper Funtions
        ///////////////////////////////////////////////////////
        /** Gets the internal wheel index by id string. */
        RaycastVehicle.prototype.getWheelIndexByID = function (id) {
            var result = -1;
            if (this.m_vehicleColliders != null && this.m_vehicleColliders.length > 0) {
                for (var index = 0; index < this.m_vehicleColliders.length; index++) {
                    var wheel = this.m_vehicleColliders[index];
                    if (id.toLowerCase() === wheel.id.toLowerCase()) {
                        result = index;
                        break;
                    }
                }
            }
            return result;
        };
        /** Gets the internal wheel index by name string. */
        RaycastVehicle.prototype.getWheelIndexByName = function (name) {
            var result = -1;
            if (this.m_vehicleColliders != null && this.m_vehicleColliders.length > 0) {
                for (var index = 0; index < this.m_vehicleColliders.length; index++) {
                    var wheel = this.m_vehicleColliders[index];
                    if (name.toLowerCase() === wheel.name.toLowerCase()) {
                        result = index;
                        break;
                    }
                }
            }
            return result;
        };
        /** Gets the internal wheel collider information. */
        RaycastVehicle.prototype.getWheelColliderInfo = function (wheel) {
            var result = -1;
            if (this.m_vehicleColliders != null && this.m_vehicleColliders.length > 0 && this.m_vehicleColliders.length > wheel) {
                result = this.m_vehicleColliders[wheel];
            }
            return result;
        };
        /** Sets the internal wheel hub transform mesh by index. Used to rotate and bounce wheels. */
        RaycastVehicle.prototype.setWheelTransformMesh = function (wheel, transform) {
            if (transform == null)
                return;
            var wheelinfo = this.getWheelInfo(wheel);
            if (wheelinfo != null)
                wheelinfo.transform = transform;
        };
        ///////////////////////////////////////////////////////
        // Smooth Raycast Vehicle Seering Helper Functions
        ///////////////////////////////////////////////////////
        RaycastVehicle.prototype.getVisualSteeringAngle = function (wheel) {
            var result = 0;
            var wheelinfo = this.getWheelInfo(wheel);
            if (wheelinfo != null && wheelinfo.steeringAngle != null) {
                result = wheelinfo.steeringAngle;
            }
            return result;
        };
        RaycastVehicle.prototype.setVisualSteeringAngle = function (angle, wheel) {
            var wheelinfo = this.getWheelInfo(wheel);
            if (wheelinfo != null) {
                wheelinfo.steeringAngle = angle;
            }
        };
        RaycastVehicle.prototype.getPhysicsSteeringAngle = function (wheel) {
            if (this.m_vehicle != null) {
                return Math.abs(this.m_vehicle.getSteeringValue(wheel));
            }
        };
        RaycastVehicle.prototype.setPhysicsSteeringAngle = function (angle, wheel) {
            if (this.m_vehicle != null) {
                this.m_vehicle.setSteeringValue(angle, wheel);
            }
        };
        /////////////////////////////////////////////
        // Setup Wheel Information Helper Funtions //
        /////////////////////////////////////////////
        RaycastVehicle.prototype.setupWheelInformation = function (defaultAngularFactor) {
            if (defaultAngularFactor === void 0) { defaultAngularFactor = null; }
            if (this._chassisMesh != null && this._chassisMesh.physicsImpostor != null && this._chassisMesh.physicsImpostor.physicsBody != null) {
                if (defaultAngularFactor != null) {
                    // https://pybullet.org/Bullet/phpBB3/viewtopic.php?t=8153
                    // prevent vehicle from flip over, by limit the rotation  on forward axis or limit angles for vehicle stablization
                    this._chassisMesh.physicsImpostor.physicsBody.setAngularFactor(new Ammo.btVector3(defaultAngularFactor.x, defaultAngularFactor.y, defaultAngularFactor.z));
                }
                this._chassisMesh.physicsImpostor.physicsBody.setActivationState(BABYLON.CollisionState.DISABLE_DEACTIVATION);
            }
            if (this.m_vehicle != null && this.m_vehicleColliders != null && this.m_vehicleColliders.length > 0) {
                var index = -1;
                for (index = 0; index < this.m_vehicleColliders.length; index++) {
                    var wheel = this.m_vehicleColliders[index];
                    var wheelName = (wheel.name != null) ? wheel.name : "Unknown";
                    var wheelRadius = (wheel.radius != null) ? wheel.radius : 0.35;
                    var wheelHalfTrack = (wheel.position != null && wheel.position.length >= 3) ? wheel.position[0] : 1;
                    var wheelAxisPosition = (wheel.position != null && wheel.position.length >= 3) ? wheel.position[2] : -1;
                    // ..
                    // Raycast Wheel Script Properties
                    // ..
                    var wheelConnectionPoint = (wheel.wheelconnectionpoint != null) ? wheel.wheelconnectionpoint : 0.5;
                    var suspensionRestLength = (wheel.suspensionrestlength != null) ? wheel.suspensionrestlength : 0.3;
                    var isfrontwheel = (wheel.frontwheel != null) ? true : (wheelName.toLowerCase().indexOf("front") >= 0);
                    var wheelposition = wheelAxisPosition;
                    var wheeltracking = wheelHalfTrack;
                    var centermassx = -this._centerMass.x;
                    var centermassz = -this._centerMass.z;
                    this.m_vehicle.addWheel(new Ammo.btVector3((wheeltracking + centermassx), wheelConnectionPoint, (wheelposition + centermassz)), this.m_wheelDirectionCS0, this.m_wheelAxleCS, suspensionRestLength, wheelRadius, this.m_vehicleTuning, isfrontwheel);
                }
                if (this.m_vehicle.getNumWheels() === this.m_vehicleColliders.length) {
                    for (index = 0; index < this.m_vehicleColliders.length; index++) {
                        var wheel = this.m_vehicleColliders[index];
                        var defaultForce = (wheel.totalsuspensionforces != null) ? wheel.totalsuspensionforces : 1000000;
                        var defaultTravel = (wheel.suspensiontravelcm != null) ? wheel.suspensiontravelcm : 25;
                        var defaultRolling = (wheel.rollinfluence != null) ? wheel.rollinfluence : 0.2;
                        var defaultFriction = (wheel.frictionslip != null) ? wheel.frictionslip : 10;
                        var suspensionStiffness = (wheel.suspensionstiffness != null) ? wheel.suspensionstiffness : 50;
                        var suspensionCompression = (wheel.dampingcompression != null) ? wheel.dampingcompression : 3.5;
                        var suspensionDamping = (wheel.dampingrelaxation != null) ? wheel.dampingrelaxation : 4.5;
                        var wheelinfo = this.m_vehicle.getWheelInfo(index);
                        if (wheelinfo != null) {
                            wheelinfo.steeringAngle = 0;
                            wheelinfo.rotationBoost = 0;
                            wheelinfo.defaultFriction = defaultFriction;
                            wheelinfo.set_m_frictionSlip(defaultFriction);
                            wheelinfo.set_m_rollInfluence(defaultRolling);
                            wheelinfo.set_m_maxSuspensionForce(defaultForce);
                            wheelinfo.set_m_maxSuspensionTravelCm(defaultTravel);
                            wheelinfo.set_m_suspensionStiffness(suspensionStiffness);
                            wheelinfo.set_m_wheelsDampingCompression(suspensionCompression);
                            wheelinfo.set_m_wheelsDampingRelaxation(suspensionDamping);
                        }
                    }
                }
                else {
                    BABYLON.Tools.Warn("Failed to create proper number of wheels for: " + this._chassisMesh.name);
                }
            }
        };
        RaycastVehicle.prototype.updateWheelInformation = function () {
            var wheels = this.getNumWheels();
            if (wheels > 0) {
                for (var index = 0; index < wheels; index++) {
                    var wheelinfo = this.getWheelInfo(index);
                    if (wheelinfo != null) {
                        var locked = this.lockedWheelInformation(index);
                        this.updateWheelTransform(index, false);
                        // Update Wheel Information Internals
                        this.m_tempTransform = this.getWheelTransform(index);
                        this.m_tempPosition = this.m_tempTransform.getOrigin();
                        // Sync Wheel Hub Transform To Raycast Wheel
                        if (wheelinfo.transform != null) {
                            var transform = wheelinfo.transform;
                            if (transform.parent != null) {
                                // Update Wheel Hub Position
                                BABYLON.Utilities.ConvertAmmoVector3ToRef(this.m_tempPosition, this._tempVectorPos);
                                BABYLON.Utilities.InverseTransformPointToRef(transform.parent, this._tempVectorPos, this._tempVectorPos);
                                transform.position.y = this._tempVectorPos.y;
                                // Update Wheel Hub Steering
                                var steeringAngle = (wheelinfo.steeringAngle != null) ? wheelinfo.steeringAngle : 0;
                                BABYLON.Quaternion.FromEulerAnglesToRef(0, steeringAngle, 0, transform.rotationQuaternion);
                                // Update Wheel Spinner Rotation
                                if (wheelinfo.spinner != null && wheelinfo.spinner.addRotation) {
                                    if (locked === false) {
                                        var wheelrotation = 0;
                                        var deltaRotation = (wheelinfo.get_m_deltaRotation != null) ? wheelinfo.get_m_deltaRotation() : 0;
                                        var rotationBoost = (wheelinfo.rotationBoost != null) ? wheelinfo.rotationBoost : 0;
                                        if (deltaRotation < 0)
                                            wheelrotation = (deltaRotation + -rotationBoost);
                                        else
                                            wheelrotation = (deltaRotation + rotationBoost);
                                        wheelinfo.spinner.addRotation(wheelrotation, 0, 0);
                                    }
                                }
                            }
                        }
                    }
                }
            }
        };
        RaycastVehicle.prototype.lockedWheelInformation = function (wheel) {
            var result = false;
            if (this.lockedWheelIndexes != null && this.lockedWheelIndexes.length > 0) {
                for (var index = 0; index < this.lockedWheelIndexes.length; index++) {
                    if (this.lockedWheelIndexes[index] === wheel) {
                        result = true;
                        break;
                    }
                }
            }
            return result;
        };
        RaycastVehicle.prototype.deleteWheelInformation = function () {
            var wheels = this.getNumWheels();
            if (wheels > 0) {
                for (var index = 0; index < wheels; index++) {
                    var info = this.getWheelInfo(index);
                    if (info != null) {
                        if (info.transform != null) {
                            delete info.transform;
                        }
                        if (info.spinner != null) {
                            delete info.spinner;
                        }
                        if (info.steeringAngle != null) {
                            delete info.steeringAngle;
                        }
                        if (info.rotationBoost != null) {
                            delete info.rotationBoost;
                        }
                        if (info.defaultFriction != null) {
                            delete info.defaultFriction;
                        }
                    }
                }
            }
        };
        return RaycastVehicle;
    }());
    BABYLON.RaycastVehicle = RaycastVehicle;
})(BABYLON || (BABYLON = {}));
var BABYLON;
(function (BABYLON) {
    /**
     * Babylon realtime reflection system pro class (Unity Style Realtime Reflection Probes)
     * @class RealtimeReflection - All rights reserved (c) 2020 Mackey Kinard
     */
    var RealtimeReflection = /** @class */ (function (_super) {
        __extends(RealtimeReflection, _super);
        function RealtimeReflection() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        RealtimeReflection.prototype.awake = function () { };
        RealtimeReflection.prototype.start = function () { };
        RealtimeReflection.prototype.update = function () { };
        RealtimeReflection.prototype.late = function () { };
        RealtimeReflection.prototype.after = function () { };
        RealtimeReflection.prototype.destroy = function () { };
        return RealtimeReflection;
    }(BABYLON.ScriptComponent));
    BABYLON.RealtimeReflection = RealtimeReflection;
})(BABYLON || (BABYLON = {}));
var BABYLON;
(function (BABYLON) {
    /**
     * Babylon full rigidbody physics pro class (Native Bullet Physics 2.82)
     * @class RigidbodyPhysics - All rights reserved (c) 2020 Mackey Kinard
     */
    var RigidbodyPhysics = /** @class */ (function (_super) {
        __extends(RigidbodyPhysics, _super);
        function RigidbodyPhysics() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this._abstractMesh = null;
            _this._isKinematic = false;
            _this._maxCollisions = 4;
            _this._isPhysicsReady = false;
            _this._centerOfMass = new BABYLON.Vector3(0, 0, 0);
            _this._tmpLinearFactor = new BABYLON.Vector3(0, 0, 0);
            _this._tmpAngularFactor = new BABYLON.Vector3(0, 0, 0);
            _this._tmpCenterOfMass = new BABYLON.Vector3(0, 0, 0);
            _this._tmpGravityVector = null;
            _this._tmpCollisionContacts = null;
            _this.m_physicsWorld = null;
            _this.m_physicsEngine = null;
            _this.m_raycastVehicle = null;
            /////////////////////////////////////////////////
            // Rigidbody Physics Collision Event Functions //
            /////////////////////////////////////////////////
            /** Register handler that is triggered when the a collision contact has entered */
            _this.onCollisionEnterObservable = new BABYLON.Observable();
            /** Register handler that is triggered when the a collision contact is active */
            _this.onCollisionStayObservable = new BABYLON.Observable();
            /** Register handler that is triggered when the a collision contact has exited */
            _this.onCollisionExitObservable = new BABYLON.Observable();
            return _this;
        }
        Object.defineProperty(RigidbodyPhysics.prototype, "isKinematic", {
            get: function () { return this._isKinematic; },
            enumerable: false,
            configurable: true
        });
        Object.defineProperty(RigidbodyPhysics.prototype, "centerOfMass", {
            get: function () { return this._centerOfMass; },
            enumerable: false,
            configurable: true
        });
        RigidbodyPhysics.prototype.awake = function () { this.awakeRigidbodyState(); };
        RigidbodyPhysics.prototype.update = function () { this.updateRigidbodyState(); };
        RigidbodyPhysics.prototype.after = function () { this.afterRigidbodyState(); };
        RigidbodyPhysics.prototype.destroy = function () { this.destroyRigidbodyState(); };
        /////////////////////////////////////////////////
        // Protected Rigidbody Physics State Functions //
        /////////////////////////////////////////////////
        RigidbodyPhysics.prototype.awakeRigidbodyState = function () {
            this._abstractMesh = this.getAbstractMesh();
            this._isKinematic = this.getProperty("isKinematic", this._isKinematic);
            this.m_physicsWorld = BABYLON.SceneManager.GetPhysicsWorld(this.scene);
            this.m_physicsEngine = BABYLON.SceneManager.GetPhysicsEngine(this.scene);
            if (this.transform.metadata != null && this.transform.metadata.unity != null && this.transform.metadata.unity.physics != null) {
                this._centerOfMass = (this.transform.metadata.unity.physics.center != null) ? BABYLON.Utilities.ParseVector3(this.transform.metadata.unity.physics.center, this._centerOfMass) : this._centerOfMass;
            }
            //console.warn("Starting Rigidbody Physics For: " + this.transform.name);
            this.setMaxNotifications(this._maxCollisions);
            BABYLON.Utilities.ValidateTransformQuaternion(this.transform);
            this._isPhysicsReady = (this.m_physicsEngine != null && this._tmpCollisionContacts != null && this._abstractMesh != null && this._abstractMesh.physicsImpostor != null && this._abstractMesh.physicsImpostor.physicsBody != null);
            var collisionGroup = (this._isKinematic === true) ? BABYLON.CollisionFilters.StaticFilter : BABYLON.CollisionFilters.DefaultFilter;
            var collisionMask = (this._isKinematic === true) ? BABYLON.CollisionFilters.AllFilter ^ BABYLON.CollisionFilters.StaticFilter : BABYLON.CollisionFilters.AllFilter;
            // DEPRECIATED: this.setContactProcessingThreshold(0);
            this.setCollisionFilterGroup(collisionGroup);
            this.setCollisionFilterMask(collisionMask);
            this.resetBodyCollisionContacts();
        };
        RigidbodyPhysics.prototype.updateRigidbodyState = function () {
            this.syncronizeVehicleController();
        };
        RigidbodyPhysics.prototype.afterRigidbodyState = function () {
            this.parseBodyCollisionContacts();
            this.resetBodyCollisionContacts();
        };
        RigidbodyPhysics.prototype.destroyRigidbodyState = function () {
            this.m_physicsWorld = null;
            this.m_physicsEngine = null;
            if (this.m_raycastVehicle != null) {
                if (this.m_raycastVehicle.dispose) {
                    this.m_raycastVehicle.dispose();
                }
                this.m_raycastVehicle = null;
            }
            if (this._tmpGravityVector != null) {
                Ammo.destroy(this._tmpGravityVector); // ???
                this._tmpGravityVector = null;
            }
            this.onCollisionEnterObservable.clear();
            this.onCollisionEnterObservable = null;
            this.onCollisionStayObservable.clear();
            this.onCollisionStayObservable = null;
            this.onCollisionExitObservable.clear();
            this.onCollisionExitObservable = null;
            this._tmpCollisionContacts = null;
            this._abstractMesh = null;
        };
        //////////////////////////////////////////////////
        // Rigidbody Physics Life Cycle Event Functions //
        //////////////////////////////////////////////////
        RigidbodyPhysics.prototype.syncronizeVehicleController = function () {
            if (this.m_raycastVehicle != null) {
                if (this.m_raycastVehicle.updateWheelInformation) {
                    this.m_raycastVehicle.updateWheelInformation();
                }
            }
        };
        RigidbodyPhysics.prototype.parseBodyCollisionContacts = function () {
            if (this._isPhysicsReady === true) {
                var hasEnterObservers = this.onCollisionEnterObservable.hasObservers();
                var hasStayObservers = this.onCollisionStayObservable.hasObservers();
                var hasExitObservers = this.onCollisionExitObservable.hasObservers();
                if (hasEnterObservers || hasStayObservers || hasExitObservers) {
                    var index = 0; // Note: Flag All Collision List Items For End Contact State
                    for (index = 0; index < this._tmpCollisionContacts.length; index++) {
                        this._tmpCollisionContacts[index].reset = true;
                    }
                    // ..
                    // Parse Overlapping Body Contact Objects
                    // ..
                    var collisionCount = 0;
                    if (this._abstractMesh.physicsImpostor.tmpCollisionObjects != null) {
                        var tmpCollisionObjectMap = this._abstractMesh.physicsImpostor.tmpCollisionObjects;
                        for (var contactKey in tmpCollisionObjectMap) {
                            var foundindex = -1;
                            var contactMesh = tmpCollisionObjectMap[contactKey];
                            for (index = 0; index < this._tmpCollisionContacts.length; index++) {
                                var check = this._tmpCollisionContacts[index];
                                if (check.mesh != null && check.mesh === contactMesh) {
                                    check.state = 1;
                                    check.reset = false;
                                    foundindex = index;
                                    break;
                                }
                            }
                            if (foundindex === -1) {
                                for (index = 0; index < this._tmpCollisionContacts.length; index++) {
                                    var insert = this._tmpCollisionContacts[index];
                                    if (insert.mesh == null) {
                                        insert.mesh = contactMesh;
                                        insert.state = 0;
                                        insert.reset = false;
                                        break;
                                    }
                                }
                            }
                            collisionCount++;
                            if (collisionCount > this._maxCollisions)
                                break;
                        }
                    }
                    // ..
                    // Dispatch Body Collision Contact State
                    // ..
                    for (index = 0; index < this._tmpCollisionContacts.length; index++) {
                        var info = this._tmpCollisionContacts[index];
                        if (info.reset === true) {
                            // Dispatch On Collision Exit Event
                            if (hasExitObservers && info.mesh != null) {
                                this.onCollisionExitObservable.notifyObservers(info.mesh);
                            }
                            // Reset Collision Contact Info Item
                            info.mesh = null;
                            info.state = 0;
                            info.reset = false;
                        }
                        else {
                            if (info.state === 0) {
                                // Dispatch On Collision Enter Event
                                if (hasEnterObservers && info.mesh != null) {
                                    this.onCollisionEnterObservable.notifyObservers(info.mesh);
                                }
                            }
                            else {
                                // Dispatch On Collision Stay Event
                                if (hasStayObservers && info.mesh != null) {
                                    this.onCollisionStayObservable.notifyObservers(info.mesh);
                                }
                            }
                        }
                    }
                }
            }
        };
        RigidbodyPhysics.prototype.resetBodyCollisionContacts = function () {
            if (this._isPhysicsReady === true) {
                var hasEnterObservers = this.onCollisionEnterObservable.hasObservers();
                var hasStayObservers = this.onCollisionStayObservable.hasObservers();
                var hasExitObservers = this.onCollisionExitObservable.hasObservers();
                if (hasEnterObservers || hasStayObservers || hasExitObservers) {
                    this._abstractMesh.physicsImpostor.tmpCollisionObjects = {};
                }
                else {
                    this._abstractMesh.physicsImpostor.tmpCollisionObjects = null;
                }
            }
        };
        ////////////////////////////////////////////////////////////////////////////////////
        // Rigidbody Physics Gravity Advanced Helper Functions
        ////////////////////////////////////////////////////////////////////////////////////
        /** Sets entity gravity value using physics impostor body. */
        RigidbodyPhysics.prototype.setGravity = function (gravity) {
            if (this._abstractMesh != null && this._abstractMesh.physicsImpostor != null && this._abstractMesh.physicsImpostor.physicsBody != null && this._abstractMesh.physicsImpostor.physicsBody.setGravity) {
                if (gravity != null) {
                    if (this._tmpGravityVector == null)
                        this._tmpGravityVector = new Ammo.btVector3(0, 0, 0);
                    this._tmpGravityVector.setValue(gravity.x, gravity.y, gravity.z);
                    this._abstractMesh.physicsImpostor.physicsBody.setGravity(this._tmpGravityVector);
                }
            }
        };
        /** Gets entity gravity value using physics impostor body. */
        RigidbodyPhysics.prototype.getGravity = function () {
            var result = new BABYLON.Vector3(0, 0, 0);
            this.getGravityToRef(result);
            return result;
        };
        /** Gets entity gravity value using physics impostor body. */
        RigidbodyPhysics.prototype.getGravityToRef = function (result) {
            if (this._abstractMesh != null && this._abstractMesh.physicsImpostor != null && this._abstractMesh.physicsImpostor.physicsBody != null && this._abstractMesh.physicsImpostor.physicsBody.getGravity) {
                var gravity = this._abstractMesh.physicsImpostor.physicsBody.getGravity();
                BABYLON.Utilities.ConvertAmmoVector3ToRef(gravity, result);
            }
        };
        ////////////////////////////////////////////////////////////////////////////////////
        // Rigidbody Physics Impostor Helper Functions -  TODO - Use Native Physics API - ???
        ////////////////////////////////////////////////////////////////////////////////////
        /** Gets mass of entity using physics impostor. */
        RigidbodyPhysics.prototype.getMass = function () {
            var result = 0;
            if (this._abstractMesh != null && this._abstractMesh.physicsImpostor != null) {
                result = this._abstractMesh.physicsImpostor.mass;
            }
            return result;
        };
        /** Sets mass to entity using physics impostor. */
        RigidbodyPhysics.prototype.setMass = function (mass) {
            if (this._abstractMesh != null && this._abstractMesh.physicsImpostor != null) {
                if (this._abstractMesh.physicsImpostor.mass !== mass) {
                    this._abstractMesh.physicsImpostor.mass = mass;
                }
            }
        };
        /** Gets entity friction level using physics impostor. */
        RigidbodyPhysics.prototype.getFriction = function () {
            var result = 0;
            if (this._abstractMesh != null && this._abstractMesh.physicsImpostor != null) {
                result = this._abstractMesh.physicsImpostor.friction;
            }
            return result;
        };
        /** Applies friction to entity using physics impostor. */
        RigidbodyPhysics.prototype.setFriction = function (friction) {
            if (this._abstractMesh != null && this._abstractMesh.physicsImpostor != null) {
                if (this._abstractMesh.physicsImpostor.friction !== friction) {
                    this._abstractMesh.physicsImpostor.friction = friction;
                }
            }
        };
        /** Gets restitution of entity using physics impostor. */
        RigidbodyPhysics.prototype.getRestitution = function () {
            var result = 0;
            if (this._abstractMesh != null && this._abstractMesh.physicsImpostor != null) {
                result = this._abstractMesh.physicsImpostor.restitution;
            }
            return result;
        };
        /** Sets restitution to entity using physics impostor. */
        RigidbodyPhysics.prototype.setRestitution = function (restitution) {
            if (this._abstractMesh != null && this._abstractMesh.physicsImpostor != null) {
                if (this._abstractMesh.physicsImpostor.restitution !== restitution) {
                    this._abstractMesh.physicsImpostor.restitution = restitution;
                }
            }
        };
        /** Gets entity linear velocity using physics impostor. */
        RigidbodyPhysics.prototype.getLinearVelocity = function () {
            var result = null;
            if (this._abstractMesh != null && this._abstractMesh.physicsImpostor != null) {
                result = this._abstractMesh.physicsImpostor.getLinearVelocity();
            }
            return result;
        };
        /** Sets entity linear velocity using physics impostor. */
        RigidbodyPhysics.prototype.setLinearVelocity = function (velocity) {
            if (this._abstractMesh != null && this._abstractMesh.physicsImpostor != null) {
                if (velocity != null)
                    this._abstractMesh.physicsImpostor.setLinearVelocity(velocity);
            }
        };
        /** Gets entity angular velocity using physics impostor. */
        RigidbodyPhysics.prototype.getAngularVelocity = function () {
            var result = null;
            if (this._abstractMesh != null && this._abstractMesh.physicsImpostor != null) {
                result = this._abstractMesh.physicsImpostor.getAngularVelocity();
            }
            return result;
        };
        /** Sets entity angular velocity using physics impostor. */
        RigidbodyPhysics.prototype.setAngularVelocity = function (velocity) {
            if (this._abstractMesh != null && this._abstractMesh.physicsImpostor != null) {
                if (velocity != null)
                    this._abstractMesh.physicsImpostor.setAngularVelocity(velocity);
            }
        };
        ////////////////////////////////////////////////////////////////////////////////////
        // Rigidbody Physics Transform Helper Functions
        ////////////////////////////////////////////////////////////////////////////////////
        /** Gets the native physics world transform object using physics impostor body. (Advanved Use Only) */
        RigidbodyPhysics.prototype.getWorldTransform = function () {
            var result = null;
            if (this._abstractMesh != null && this._abstractMesh.physicsImpostor != null && this._abstractMesh.physicsImpostor.physicsBody != null) {
                var collisionObject = Ammo.castObject(this._abstractMesh.physicsImpostor.physicsBody, Ammo.btCollisionObject);
                if (collisionObject != null && collisionObject.getWorldTransform) {
                    result = collisionObject.getWorldTransform();
                }
            }
            return result;
        };
        /** Gets the entity world transform position using physics impostor body. (Advanved Use Only) */
        RigidbodyPhysics.prototype.getTransformPositionToRef = function (result) {
            var btTransform = this.getWorldTransform();
            if (btTransform != null && result != null) {
                var btPosition = btTransform.getOrigin();
                BABYLON.Utilities.ConvertAmmoVector3ToRef(btPosition, result);
            }
        };
        /** Gets the entity world transform rotation using physics impostor body. (Advanved Use Only) */
        RigidbodyPhysics.prototype.getTransformRotationToRef = function (result) {
            var btTransform = this.getWorldTransform();
            if (btTransform != null && result != null) {
                var btRotation = btTransform.getRotation();
                BABYLON.Utilities.ConvertAmmoQuaternionToRef(btRotation, result);
            }
        };
        ////////////////////////////////////////////////////////////////////////////////////
        // Rigidbody Applied Physics Movement Functions
        ////////////////////////////////////////////////////////////////////////////////////
        RigidbodyPhysics.prototype.clearForces = function () {
            if (this._abstractMesh != null && this._abstractMesh.physicsImpostor != null && this._abstractMesh.physicsImpostor.physicsBody != null && this._abstractMesh.physicsImpostor.physicsBody.clearForces) {
                this._abstractMesh.physicsImpostor.physicsBody.clearForces();
            }
        };
        ////////////////////////////////////////////////// 
        // TODO - Use Function Specific Temp Ammo Buffer //
        ////////////////////////////////////////////////// 
        RigidbodyPhysics.prototype.applyTorque = function (torque) {
            if (this._abstractMesh != null && this._abstractMesh.physicsImpostor != null && this._abstractMesh.physicsImpostor.physicsBody != null && this._abstractMesh.physicsImpostor.physicsBody.applyTorque) {
                if (torque != null) {
                    if (BABYLON.RigidbodyPhysics.TempAmmoVector == null)
                        BABYLON.RigidbodyPhysics.TempAmmoVector = new Ammo.btVector3(0, 0, 0);
                    BABYLON.RigidbodyPhysics.TempAmmoVector.setValue(torque.x, torque.y, torque.z);
                    this._abstractMesh.physicsImpostor.physicsBody.applyTorque(BABYLON.RigidbodyPhysics.TempAmmoVector);
                }
            }
        };
        RigidbodyPhysics.prototype.applyLocalTorque = function (torque) {
            if (this._abstractMesh != null && this._abstractMesh.physicsImpostor != null && this._abstractMesh.physicsImpostor.physicsBody != null && this._abstractMesh.physicsImpostor.physicsBody.applyLocalTorque) {
                if (torque != null) {
                    if (BABYLON.RigidbodyPhysics.TempAmmoVector == null)
                        BABYLON.RigidbodyPhysics.TempAmmoVector = new Ammo.btVector3(0, 0, 0);
                    BABYLON.RigidbodyPhysics.TempAmmoVector.setValue(torque.x, torque.y, torque.z);
                    this._abstractMesh.physicsImpostor.physicsBody.applyLocalTorque(BABYLON.RigidbodyPhysics.TempAmmoVector);
                }
            }
        };
        RigidbodyPhysics.prototype.applyImpulse = function (impulse, rel_pos) {
            if (this._abstractMesh != null && this._abstractMesh.physicsImpostor != null && this._abstractMesh.physicsImpostor.physicsBody != null && this._abstractMesh.physicsImpostor.physicsBody.applyImpulse) {
                if (impulse != null) {
                    if (BABYLON.RigidbodyPhysics.TempAmmoVector == null)
                        BABYLON.RigidbodyPhysics.TempAmmoVector = new Ammo.btVector3(0, 0, 0);
                    if (BABYLON.RigidbodyPhysics.TempAmmoVectorAux == null)
                        BABYLON.RigidbodyPhysics.TempAmmoVectorAux = new Ammo.btVector3(0, 0, 0);
                    BABYLON.RigidbodyPhysics.TempAmmoVector.setValue(impulse.x, impulse.y, impulse.z);
                    BABYLON.RigidbodyPhysics.TempAmmoVectorAux.setValue(rel_pos.x, rel_pos.y, rel_pos.z);
                    this._abstractMesh.physicsImpostor.physicsBody.applyImpulse(BABYLON.RigidbodyPhysics.TempAmmoVector, BABYLON.RigidbodyPhysics.TempAmmoVectorAux);
                }
            }
        };
        RigidbodyPhysics.prototype.applyCentralImpulse = function (impulse) {
            if (this._abstractMesh != null && this._abstractMesh.physicsImpostor != null && this._abstractMesh.physicsImpostor.physicsBody != null && this._abstractMesh.physicsImpostor.physicsBody.applyCentralImpulse) {
                if (impulse != null) {
                    if (BABYLON.RigidbodyPhysics.TempAmmoVector == null)
                        BABYLON.RigidbodyPhysics.TempAmmoVector = new Ammo.btVector3(0, 0, 0);
                    BABYLON.RigidbodyPhysics.TempAmmoVector.setValue(impulse.x, impulse.y, impulse.z);
                    this._abstractMesh.physicsImpostor.physicsBody.applyCentralImpulse(BABYLON.RigidbodyPhysics.TempAmmoVector);
                }
            }
        };
        RigidbodyPhysics.prototype.applyTorqueImpulse = function (torque) {
            if (this._abstractMesh != null && this._abstractMesh.physicsImpostor != null && this._abstractMesh.physicsImpostor.physicsBody != null && this._abstractMesh.physicsImpostor.physicsBody.applyTorqueImpulse) {
                if (torque != null) {
                    if (BABYLON.RigidbodyPhysics.TempAmmoVector == null)
                        BABYLON.RigidbodyPhysics.TempAmmoVector = new Ammo.btVector3(0, 0, 0);
                    BABYLON.RigidbodyPhysics.TempAmmoVector.setValue(torque.x, torque.y, torque.z);
                    this._abstractMesh.physicsImpostor.physicsBody.applyTorqueImpulse(BABYLON.RigidbodyPhysics.TempAmmoVector);
                }
            }
        };
        RigidbodyPhysics.prototype.applyForce = function (force, rel_pos) {
            if (this._abstractMesh != null && this._abstractMesh.physicsImpostor != null && this._abstractMesh.physicsImpostor.physicsBody != null && this._abstractMesh.physicsImpostor.physicsBody.applyForce) {
                if (force != null) {
                    if (BABYLON.RigidbodyPhysics.TempAmmoVector == null)
                        BABYLON.RigidbodyPhysics.TempAmmoVector = new Ammo.btVector3(0, 0, 0);
                    if (BABYLON.RigidbodyPhysics.TempAmmoVectorAux == null)
                        BABYLON.RigidbodyPhysics.TempAmmoVectorAux = new Ammo.btVector3(0, 0, 0);
                    BABYLON.RigidbodyPhysics.TempAmmoVector.setValue(force.x, force.y, force.z);
                    BABYLON.RigidbodyPhysics.TempAmmoVectorAux.setValue(rel_pos.x, rel_pos.y, rel_pos.z);
                    this._abstractMesh.physicsImpostor.physicsBody.applyForce(BABYLON.RigidbodyPhysics.TempAmmoVector, BABYLON.RigidbodyPhysics.TempAmmoVectorAux);
                }
            }
        };
        RigidbodyPhysics.prototype.applyCentralForce = function (force) {
            if (this._abstractMesh != null && this._abstractMesh.physicsImpostor != null && this._abstractMesh.physicsImpostor.physicsBody != null && this._abstractMesh.physicsImpostor.physicsBody.applyCentralForce) {
                if (force != null) {
                    if (BABYLON.RigidbodyPhysics.TempAmmoVector == null)
                        BABYLON.RigidbodyPhysics.TempAmmoVector = new Ammo.btVector3(0, 0, 0);
                    BABYLON.RigidbodyPhysics.TempAmmoVector.setValue(force.x, force.y, force.z);
                    this._abstractMesh.physicsImpostor.physicsBody.applyCentralForce(BABYLON.RigidbodyPhysics.TempAmmoVector);
                }
            }
        };
        RigidbodyPhysics.prototype.applyCentralLocalForce = function (force) {
            if (this._abstractMesh != null && this._abstractMesh.physicsImpostor != null && this._abstractMesh.physicsImpostor.physicsBody != null && this._abstractMesh.physicsImpostor.physicsBody.applyCentralLocalForce) {
                if (force != null) {
                    if (BABYLON.RigidbodyPhysics.TempAmmoVector == null)
                        BABYLON.RigidbodyPhysics.TempAmmoVector = new Ammo.btVector3(0, 0, 0);
                    BABYLON.RigidbodyPhysics.TempAmmoVector.setValue(force.x, force.y, force.z);
                    this._abstractMesh.physicsImpostor.physicsBody.applyCentralLocalForce(BABYLON.RigidbodyPhysics.TempAmmoVector);
                }
            }
        };
        /** gets rigidbody center of mass */
        RigidbodyPhysics.prototype.getCenterOfMassTransform = function () {
            if (this._abstractMesh != null && this._abstractMesh.physicsImpostor != null && this._abstractMesh.physicsImpostor.physicsBody != null && this._abstractMesh.physicsImpostor.physicsBody.getCenterOfMassTransform) {
                var bttransform = this._abstractMesh.physicsImpostor.physicsBody.getCenterOfMassTransform();
                var btposition = bttransform.getOrigin();
                this._tmpCenterOfMass.set(btposition.x(), btposition.y(), btposition.z());
            }
            return this._tmpCenterOfMass;
        };
        /** Sets rigidbody center of mass */
        RigidbodyPhysics.prototype.setCenterOfMassTransform = function (center) {
            if (this._abstractMesh != null && this._abstractMesh.physicsImpostor != null && this._abstractMesh.physicsImpostor.physicsBody != null && this._abstractMesh.physicsImpostor.physicsBody.setCenterOfMassTransform) {
                if (center != null) {
                    if (BABYLON.RigidbodyPhysics.TempAmmoVector == null)
                        BABYLON.RigidbodyPhysics.TempAmmoVector = new Ammo.btVector3(0, 0, 0);
                    BABYLON.RigidbodyPhysics.TempAmmoVector.setValue(center.x, center.y, center.z);
                    if (BABYLON.RigidbodyPhysics.TempCenterTransform == null)
                        BABYLON.RigidbodyPhysics.TempCenterTransform = new Ammo.btTransform();
                    BABYLON.RigidbodyPhysics.TempCenterTransform.setIdentity();
                    BABYLON.RigidbodyPhysics.TempCenterTransform.setOrigin(BABYLON.RigidbodyPhysics.TempAmmoVector);
                    this._abstractMesh.physicsImpostor.physicsBody.setCenterOfMassTransform(BABYLON.RigidbodyPhysics.TempCenterTransform);
                }
            }
        };
        ////////////////////////////////////////////////////////////////////////////////////
        // Rigidbody Physics Native Body Helper Functions
        ////////////////////////////////////////////////////////////////////////////////////
        /** Gets entity linear factor using physics impostor body. */
        RigidbodyPhysics.prototype.getLinearFactor = function () {
            if (this._abstractMesh != null && this._abstractMesh.physicsImpostor != null && this._abstractMesh.physicsImpostor.physicsBody != null && this._abstractMesh.physicsImpostor.physicsBody.getLinearFactor) {
                var linearFactor = this._abstractMesh.physicsImpostor.physicsBody.getLinearFactor();
                this._tmpLinearFactor.set(linearFactor.x(), linearFactor.y(), linearFactor.z());
            }
            return this._tmpLinearFactor;
        };
        /** Sets entity linear factor using physics impostor body. */
        RigidbodyPhysics.prototype.setLinearFactor = function (factor) {
            if (this._abstractMesh != null && this._abstractMesh.physicsImpostor != null && this._abstractMesh.physicsImpostor.physicsBody != null && this._abstractMesh.physicsImpostor.physicsBody.setLinearFactor) {
                if (BABYLON.RigidbodyPhysics.TempAmmoVector == null)
                    BABYLON.RigidbodyPhysics.TempAmmoVector = new Ammo.btVector3(0, 0, 0);
                BABYLON.RigidbodyPhysics.TempAmmoVector.setValue(factor.x, factor.y, factor.z);
                this._abstractMesh.physicsImpostor.physicsBody.setLinearFactor(BABYLON.RigidbodyPhysics.TempAmmoVector);
            }
        };
        /** Gets entity angular factor using physics impostor body. */
        RigidbodyPhysics.prototype.getAngularFactor = function () {
            if (this._abstractMesh != null && this._abstractMesh.physicsImpostor != null && this._abstractMesh.physicsImpostor.physicsBody != null && this._abstractMesh.physicsImpostor.physicsBody.getAngularFactor) {
                var angularFactor = this._abstractMesh.physicsImpostor.physicsBody.getAngularFactor();
                this._tmpAngularFactor.set(angularFactor.x(), angularFactor.y(), angularFactor.z());
            }
            return this._tmpAngularFactor;
        };
        /** Sets entity angular factor using physics impostor body. */
        RigidbodyPhysics.prototype.setAngularFactor = function (factor) {
            if (this._abstractMesh != null && this._abstractMesh.physicsImpostor != null && this._abstractMesh.physicsImpostor.physicsBody != null && this._abstractMesh.physicsImpostor.physicsBody.setAngularFactor) {
                if (BABYLON.RigidbodyPhysics.TempAmmoVector == null)
                    BABYLON.RigidbodyPhysics.TempAmmoVector = new Ammo.btVector3(0, 0, 0);
                BABYLON.RigidbodyPhysics.TempAmmoVector.setValue(factor.x, factor.y, factor.z);
                this._abstractMesh.physicsImpostor.physicsBody.setAngularFactor(BABYLON.RigidbodyPhysics.TempAmmoVector);
            }
        };
        /** Gets entity angular damping using physics impostor body. */
        RigidbodyPhysics.prototype.getAngularDamping = function () {
            var result = 0;
            if (this._abstractMesh != null && this._abstractMesh.physicsImpostor != null && this._abstractMesh.physicsImpostor.physicsBody != null && this._abstractMesh.physicsImpostor.physicsBody.getAngularDamping) {
                result = this._abstractMesh.physicsImpostor.physicsBody.getAngularDamping();
            }
            return result;
        };
        /** Gets entity linear damping using physics impostor body. */
        RigidbodyPhysics.prototype.getLinearDamping = function () {
            var result = 0;
            if (this._abstractMesh != null && this._abstractMesh.physicsImpostor != null && this._abstractMesh.physicsImpostor.physicsBody != null && this._abstractMesh.physicsImpostor.physicsBody.getLinearDamping) {
                result = this._abstractMesh.physicsImpostor.physicsBody.getLinearDamping();
            }
            return result;
        };
        /** Sets entity drag damping using physics impostor body. */
        RigidbodyPhysics.prototype.setDamping = function (linear, angular) {
            if (this._abstractMesh != null && this._abstractMesh.physicsImpostor != null && this._abstractMesh.physicsImpostor.physicsBody != null && this._abstractMesh.physicsImpostor.physicsBody.setDamping) {
                this._abstractMesh.physicsImpostor.physicsBody.setDamping(linear, angular);
            }
        };
        /** Sets entity sleeping threshold using physics impostor body. */
        RigidbodyPhysics.prototype.setSleepingThresholds = function (linear, angular) {
            if (this._abstractMesh != null && this._abstractMesh.physicsImpostor != null && this._abstractMesh.physicsImpostor.physicsBody != null && this._abstractMesh.physicsImpostor.physicsBody.setSleepingThresholds) {
                this._abstractMesh.physicsImpostor.physicsBody.setSleepingThresholds(linear, angular);
            }
        };
        ////////////////////////////////////////////////////////////////////////////////////
        // Rigidbody Physics Native Advanced Helper Functions
        ////////////////////////////////////////////////////////////////////////////////////
        /** Checks if rigidbody has wheel collider metadata for the entity. Note: Wheel collider metadata informaion is required for vehicle control. */
        RigidbodyPhysics.prototype.hasWheelColliders = function () {
            return (this._isPhysicsReady === true && this._abstractMesh.metadata != null && this._abstractMesh.metadata.unity != null && this._abstractMesh.metadata.unity.wheels != null);
        };
        /** Sets the maximum number of simultaneous contact notfications to dispatch per frame. Defaults value is 4. (Advanved Use Only) */
        RigidbodyPhysics.prototype.setMaxNotifications = function (max) {
            this._maxCollisions = max;
            this._tmpCollisionContacts = [];
            for (var index = 0; index < this._maxCollisions; index++) {
                this._tmpCollisionContacts.push(new CollisionContactInfo());
            }
        };
        /** Sets entity collision activation state using physics impostor body. (Advanved Use Only) */
        RigidbodyPhysics.prototype.setActivationState = function (state) {
            if (this._abstractMesh != null && this._abstractMesh.physicsImpostor != null && this._abstractMesh.physicsImpostor.physicsBody != null) {
                var collisionObject = Ammo.castObject(this._abstractMesh.physicsImpostor.physicsBody, Ammo.btCollisionObject);
                if (collisionObject != null && collisionObject.setActivationState) {
                    collisionObject.setActivationState(state);
                }
            }
        };
        /** Gets entity collision filter group using physics impostor body. (Advanved Use Only) */
        RigidbodyPhysics.prototype.getCollisionFilterGroup = function () {
            var result = -1;
            if (this._abstractMesh != null && this._abstractMesh.physicsImpostor != null && this._abstractMesh.physicsImpostor.physicsBody != null && this._abstractMesh.physicsImpostor.physicsBody.getBroadphaseProxy) {
                result = this._abstractMesh.physicsImpostor.physicsBody.getBroadphaseProxy().get_m_collisionFilterGroup();
            }
            return result;
        };
        /** Sets entity collision filter group using physics impostor body. (Advanved Use Only) */
        RigidbodyPhysics.prototype.setCollisionFilterGroup = function (group) {
            if (this._abstractMesh != null && this._abstractMesh.physicsImpostor != null && this._abstractMesh.physicsImpostor.physicsBody != null && this._abstractMesh.physicsImpostor.physicsBody.getBroadphaseProxy) {
                this._abstractMesh.physicsImpostor.physicsBody.getBroadphaseProxy().set_m_collisionFilterGroup(group);
            }
        };
        /** Gets entity collision filter mask using physics impostor body. (Advanved Use Only) */
        RigidbodyPhysics.prototype.getCollisionFilterMask = function () {
            var result = -1;
            if (this._abstractMesh != null && this._abstractMesh.physicsImpostor != null && this._abstractMesh.physicsImpostor.physicsBody != null && this._abstractMesh.physicsImpostor.physicsBody.getBroadphaseProxy) {
                result = this._abstractMesh.physicsImpostor.physicsBody.getBroadphaseProxy().get_m_collisionFilterMask();
            }
            return result;
        };
        /** Sets entity collision filter mask using physics impostor body. (Advanved Use Only) */
        RigidbodyPhysics.prototype.setCollisionFilterMask = function (mask) {
            if (this._abstractMesh != null && this._abstractMesh.physicsImpostor != null && this._abstractMesh.physicsImpostor.physicsBody != null && this._abstractMesh.physicsImpostor.physicsBody.getBroadphaseProxy) {
                this._abstractMesh.physicsImpostor.physicsBody.getBroadphaseProxy().set_m_collisionFilterMask(mask);
            }
        };
        /** Gets the entity collision shape type using physics impostor body. (Advanved Use Only) */
        RigidbodyPhysics.prototype.getCollisionShapeType = function () {
            var result = -1;
            if (this._abstractMesh != null && this._abstractMesh.physicsImpostor != null && this._abstractMesh.physicsImpostor.physicsBody != null) {
                var collisionObject = Ammo.castObject(this._abstractMesh.physicsImpostor.physicsBody, Ammo.btCollisionObject);
                if (collisionObject != null) {
                    var collisionShape = collisionObject.getCollisionShape();
                    if (collisionShape != null && collisionShape.getShapeType) {
                        result = collisionShape.getShapeType();
                    }
                }
            }
            return result;
        };
        /** Gets the entity collision shape margin using physics impostor body. (Advanved Use Only) */
        RigidbodyPhysics.prototype.getCollisionShapeMargin = function () {
            var result = -1;
            if (this._abstractMesh != null && this._abstractMesh.physicsImpostor != null && this._abstractMesh.physicsImpostor.physicsBody != null) {
                var collisionObject = Ammo.castObject(this._abstractMesh.physicsImpostor.physicsBody, Ammo.btCollisionObject);
                if (collisionObject != null) {
                    var collisionShape = collisionObject.getCollisionShape();
                    if (collisionShape != null && collisionShape.getMargin) {
                        result = collisionShape.getMargin();
                    }
                }
            }
            return result;
        };
        /** Sets entity collision shape margin using physics impostor body. (Advanved Use Only) */
        RigidbodyPhysics.prototype.setCollisionShapeMargin = function (margin) {
            if (this._abstractMesh != null && this._abstractMesh.physicsImpostor != null && this._abstractMesh.physicsImpostor.physicsBody != null) {
                var collisionObject = Ammo.castObject(this._abstractMesh.physicsImpostor.physicsBody, Ammo.btCollisionObject);
                if (collisionObject != null) {
                    var collisionShape = collisionObject.getCollisionShape();
                    if (collisionShape != null && collisionShape.setMargin) {
                        collisionShape.setMargin(margin);
                    }
                }
            }
        };
        /** Gets the entity contact processing threshold using physics impostor body. (Advanved Use Only) */
        RigidbodyPhysics.prototype.getContactProcessingThreshold = function () {
            var result = -1;
            if (this._abstractMesh != null && this._abstractMesh.physicsImpostor != null && this._abstractMesh.physicsImpostor.physicsBody != null) {
                var collisionObject = Ammo.castObject(this._abstractMesh.physicsImpostor.physicsBody, Ammo.btCollisionObject);
                if (collisionObject != null && collisionObject.getContactProcessingThreshold) {
                    result = collisionObject.getContactProcessingThreshold();
                }
            }
            return result;
        };
        /** Sets entity contact processing threshold using physics impostor body. (Advanved Use Only) */
        RigidbodyPhysics.prototype.setContactProcessingThreshold = function (threshold) {
            if (this._abstractMesh != null && this._abstractMesh.physicsImpostor != null && this._abstractMesh.physicsImpostor.physicsBody != null) {
                var collisionObject = Ammo.castObject(this._abstractMesh.physicsImpostor.physicsBody, Ammo.btCollisionObject);
                if (collisionObject != null && collisionObject.setContactProcessingThreshold) {
                    collisionObject.setContactProcessingThreshold(threshold);
                }
            }
        };
        // ************************************ //
        // * Physics Physics Helper Functions * //
        // ************************************ //
        /** TODO */
        RigidbodyPhysics.CreatePhysicsMetadata = function (mass, drag, angularDrag, centerMass) {
            if (drag === void 0) { drag = 0.0; }
            if (angularDrag === void 0) { angularDrag = 0.05; }
            if (centerMass === void 0) { centerMass = null; }
            var center = (centerMass != null) ? centerMass : new BABYLON.Vector3(0, 0, 0);
            return {
                "type": "rigidbody",
                "mass": mass,
                "ldrag": drag,
                "adrag": angularDrag,
                "center": {
                    "x": center.x,
                    "y": center.y,
                    "z": center.z
                }
            };
        };
        /** TODO */
        RigidbodyPhysics.CreateCollisionMetadata = function (type, trigger, convexmesh, restitution, dynamicfriction, staticfriction) {
            if (trigger === void 0) { trigger = false; }
            if (convexmesh === void 0) { convexmesh = false; }
            if (restitution === void 0) { restitution = 0.0; }
            if (dynamicfriction === void 0) { dynamicfriction = 0.6; }
            if (staticfriction === void 0) { staticfriction = 0.6; }
            return {
                "type": type,
                "trigger": trigger,
                "convexmesh": convexmesh,
                "restitution": restitution,
                "dynamicfriction": dynamicfriction,
                "staticfriction": staticfriction,
                "wheelinformation": null
            };
        };
        /** TODO */
        RigidbodyPhysics.CreatePhysicsProperties = function (mass, drag, angularDrag, useGravity, isKinematic) {
            if (drag === void 0) { drag = 0.0; }
            if (angularDrag === void 0) { angularDrag = 0.05; }
            if (useGravity === void 0) { useGravity = true; }
            if (isKinematic === void 0) { isKinematic = false; }
            return {
                "mass": mass,
                "drag": drag,
                "angularDrag": angularDrag,
                "useGravity": useGravity,
                "isKinematic": isKinematic
            };
        };
        /** TODO */
        RigidbodyPhysics.SetupPhysicsComponent = function (scene, entity) {
            // console.warn(">>> TRACE - Setup Physics For: " + entity.name);
            // console.log(entity);
            var metadata = (entity.metadata != null && entity.metadata.unity != null) ? entity.metadata.unity : null;
            if (metadata != null && (metadata.physics != null || metadata.collision != null)) {
                // Physics Metadata
                var hasphysics = (metadata.physics != null);
                var isroot = (metadata.physics != null && metadata.physics.root != null) ? metadata.physics.root : false;
                var mass = (metadata.physics != null && metadata.physics.mass != null) ? metadata.physics.mass : 0;
                var isstatic = (mass === 0);
                // Collision Metadata
                var hascollision = (metadata.collision != null);
                var collider = (metadata.collision != null && metadata.collision.type != null) ? metadata.collision.type : "BoxCollider";
                var convexmesh = (metadata.collision != null && metadata.collision.convexmesh != null) ? metadata.collision.convexmesh : false;
                var dynamicfriction = (metadata.collision != null && metadata.collision.dynamicfriction != null) ? metadata.collision.dynamicfriction : 0.6;
                var staticfriction = (metadata.collision != null && metadata.collision.staticfriction != null) ? metadata.collision.staticfriction : 0.6;
                var restitution = (metadata.collision != null && metadata.collision.restitution != null) ? metadata.collision.restitution : 0;
                var istrigger = (metadata.collision != null && metadata.collision.trigger != null) ? metadata.collision.trigger : false;
                var impostortype = BABYLON.PhysicsImpostor.BoxImpostor;
                // Config Physics Impostor
                if (collider === "MeshCollider") {
                    impostortype = (convexmesh === true) ? BABYLON.PhysicsImpostor.ConvexHullImpostor : BABYLON.PhysicsImpostor.MeshImpostor;
                }
                else if (collider === "CapsuleCollider") {
                    impostortype = BABYLON.PhysicsImpostor.CapsuleImpostor;
                }
                else if (collider === "SphereCollider") {
                    impostortype = BABYLON.PhysicsImpostor.SphereImpostor;
                }
                else {
                    impostortype = BABYLON.PhysicsImpostor.BoxImpostor;
                }
                // Create Physics Impostor Node
                if (hasphysics === true) {
                    if (isroot) {
                        // const center:BABYLON.Vector3 = (metadata.physics != null && metadata.physics.center != null) ? BABYLON.Utilities.ParseVector3(metadata.physics.center, BABYLON.Vector3.Zero()) : BABYLON.Vector3.Zero();
                        var fnodes_1 = null;
                        var fwheels_1 = null;
                        var childnodes = entity.getChildren(null, false);
                        if (childnodes != null && childnodes.length > 0) {
                            childnodes.forEach(function (childnode) {
                                if (childnode.metadata != null && childnode.metadata.unity != null) {
                                    if (childnode.metadata.unity.collision != null) {
                                        var ccollision = childnode.metadata.unity.collision;
                                        var cwheelinformation = (ccollision.wheelinformation != null) ? ccollision.wheelinformation : null;
                                        if (cwheelinformation != null) {
                                            // Trace Wheel Collider
                                            // BABYLON.Tools.Warn("Push raycast wheel collider: " + childnode.name + " --> on to: " + entity.name);
                                            if (fwheels_1 == null)
                                                fwheels_1 = [];
                                            fwheels_1.push(cwheelinformation);
                                        }
                                        else {
                                            // Trace Compound Collider
                                            // BABYLON.Tools.Warn("Push compound child collider: " + childnode.name + " --> on to: " + entity.name);
                                            if (fnodes_1 == null)
                                                fnodes_1 = [];
                                            fnodes_1.push(childnode);
                                        }
                                    }
                                }
                            });
                        }
                        if (fwheels_1 != null && fwheels_1.length > 0) {
                            if (entity.metadata == null)
                                entity.metadata = {};
                            if (entity.metadata.unity == null)
                                entity.metadata.unity = {};
                            entity.metadata.unity.wheels = fwheels_1;
                        }
                        if (fnodes_1 != null && fnodes_1.length > 0) {
                            if (hascollision === true)
                                fnodes_1.unshift(entity);
                            entity._compoundNodes = fnodes_1;
                            // Trace Physics Root
                            // BABYLON.Tools.Warn("Setup physics root imposter for: " + entity.name);
                            BABYLON.SceneManager.CreatePhysicsImpostor(scene, entity, BABYLON.PhysicsImpostor.NoImpostor, { mass: mass, friction: dynamicfriction, restitution: restitution });
                            BABYLON.RigidbodyPhysics.ConfigRigidbodyPhysics(scene, entity, false, istrigger, metadata.physics);
                        }
                        childnodes = null;
                    }
                    else {
                        if (hascollision === true) {
                            // Trace Physics Impostor
                            //BABYLON.Tools.Warn("Setup " + BABYLON.SceneManager.GetPhysicsImposterType(impostortype).toLowerCase() + " physics impostor for: " + entity.name);
                            BABYLON.SceneManager.CreatePhysicsImpostor(scene, entity, impostortype, { mass: mass, friction: (isstatic) ? staticfriction : dynamicfriction, restitution: restitution });
                            BABYLON.RigidbodyPhysics.ConfigRigidbodyPhysics(scene, entity, false, istrigger, metadata.physics);
                        }
                    }
                }
            }
        };
        /* DEPRECIATED
        public static SetupPhysicsComponent_LEGACY(scene:BABYLON.Scene, entity: BABYLON.AbstractMesh): void {
            // BABYLON.Tools.Warn("Setup Physics Component For: " + entity.name);
            const metadata:any = (entity.metadata != null && entity.metadata.unity != null) ? entity.metadata.unity : null;
            if (metadata != null && metadata.physics != null) {
                const mass:number = (metadata.physics.mass != null) ? metadata.physics.mass : 0;
                const center:BABYLON.Vector3 = (metadata.physics.center != null) ? BABYLON.Utilities.ParseVector3(metadata.physics.center, BABYLON.Vector3.Zero()) : BABYLON.Vector3.Zero();
                if (metadata.physics.type === "rigidbody") {
                    if (metadata.collision != null && metadata.collision.type != null) {
                        // ..
                        // Setup Convex Hull & Mesh Impostor Colliders
                        // ..
                        const convexmesh:boolean = (metadata.collision.convexmesh != null) ? metadata.collision.convexmesh : false;
                        const dynamicfriction:number = (metadata.collision.dynamicfriction != null) ? metadata.collision.dynamicfriction : 0.6;
                        const staticfriction:number = (metadata.collision.staticfriction != null) ? metadata.collision.staticfriction : 0.6;
                        const restitution:number = (metadata.collision.restitution != null) ? metadata.collision.restitution : 0;
                        const impersonate:string = (metadata.collision.impersonate != null) ? metadata.collision.impersonate : "None";
                        const istrigger:boolean = (metadata.collision.trigger != null) ? metadata.collision.trigger : false;
                        const collider:string = (metadata.collision.type != null) ? metadata.collision.type : "BoxCollider";
                        let impostortype:number = BABYLON.PhysicsImpostor.BoxImpostor;
                        if (impersonate == null || impersonate === "" || impersonate === "None") {
                            if (collider === "MeshCollider") {
                                impostortype = (convexmesh === true) ? BABYLON.PhysicsImpostor.ConvexHullImpostor : BABYLON.PhysicsImpostor.MeshImpostor;
                                if (mass > 0 && convexmesh === false) BABYLON.Tools.Warn("Non static mesh collider not supported for transform node: " + entity.name);
                            } else if (collider === "CapsuleCollider") {
                                // Note: Using Convex Hull Impostor To Support Capsule Rotation
                                impostortype = BABYLON.PhysicsImpostor.ConvexHullImpostor;
                            } else if (collider === "SphereCollider") {
                                impostortype = BABYLON.PhysicsImpostor.SphereImpostor;
                            } else {
                                impostortype = BABYLON.PhysicsImpostor.BoxImpostor;
                            }
                        } else {
                            if (impersonate === "PlaneImpostor") {
                                impostortype = BABYLON.PhysicsImpostor.PlaneImpostor;
                            } else if (impersonate === "SphereImpostor") {
                                impostortype = BABYLON.PhysicsImpostor.SphereImpostor;
                            } else if (impersonate === "CapsuleImpostor") {
                                impostortype = BABYLON.PhysicsImpostor.CapsuleImpostor;
                            } else if (impersonate === "CylinderImpostor") {
                                impostortype = BABYLON.PhysicsImpostor.CylinderImpostor;
                            } else if (impersonate === "ConvexHullImpostor") {
                                impostortype = BABYLON.PhysicsImpostor.ConvexHullImpostor;
                            } else {
                                impostortype = BABYLON.PhysicsImpostor.BoxImpostor;
                            }
                        }
                        // Trace Mesh Collider
                        // BABYLON.Tools.Warn("Setup " + BABYLON.SceneManager.GetPhysicsImposterType(impostortype).toLowerCase() + " geometry imposter for: " + entity.name);
                        BABYLON.SceneManager.CreatePhysicsImpostor(scene, entity, impostortype, { mass: mass, friction: dynamicfriction, restitution: restitution });
                        BABYLON.RigidbodyPhysics.ConfigRigidbodyPhysics(scene, entity, false, istrigger, metadata.physics);
                    } else {
                        // ..
                        // Setup Primitive Mesh Compound Child Colliders
                        // ..
                        let fdynamicfriction:number = 0;
                        let fstaticfriction:number = 0;
                        let frestitution:number = 0;
                        let ftrigger:boolean = false;
                        let fcount:number = 0;
                        let fwheels:any[] = null;
                        // Note: Bullet Physics Center Mass Must Offset Meshes (No Working Set Center Mass Property Support)
                        let centernodes:BABYLON.TransformNode[] = entity.getChildren(null, true) as BABYLON.TransformNode[];
                        if (centernodes != null && centernodes.length > 0) {
                            centernodes.forEach((centernode:BABYLON.AbstractMesh) => { centernode.position.subtractInPlace(center); });
                        }
                        let childnodes:BABYLON.AbstractMesh[] = entity.getChildren(null, false) as BABYLON.AbstractMesh[];
                        if (childnodes != null && childnodes.length > 0) {
                            childnodes.forEach((childnode:BABYLON.AbstractMesh) => {
                                if (childnode.metadata != null && childnode.metadata.unity != null) {
                                    if (childnode.metadata.unity.collision != null) {
                                        const collision:any = childnode.metadata.unity.collision;
                                        const cwheelinformation:any = (collision.wheelinformation != null) ? collision.wheelinformation : null;
                                        if (cwheelinformation != null) {
                                            // Trace Wheel Collider
                                            // BABYLON.Tools.Warn("Setup raycast wheel collider for: " + childnode.name);
                                            if (fwheels == null) fwheels = [];
                                            fwheels.push(cwheelinformation);
                                        } else {
                                            // DEPRECIATED: Move All Compound Colliders Un Main No Imposter
                                            // if (childnode.parent !== entity) childnode.setParent(entity); // Nested Compound Colliders
                                            const cdynamicfriction:number = (collision.dynamicfriction != null) ? collision.dynamicfriction : 0.6;
                                            const cstaticfriction:number = (collision.staticfriction != null) ? collision.staticfriction : 0.6;
                                            const crestitution:number = (collision.restitution != null) ? collision.restitution : 0;
                                            const cimpersonate:string = (collision.impersonate != null) ? collision.impersonate : "None";
                                            const cistrigger:boolean = (collision.trigger != null) ? collision.trigger : false;
                                            const ccollider:string = (collision.type != null) ? collision.type : "BoxCollider";
                                            let cimpostortype:number = BABYLON.PhysicsImpostor.BoxImpostor;
                                            if (cimpersonate == null || cimpersonate === "" || cimpersonate === "None") {
                                                if (ccollider === "MeshCollider") {
                                                    // Note: Always Force Convex Hull Impostor Usage
                                                    cimpostortype = BABYLON.PhysicsImpostor.ConvexHullImpostor;
                                                } else if (ccollider === "CapsuleCollider") {
                                                    // Note: Using Convex Hull Impostor To Support Capsule Rotation
                                                    cimpostortype = BABYLON.PhysicsImpostor.ConvexHullImpostor;
                                                } else if (ccollider === "SphereCollider") {
                                                    cimpostortype = BABYLON.PhysicsImpostor.SphereImpostor;
                                                } else {
                                                    cimpostortype = BABYLON.PhysicsImpostor.BoxImpostor;
                                                }
                                            } else {
                                                if (cimpersonate === "PlaneImpostor") {
                                                    cimpostortype = BABYLON.PhysicsImpostor.PlaneImpostor;
                                                } else if (cimpersonate === "SphereImpostor") {
                                                    cimpostortype = BABYLON.PhysicsImpostor.SphereImpostor;
                                                } else if (cimpersonate === "CapsuleImpostor") {
                                                    cimpostortype = BABYLON.PhysicsImpostor.CapsuleImpostor;
                                                } else if (cimpersonate === "CylinderImpostor") {
                                                    cimpostortype = BABYLON.PhysicsImpostor.CylinderImpostor;
                                                } else if (cimpersonate === "ConvexHullImpostor") {
                                                    cimpostortype = BABYLON.PhysicsImpostor.ConvexHullImpostor;
                                                } else {
                                                    cimpostortype = BABYLON.PhysicsImpostor.BoxImpostor;
                                                }
                                            }
                                            if (cdynamicfriction > fdynamicfriction) fdynamicfriction = cdynamicfriction;
                                            if (cstaticfriction > fstaticfriction) fstaticfriction = cstaticfriction;
                                            if (crestitution > frestitution) frestitution = crestitution;
                                            if (cistrigger == true) ftrigger = true;
                                            (<any>childnode)._isCompound = true;
                                            // Trace Compound Collider
                                            // BABYLON.Tools.Warn("Setup " + BABYLON.SceneManager.GetPhysicsImposterType(cimpostortype).toLowerCase() + " compound imposter for: " + childnode.name);
                                            BABYLON.SceneManager.CreatePhysicsImpostor(scene, childnode, cimpostortype, { mass: 0, friction: 0, restitution: 0 });
                                            BABYLON.RigidbodyPhysics.ConfigRigidbodyPhysics(scene, childnode, true, false, metadata.physics);
                                            fcount++;
                                        }
                                    }
                                }
                            });
                        }
                        if (fcount > 0) {
                            (<any>entity)._isRoot = true;
                            // Trace Physics Root
                            // BABYLON.Tools.Warn(">>> Created physics root no imposter for: " + entity.name);
                            BABYLON.SceneManager.CreatePhysicsImpostor(scene, entity, BABYLON.PhysicsImpostor.NoImpostor, { mass: mass, friction: fdynamicfriction, restitution: frestitution });
                            BABYLON.RigidbodyPhysics.ConfigRigidbodyPhysics(scene, entity, false, ftrigger, metadata.physics);
                        }
                        if (fwheels != null && fwheels.length > 0) {
                            if (entity.metadata == null) entity.metadata = {};
                            if (entity.metadata.unity == null) entity.metadata.unity = {};
                            entity.metadata.unity.wheels = fwheels;
                        }
                        childnodes = null;
                    }
                }
            }
        }
        */
        RigidbodyPhysics.ConfigRigidbodyPhysics = function (scene, entity, child, trigger, physics) {
            if (entity == null)
                return;
            if (entity.physicsImpostor != null) {
                entity.physicsImpostor.executeNativeFunction(function (word, body) {
                    if (body.activate)
                        body.activate();
                    var colobj = Ammo.castObject(body, Ammo.btCollisionObject);
                    colobj.entity = entity;
                    // IMPORTANT - Smooth Triangle Mesh Edge Contact Info
                    var world = BABYLON.SceneManager.GetPhysicsWorld(scene);
                    if (world != null && world.generateInternalEdgeInfo) {
                        var collisionShape = colobj.getCollisionShape();
                        if (collisionShape != null && collisionShape.getShapeType) {
                            var shapeType = collisionShape.getShapeType();
                            if (shapeType === 21) { // TRIANGLE_MESH_SHAPE_PROXYTYPE
                                var triangleShape = Ammo.castObject(collisionShape, Ammo.btBvhTriangleMeshShape);
                                colobj.triangleMapInfo = new Ammo.btTriangleInfoMap();
                                world.generateInternalEdgeInfo(triangleShape, colobj.triangleMapInfo);
                            }
                        }
                    }
                    var gravity = (physics != null && physics.gravity != null) ? physics.gravity : true;
                    if (gravity === false) {
                        if (body.setGravity) {
                            body.setGravity(new Ammo.btVector3(0, 0, 0));
                        }
                        else {
                            BABYLON.Tools.Warn("Physics engine set gravity override not supported for: " + entity.name);
                        }
                    }
                    // ..
                    // Setup Drag Damping
                    // ..
                    if (body.setDamping) {
                        var ldrag = (physics != null && physics.ldrag != null) ? physics.ldrag : 0;
                        var adrag = (physics != null && physics.adrag != null) ? physics.adrag : 0.05;
                        body.setDamping(ldrag, adrag);
                    }
                    else {
                        BABYLON.Tools.Warn("Physics engine set drag damping not supported for: " + entity.name);
                    }
                    // ..
                    // Setup Collision Flags
                    // ..
                    if (body.setCollisionFlags && body.getCollisionFlags) {
                        if (trigger === true)
                            body.setCollisionFlags(body.getCollisionFlags() | BABYLON.CollisionFlags.CF_NO_CONTACT_RESPONSE | BABYLON.CollisionFlags.CF_CUSTOM_MATERIAL_CALLBACK);
                        else
                            body.setCollisionFlags(body.getCollisionFlags() | BABYLON.CollisionFlags.CF_CUSTOM_MATERIAL_CALLBACK);
                    }
                    else {
                        BABYLON.Tools.Warn("Physics engine set collision flags not supported for: " + entity.name);
                    }
                    // ..
                    // Setup Freeze Constraints
                    // ..
                    var freeze = (physics != null && physics.freeze != null) ? physics.freeze : null;
                    if (freeze != null) {
                        if (body.setLinearFactor) {
                            var freeze_pos_x = (freeze.positionx != null && freeze.positionx === true) ? 0 : 1;
                            var freeze_pos_y = (freeze.positiony != null && freeze.positiony === true) ? 0 : 1;
                            var freeze_pos_z = (freeze.positionz != null && freeze.positionz === true) ? 0 : 1;
                            body.setLinearFactor(new Ammo.btVector3(freeze_pos_x, freeze_pos_y, freeze_pos_z));
                        }
                        else {
                            BABYLON.Tools.Warn("Physics engine set linear factor not supported for: " + entity.name);
                        }
                        if (body.setAngularFactor) {
                            var freeze_rot_x = (freeze.rotationx != null && freeze.rotationx === true) ? 0 : 1;
                            var freeze_rot_y = (freeze.rotationy != null && freeze.rotationy === true) ? 0 : 1;
                            var freeze_rot_z = (freeze.rotationz != null && freeze.rotationz === true) ? 0 : 1;
                            body.setAngularFactor(new Ammo.btVector3(freeze_rot_x, freeze_rot_y, freeze_rot_z));
                        }
                        else {
                            BABYLON.Tools.Warn("Physics engine set angular factor not supported for: " + entity.name);
                        }
                    }
                });
            }
            else {
                BABYLON.Tools.Warn("No valid physics impostor to setup for " + entity.name);
            }
        };
        RigidbodyPhysics.TempAmmoVector = null;
        RigidbodyPhysics.TempAmmoVectorAux = null;
        RigidbodyPhysics.TempCenterTransform = null;
        return RigidbodyPhysics;
    }(BABYLON.ScriptComponent));
    BABYLON.RigidbodyPhysics = RigidbodyPhysics;
    /**
     * Babylon collision contact info pro class (Native Bullet Physics 2.82)
     * @class CollisionContactInfo - All rights reserved (c) 2020 Mackey Kinard
     */
    var CollisionContactInfo = /** @class */ (function () {
        function CollisionContactInfo() {
            this.mesh = null;
            this.state = 0;
            this.reset = false;
        }
        return CollisionContactInfo;
    }());
    BABYLON.CollisionContactInfo = CollisionContactInfo;
})(BABYLON || (BABYLON = {}));
var BABYLON;
(function (BABYLON) {
    /**
     * Babylon shuriken particle system pro class (Unity Style Shuriken Particle System)
     * @class ShurikenParticles - All rights reserved (c) 2020 Mackey Kinard
     */
    var ShurikenParticles = /** @class */ (function (_super) {
        __extends(ShurikenParticles, _super);
        function ShurikenParticles() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        ShurikenParticles.prototype.awake = function () { };
        ShurikenParticles.prototype.start = function () { };
        ShurikenParticles.prototype.update = function () { };
        ShurikenParticles.prototype.late = function () { };
        ShurikenParticles.prototype.after = function () { };
        ShurikenParticles.prototype.destroy = function () { };
        return ShurikenParticles;
    }(BABYLON.ScriptComponent));
    BABYLON.ShurikenParticles = ShurikenParticles;
})(BABYLON || (BABYLON = {}));
var BABYLON;
(function (BABYLON) {
    /**
     * Babylon window socket controller pro class (Socket.IO)
     * @class SocketController - All rights reserved (c) 2020 Mackey Kinard
     */
    var SocketController = /** @class */ (function () {
        function SocketController() {
        }
        /** Registers an handler for window socket connect event */
        SocketController.RegisterOnSocketConnect = function (func) {
            BABYLON.SceneManager.SetWindowState("onSocketConnect", func);
        };
        /** Registers an handler for window socket disconnect event */
        SocketController.RegisterOnSocketDisconnect = function (func) {
            BABYLON.SceneManager.SetWindowState("onSocketDisconnect", func);
        };
        /** Connects a window state socket */
        SocketController.ConnectWindowSocket = function (connection) {
            var socket = null;
            if (window.frameElement != null && parent != null && parent.window != null && parent.window["socketConnect"]) {
                socket = parent.window["socketConnect"](connection);
            }
            else if (window["socketConnect"]) {
                socket = window["socketConnect"](connection);
            }
            return socket;
        };
        /** Get the window state socket */
        SocketController.GetWindowSocket = function () {
            return BABYLON.SceneManager.GetWindowState("socket");
        };
        return SocketController;
    }());
    BABYLON.SocketController = SocketController;
})(BABYLON || (BABYLON = {}));
var BABYLON;
(function (BABYLON) {
    /**
     * Babylon web video player pro class (Unity Style Shuriken Particle System)
     * @class WebVideoPlayer - All rights reserved (c) 2020 Mackey Kinard
     */
    var WebVideoPlayer = /** @class */ (function (_super) {
        __extends(WebVideoPlayer, _super);
        function WebVideoPlayer() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this.m_abstractMesh = null;
            _this.m_videoTexture = null;
            _this.m_videoMaterial = null;
            return _this;
        }
        WebVideoPlayer.prototype.getVideoMaterial = function () { return this.m_videoMaterial; };
        WebVideoPlayer.prototype.getVideoTexture = function () { return this.m_videoTexture; };
        WebVideoPlayer.prototype.getVideoElement = function () { return (this.m_videoTexture != null) ? this.m_videoTexture.video : null; };
        WebVideoPlayer.prototype.getVideoScreen = function () { return this.m_abstractMesh; };
        WebVideoPlayer.prototype.awake = function () { this.awakeWebVideoPlayer(); };
        WebVideoPlayer.prototype.destroy = function () { this.destroyWebVideoPlayer(); };
        WebVideoPlayer.prototype.awakeWebVideoPlayer = function () {
            this.m_abstractMesh = this.getAbstractMesh();
            if (this.m_abstractMesh != null) {
                this.m_videoMaterial = new BABYLON.StandardMaterial(this.transform.name + ".VideoMat", this.scene);
                this.m_videoMaterial.roughness = 1;
                this.m_videoMaterial.emissiveColor = new BABYLON.Color3(1, 1, 1);
                this.m_abstractMesh.material = this.m_videoMaterial;
                // ..
                // Initial Video Source Setup
                // ..
                var videoUrl = this.getProperty("url", null);
                var videoSrc = this.getProperty("source", null);
                var playUrl = videoUrl;
                if (videoSrc != null && videoSrc.filename != null && videoSrc.filename !== "") {
                    var rootUrl = BABYLON.SceneManager.GetRootUrl(this.scene);
                    playUrl = (rootUrl + videoSrc.filename);
                }
                if (playUrl != null && playUrl !== "") {
                    var videoMuted = this.getProperty("muted", false);
                    var videoPoster = this.getProperty("poster", null);
                    var videoInvert = this.getProperty("inverty", true);
                    var videoSample = this.getProperty("sampling", 3);
                    var videoMipmaps = this.getProperty("mipmaps", false);
                    var videoLooping = this.getProperty("looping", false);
                    var videoPlayOnAwake = this.getProperty("playonawake", true);
                    var videoVolume = this.getProperty("volume", 1.0);
                    var videoPlayback = this.getProperty("playbackspeed", 1.0);
                    //const videoSkipOnDrop:boolean = this.getProperty("skipondrop", true);
                    //const videoWaitForFirstFrame:boolean = this.getProperty("waitforfirstframe", true);
                    //const videoTargetMaterialProperty:string = this.getProperty("targetmaterialproperty", "_MainTex");
                    var videoSettings = { autoUpdateTexture: true, autoPlay: videoPlayOnAwake, loop: videoLooping, muted: videoMuted, poster: videoPoster };
                    this.setVideoSource(playUrl, videoMipmaps, videoInvert, videoSample, videoSettings, videoVolume, videoPlayback);
                }
            }
            else {
                BABYLON.Tools.Warn("No video mesh available for: " + this.transform.name);
            }
        };
        WebVideoPlayer.prototype.destroyWebVideoPlayer = function () {
            this.m_abstractMesh = null;
            if (this.m_videoTexture != null) {
                this.m_videoTexture.dispose();
                this.m_videoTexture = null;
            }
            if (this.m_videoMaterial != null) {
                this.m_videoMaterial.dispose();
                this.m_videoMaterial = null;
            }
        };
        /** Set web video player source */
        WebVideoPlayer.prototype.setVideoSource = function (src, generateMipMaps, invertY, samplingMode, settings, volume, speed) {
            if (generateMipMaps === void 0) { generateMipMaps = false; }
            if (invertY === void 0) { invertY = true; }
            if (samplingMode === void 0) { samplingMode = BABYLON.Texture.TRILINEAR_SAMPLINGMODE; }
            if (volume === void 0) { volume = 1.0; }
            if (speed === void 0) { speed = 1.0; }
            if (this.m_abstractMesh != null && this.m_videoMaterial != null) {
                this.m_videoMaterial.diffuseTexture = null;
                if (this.m_videoTexture != null) {
                    this.m_videoTexture.dispose();
                    this.m_videoTexture = null;
                }
                this.m_videoTexture = new BABYLON.VideoTexture(this.transform.name + ".VideoTex", src, this.scene, generateMipMaps, invertY, samplingMode, settings);
                if (this.m_videoTexture != null && this.m_videoTexture.video != null) {
                    this.m_videoTexture.video.volume = volume;
                    this.m_videoTexture.video.playbackRate = speed;
                }
                this.m_videoMaterial.diffuseTexture = this.m_videoTexture;
            }
            else {
                BABYLON.Tools.Warn("No video mesh or material available for: " + this.transform.name);
            }
        };
        return WebVideoPlayer;
    }(BABYLON.ScriptComponent));
    BABYLON.WebVideoPlayer = WebVideoPlayer;
})(BABYLON || (BABYLON = {}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVmVyaXpvbi1UZWNoV2Vlay0zRC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL0Fzc2V0cy9Db250ZW50L0NhbWVyYS9Vbml2ZXJzYWxDYW1lcmFTeXN0ZW0udHMiLCIuLi9Bc3NldHMvQ29udGVudC9QbGF5ZXIvVW5pdmVyc2FsUGxheWVyQ29udHJvbGxlci50cyIsIi4uL0Fzc2V0cy9Db250ZW50L1NoYWRlci9GeFBhcnRpY2xlU3lzdGVtLnRzIiwiLi4vQXNzZXRzL0NvbnRlbnQvU2hhZGVyL1NreU1hdGVyaWFsU3lzdGVtLnRzIiwiLi4vQXNzZXRzL0NvbnRlbnQvU2hhZGVyL1dhdGVyTWF0ZXJpYWxTeXN0ZW0udHMiLCIuLi9Bc3NldHMvQ29udGVudC9UYXJnZXQvU2ltcGxlRm9sbG93Q2FtZXJhLnRzIiwiLi4vQXNzZXRzL0NvbnRlbnQvVGFyZ2V0L1Ntb290aEZvbGxvd1RhcmdldC50cyIsIi4uL0Fzc2V0cy9Db250ZW50L1RhcmdldC9XYXlwb2ludFRhcmdldE1hbmFnZXIudHMiLCIuLi9Bc3NldHMvQ29udGVudC9VdGlsaXRpZXMvUGVybGluTm9pc2VHZW5lcmF0b3IudHMiLCIuLi9Bc3NldHMvTVZSSy9NZWRpYS9DYXB0aW9uTWFuYWdlci50cyIsIi4uL0Fzc2V0cy9NVlJLL01lZGlhL0NhcHRpb25TeXN0ZW0udHMiLCIuLi9Bc3NldHMvTVZSSy9NZWRpYS9TY2VuZVNvdW5kU3lzdGVtLnRzIiwiLi4vQXNzZXRzL01WUksvTWVkaWEvU291bmRNYW5hZ2VyLnRzIiwiLi4vQXNzZXRzL01WUksvTWVkaWEvVmlkZW9Db250cm9sbGVyLnRzIiwiLi4vQXNzZXRzL01WUksvUmVhY3QvSW5zaWRlTm90aWZpY2F0aW9uLnRzIiwiLi4vQXNzZXRzL01WUksvUmVhY3QvUG9wdXBUcmlnZ2VyLnRzIiwiLi4vQXNzZXRzL01WUksvU3RhdGUvU3RhdGUudHMiLCIuLi9Bc3NldHMvTVZSSy9TeXN0ZW0vQmlsbGJvYXJkTWVzaC50cyIsIi4uL0Fzc2V0cy9NVlJLL1N5c3RlbS9CbGlua01hbmFnZXIudHMiLCIuLi9Bc3NldHMvTVZSSy9TeXN0ZW0vRmxvYXRpbmdBbmltYXRpb24udHMiLCIuLi9Bc3NldHMvTVZSSy9TeXN0ZW0vUm90YXRlVHJhbnNmb3JtLnRzIiwiLi4vQXNzZXRzL01WUksvU3lzdGVtL1J1bnRpbWVUZXh0dXJlLnRzIiwiLi4vQXNzZXRzL01WUksvU3lzdGVtL1Nwcml0ZUFuaW1hdGlvbi50cyIsIi4uL0Fzc2V0cy9NVlJLL1V0aWxpdGllcy9TY2VuZUxvYWRlci50cyIsIi4uL0Fzc2V0cy9NVlJLL1V0aWxpdGllcy9TeXN0ZW1VdGlsaXRpZXMudHMiLCIuLi9Bc3NldHMvUHJvamVjdC9TY3JpcHRzL1Bvc3RlclJvb20udHMiLCIuLi9Bc3NldHMvW0JhYnlsb25dL1tQcm9dL0FuaW1hdGlvblN0YXRlLnRzIiwiLi4vQXNzZXRzL1tCYWJ5bG9uXS9bUHJvXS9BdWRpb1NvdXJjZS50cyIsIi4uL0Fzc2V0cy9bQmFieWxvbl0vW1Byb10vQ2hhcmFjdGVyQ29udHJvbGxlci50cyIsIi4uL0Fzc2V0cy9bQmFieWxvbl0vW1Byb10vTmF2aWdhdGlvbkFnZW50LnRzIiwiLi4vQXNzZXRzL1tCYWJ5bG9uXS9bUHJvXS9SYXljYXN0VmVoaWNsZS50cyIsIi4uL0Fzc2V0cy9bQmFieWxvbl0vW1Byb10vUmVhbHRpbWVSZWZsZWN0aW9uLnRzIiwiLi4vQXNzZXRzL1tCYWJ5bG9uXS9bUHJvXS9SaWdpZGJvZHlQaHlzaWNzLnRzIiwiLi4vQXNzZXRzL1tCYWJ5bG9uXS9bUHJvXS9TaHVyaWtlblBhcnRpY2xlcy50cyIsIi4uL0Fzc2V0cy9bQmFieWxvbl0vW1Byb10vU29ja2V0Q29udHJvbGxlci50cyIsIi4uL0Fzc2V0cy9bQmFieWxvbl0vW1Byb10vV2ViVmlkZW9QbGF5ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLElBQU8sT0FBTyxDQWduQmI7QUFobkJELFdBQU8sT0FBTztJQUNWOzs7T0FHRztJQUNIO1FBQTJDLHlDQUF1QjtRQUFsRTtZQUFBLHFFQTJnQkM7WUExZlcsZ0JBQVUsR0FBVyxLQUFLLENBQUM7WUFDM0IsZ0JBQVUsR0FBVSxDQUFDLENBQUM7WUFDdEIsbUJBQWEsR0FBVSxHQUFHLENBQUM7WUFDM0Isc0JBQWdCLEdBQU8sSUFBSSxDQUFDO1lBQzVCLG9CQUFjLEdBQU8sSUFBSSxDQUFDO1lBQzFCLHFCQUFlLEdBQU8sSUFBSSxDQUFDO1lBQzNCLHNCQUFnQixHQUFPLElBQUksQ0FBQztZQUM1QiwwQkFBb0IsR0FBaUMsSUFBSSxDQUFDO1lBS3hELGlCQUFXLEdBQXdCLElBQUksQ0FBQzs7UUE4ZXRELENBQUM7UUE3ZmlCLDBDQUFvQixHQUFsQyxjQUF3RSxPQUFPLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLENBQUM7UUFBQSxDQUFDO1FBQ3BILHlDQUFtQixHQUFqQyxjQUE4QyxPQUFPLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO1FBVzFGLDRDQUFZLEdBQW5CLGNBQWdDLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7UUFDbEQsNkNBQWEsR0FBcEIsY0FBZ0MsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztRQUkvQyxxQ0FBSyxHQUFmLGNBQTBCLElBQUksQ0FBQyxzQkFBc0IsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUNoRCxxQ0FBSyxHQUFmLGNBQTBCLElBQUksQ0FBQyxzQkFBc0IsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUNoRCxzQ0FBTSxHQUFoQixjQUEyQixJQUFJLENBQUMsdUJBQXVCLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDbEQsdUNBQU8sR0FBakIsY0FBNEIsSUFBSSxDQUFDLHdCQUF3QixFQUFFLENBQUMsQ0FBQyxDQUFDO1FBRTlELDZDQUE2QztRQUM3Qyw2Q0FBNkM7UUFDN0MsNkNBQTZDO1FBRW5DLHNEQUFzQixHQUFoQztZQUNJLElBQUksQ0FBQyxVQUFVLEdBQUcsQ0FBQyxJQUFJLENBQUMsZUFBZSxFQUFFLEtBQUssWUFBWSxDQUFDLENBQUM7WUFDNUQsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLGdCQUFnQixFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztZQUN0RSxJQUFJLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDO1lBQzlFLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxtQkFBbUIsRUFBRSxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUM7WUFDakYsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLGlCQUFpQixFQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQztZQUNqRixJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxrQkFBa0IsRUFBRSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztZQUNwRixJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxrQkFBa0IsRUFBRSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztZQUNwRixJQUFJLENBQUMsb0JBQW9CLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxtQkFBbUIsRUFBRSxJQUFJLENBQUMsb0JBQW9CLENBQUMsQ0FBQztRQUNqRyxDQUFDO1FBRWUsc0RBQXNCLEdBQXRDOzs7Ozs7NEJBQ0ksT0FBTyxDQUFDLFNBQVMsQ0FBQywyQkFBMkIsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7NEJBQzlELElBQUksSUFBSSxDQUFDLGdCQUFnQixJQUFJLElBQUksRUFBRTtnQ0FDL0IsT0FBTyxDQUFDLHFCQUFxQixDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsaUJBQWlCLENBQUM7Z0NBQ3BGLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLGdCQUFnQixDQUFDOzZCQUN4Rjs0QkFDRCxLQUFLOzRCQUNMLGdDQUFnQzs0QkFDaEMsS0FBSzs0QkFDTCxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztpQ0FDbkMsQ0FBQSxJQUFJLENBQUMsV0FBVyxJQUFJLElBQUksQ0FBQSxFQUF4Qix3QkFBd0I7NEJBQ3hCLElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUM7NEJBQzlDLElBQUksSUFBSSxDQUFDLGdCQUFnQixDQUFDLGFBQWEsS0FBSyxJQUFJLEVBQUU7Z0NBQzlDLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxDQUFDLDhDQUE4QztnQ0FDOUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLENBQUM7Z0NBQzVELElBQUksQ0FBQyxXQUFXLENBQUMsa0JBQWtCLEdBQUcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLGtCQUFrQixJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLGtCQUFrQixDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dDQUNwUCxJQUFJLElBQUksQ0FBQyxXQUFXLFlBQVksT0FBTyxDQUFDLFVBQVUsRUFBRTtvQ0FDaEQsSUFBSSxDQUFDLFdBQVcsQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLGVBQWUsQ0FBQztvQ0FDekUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLGVBQWUsQ0FBQztpQ0FDekU7Z0NBQ0QsSUFBSSxDQUFDLFdBQVcsQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLGNBQWMsQ0FBQyxDQUFDOzZCQUN4RTtpQ0FDRyxDQUFBLElBQUksQ0FBQyxVQUFVLEtBQUssQ0FBQyxDQUFBLEVBQXJCLHdCQUFxQjs0QkFDckIsOERBQThEOzRCQUMxRCxPQUFPLENBQUMscUJBQXFCLENBQUMsZUFBZSxHQUFJLElBQUksQ0FBQyxXQUF1QyxDQUFDOzRCQUM5RixPQUFPLENBQUMscUJBQXFCLENBQUMsZUFBZSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDOzRCQUNyRSxPQUFPLENBQUMscUJBQXFCLENBQUMsZUFBZ0IsQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQzs7O2lDQUU3RSxDQUFBLElBQUksQ0FBQyxVQUFVLEtBQUssQ0FBQyxDQUFBLEVBQXJCLHdCQUFxQjtpQ0FDeEIsQ0FBQSxJQUFJLENBQUMsY0FBYyxJQUFJLElBQUksQ0FBQSxFQUEzQix3QkFBMkI7NEJBQ3ZCLGdCQUFnQixHQUFrQixJQUFJLENBQUM7NEJBQ3ZDLGtCQUFrQixHQUF5QyxJQUFJLENBQUM7NEJBQ2hFLGtCQUFrQixHQUFpQixDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsbUJBQW1CLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsY0FBYyxDQUFDOzRCQUNySCxrQkFBa0IsR0FBd0IsYUFBYSxDQUFDOzRCQUM1RCxRQUFRLElBQUksQ0FBQyxjQUFjLENBQUMsa0JBQWtCLEVBQUU7Z0NBQzVDLEtBQUssQ0FBQztvQ0FDRixrQkFBa0IsR0FBRyxRQUFRLENBQUM7b0NBQzlCLE1BQU07Z0NBQ1YsS0FBSyxDQUFDO29DQUNGLGtCQUFrQixHQUFHLE9BQU8sQ0FBQztvQ0FDN0IsTUFBTTtnQ0FDVixLQUFLLENBQUM7b0NBQ0Ysa0JBQWtCLEdBQUcsYUFBYSxDQUFDO29DQUNuQyxNQUFNO2dDQUNWLEtBQUssQ0FBQztvQ0FDRixrQkFBa0IsR0FBRyxlQUFlLENBQUM7b0NBQ3JDLE1BQU07Z0NBQ1YsS0FBSyxDQUFDO29DQUNGLGtCQUFrQixHQUFHLFdBQVcsQ0FBQztvQ0FDakMsTUFBTTtnQ0FDVjtvQ0FDSSxrQkFBa0IsR0FBRyxhQUFhLENBQUM7b0NBQ25DLE1BQU07NkJBQ2I7NEJBQ0QsSUFBSSxJQUFJLENBQUMsY0FBYyxDQUFDLGtCQUFrQixJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsY0FBYyxDQUFDLGtCQUFrQixLQUFLLEVBQUU7Z0NBQUUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxrQkFBa0IsR0FBRyxZQUFZLENBQUM7NEJBQzNKLElBQUksSUFBSSxDQUFDLGNBQWMsQ0FBQyxtQkFBbUIsS0FBSyxJQUFJO2dDQUFFLGdCQUFnQixHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsa0JBQWtCLENBQUMsQ0FBQzs0QkFDNUksSUFBSSxJQUFJLENBQUMsY0FBYyxDQUFDLG1CQUFtQixLQUFLLElBQUksSUFBSSxnQkFBZ0IsSUFBSSxJQUFJLElBQUksZ0JBQWdCLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtnQ0FDN0csa0JBQWtCLEdBQUc7b0NBQ2pCLFdBQVcsRUFBRSxnQkFBZ0I7b0NBQzdCLGdCQUFnQixFQUFFLElBQUksQ0FBQyxjQUFjLENBQUMsaUJBQWlCO29DQUN2RCxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsY0FBYyxDQUFDLG9CQUFvQjtvQ0FDMUQsb0JBQW9CLEVBQUUsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLG1CQUFtQixLQUFLLEtBQUssQ0FBQztvQ0FDekUsZ0NBQWdDLEVBQUUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxrQkFBa0I7b0NBQ3hFLFlBQVksRUFBRTt3Q0FDVix5QkFBeUIsRUFBRSxJQUFJLENBQUMsY0FBYyxDQUFDLHNCQUFzQixDQUFDLGVBQWU7d0NBQ3JGLGlCQUFpQixFQUFFLElBQUksQ0FBQyxjQUFjLENBQUMsc0JBQXNCLENBQUMsaUJBQWlCO3dDQUMvRSxpQ0FBaUMsRUFBRSxJQUFJLENBQUMsY0FBYyxDQUFDLHNCQUFzQixDQUFDLGlCQUFpQjt3Q0FDL0YsOEJBQThCLEVBQUUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxzQkFBc0IsQ0FBQyxnQkFBZ0I7d0NBQzNGLDBCQUEwQixFQUFFLElBQUksQ0FBQyxjQUFjLENBQUMsc0JBQXNCLENBQUMsZ0JBQWdCO3dDQUN2RixpQkFBaUIsRUFBRTs0Q0FDZixnQ0FBZ0MsRUFBRSxJQUFJLENBQUMsY0FBYyxDQUFDLHNCQUFzQixDQUFDLGlCQUFpQixDQUFDLGVBQWU7NENBQzlHLHVCQUF1QixFQUFFLElBQUksQ0FBQyxjQUFjLENBQUMsc0JBQXNCLENBQUMsaUJBQWlCLENBQUMsZUFBZTs0Q0FDckcsc0JBQXNCLEVBQUUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxzQkFBc0IsQ0FBQyxpQkFBaUIsQ0FBQyxnQkFBZ0I7NENBQ3JHLGdCQUFnQixFQUFFLElBQUksQ0FBQyxjQUFjLENBQUMsc0JBQXNCLENBQUMsaUJBQWlCLENBQUMsY0FBYzt5Q0FDaEc7cUNBQ0o7b0NBQ0QsU0FBUyxFQUFFO3dDQUNQLFdBQVcsRUFBRSxrQkFBa0I7d0NBQy9CLGtCQUFrQixFQUFFLGtCQUFrQjtxQ0FDekM7aUNBQ0osQ0FBQTs2QkFDSjtpQ0FBTTtnQ0FDSCxrQkFBa0IsR0FBRztvQ0FDakIsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxpQkFBaUI7b0NBQ3ZELGdCQUFnQixFQUFFLElBQUksQ0FBQyxjQUFjLENBQUMsb0JBQW9CO29DQUMxRCxvQkFBb0IsRUFBRSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsbUJBQW1CLEtBQUssS0FBSyxDQUFDO29DQUN6RSxnQ0FBZ0MsRUFBRSxJQUFJLENBQUMsY0FBYyxDQUFDLGtCQUFrQjtvQ0FDeEUsWUFBWSxFQUFFO3dDQUNWLHlCQUF5QixFQUFFLElBQUksQ0FBQyxjQUFjLENBQUMsc0JBQXNCLENBQUMsZUFBZTt3Q0FDckYsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxzQkFBc0IsQ0FBQyxpQkFBaUI7d0NBQy9FLGlDQUFpQyxFQUFFLElBQUksQ0FBQyxjQUFjLENBQUMsc0JBQXNCLENBQUMsaUJBQWlCO3dDQUMvRiw4QkFBOEIsRUFBRSxJQUFJLENBQUMsY0FBYyxDQUFDLHNCQUFzQixDQUFDLGdCQUFnQjt3Q0FDM0YsMEJBQTBCLEVBQUUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxzQkFBc0IsQ0FBQyxnQkFBZ0I7d0NBQ3ZGLGlCQUFpQixFQUFFOzRDQUNmLGdDQUFnQyxFQUFFLElBQUksQ0FBQyxjQUFjLENBQUMsc0JBQXNCLENBQUMsaUJBQWlCLENBQUMsZUFBZTs0Q0FDOUcsdUJBQXVCLEVBQUUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxzQkFBc0IsQ0FBQyxpQkFBaUIsQ0FBQyxlQUFlOzRDQUNyRyxzQkFBc0IsRUFBRSxJQUFJLENBQUMsY0FBYyxDQUFDLHNCQUFzQixDQUFDLGlCQUFpQixDQUFDLGdCQUFnQjs0Q0FDckcsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxzQkFBc0IsQ0FBQyxpQkFBaUIsQ0FBQyxjQUFjO3lDQUNoRztxQ0FDSjtvQ0FDRCxTQUFTLEVBQUU7d0NBQ1AsV0FBVyxFQUFFLGtCQUFrQjt3Q0FDL0Isa0JBQWtCLEVBQUUsa0JBQWtCO3FDQUN6QztpQ0FDSixDQUFBOzZCQUNKOzRCQUNELEtBQUEsT0FBTyxDQUFDLHFCQUFxQixDQUFBOzRCQUFzQixxQkFBTSxJQUFJLENBQUMsS0FBSyxDQUFDLDhCQUE4QixDQUFDLGtCQUFrQixDQUFDLEVBQUE7OzRCQUF0SCxHQUE4QixrQkFBa0IsR0FBRyxTQUFtRSxDQUFDOzRCQUN2SCxJQUFJLENBQUMsT0FBTyxDQUFDLHFCQUFxQixDQUFDLGtCQUFrQixDQUFDLGNBQWMsRUFBRTtnQ0FDbEUsT0FBTyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMseUNBQXlDLENBQUMsQ0FBQzs2QkFDakU7Ozs7NEJBRUYsSUFBSSxJQUFJLENBQUMsVUFBVSxLQUFLLENBQUMsRUFBRSxFQUFFLHNCQUFzQjtnQ0FDaEQsVUFBVSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDO2dDQUUvQixrQkFBa0IsR0FBeUIsSUFBSSxPQUFPLENBQUMsYUFBYSxDQUFDLGlCQUFpQixFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztnQ0FDMUcsa0JBQWtCLENBQUMsa0JBQWtCLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxrQkFBa0IsQ0FBQyxLQUFLLEVBQUUsQ0FBQztnQ0FDbEYsa0JBQWtCLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLEtBQUssRUFBRSxDQUFDO2dDQUM5RCxrQkFBa0IsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUM7Z0NBRTVDLGFBQWEsR0FBVSxVQUFVLEdBQUcsSUFBSSxDQUFDO2dDQUN6QyxnQkFBZ0IsR0FBMkIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUE0QixDQUFDO2dDQUNsSCxnQkFBZ0IsQ0FBQyxJQUFJLEdBQUcsYUFBYSxDQUFDO2dDQUN0QyxnQkFBZ0IsQ0FBQyxNQUFNLEdBQUcsa0JBQWtCLENBQUM7Z0NBQzdDLGdCQUFnQixDQUFDLFFBQVEsR0FBRyxJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQztnQ0FDdkQsZ0JBQWdCLENBQUMsa0JBQWtCLEdBQUcsSUFBSSxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO2dDQUN0RSxnQkFBZ0IsQ0FBQyxRQUFRLEdBQUcsSUFBSSxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dDQUM3RCxnQkFBZ0IsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUM7Z0NBQ25DLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxlQUFlLEdBQUcsZ0JBQWdCLENBQUM7Z0NBQ2pFLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxlQUFlLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUM7Z0NBQ3JFLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxlQUFnQixDQUFDLFNBQVMsR0FBRyxrQkFBa0IsQ0FBQztnQ0FDOUUsa0JBQW1CLENBQUMsU0FBUyxHQUFHLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxlQUFlLENBQUM7Z0NBRzlFLGtCQUFrQixHQUF5QixJQUFJLE9BQU8sQ0FBQyxhQUFhLENBQUMsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO2dDQUMxRyxrQkFBa0IsQ0FBQyxrQkFBa0IsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLGtCQUFrQixDQUFDLEtBQUssRUFBRSxDQUFDO2dDQUNsRixrQkFBa0IsQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsS0FBSyxFQUFFLENBQUM7Z0NBQzlELGtCQUFrQixDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQztnQ0FFNUMsYUFBYSxHQUFVLFVBQVUsR0FBRyxJQUFJLENBQUM7Z0NBQ3pDLGdCQUFnQixHQUEyQixJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQTRCLENBQUM7Z0NBQ2xILGdCQUFnQixDQUFDLElBQUksR0FBRyxhQUFhLENBQUM7Z0NBQ3RDLGdCQUFnQixDQUFDLE1BQU0sR0FBRyxrQkFBa0IsQ0FBQztnQ0FDN0MsZ0JBQWdCLENBQUMsUUFBUSxHQUFHLElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO2dDQUN2RCxnQkFBZ0IsQ0FBQyxrQkFBa0IsR0FBRyxJQUFJLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7Z0NBQ3RFLGdCQUFnQixDQUFDLFFBQVEsR0FBRyxJQUFJLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7Z0NBQzdELGdCQUFnQixDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQztnQ0FDbkMsT0FBTyxDQUFDLHFCQUFxQixDQUFDLGVBQWUsR0FBRyxnQkFBZ0IsQ0FBQztnQ0FDakUsT0FBTyxDQUFDLHFCQUFxQixDQUFDLGVBQWUsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQztnQ0FDckUsT0FBTyxDQUFDLHFCQUFxQixDQUFDLGVBQWdCLENBQUMsU0FBUyxHQUFHLGtCQUFrQixDQUFDO2dDQUM5RSxrQkFBbUIsQ0FBQyxTQUFTLEdBQUcsT0FBTyxDQUFDLHFCQUFxQixDQUFDLGVBQWUsQ0FBQztnQ0FHOUUsb0JBQW9CLEdBQXlCLElBQUksT0FBTyxDQUFDLGFBQWEsQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7Z0NBQzVHLG9CQUFvQixDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsa0JBQWtCLENBQUMsS0FBSyxFQUFFLENBQUM7Z0NBQ3BGLG9CQUFvQixDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxLQUFLLEVBQUUsQ0FBQztnQ0FDaEUsb0JBQW9CLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDO2dDQUU5QyxlQUFlLEdBQVUsVUFBVSxHQUFHLElBQUksQ0FBQztnQ0FDM0Msa0JBQWtCLEdBQTJCLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLGVBQWUsQ0FBNEIsQ0FBQztnQ0FDdEgsa0JBQWtCLENBQUMsSUFBSSxHQUFHLGVBQWUsQ0FBQztnQ0FDMUMsa0JBQWtCLENBQUMsTUFBTSxHQUFHLG9CQUFvQixDQUFDO2dDQUNqRCxrQkFBa0IsQ0FBQyxRQUFRLEdBQUcsSUFBSSxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7Z0NBQ3pELGtCQUFrQixDQUFDLGtCQUFrQixHQUFHLElBQUksT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQztnQ0FDeEUsa0JBQWtCLENBQUMsUUFBUSxHQUFHLElBQUksT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztnQ0FDL0Qsa0JBQWtCLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDO2dDQUNyQyxPQUFPLENBQUMscUJBQXFCLENBQUMsaUJBQWlCLEdBQUcsa0JBQWtCLENBQUM7Z0NBQ3JFLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxpQkFBaUIsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQztnQ0FDdkUsT0FBTyxDQUFDLHFCQUFxQixDQUFDLGlCQUFrQixDQUFDLFNBQVMsR0FBRyxvQkFBb0IsQ0FBQztnQ0FDbEYsb0JBQXFCLENBQUMsU0FBUyxHQUFHLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxpQkFBaUIsQ0FBQztnQ0FHbEYsbUJBQW1CLEdBQXlCLElBQUksT0FBTyxDQUFDLGFBQWEsQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7Z0NBQzNHLG1CQUFtQixDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsa0JBQWtCLENBQUMsS0FBSyxFQUFFLENBQUM7Z0NBQ25GLG1CQUFtQixDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxLQUFLLEVBQUUsQ0FBQztnQ0FDL0QsbUJBQW1CLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDO2dDQUU3QyxjQUFjLEdBQVUsVUFBVSxHQUFHLElBQUksQ0FBQztnQ0FDMUMsaUJBQWlCLEdBQTJCLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLGNBQWMsQ0FBNEIsQ0FBQztnQ0FDcEgsaUJBQWlCLENBQUMsSUFBSSxHQUFHLGNBQWMsQ0FBQztnQ0FDeEMsaUJBQWlCLENBQUMsTUFBTSxHQUFHLG1CQUFtQixDQUFDO2dDQUMvQyxpQkFBaUIsQ0FBQyxRQUFRLEdBQUcsSUFBSSxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7Z0NBQ3hELGlCQUFpQixDQUFDLGtCQUFrQixHQUFHLElBQUksT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQztnQ0FDdkUsaUJBQWlCLENBQUMsUUFBUSxHQUFHLElBQUksT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztnQ0FDOUQsaUJBQWlCLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDO2dDQUNwQyxPQUFPLENBQUMscUJBQXFCLENBQUMsZ0JBQWdCLEdBQUcsaUJBQWlCLENBQUM7Z0NBQ25FLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQztnQ0FDdEUsT0FBTyxDQUFDLHFCQUFxQixDQUFDLGdCQUFpQixDQUFDLFNBQVMsR0FBRyxtQkFBbUIsQ0FBQztnQ0FDaEYsbUJBQW9CLENBQUMsU0FBUyxHQUFHLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxnQkFBZ0IsQ0FBQztnQ0FDMUYsR0FBRztnQ0FDSCxPQUFPLENBQUMscUJBQXFCLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQztnQ0FDckQsT0FBTyxDQUFDLHFCQUFxQixDQUFDLHdCQUF3QixDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDLHFCQUFxQixDQUFDLFdBQVcsQ0FBQyxDQUFDOzZCQUNqSDtpQ0FBTSxJQUFJLElBQUksQ0FBQyxVQUFVLEtBQUssQ0FBQyxFQUFFLEVBQUUsb0JBQW9CO2dDQUM5QyxZQUFZLEdBQW1CLE9BQU8sQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLENBQUM7Z0NBQ2pHLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxPQUFPLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxHQUFHLFlBQVksRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sRUFBRSxZQUFZLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO2dDQUN2SyxJQUFJLENBQUMsV0FBWSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQztnQ0FDeEYsSUFBSSxDQUFDLEtBQUssQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxDQUFDOzZCQUN6RDs7OzRCQUVMLGdFQUFnRTs0QkFDNUQsSUFBSSxJQUFJLENBQUMsb0JBQW9CLElBQUksSUFBSSxJQUFJLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxpQkFBaUIsS0FBSyxJQUFJLEVBQUU7Z0NBQzNGLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLE9BQU8sQ0FBQyx3QkFBd0IsQ0FBQyx1QkFBdUIsRUFBRSxJQUFJLENBQUMsb0JBQW9CLENBQUMsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztnQ0FDbE0sSUFBSSxPQUFPLENBQUMscUJBQXFCLENBQUMsaUJBQWlCLENBQUMsV0FBVyxLQUFLLElBQUksRUFBRTtvQ0FDaEUsZUFBZSxHQUFvQyxPQUFPLENBQUMscUJBQXFCLENBQUMsaUJBQWlCLENBQUM7b0NBQ3pHLGVBQWUsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixDQUFDLGtCQUFrQixDQUFDLGlCQUFpQixDQUFDLENBQUMsc0JBQXNCO29DQUNoSCxzQkFBc0I7b0NBQ3RCLGVBQWUsQ0FBQyxzQkFBc0IsR0FBRyxJQUFJLENBQUMsb0JBQW9CLENBQUMscUJBQXFCLENBQUMsZUFBZSxDQUFDLENBQUMsaUJBQWlCO29DQUMzSCxJQUFJLGVBQWUsQ0FBQyxzQkFBc0IsRUFBRTt3Q0FDeEMsZUFBZSxDQUFDLGVBQWUsQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixDQUFDLHFCQUFxQixDQUFDLGFBQWEsQ0FBQyxDQUFDLGVBQWU7d0NBQ3pILGVBQWUsQ0FBQyxlQUFlLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxxQkFBcUIsQ0FBQyxhQUFhLENBQUMsQ0FBQyxlQUFlO3dDQUN6SCxtQkFBbUI7d0NBQ25CLGVBQWUsQ0FBQyxlQUFlLENBQUMsbUJBQW1CLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixDQUFDLHFCQUFxQixDQUFDLGVBQWUsQ0FBQyxDQUFDLG1CQUFtQjt3Q0FDMUksSUFBSSxlQUFlLENBQUMsZUFBZSxDQUFDLG1CQUFtQixFQUFFOzRDQUNyRCxxQkFBcUI7NENBQ3JCLHVKQUF1Sjs0Q0FDdko7Ozs7O2tIQUtzRTs0Q0FDdEUsMEVBQTBFOzRDQUMxRSxJQUFJLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxxQkFBcUIsQ0FBQyxpQkFBaUIsSUFBSSxJQUFJLEVBQUU7Z0RBQ3JFLG1CQUFtQixHQUFtQixPQUFPLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMscUJBQXFCLENBQUMsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLEtBQUssRUFBRSxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7Z0RBQ3ZLLG1CQUFtQixDQUFDLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLGlCQUFpQixDQUFDO2dEQUM5RCxtQkFBbUIsQ0FBQyxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQztnREFDOUQsZUFBZSxDQUFDLGVBQWUsQ0FBQyxtQkFBbUIsR0FBRyxtQkFBbUIsQ0FBQztnREFDcEUsZUFBZSxDQUFDLGVBQWdCLENBQUMsMEJBQTBCLEdBQUcsS0FBSyxDQUFDOzZDQUM3RTt5Q0FDSjt3Q0FDRCxrQkFBa0I7d0NBQ2xCLGVBQWUsQ0FBQyxlQUFlLENBQUMsa0JBQWtCLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixDQUFDLHFCQUFxQixDQUFDLGtCQUFrQixDQUFDLGFBQWEsQ0FBQyxDQUFDLG1CQUFtQjt3Q0FDMUosSUFBSSxlQUFlLENBQUMsZUFBZSxDQUFDLGtCQUFrQixFQUFFOzRDQUNoRCxLQUFLLEdBQUcsSUFBSSxPQUFPLENBQUMsV0FBVyxFQUFFLENBQUM7NENBQ3RDLEtBQUssQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixDQUFDLHFCQUFxQixDQUFDLGtCQUFrQixDQUFDLFNBQVMsQ0FBQyxDQUFDLGVBQWU7NENBQ25ILEtBQUssQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixDQUFDLHFCQUFxQixDQUFDLGtCQUFrQixDQUFDLFNBQVMsQ0FBQyxDQUFDLGVBQWU7NENBQ3BILEtBQUssQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixDQUFDLHFCQUFxQixDQUFDLGtCQUFrQixDQUFDLFNBQVMsQ0FBQyxDQUFDLGdCQUFnQjs0Q0FDaEgsS0FBSyxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxxQkFBcUIsQ0FBQyxrQkFBa0IsQ0FBQyxTQUFTLENBQUMsQ0FBQyxlQUFlOzRDQUN0SCxLQUFLLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixDQUFDLHFCQUFxQixDQUFDLGtCQUFrQixDQUFDLGFBQWEsQ0FBQyxDQUFDLGVBQWU7NENBQzNILEtBQUssQ0FBQyxrQkFBa0IsR0FBRyxJQUFJLENBQUMsb0JBQW9CLENBQUMscUJBQXFCLENBQUMsa0JBQWtCLENBQUMsYUFBYSxDQUFDLENBQUMsZUFBZTs0Q0FDNUgsS0FBSyxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUMsb0JBQW9CLENBQUMscUJBQXFCLENBQUMsa0JBQWtCLENBQUMsYUFBYSxDQUFDLENBQUMsZ0JBQWdCOzRDQUN4SCxLQUFLLENBQUMsb0JBQW9CLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixDQUFDLHFCQUFxQixDQUFDLGtCQUFrQixDQUFDLGFBQWEsQ0FBQyxDQUFDLGVBQWU7NENBQzlILEtBQUssQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixDQUFDLHFCQUFxQixDQUFDLGtCQUFrQixDQUFDLFdBQVcsQ0FBQyxDQUFDLGVBQWU7NENBQ3ZILEtBQUssQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsb0JBQW9CLENBQUMscUJBQXFCLENBQUMsa0JBQWtCLENBQUMsV0FBVyxDQUFDLENBQUMsZUFBZTs0Q0FDeEgsS0FBSyxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsb0JBQW9CLENBQUMscUJBQXFCLENBQUMsa0JBQWtCLENBQUMsV0FBVyxDQUFDLENBQUMsZ0JBQWdCOzRDQUNwSCxLQUFLLENBQUMsa0JBQWtCLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixDQUFDLHFCQUFxQixDQUFDLGtCQUFrQixDQUFDLFdBQVcsQ0FBQyxDQUFDLGVBQWU7NENBQzFILEtBQUssQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixDQUFDLHFCQUFxQixDQUFDLGtCQUFrQixDQUFDLFVBQVUsQ0FBQyxDQUFDLGVBQWU7NENBQ3JILEtBQUssQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixDQUFDLHFCQUFxQixDQUFDLGtCQUFrQixDQUFDLFVBQVUsQ0FBQyxDQUFDLGlCQUFpQjs0Q0FDeEgsS0FBSyxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsb0JBQW9CLENBQUMscUJBQXFCLENBQUMsa0JBQWtCLENBQUMsVUFBVSxDQUFDLENBQUMsZ0JBQWdCOzRDQUNsSCxLQUFLLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixDQUFDLHFCQUFxQixDQUFDLGtCQUFrQixDQUFDLFVBQVUsQ0FBQyxDQUFDLGdCQUFnQjs0Q0FDekgsZUFBZSxDQUFDLGVBQWUsQ0FBQyxXQUFXLEdBQUcsS0FBSyxDQUFDO3lDQUN2RDtxQ0FDSjtvQ0FDRCxXQUFXO29DQUNYLGVBQWUsQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixDQUFDLHFCQUFxQixDQUFDLFlBQVksQ0FBQyxDQUFDLG1CQUFtQjtvQ0FDaEgsSUFBSSxlQUFlLENBQUMsWUFBWSxFQUFFO3dDQUM5QixlQUFlLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxxQkFBcUIsQ0FBQyxXQUFXLENBQUMsQ0FBQyxnQkFBZ0I7d0NBQzNHLGVBQWUsQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixDQUFDLHFCQUFxQixDQUFDLFVBQVUsQ0FBQyxDQUFDLGlCQUFpQjt3Q0FDMUcsZUFBZSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsb0JBQW9CLENBQUMscUJBQXFCLENBQUMsV0FBVyxDQUFDLENBQUMsa0JBQWtCO3dDQUM3RyxlQUFlLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxxQkFBcUIsQ0FBQyxjQUFjLENBQUMsQ0FBQyxpQkFBaUI7cUNBQ3JIO29DQUNELDBCQUEwQjtvQ0FDMUIsZUFBZSxDQUFDLDBCQUEwQixHQUFHLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxtQkFBbUIsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLG1CQUFtQjtvQ0FDakksSUFBSSxlQUFlLENBQUMsMEJBQTBCLEVBQUU7d0NBQzVDLGVBQWUsQ0FBQyxtQkFBbUIsQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsb0JBQW9CLENBQUMsbUJBQW1CLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxnQkFBZ0I7d0NBQ3ZJLGVBQWUsQ0FBQyxtQkFBbUIsQ0FBQywyQkFBMkIsR0FBRyxJQUFJLENBQUMsb0JBQW9CLENBQUMsbUJBQW1CLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxtQkFBbUI7d0NBQ3ZKLGVBQWUsQ0FBQyxtQkFBbUIsQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixDQUFDLG1CQUFtQixDQUFDLFNBQVMsQ0FBQyxDQUFDLGVBQWU7d0NBQ3hILGVBQWUsQ0FBQyxtQkFBbUIsQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixDQUFDLG1CQUFtQixDQUFDLGNBQWMsQ0FBQyxDQUFDLG1CQUFtQjt3Q0FDdEksZUFBZSxDQUFDLG1CQUFtQixDQUFDLHNCQUFzQixHQUFHLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxtQkFBbUIsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLG1CQUFtQjt3Q0FDaEosZUFBZSxDQUFDLG1CQUFtQixDQUFDLHVCQUF1QixHQUFHLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxtQkFBbUIsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLGtCQUFrQjtxQ0FDcko7b0NBQ0QsU0FBUztvQ0FDVCxlQUFlLENBQUMsbUJBQW1CLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixDQUFDLGlCQUFpQixDQUFDLFlBQVksQ0FBQyxDQUFDLG1CQUFtQjtvQ0FDbkgsSUFBSSxlQUFlLENBQUMsbUJBQW1CLElBQUksZUFBZSxDQUFDLFlBQVksQ0FBQyxXQUFXLEVBQUU7d0NBQ2pGLGVBQWUsQ0FBQyxxQkFBcUIsR0FBRyxJQUFJLENBQUMsb0JBQW9CLENBQUMsaUJBQWlCLENBQUMsU0FBUyxDQUFDLENBQUMsZUFBZTt3Q0FDOUcsZUFBZSxDQUFDLFlBQVksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixDQUFDLGlCQUFpQixDQUFDLFNBQVMsQ0FBQyxDQUFDLGlCQUFpQjt3Q0FDN0csZUFBZSxDQUFDLFlBQVksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixDQUFDLGlCQUFpQixDQUFDLFdBQVcsQ0FBQyxDQUFDLG9CQUFvQjt3Q0FDeEgsZUFBZSxDQUFDLFlBQVksQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixDQUFDLGlCQUFpQixDQUFDLGFBQWEsQ0FBQyxDQUFDLHNCQUFzQjt3Q0FDOUgsZUFBZSxDQUFDLFlBQVksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixDQUFDLGlCQUFpQixDQUFDLFdBQVcsQ0FBQyxDQUFDLGdCQUFnQjtxQ0FDcEg7b0NBQ0QsVUFBVTtvQ0FDVixlQUFlLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxrQkFBa0IsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLG1CQUFtQjtvQ0FDakgsSUFBSSxlQUFlLENBQUMsV0FBVyxFQUFFO3dDQUM3QixlQUFlLENBQUMsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsb0JBQW9CLENBQUMsa0JBQWtCLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxlQUFlO3dDQUMvRyxlQUFlLENBQUMsSUFBSSxDQUFDLDJCQUEyQixHQUFHLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxrQkFBa0IsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLG1CQUFtQjtxQ0FDMUk7b0NBQ0QsZUFBZTtvQ0FDZixlQUFlLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixDQUFDLG1CQUFtQixDQUFDLFdBQVcsQ0FBQztvQ0FDN0YsSUFBSSxlQUFlLENBQUMsZ0JBQWdCLEVBQUU7d0NBQ2xDLGVBQWUsQ0FBQyxTQUFTLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxtQkFBbUIsQ0FBQyxhQUFhLENBQUMsQ0FBQyxlQUFlO3dDQUNsSCxlQUFlLENBQUMsU0FBUyxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsb0JBQW9CLENBQUMsbUJBQW1CLENBQUMsY0FBYyxDQUFDLENBQUMsZ0JBQWdCO3FDQUM1SDtvQ0FDRCxXQUFXO29DQUNYLGVBQWUsQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixDQUFDLHFCQUFxQixDQUFDLFlBQVksQ0FBQztvQ0FDNUYsSUFBSSxlQUFlLENBQUMsWUFBWSxFQUFFO3dDQUM5QixlQUFlLENBQUMsS0FBSyxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsb0JBQW9CLENBQUMscUJBQXFCLENBQUMsYUFBYSxDQUFDLENBQUMsbUJBQW1CO3dDQUNuSCxlQUFlLENBQUMsS0FBSyxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsb0JBQW9CLENBQUMscUJBQXFCLENBQUMsY0FBYyxDQUFDLENBQUMsZ0JBQWdCO3dDQUNsSCxlQUFlLENBQUMsS0FBSyxDQUFDLDJCQUEyQixHQUFHLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxxQkFBcUIsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLG1CQUFtQjtxQ0FDOUk7b0NBQ0QsYUFBYTtvQ0FDYixlQUFlLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxxQkFBcUIsQ0FBQyxjQUFjLENBQUM7b0NBQ2hHLElBQUksZUFBZSxDQUFDLGNBQWMsRUFBRTt3Q0FDaEMsZUFBZSxDQUFDLE9BQU8sQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixDQUFDLHFCQUFxQixDQUFDLGVBQWUsQ0FBQyxDQUFDLGlCQUFpQjt3Q0FDdkgsZUFBZSxDQUFDLE9BQU8sQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixDQUFDLHFCQUFxQixDQUFDLGdCQUFnQixDQUFDLENBQUMsZUFBZTt3Q0FDdkgsZUFBZSxDQUFDLE9BQU8sQ0FBQywyQkFBMkIsR0FBRyxJQUFJLENBQUMsb0JBQW9CLENBQUMscUJBQXFCLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxtQkFBbUI7cUNBQ2hKO2lDQUNKO3FDQUFNO29DQUNILE9BQU8sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLHFEQUFxRCxDQUFDLENBQUM7aUNBQzdFOzZCQUNKOzRCQUNMLEdBQUc7NEJBQ0gsT0FBTyxDQUFDLHFCQUFxQixDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUM7Ozs7O1NBQ3BEO1FBQ1MsdURBQXVCLEdBQWpDO1lBQ0ksSUFBSSxJQUFJLENBQUMsV0FBVyxJQUFJLElBQUksRUFBRTtnQkFDMUIsSUFBSSxJQUFJLENBQUMsVUFBVSxLQUFLLENBQUMsRUFBRSxFQUFTLHVCQUF1QjtpQkFDMUQ7cUJBQU0sSUFBSSxJQUFJLENBQUMsVUFBVSxLQUFLLENBQUMsRUFBRSxFQUFFLHlCQUF5QjtpQkFDNUQ7cUJBQU0sSUFBSSxJQUFJLENBQUMsVUFBVSxLQUFLLENBQUMsRUFBRSxFQUFFLHNCQUFzQjtpQkFDekQ7cUJBQU0sSUFBSSxJQUFJLENBQUMsVUFBVSxLQUFLLENBQUMsRUFBRSxFQUFFLG9CQUFvQjtpQkFDdkQ7YUFDSjtRQUNMLENBQUM7UUFDUyx3REFBd0IsR0FBbEM7WUFDSSxJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQztRQUMvQixDQUFDO1FBRUQsb0ZBQW9GO1FBQ3BGLDZDQUE2QztRQUM3QyxvRkFBb0Y7UUFFcEYsOENBQThDO1FBQ2hDLDhCQUFRLEdBQXRCLGNBQTBELE9BQU8sT0FBTyxDQUFDLHFCQUFxQixDQUFDLGtCQUFrQixDQUFDLENBQUMsQ0FBQztRQUVwSCxvRkFBb0Y7UUFDcEYsMkNBQTJDO1FBQzNDLG9GQUFvRjtRQUVwRixrREFBa0Q7UUFDcEMscUNBQWUsR0FBN0IsVUFBOEIsS0FBbUIsRUFBRSxNQUFzRCxFQUFFLE1BQXNCO1lBQTlFLHVCQUFBLEVBQUEsU0FBOEIsT0FBTyxDQUFDLFlBQVksQ0FBQyxHQUFHO1lBQUUsdUJBQUEsRUFBQSxjQUFzQjtZQUM3SCxJQUFJLE1BQU0sR0FBMkIsSUFBSSxDQUFDO1lBQzFDLElBQUksT0FBTyxDQUFDLHFCQUFxQixDQUFDLG1CQUFtQixFQUFFLEVBQUU7Z0JBQ3JELElBQUksTUFBTSxLQUFLLE9BQU8sQ0FBQyxZQUFZLENBQUMsR0FBRyxJQUFJLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxlQUFlLElBQUksSUFBSTtvQkFBRSxNQUFNLEdBQUcsT0FBTyxDQUFDLHFCQUFxQixDQUFDLGVBQWUsQ0FBQztxQkFDcEosSUFBSSxNQUFNLEtBQUssT0FBTyxDQUFDLFlBQVksQ0FBQyxHQUFHLElBQUksT0FBTyxDQUFDLHFCQUFxQixDQUFDLGVBQWUsSUFBSSxJQUFJO29CQUFFLE1BQU0sR0FBRyxPQUFPLENBQUMscUJBQXFCLENBQUMsZUFBZSxDQUFDO3FCQUN6SixJQUFJLE1BQU0sS0FBSyxPQUFPLENBQUMsWUFBWSxDQUFDLEtBQUssSUFBSSxPQUFPLENBQUMscUJBQXFCLENBQUMsaUJBQWlCLElBQUksSUFBSTtvQkFBRSxNQUFNLEdBQUcsT0FBTyxDQUFDLHFCQUFxQixDQUFDLGlCQUFpQixDQUFDO3FCQUMvSixJQUFJLE1BQU0sS0FBSyxPQUFPLENBQUMsWUFBWSxDQUFDLElBQUksSUFBSSxPQUFPLENBQUMscUJBQXFCLENBQUMsZ0JBQWdCLElBQUksSUFBSTtvQkFBRSxNQUFNLEdBQUcsT0FBTyxDQUFDLHFCQUFxQixDQUFDLGdCQUFnQixDQUFDO2FBQ3BLO1lBQ0QsSUFBSSxNQUFNLEtBQUssSUFBSSxJQUFJLE1BQU0sSUFBSSxJQUFJO2dCQUFFLE1BQU0sQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1lBQzVELE9BQU8sTUFBTSxDQUFDO1FBQ2xCLENBQUM7UUFDRCxtREFBbUQ7UUFDckMsd0NBQWtCLEdBQWhDLFVBQWlDLEtBQW1CLEVBQUUsTUFBc0Q7WUFBdEQsdUJBQUEsRUFBQSxTQUE4QixPQUFPLENBQUMsWUFBWSxDQUFDLEdBQUc7WUFDeEcsSUFBSSxNQUFNLEdBQXlCLElBQUksQ0FBQztZQUN4QyxJQUFJLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxtQkFBbUIsRUFBRSxFQUFFO2dCQUNyRCxJQUFJLE1BQU0sS0FBSyxPQUFPLENBQUMsWUFBWSxDQUFDLEdBQUcsSUFBSSxPQUFPLENBQUMscUJBQXFCLENBQUMsZUFBZSxJQUFJLElBQUksSUFBVSxPQUFPLENBQUMscUJBQXFCLENBQUMsZUFBZ0IsQ0FBQyxTQUFTLElBQUksSUFBSTtvQkFBRSxNQUFNLEdBQVMsT0FBTyxDQUFDLHFCQUFxQixDQUFDLGVBQWdCLENBQUMsU0FBUyxDQUFDO3FCQUMvTyxJQUFJLE1BQU0sS0FBSyxPQUFPLENBQUMsWUFBWSxDQUFDLEdBQUcsSUFBSSxPQUFPLENBQUMscUJBQXFCLENBQUMsZUFBZSxJQUFJLElBQUksSUFBVSxPQUFPLENBQUMscUJBQXFCLENBQUMsZUFBZ0IsQ0FBQyxTQUFTLElBQUksSUFBSTtvQkFBRSxNQUFNLEdBQVMsT0FBTyxDQUFDLHFCQUFxQixDQUFDLGVBQWdCLENBQUMsU0FBUyxDQUFDO3FCQUNwUCxJQUFJLE1BQU0sS0FBSyxPQUFPLENBQUMsWUFBWSxDQUFDLEtBQUssSUFBSSxPQUFPLENBQUMscUJBQXFCLENBQUMsaUJBQWlCLElBQUksSUFBSSxJQUFVLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxpQkFBa0IsQ0FBQyxTQUFTLElBQUksSUFBSTtvQkFBRSxNQUFNLEdBQVMsT0FBTyxDQUFDLHFCQUFxQixDQUFDLGlCQUFrQixDQUFDLFNBQVMsQ0FBQztxQkFDNVAsSUFBSSxNQUFNLEtBQUssT0FBTyxDQUFDLFlBQVksQ0FBQyxJQUFJLElBQUksT0FBTyxDQUFDLHFCQUFxQixDQUFDLGdCQUFnQixJQUFJLElBQUksSUFBVSxPQUFPLENBQUMscUJBQXFCLENBQUMsZ0JBQWlCLENBQUMsU0FBUyxJQUFJLElBQUk7b0JBQUUsTUFBTSxHQUFTLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxnQkFBaUIsQ0FBQyxTQUFTLENBQUM7YUFDaFE7WUFDRCxPQUFPLE1BQU0sQ0FBQztRQUNsQixDQUFDO1FBRUQsb0ZBQW9GO1FBQ3BGLGlEQUFpRDtRQUNqRCxvRkFBb0Y7UUFFcEYsc0RBQXNEO1FBQ3hDLHFDQUFlLEdBQTdCO1lBQ0ksT0FBTyxPQUFPLENBQUMscUJBQXFCLENBQUMsYUFBYSxDQUFDO1FBQ3ZELENBQUM7UUFDRCxzREFBc0Q7UUFDeEMsdUNBQWlCLEdBQS9CO1lBQ0ksT0FBTyxPQUFPLENBQUMscUJBQXFCLENBQUMsZUFBZSxDQUFDO1FBQ3pELENBQUM7UUFDRCwrQ0FBK0M7UUFDakMseUNBQW1CLEdBQWpDO1lBQ0ksT0FBTyxPQUFPLENBQUMscUJBQXFCLENBQUMsZ0JBQWdCLENBQUM7UUFDMUQsQ0FBQztRQUNELG9EQUFvRDtRQUN0QyxnREFBMEIsR0FBeEMsVUFBeUMsS0FBbUI7WUFDeEQsSUFBSSxNQUFNLEdBQVcsS0FBSyxDQUFDO1lBQzNCLElBQUksT0FBTyxDQUFDLHFCQUFxQixDQUFDLGtCQUFrQixJQUFJLElBQUksSUFBSSxPQUFPLENBQUMscUJBQXFCLENBQUMsa0JBQWtCLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtnQkFDekgsS0FBSyxDQUFDLGFBQWEsR0FBRyxPQUFPLENBQUMscUJBQXFCLENBQUMsa0JBQWtCLENBQUM7Z0JBQ3ZFLE1BQU0sR0FBRyxJQUFJLENBQUM7YUFDakI7WUFDRCxPQUFPLE1BQU0sQ0FBQztRQUNsQixDQUFDO1FBQ0QsaURBQWlEO1FBQ25DLCtDQUF5QixHQUF2QztZQUNJLElBQUksT0FBTyxDQUFDLHFCQUFxQixDQUFDLGVBQWUsSUFBSSxJQUFJLEVBQUU7Z0JBQ3ZELE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxlQUFlLENBQUMsT0FBTyxFQUFFLENBQUM7Z0JBQ3hELE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDO2FBQ3hEO1lBQ0QsSUFBSSxPQUFPLENBQUMscUJBQXFCLENBQUMsZUFBZSxJQUFJLElBQUksRUFBRTtnQkFDdkQsT0FBTyxDQUFDLHFCQUFxQixDQUFDLGVBQWUsQ0FBQyxPQUFPLEVBQUUsQ0FBQztnQkFDeEQsT0FBTyxDQUFDLHFCQUFxQixDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUM7YUFDeEQ7WUFDRCxJQUFJLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxpQkFBaUIsSUFBSSxJQUFJLEVBQUU7Z0JBQ3pELE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxpQkFBaUIsQ0FBQyxPQUFPLEVBQUUsQ0FBQztnQkFDMUQsT0FBTyxDQUFDLHFCQUFxQixDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQzthQUMxRDtZQUNELElBQUksT0FBTyxDQUFDLHFCQUFxQixDQUFDLGdCQUFnQixJQUFJLElBQUksRUFBRTtnQkFDeEQsT0FBTyxDQUFDLHFCQUFxQixDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxDQUFDO2dCQUN6RCxPQUFPLENBQUMscUJBQXFCLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDO2FBQ3pEO1FBQ0wsQ0FBQztRQUNELCtDQUErQztRQUNqQyw4Q0FBd0IsR0FBdEMsVUFBdUMsS0FBbUIsRUFBRSxlQUFzQjtZQUM5RSxJQUFJLE1BQU0sR0FBVyxLQUFLLENBQUM7WUFDM0IsSUFBSSxPQUFPLEdBQVUsT0FBTyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsZUFBZSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUNqRSxJQUFJLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxpQkFBaUIsRUFBRSxFQUFFO2dCQUNuRCxJQUFJLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxlQUFlLElBQUksSUFBSSxJQUFJLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxlQUFlLElBQUksSUFBSSxJQUFJLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxpQkFBaUIsSUFBSSxJQUFJLElBQUksT0FBTyxDQUFDLHFCQUFxQixDQUFDLGdCQUFnQixJQUFJLElBQUksRUFBRTtvQkFDck8sT0FBTyxDQUFDLHFCQUFxQixDQUFDLGtCQUFrQixHQUFHLEVBQUUsQ0FBQztvQkFDdEQsSUFBSSxPQUFPLEtBQUssQ0FBQyxFQUFFO3dCQUNmLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxlQUFlLENBQUMsUUFBUSxHQUFHLElBQUksT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQzt3QkFDMUYsT0FBTyxDQUFDLHFCQUFxQixDQUFDLGVBQWUsQ0FBQyxRQUFRLEdBQUcsSUFBSSxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO3dCQUMxRixPQUFPLENBQUMscUJBQXFCLENBQUMsZUFBZSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQzt3QkFDaEUsT0FBTyxDQUFDLHFCQUFxQixDQUFDLGlCQUFpQixDQUFDLFFBQVEsR0FBRyxJQUFJLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7d0JBQzVGLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUM7d0JBQ2xFLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLEdBQUcsSUFBSSxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO3dCQUMzRixPQUFPLENBQUMscUJBQXFCLENBQUMsZ0JBQWdCLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDO3dCQUNqRSxPQUFPLENBQUMscUJBQXFCLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxlQUFlLENBQUMsQ0FBQztxQkFDeEc7eUJBQU0sSUFBSSxPQUFPLEtBQUssQ0FBQyxFQUFFO3dCQUN0QixJQUFJLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxhQUFhLEtBQUssSUFBSSxFQUFFOzRCQUN0RCxPQUFPLENBQUMscUJBQXFCLENBQUMsZUFBZSxDQUFDLFFBQVEsR0FBRyxJQUFJLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUM7NEJBQzVGLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxlQUFlLENBQUMsUUFBUSxHQUFHLElBQUksT0FBTyxDQUFDLFFBQVEsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQzt5QkFDakc7NkJBQU07NEJBQ0gsT0FBTyxDQUFDLHFCQUFxQixDQUFDLGVBQWUsQ0FBQyxRQUFRLEdBQUcsSUFBSSxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDOzRCQUM5RixPQUFPLENBQUMscUJBQXFCLENBQUMsZUFBZSxDQUFDLFFBQVEsR0FBRyxJQUFJLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7eUJBQy9GO3dCQUNELE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxlQUFlLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO3dCQUMvRCxPQUFPLENBQUMscUJBQXFCLENBQUMsaUJBQWlCLENBQUMsUUFBUSxHQUFHLElBQUksT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQzt3QkFDNUYsT0FBTyxDQUFDLHFCQUFxQixDQUFDLGlCQUFpQixDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQzt3QkFDbEUsT0FBTyxDQUFDLHFCQUFxQixDQUFDLGdCQUFnQixDQUFDLFFBQVEsR0FBRyxJQUFJLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7d0JBQzNGLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxnQkFBZ0IsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUM7d0JBQ2pFLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLHFCQUFxQixDQUFDLGVBQWUsQ0FBQyxDQUFDO3dCQUNyRyxPQUFPLENBQUMscUJBQXFCLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxlQUFlLENBQUMsQ0FBQztxQkFDeEc7eUJBQU0sSUFBSSxPQUFPLEtBQUssQ0FBQyxFQUFFO3dCQUN0QixPQUFPLENBQUMscUJBQXFCLENBQUMsZUFBZSxDQUFDLFFBQVEsR0FBRyxJQUFJLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUM7d0JBQzVGLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxlQUFlLENBQUMsUUFBUSxHQUFHLElBQUksT0FBTyxDQUFDLFFBQVEsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQzt3QkFDbEcsT0FBTyxDQUFDLHFCQUFxQixDQUFDLGVBQWUsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUM7d0JBQy9ELE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxpQkFBaUIsQ0FBQyxRQUFRLEdBQUcsSUFBSSxPQUFPLENBQUMsUUFBUSxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO3dCQUNsRyxPQUFPLENBQUMscUJBQXFCLENBQUMsaUJBQWlCLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO3dCQUNqRSxPQUFPLENBQUMscUJBQXFCLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxHQUFHLElBQUksT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQzt3QkFDM0YsT0FBTyxDQUFDLHFCQUFxQixDQUFDLGdCQUFnQixDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQzt3QkFDakUsT0FBTyxDQUFDLHFCQUFxQixDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMscUJBQXFCLENBQUMsZUFBZSxDQUFDLENBQUM7d0JBQ3JHLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLHFCQUFxQixDQUFDLGVBQWUsQ0FBQyxDQUFDO3dCQUNyRyxPQUFPLENBQUMscUJBQXFCLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO3FCQUMxRzt5QkFBTSxJQUFJLE9BQU8sS0FBSyxDQUFDLEVBQUU7d0JBQ3RCLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxlQUFlLENBQUMsUUFBUSxHQUFHLElBQUksT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQzt3QkFDaEcsT0FBTyxDQUFDLHFCQUFxQixDQUFDLGVBQWUsQ0FBQyxRQUFRLEdBQUcsSUFBSSxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO3dCQUM5RixPQUFPLENBQUMscUJBQXFCLENBQUMsZUFBZSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQzt3QkFDL0QsT0FBTyxDQUFDLHFCQUFxQixDQUFDLGlCQUFpQixDQUFDLFFBQVEsR0FBRyxJQUFJLE9BQU8sQ0FBQyxRQUFRLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7d0JBQ3BHLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUM7d0JBQ2pFLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLEdBQUcsSUFBSSxPQUFPLENBQUMsUUFBUSxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO3dCQUNqRyxPQUFPLENBQUMscUJBQXFCLENBQUMsZ0JBQWdCLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO3dCQUNoRSxPQUFPLENBQUMscUJBQXFCLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxlQUFlLENBQUMsQ0FBQzt3QkFDckcsT0FBTyxDQUFDLHFCQUFxQixDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMscUJBQXFCLENBQUMsZUFBZSxDQUFDLENBQUM7d0JBQ3JHLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLHFCQUFxQixDQUFDLGlCQUFpQixDQUFDLENBQUM7d0JBQ3ZHLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLHFCQUFxQixDQUFDLGdCQUFnQixDQUFDLENBQUM7cUJBQ3pHO3lCQUFNO3dCQUNILE9BQU8sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLHdEQUF3RCxHQUFHLE9BQU8sQ0FBQyxDQUFDO3FCQUMxRjtpQkFDSjtxQkFBTTtvQkFDSCxPQUFPLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxpRUFBaUUsQ0FBQyxDQUFDO2lCQUN6RjtnQkFDRCxPQUFPLENBQUMscUJBQXFCLENBQUMsZ0JBQWdCLEdBQUcsT0FBTyxDQUFDO2dCQUN6RCxNQUFNLEdBQUcsT0FBTyxDQUFDLHFCQUFxQixDQUFDLDBCQUEwQixDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUN6RSxJQUFJLE1BQU0sS0FBSyxLQUFLO29CQUFFLE9BQU8sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLCtEQUErRCxDQUFDLENBQUM7YUFDN0c7aUJBQU07Z0JBQ0gsT0FBTyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsNERBQTRELENBQUMsQ0FBQzthQUNwRjtZQUNELE9BQU8sTUFBTSxDQUFDO1FBQ2xCLENBQUM7UUF6Z0JnQixxQ0FBZSxHQUEyQixJQUFJLENBQUM7UUFDL0MscUNBQWUsR0FBMkIsSUFBSSxDQUFDO1FBQy9DLHVDQUFpQixHQUEyQixJQUFJLENBQUM7UUFDakQsc0NBQWdCLEdBQTJCLElBQUksQ0FBQztRQUNoRCx3Q0FBa0IsR0FBa0MsSUFBSSxDQUFDO1FBRTNELHFDQUFlLEdBQVcsS0FBSyxDQUFDO1FBQ2hDLHNDQUFnQixHQUFVLENBQUMsQ0FBQztRQUM1Qix3Q0FBa0IsR0FBb0IsSUFBSSxDQUFDO1FBQzNDLG1DQUFhLEdBQVcsSUFBSSxDQUFDO1FBQzdCLGlDQUFXLEdBQVUsQ0FBQyxDQUFDO1FBQ3ZCLGlDQUFXLEdBQVcsS0FBSyxDQUFDO1FBQzVCLHVDQUFpQixHQUFvQyxJQUFJLENBQUM7UUE4ZjdFLDRCQUFDO0tBQUEsQUEzZ0JELENBQTJDLE9BQU8sQ0FBQyxlQUFlLEdBMmdCakU7SUEzZ0JZLDZCQUFxQix3QkEyZ0JqQyxDQUFBO0FBZ0dMLENBQUMsRUFobkJNLE9BQU8sS0FBUCxPQUFPLFFBZ25CYjtBQ2huQkQsSUFBTyxPQUFPLENBOHVCYjtBQTl1QkQsV0FBTyxPQUFPO0lBQ1Y7OztNQUdFO0lBQ0Y7UUFBK0MsNkNBQXVCO1FBQXRFO1lBQUEscUVBaXRCQztZQWh0QlUsaUJBQVcsR0FBVyxLQUFLLENBQUM7WUFDNUIsa0JBQVksR0FBVyxLQUFLLENBQUM7WUFDN0Isa0JBQVksR0FBVyxJQUFJLENBQUM7WUFDNUIsbUJBQWEsR0FBVyxJQUFJLENBQUM7WUFDN0IsZ0JBQVUsR0FBVyxJQUFJLENBQUM7WUFDMUIsaUJBQVcsR0FBVyxLQUFLLENBQUM7WUFDNUIsZ0JBQVUsR0FBVyxLQUFLLENBQUM7WUFDM0Isa0JBQVksR0FBVSxHQUFHLENBQUM7WUFDMUIsZ0JBQVUsR0FBVSxDQUFDLENBQUM7WUFDdEIsZUFBUyxHQUFVLENBQUMsQ0FBQztZQUNyQixlQUFTLEdBQVUsQ0FBQyxDQUFDO1lBQ3JCLGNBQVEsR0FBVSxFQUFFLENBQUM7WUFDckIsaUJBQVcsR0FBVSxHQUFHLENBQUM7WUFDekIsZUFBUyxHQUFVLEdBQUcsQ0FBQztZQUN2QixlQUFTLEdBQVUsR0FBRyxDQUFDO1lBQ3ZCLGVBQVMsR0FBVSxHQUFHLENBQUM7WUFDdkIsZUFBUyxHQUFVLEdBQUcsQ0FBQztZQUN2QixnQkFBVSxHQUFVLElBQUksQ0FBQztZQUN6QixpQkFBVyxHQUFVLElBQUksQ0FBQztZQUMxQixrQkFBWSxHQUFVLElBQUksQ0FBQztZQUMzQixtQkFBYSxHQUFVLElBQUksQ0FBQztZQUM1QixrQkFBWSxHQUFVLElBQUksQ0FBQztZQUMzQixtQkFBYSxHQUFVLElBQUksQ0FBQztZQUM1QixrQkFBWSxHQUFVLEdBQUcsQ0FBQztZQUMxQixtQkFBYSxHQUFVLEdBQUcsQ0FBQztZQUMzQixrQkFBWSxHQUFXLEtBQUssQ0FBQztZQUM3QixtQkFBYSxHQUFVLE1BQU0sQ0FBQztZQUM5QixvQkFBYyxHQUFVLElBQUksQ0FBQztZQUM3QixxQkFBZSxHQUFVLENBQUMsQ0FBQztZQUMzQixzQkFBZ0IsR0FBVyxJQUFJLENBQUM7WUFDaEMsb0JBQWMsR0FBVSxDQUFDLENBQUM7WUFDMUIscUJBQWUsR0FBVSxJQUFJLENBQUM7WUFDOUIsZ0JBQVUsR0FBVSxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQztZQUM1QyxrQkFBWSxHQUFVLE9BQU8sQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDO1lBQ3BELGtCQUFZLEdBQVUsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUM7WUFDOUMsb0JBQWMsR0FBVSxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQztZQUMvQyxrQkFBWSxHQUF3QixPQUFPLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQztZQUM3RCxrQkFBWSxHQUFtQixJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQztZQUMxRCxzQkFBZ0IsR0FBbUIsT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQWdCekQsa0JBQVksR0FBd0IsSUFBSSxDQUFDO1lBQ3pDLG9CQUFjLEdBQVUsQ0FBQyxDQUFDO1lBQzFCLG1CQUFhLEdBQVcsS0FBSyxDQUFDO1lBQzlCLG9CQUFjLEdBQW1CLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLENBQUM7WUFDeEQsb0JBQWMsR0FBbUIsT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUN4RCx1QkFBaUIsR0FBbUIsT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUMzRCx5QkFBbUIsR0FBbUIsSUFBSSxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7WUFDakUsdUJBQWlCLEdBQW1CLElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO1lBQy9ELDBCQUFvQixHQUFtQixJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQztZQUNsRSx3QkFBa0IsR0FBbUIsSUFBSSxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7WUFDaEUsd0JBQWtCLEdBQW1CLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLENBQUM7WUFDNUQsd0JBQWtCLEdBQW1CLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLENBQUM7WUFDNUQsd0JBQWtCLEdBQW1CLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLENBQUM7WUFDNUQsc0JBQWdCLEdBQW1CLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLENBQUM7WUFFMUQsa0JBQVksR0FBTyxJQUFJLENBQUM7WUFDeEIsa0JBQVksR0FBVSxPQUFPLENBQUMsZ0JBQWdCLENBQUMsYUFBYSxDQUFDO1lBQzdELGlCQUFXLEdBQVUsQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxHQUFHLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxlQUFlLENBQUMsQ0FBQztZQUNyRyxpQkFBVyxHQUEwQixJQUFJLENBQUM7WUFDMUMsZ0JBQVUsR0FBeUIsSUFBSSxDQUFDO1lBQ3hDLGlCQUFXLEdBQWdCLElBQUksQ0FBQztZQUNoQyxxQkFBZSxHQUEyQixJQUFJLENBQUM7WUFDL0MseUJBQW1CLEdBQStCLElBQUksQ0FBQztZQUN2RCwyQkFBcUIsR0FBVyxLQUFLLENBQUM7WUFDdEMseUJBQW1CLEdBQVcsS0FBSyxDQUFDO1lBQ3BDLDBCQUFvQixHQUFXLEtBQUssQ0FBQztZQUNyQywwQkFBb0IsR0FBVyxLQUFLLENBQUM7WUFDckMsNEJBQXNCLEdBQVUsQ0FBQyxDQUFDO1lBQ2xDLDRCQUFzQixHQUFVLFVBQVUsQ0FBQztZQUMzQywyQkFBcUIsR0FBVyxLQUFLLENBQUM7WUFDdEMsMEJBQW9CLEdBQXdCLElBQUksQ0FBQztZQUVqRCx3QkFBa0IsR0FBVyxLQUFLLENBQUM7WUFDbkMsd0JBQWtCLEdBQVUsQ0FBQyxDQUFDO1lBRTlCLGVBQVMsR0FBVSxDQUFDLENBQUM7WUFDckIsZUFBUyxHQUFVLENBQUMsQ0FBQztZQUNyQixtQkFBYSxHQUFVLENBQUMsQ0FBQztZQUN6QixrQkFBWSxHQUFVLENBQUMsQ0FBQztZQUN4QixrQkFBWSxHQUFVLENBQUMsQ0FBQztZQUN4QixrQkFBWSxHQUFVLENBQUMsQ0FBQztZQUN4QixrQkFBWSxHQUFVLENBQUMsQ0FBQztZQUN4QixrQkFBWSxHQUF3QixJQUFJLENBQUM7WUFDekMsbUJBQWEsR0FBbUIsSUFBSSxDQUFDO1lBQ3JDLG1CQUFhLEdBQVUsQ0FBQyxDQUFDO1lBQ3pCLG9CQUFjLEdBQW1CLElBQUksQ0FBQztZQUN0QyxzQkFBZ0IsR0FBVSxDQUFDLENBQUM7WUFDNUIscUJBQWUsR0FBVSxDQUFDLENBQUM7WUFDM0IscUJBQWUsR0FBVSxDQUFDLENBQUM7WUFDM0Isb0JBQWMsR0FBMEIsSUFBSSxDQUFDO1lBQzdDLHlCQUFtQixHQUFtQixPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxDQUFDO1lBQzdELHdCQUFrQixHQUFtQixPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxDQUFDO1lBQzVELDBCQUFvQixHQUFtQixPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxDQUFDO1lBQzlELDRCQUFzQixHQUFtQixPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxDQUFDO1lBQ2hFLDhCQUF3QixHQUFzQixPQUFPLENBQUMsVUFBVSxDQUFDLElBQUksRUFBRSxDQUFDO1lBU2hGLGdGQUFnRjtZQUN6RSwyQkFBcUIsR0FBRyxJQUFJLE9BQU8sQ0FBQyxVQUFVLEVBQXlCLENBQUM7WUFDL0UseUZBQXlGO1lBQ2xGLDRCQUFzQixHQUFHLElBQUksT0FBTyxDQUFDLFVBQVUsRUFBeUIsQ0FBQztZQUNoRiwrRUFBK0U7WUFDeEUsNEJBQXNCLEdBQUcsSUFBSSxPQUFPLENBQUMsVUFBVSxFQUF5QixDQUFDO1lBeWJ4RSxnQkFBVSxHQUFlLElBQUksQ0FBQztZQUM5QixtQkFBYSxHQUFxQixJQUFJLENBQUM7WUFDdkMsbUJBQWEsR0FBbUIsSUFBSSxDQUFDO1lBQ3JDLHNCQUFnQixHQUFtQixJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBaUJqRSxlQUFTLEdBQWUsSUFBSSxDQUFDO1lBQzdCLGtCQUFZLEdBQXFCLElBQUksQ0FBQztZQUN0QyxtQkFBYSxHQUFtQixJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUM3RCxxQkFBZSxHQUFtQixJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQzs7UUFzSTNFLENBQUM7UUF6cUJVLG1EQUFlLEdBQXRCLGNBQWtDLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUM7UUFDdEQsbURBQWUsR0FBdEIsY0FBa0MsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQztRQUN0RCxtREFBZSxHQUF0QixjQUFrQyxPQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDO1FBQ3RELG1EQUFlLEdBQXRCLGNBQWtDLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUM7UUFDdEQsb0RBQWdCLEdBQXZCLGNBQW9DLE9BQU8sSUFBSSxDQUFDLG9CQUFvQixDQUFDLENBQUMsQ0FBQztRQUNoRSxxREFBaUIsR0FBeEIsY0FBcUMsT0FBTyxJQUFJLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxDQUFDO1FBQ2hFLG1EQUFlLEdBQXRCLGNBQWdELE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUM7UUFDcEUsb0RBQWdCLEdBQXZCLGNBQTRDLE9BQU8sSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUM7UUFDakUsb0RBQWdCLEdBQXZCLGNBQW1DLE9BQU8sSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUM7UUFDeEQscURBQWlCLEdBQXhCLGNBQTZDLE9BQU8sSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUM7UUFDbkUscURBQWlCLEdBQXhCLGNBQW1ELE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7UUFDckUsc0RBQWtCLEdBQXpCLGNBQW9ELE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUM7UUFDdkUscURBQWlCLEdBQXhCLGNBQW9ELE9BQU8sSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUM7UUFDMUUsMERBQXNCLEdBQTdCLGNBQThELE9BQU8sSUFBSSxDQUFDLG1CQUFtQixDQUFDLENBQUMsQ0FBQztRQTBEdEYseUNBQUssR0FBZixjQUEwQixJQUFJLENBQUMscUJBQXFCLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDL0MseUNBQUssR0FBZixjQUEwQixJQUFJLENBQUMscUJBQXFCLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDL0MsMENBQU0sR0FBaEIsY0FBMkIsSUFBSSxDQUFDLHNCQUFzQixFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ2pELHdDQUFJLEdBQWQsY0FBeUIsSUFBSSxDQUFDLG9CQUFvQixFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQzdDLHlDQUFLLEdBQWYsY0FBMEIsSUFBSSxDQUFDLHFCQUFxQixFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQy9DLDJDQUFPLEdBQWpCLGNBQTRCLElBQUksQ0FBQyx1QkFBdUIsRUFBRSxDQUFDLENBQUMsQ0FBQztRQVM3RCxpSEFBaUg7UUFDakgsa0NBQWtDO1FBQ2xDLGlIQUFpSDtRQUVqSCxXQUFXO1FBQ0osb0RBQWdCLEdBQXZCLFVBQXdCLElBQStCO1lBQ25ELElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDO1lBQzFCLElBQUksSUFBSSxDQUFDLGFBQWEsS0FBSyxPQUFPLENBQUMsa0JBQWtCLENBQUMsbUJBQW1CLElBQUksSUFBSSxDQUFDLGFBQWEsS0FBSyxPQUFPLENBQUMsa0JBQWtCLENBQUMsa0JBQWtCLEVBQUU7Z0JBQy9JLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLENBQUM7YUFDOUI7aUJBQU07Z0JBQ0gsSUFBSSxDQUFDLGVBQWUsQ0FBQyxLQUFLLENBQUMsQ0FBQzthQUMvQjtZQUNELElBQUksSUFBSSxDQUFDLGFBQWEsS0FBSyxPQUFPLENBQUMsa0JBQWtCLENBQUMsa0JBQWtCLEVBQUU7Z0JBQ3RFLElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDO2FBQzdCO2lCQUFNLElBQUksSUFBSSxDQUFDLGFBQWEsS0FBSyxPQUFPLENBQUMsa0JBQWtCLENBQUMsbUJBQW1CLEVBQUU7Z0JBQzlFLElBQUksQ0FBQyxhQUFhLEdBQUcsS0FBSyxDQUFDO2FBQzlCO1FBQ0wsQ0FBQztRQUNELFdBQVc7UUFDSix1REFBbUIsR0FBMUI7WUFDSSxJQUFJLElBQUksQ0FBQyxVQUFVLEtBQUssSUFBSSxFQUFFO2dCQUMxQixJQUFJLElBQUksQ0FBQyxhQUFhLEtBQUssT0FBTyxDQUFDLGtCQUFrQixDQUFDLG1CQUFtQixFQUFFO29CQUN2RSxJQUFJLElBQUksQ0FBQyxhQUFhLEtBQUssSUFBSSxFQUFFO3dCQUM3QixJQUFJLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxDQUFDLGtCQUFrQixDQUFDLGtCQUFrQixDQUFDLENBQUM7cUJBQ3hFO3lCQUFNO3dCQUNILElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsa0JBQWtCLENBQUMsbUJBQW1CLENBQUMsQ0FBQztxQkFDekU7aUJBQ0o7cUJBQU07b0JBQ0gsSUFBSSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO2lCQUN6RTthQUNKO1FBQ0wsQ0FBQztRQUNPLG1EQUFlLEdBQXZCLFVBQXdCLElBQVk7WUFDaEMsSUFBSSxJQUFJLENBQUMsV0FBVyxJQUFJLElBQUksRUFBRTtnQkFDMUIsb0VBQW9FO2dCQUNwRSxJQUFJLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxVQUFDLElBQXlCLElBQU8sSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQzthQUN2RjtRQUNMLENBQUM7UUFFRCxXQUFXO1FBQ0osc0RBQWtCLEdBQXpCLFVBQTBCLE1BQTJCO1lBQ2pELElBQUksSUFBSSxDQUFDLFVBQVUsSUFBSSxJQUFJLEVBQUU7Z0JBQ3pCLElBQU0sWUFBWSxHQUFVLENBQUMsTUFBTSxJQUFJLENBQUMsSUFBSSxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDO2dCQUNyRSxJQUFJLENBQUMsVUFBVSxHQUFHLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLFlBQVksQ0FBQyxDQUFDO2dCQUM3RixJQUFJLElBQUksQ0FBQyxVQUFVLElBQUksSUFBSSxFQUFFO29CQUN6QixJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDO29CQUMxQyxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO29CQUNyRCxJQUFJLENBQUMsVUFBVSxDQUFDLGtCQUFrQixHQUFHLElBQUksT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztvQkFHeEUsS0FBSztvQkFDTCxxQ0FBcUM7b0JBQ3JDLCtDQUErQztvQkFDL0MsS0FBSztvQkFDTCxJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBRSxDQUFDO29CQUN4RCxJQUFJLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDO29CQUN2RCxJQUFJLENBQUMsY0FBYyxDQUFDLFNBQVMsRUFBRSxDQUFDO2lCQUduQztxQkFBTTtvQkFDSCxPQUFPLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxzQ0FBc0MsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO2lCQUNwRjthQUNKO1FBQ0wsQ0FBQztRQUNPLDZEQUF5QixHQUFqQztZQUNJLElBQUksSUFBSSxDQUFDLGNBQWMsSUFBSSxJQUFJLEVBQUU7Z0JBQzdCLElBQUksSUFBSSxDQUFDLHNCQUFzQixJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsc0JBQXNCLEtBQUssRUFBRSxFQUFFO29CQUMzRSxJQUFJLE9BQU8sR0FBeUIsSUFBSSxDQUFDO29CQUN6QyxJQUFJLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsc0JBQXNCLENBQUMsRUFBRTt3QkFDcEQsT0FBTyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUM7cUJBQzVCO3lCQUFNO3dCQUNILE9BQU8sR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLHNCQUFzQixFQUFFLEtBQUssQ0FBeUIsQ0FBQztxQkFDL0Y7b0JBQ0QsSUFBSSxPQUFPLElBQUksSUFBSSxFQUFFO3dCQUNqQixJQUFJLENBQUMsY0FBYyxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsbUJBQW1CLENBQUMsT0FBTyxFQUFFLHdCQUF3QixDQUFDLENBQUM7cUJBQ3JHO3lCQUFNO3dCQUNILE9BQU8sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLHNDQUFzQyxHQUFHLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO3FCQUM1RjtpQkFDSjthQUNKO1FBQ0wsQ0FBQztRQUNELFdBQVc7UUFDSix1REFBbUIsR0FBMUI7WUFDSSxJQUFJLENBQUMsU0FBUyxDQUFDLGtCQUFrQixDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQztZQUMxRSxJQUFJLENBQUMsb0JBQW9CLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDO1lBQ3BELElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUM7UUFDeEQsQ0FBQztRQUVELGlIQUFpSDtRQUNqSCw4QkFBOEI7UUFDOUIsaUhBQWlIO1FBRXpHLHlEQUFxQixHQUE3QjtZQUFBLGlCQXVHQztZQXRHRyxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUN4RSxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUN4RSxJQUFJLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztZQUMzRSxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztZQUNsRSxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUMvRCxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUMvRCxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUM1RCxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztZQUNyRSxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUMvRCxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUMvRCxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUMvRCxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUMvRCxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztZQUNsRSxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztZQUNyRSxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUN4RSxJQUFJLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztZQUMzRSxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUN4RSxJQUFJLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztZQUMzRSxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztZQUNyRSxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxVQUFVLENB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QUNsRDtnQkFDRCxJQUFJLENBQUMsZUFBZSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDO2FBQzdEO2lCQUFNO2dCQUNILE9BQU8sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLDJDQUEyQyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7YUFDekY7UUFDTCxDQUFDO1FBQ0wscUJBQUM7SUFBRCxDQUFDLEFBL0VELENBQW9DLE9BQU8sQ0FBQyxlQUFlLEdBK0UxRDtJQS9FWSxzQkFBYyxpQkErRTFCLENBQUE7QUFDTCxDQUFDLEVBckZNLE9BQU8sS0FBUCxPQUFPLFFBcUZiIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlIFBST0pFQ1Qge1xuICAgIC8qKlxuICAgICAqIEJhYnlsb24gdW5pdmVyc2FsIGNhbWVyYSByaWcgc3lzdGVtIHBybyBjbGFzc1xuICAgICAqIEBjbGFzcyBVbml2ZXJzYWxDYW1lcmFTeXN0ZW0gLSBBbGwgcmlnaHRzIHJlc2VydmVkIChjKSAyMDIwIE1hY2tleSBLaW5hcmRcbiAgICAgKi9cbiAgICBleHBvcnQgY2xhc3MgVW5pdmVyc2FsQ2FtZXJhU3lzdGVtIGV4dGVuZHMgQkFCWUxPTi5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwcm90ZWN0ZWQgc3RhdGljIFBsYXllck9uZUNhbWVyYTpCQUJZTE9OLlVuaXZlcnNhbENhbWVyYSA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBzdGF0aWMgUGxheWVyVHdvQ2FtZXJhOkJBQllMT04uVW5pdmVyc2FsQ2FtZXJhID0gbnVsbDtcbiAgICAgICAgcHJvdGVjdGVkIHN0YXRpYyBQbGF5ZXJUaHJlZUNhbWVyYTpCQUJZTE9OLlVuaXZlcnNhbENhbWVyYSA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBzdGF0aWMgUGxheWVyRm91ckNhbWVyYTpCQUJZTE9OLlVuaXZlcnNhbENhbWVyYSA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBzdGF0aWMgWFJFeHBlcmllbmNlSGVscGVyOkJBQllMT04uV2ViWFJEZWZhdWx0RXhwZXJpZW5jZSA9IG51bGw7XG5cbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgbXVsdGlQbGF5ZXJWaWV3OmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgbXVsdGlQbGF5ZXJDb3VudDpudW1iZXIgPSAxO1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBtdWx0aVBsYXllckNhbWVyYXM6QkFCWUxPTi5DYW1lcmFbXSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIHN0ZXJlb0NhbWVyYXM6Ym9vbGVhbiA9IHRydWU7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIHN0YXJ0dXBNb2RlOm51bWJlciA9IDE7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIGNhbWVyYVJlYWR5OmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgcmVuZGVyaW5nUGlwZWxpbmU6QkFCWUxPTi5EZWZhdWx0UmVuZGVyaW5nUGlwZWxpbmUgPSBudWxsO1xuICAgICAgICBwdWJsaWMgc3RhdGljIEdldFJlbmRlcmluZ1BpcGVsaW5lKCk6QkFCWUxPTi5EZWZhdWx0UmVuZGVyaW5nUGlwZWxpbmUgeyByZXR1cm4gUFJPSkVDVC5Vbml2ZXJzYWxDYW1lcmFTeXN0ZW0ucmVuZGVyaW5nUGlwZWxpbmU7IH07XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgSXNDYW1lcmFTeXN0ZW1SZWFkeSgpOmJvb2xlYW4geyByZXR1cm4gUFJPSkVDVC5Vbml2ZXJzYWxDYW1lcmFTeXN0ZW0uY2FtZXJhUmVhZHk7IH1cblxuICAgICAgICBwcml2YXRlIG1haW5DYW1lcmE6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGNhbWVyYVR5cGU6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBjYW1lcmFJbmVydGlhOm51bWJlciA9IDAuNTtcbiAgICAgICAgcHJpdmF0ZSBjYW1lcmFDb250cm9sbGVyOmFueSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgdmlydHVhbFJlYWxpdHk6YW55ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBhcmNSb3RhdGVDb25maWc6YW55ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBtdWx0aVBsYXllclNldHVwOmFueSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgZWRpdG9yUG9zdFByb2Nlc3Npbmc6UFJPSkVDVC5JRWRpdG9yUG9zdFByb2Nlc3NpbmcgPSBudWxsO1xuXG4gICAgICAgIHB1YmxpYyBpc01haW5DYW1lcmEoKTpib29sZWFuIHsgcmV0dXJuIHRoaXMubWFpbkNhbWVyYTsgfVxuICAgICAgICBwdWJsaWMgZ2V0Q2FtZXJhVHlwZSgpOm51bWJlciB7IHJldHVybiB0aGlzLmNhbWVyYVR5cGU7IH1cbiAgICAgICAgICAgIFxuICAgICAgICBwcm90ZWN0ZWQgbV9jYW1lcmFSaWc6QkFCWUxPTi5UYXJnZXRDYW1lcmEgPSBudWxsO1xuXG4gICAgICAgIHByb3RlY3RlZCBhd2FrZSgpOiB2b2lkIHsgdGhpcy5hd2FrZUNhbWVyYVN5c3RlbVN0YXRlKCk7IH1cbiAgICAgICAgcHJvdGVjdGVkIHN0YXJ0KCk6IHZvaWQgeyB0aGlzLnN0YXJ0Q2FtZXJhU3lzdGVtU3RhdGUoKTsgfVxuICAgICAgICBwcm90ZWN0ZWQgdXBkYXRlKCk6IHZvaWQgeyB0aGlzLnVwZGF0ZUNhbWVyYVN5c3RlbVN0YXRlKCk7IH1cbiAgICAgICAgcHJvdGVjdGVkIGRlc3Ryb3koKTogdm9pZCB7IHRoaXMuZGVzdHJveUNhbWVyYVN5c3RlbVN0YXRlKCk7IH1cblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gVW5pdmVyc2FsIENhbWVyYSBTeXN0ZW0gU3RhdGUgRnVuY3Rpb25zIC8vXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIHByb3RlY3RlZCBhd2FrZUNhbWVyYVN5c3RlbVN0YXRlKCk6dm9pZCB7XG4gICAgICAgICAgICB0aGlzLm1haW5DYW1lcmEgPSAodGhpcy5nZXRUcmFuc2Zvcm1UYWcoKSA9PT0gXCJNYWluQ2FtZXJhXCIpO1xuICAgICAgICAgICAgdGhpcy5jYW1lcmFUeXBlID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1haW5DYW1lcmFUeXBlXCIsIHRoaXMuY2FtZXJhVHlwZSk7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYUluZXJ0aWEgPSB0aGlzLmdldFByb3BlcnR5KFwic2V0Q2FtZXJhSW5lcnRpYVwiLCB0aGlzLmNhbWVyYUluZXJ0aWEpO1xuICAgICAgICAgICAgdGhpcy52aXJ0dWFsUmVhbGl0eSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJ2aXJ0dWFsUmVhbGl0eVJpZ1wiLCB0aGlzLnZpcnR1YWxSZWFsaXR5KTtcbiAgICAgICAgICAgIHRoaXMuYXJjUm90YXRlQ29uZmlnID0gdGhpcy5nZXRQcm9wZXJ0eShcImFyY1JvdGF0ZUNvbmZpZ1wiLCB0aGlzLmFyY1JvdGF0ZUNvbmZpZyk7XG4gICAgICAgICAgICB0aGlzLm11bHRpUGxheWVyU2V0dXAgPSB0aGlzLmdldFByb3BlcnR5KFwibXVsdGlQbGF5ZXJTZXR1cFwiLCB0aGlzLm11bHRpUGxheWVyU2V0dXApO1xuICAgICAgICAgICAgdGhpcy5jYW1lcmFDb250cm9sbGVyID0gdGhpcy5nZXRQcm9wZXJ0eShcImNhbWVyYUNvbnRyb2xsZXJcIiwgdGhpcy5jYW1lcmFDb250cm9sbGVyKTtcbiAgICAgICAgICAgIHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcgPSB0aGlzLmdldFByb3BlcnR5KFwicmVuZGVyaW5nUGlwZWxpbmVcIiwgdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZyk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgYXN5bmMgc3RhcnRDYW1lcmFTeXN0ZW1TdGF0ZSgpOlByb21pc2U8dm9pZD4ge1xuICAgICAgICAgICAgQkFCWUxPTi5VdGlsaXRpZXMuVmFsaWRhdGVUcmFuc2Zvcm1RdWF0ZXJuaW9uKHRoaXMudHJhbnNmb3JtKTtcbiAgICAgICAgICAgIGlmICh0aGlzLm11bHRpUGxheWVyU2V0dXAgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIFBST0pFQ1QuVW5pdmVyc2FsQ2FtZXJhU3lzdGVtLnN0YXJ0dXBNb2RlID0gdGhpcy5tdWx0aVBsYXllclNldHVwLnBsYXllclN0YXJ0dXBNb2RlO1xuICAgICAgICAgICAgICAgIFBST0pFQ1QuVW5pdmVyc2FsQ2FtZXJhU3lzdGVtLnN0ZXJlb0NhbWVyYXMgPSB0aGlzLm11bHRpUGxheWVyU2V0dXAuc3RlcmVvU2lkZUJ5U2lkZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBEZWZhdWx0IENhbWVyYSBTeXN0ZW0gU3VwcG9ydFxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIHRoaXMubV9jYW1lcmFSaWcgPSB0aGlzLmdldENhbWVyYVJpZygpO1xuICAgICAgICAgICAgaWYgKHRoaXMubV9jYW1lcmFSaWcgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMubV9jYW1lcmFSaWcuaW5lcnRpYSA9IHRoaXMuY2FtZXJhSW5lcnRpYTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jYW1lcmFDb250cm9sbGVyLmF0dGFjaENvbnRyb2wgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2NhbWVyYVJpZy5wYXJlbnQgPSBudWxsOyAvLyBEZXRhY2ggQ2FtZXJhIFBhcmVudCBXaGVuIEF0dGFjaGluZyBDb250cm9sXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9jYW1lcmFSaWcucG9zaXRpb24uY29weUZyb20odGhpcy50cmFuc2Zvcm0ucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fY2FtZXJhUmlnLnJvdGF0aW9uUXVhdGVybmlvbiA9ICh0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24gIT0gbnVsbCkgPyB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24uY2xvbmUoKSA6IEJBQllMT04uUXVhdGVybmlvbi5Gcm9tRXVsZXJBbmdsZXModGhpcy50cmFuc2Zvcm0ucm90YXRpb24ueCwgdGhpcy50cmFuc2Zvcm0ucm90YXRpb24ueSwgdGhpcy50cmFuc2Zvcm0ucm90YXRpb24ueik7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1fY2FtZXJhUmlnIGluc3RhbmNlb2YgQkFCWUxPTi5GcmVlQ2FtZXJhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fY2FtZXJhUmlnLmNoZWNrQ29sbGlzaW9ucyA9IHRoaXMuY2FtZXJhQ29udHJvbGxlci5jaGVja0NvbGxpc2lvbnM7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fY2FtZXJhUmlnLmFwcGx5R3Jhdml0eSA9IHRoaXMuY2FtZXJhQ29udHJvbGxlci5zZXRBcHBseUdyYXZpdHk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2NhbWVyYVJpZy5hdHRhY2hDb250cm9sKHRoaXMuY2FtZXJhQ29udHJvbGxlci5wcmV2ZW50RGVmYXVsdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhbWVyYVR5cGUgPT09IDApIHsgLy8gVW5pdmVyc2FsIFRhcmdldCBDYW1lcmFcbiAgICAgICAgICAgICAgICAgICAgLy9pZiAoUFJPSkVDVC5Vbml2ZXJzYWxDYW1lcmFTeXN0ZW0uUGxheWVyT25lQ2FtZXJhID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuVW5pdmVyc2FsQ2FtZXJhU3lzdGVtLlBsYXllck9uZUNhbWVyYSA9ICh0aGlzLm1fY2FtZXJhUmlnIGFzIEJBQllMT04uVW5pdmVyc2FsQ2FtZXJhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuVW5pdmVyc2FsQ2FtZXJhU3lzdGVtLlBsYXllck9uZUNhbWVyYS5pbmVydGlhID0gdGhpcy5jYW1lcmFJbmVydGlhO1xuICAgICAgICAgICAgICAgICAgICAgICAgKDxhbnk+UFJPSkVDVC5Vbml2ZXJzYWxDYW1lcmFTeXN0ZW0uUGxheWVyT25lQ2FtZXJhKS50cmFuc2Zvcm0gPSB0aGlzLnRyYW5zZm9ybTtcbiAgICAgICAgICAgICAgICAgICAgLy99ICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5jYW1lcmFUeXBlID09PSAxKSB7IC8vIFZpcnR1YWwgUmVhbGl0eSBDYW1lcmFcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudmlydHVhbFJlYWxpdHkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHdlYnZyRmxvb3JNZXNoZXM6QkFCWUxPTi5NZXNoW10gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHdlYnZySGVscGVyT3B0aW9uczpCQUJZTE9OLldlYlhSRGVmYXVsdEV4cGVyaWVuY2VPcHRpb25zID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB3ZWJ2ckltbWVyc2l2ZU1vZGU6WFJTZXNzaW9uTW9kZSA9ICh0aGlzLnZpcnR1YWxSZWFsaXR5LmltbWVyc2l2ZUV4cGVyaWVuY2UgPT09IDEpID8gXCJpbW1lcnNpdmUtYXJcIiA6IFwiaW1tZXJzaXZlLXZyXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgd2VidnJSZWZlcmVuY2VUeXBlOlhSUmVmZXJlbmNlU3BhY2VUeXBlID0gXCJsb2NhbC1mbG9vclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0aGlzLnZpcnR1YWxSZWFsaXR5LnJlZmVyZW5jZVNwYWNlVHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2VidnJSZWZlcmVuY2VUeXBlID0gXCJ2aWV3ZXJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ZWJ2clJlZmVyZW5jZVR5cGUgPSBcImxvY2FsXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2VidnJSZWZlcmVuY2VUeXBlID0gXCJsb2NhbC1mbG9vclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdlYnZyUmVmZXJlbmNlVHlwZSA9IFwiYm91bmRlZC1mbG9vclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdlYnZyUmVmZXJlbmNlVHlwZSA9IFwidW5ib3VuZGVkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdlYnZyUmVmZXJlbmNlVHlwZSA9IFwibG9jYWwtZmxvb3JcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy52aXJ0dWFsUmVhbGl0eS5zZXRGbG9vck1lc2hlc1RhZ3MgPT0gbnVsbCB8fCB0aGlzLnZpcnR1YWxSZWFsaXR5LnNldEZsb29yTWVzaGVzVGFncyA9PT0gXCJcIikgdGhpcy52aXJ0dWFsUmVhbGl0eS5zZXRGbG9vck1lc2hlc1RhZ3MgPSBcIk5hdmlnYXRpb25cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnZpcnR1YWxSZWFsaXR5LmVuYWJsZVRlbGVwb3J0YXRpb24gPT09IHRydWUpIHdlYnZyRmxvb3JNZXNoZXMgPSB0aGlzLnNjZW5lLmdldE1lc2hlc0J5VGFncyh0aGlzLnZpcnR1YWxSZWFsaXR5LnNldEZsb29yTWVzaGVzVGFncyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy52aXJ0dWFsUmVhbGl0eS5lbmFibGVUZWxlcG9ydGF0aW9uID09PSB0cnVlICYmIHdlYnZyRmxvb3JNZXNoZXMgIT0gbnVsbCAmJiB3ZWJ2ckZsb29yTWVzaGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ZWJ2ckhlbHBlck9wdGlvbnMgPSB7IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbG9vck1lc2hlczogd2VidnJGbG9vck1lc2hlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyaW5nR3JvdXBJZDogdGhpcy52aXJ0dWFsUmVhbGl0eS5yZW5kZXJpbmdHcm91cE51bSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZURlZmF1bHRVSTogdGhpcy52aXJ0dWFsUmVhbGl0eS5kaXNhYmxlVXNlckludGVyZmFjZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZVRlbGVwb3J0YXRpb246ICh0aGlzLnZpcnR1YWxSZWFsaXR5LmVuYWJsZVRlbGVwb3J0YXRpb24gPT09IGZhbHNlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWdub3JlTmF0aXZlQ2FtZXJhVHJhbnNmb3JtYXRpb246IHRoaXMudmlydHVhbFJlYWxpdHkuaWdub3JlTmF0aXZlQ2FtZXJhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dE9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvTm90TG9hZENvbnRyb2xsZXJNZXNoZXM6IHRoaXMudmlydHVhbFJlYWxpdHkuZXhwZXJpZW5jZUlucHV0T3B0aW9ucy5kaXNhYmxlTWVzaExvYWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JjZUlucHV0UHJvZmlsZTogdGhpcy52aXJ0dWFsUmVhbGl0eS5leHBlcmllbmNlSW5wdXRPcHRpb25zLmZvcmNlSW5wdXRQcm9maWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZU9ubGluZUNvbnRyb2xsZXJSZXBvc2l0b3J5OiB0aGlzLnZpcnR1YWxSZWFsaXR5LmV4cGVyaWVuY2VJbnB1dE9wdGlvbnMuZGlzYWJsZVJlcG9zaXRvcnksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21Db250cm9sbGVyc1JlcG9zaXRvcnlVUkw6IHRoaXMudmlydHVhbFJlYWxpdHkuZXhwZXJpZW5jZUlucHV0T3B0aW9ucy5jdXN0b21SZXBvc2l0b3J5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZUNvbnRyb2xsZXJBbmltYXRpb246IHRoaXMudmlydHVhbFJlYWxpdHkuZXhwZXJpZW5jZUlucHV0T3B0aW9ucy5kaXNhYmxlTW9kZWxBbmltLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlck9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlTW90aW9uQ29udHJvbGxlckFuaW1hdGlvbjogdGhpcy52aXJ0dWFsUmVhbGl0eS5leHBlcmllbmNlSW5wdXRPcHRpb25zLmNvbnRyb2xsZXJPcHRpb25zLmRpc2FibGVDdHJsQW5pbSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb05vdExvYWRDb250cm9sbGVyTWVzaDogdGhpcy52aXJ0dWFsUmVhbGl0eS5leHBlcmllbmNlSW5wdXRPcHRpb25zLmNvbnRyb2xsZXJPcHRpb25zLmRpc2FibGVDdHJsTWVzaCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JjZUNvbnRyb2xsZXJQcm9maWxlOiB0aGlzLnZpcnR1YWxSZWFsaXR5LmV4cGVyaWVuY2VJbnB1dE9wdGlvbnMuY29udHJvbGxlck9wdGlvbnMuZm9yY2VDdHJsUHJvZmlsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJpbmdHcm91cElkOiB0aGlzLnZpcnR1YWxSZWFsaXR5LmV4cGVyaWVuY2VJbnB1dE9wdGlvbnMuY29udHJvbGxlck9wdGlvbnMucmVuZGVyaW5nR3JvdXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWlPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uTW9kZTogd2VidnJJbW1lcnNpdmVNb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmZXJlbmNlU3BhY2VUeXBlOiB3ZWJ2clJlZmVyZW5jZVR5cGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ZWJ2ckhlbHBlck9wdGlvbnMgPSB7IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJpbmdHcm91cElkOiB0aGlzLnZpcnR1YWxSZWFsaXR5LnJlbmRlcmluZ0dyb3VwTnVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlRGVmYXVsdFVJOiB0aGlzLnZpcnR1YWxSZWFsaXR5LmRpc2FibGVVc2VySW50ZXJmYWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlVGVsZXBvcnRhdGlvbjogKHRoaXMudmlydHVhbFJlYWxpdHkuZW5hYmxlVGVsZXBvcnRhdGlvbiA9PT0gZmFsc2UpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZ25vcmVOYXRpdmVDYW1lcmFUcmFuc2Zvcm1hdGlvbjogdGhpcy52aXJ0dWFsUmVhbGl0eS5pZ25vcmVOYXRpdmVDYW1lcmEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0T3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9Ob3RMb2FkQ29udHJvbGxlck1lc2hlczogdGhpcy52aXJ0dWFsUmVhbGl0eS5leHBlcmllbmNlSW5wdXRPcHRpb25zLmRpc2FibGVNZXNoTG9hZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcmNlSW5wdXRQcm9maWxlOiB0aGlzLnZpcnR1YWxSZWFsaXR5LmV4cGVyaWVuY2VJbnB1dE9wdGlvbnMuZm9yY2VJbnB1dFByb2ZpbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlT25saW5lQ29udHJvbGxlclJlcG9zaXRvcnk6IHRoaXMudmlydHVhbFJlYWxpdHkuZXhwZXJpZW5jZUlucHV0T3B0aW9ucy5kaXNhYmxlUmVwb3NpdG9yeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbUNvbnRyb2xsZXJzUmVwb3NpdG9yeVVSTDogdGhpcy52aXJ0dWFsUmVhbGl0eS5leHBlcmllbmNlSW5wdXRPcHRpb25zLmN1c3RvbVJlcG9zaXRvcnksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlQ29udHJvbGxlckFuaW1hdGlvbjogdGhpcy52aXJ0dWFsUmVhbGl0eS5leHBlcmllbmNlSW5wdXRPcHRpb25zLmRpc2FibGVNb2RlbEFuaW0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyT3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVNb3Rpb25Db250cm9sbGVyQW5pbWF0aW9uOiB0aGlzLnZpcnR1YWxSZWFsaXR5LmV4cGVyaWVuY2VJbnB1dE9wdGlvbnMuY29udHJvbGxlck9wdGlvbnMuZGlzYWJsZUN0cmxBbmltLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvTm90TG9hZENvbnRyb2xsZXJNZXNoOiB0aGlzLnZpcnR1YWxSZWFsaXR5LmV4cGVyaWVuY2VJbnB1dE9wdGlvbnMuY29udHJvbGxlck9wdGlvbnMuZGlzYWJsZUN0cmxNZXNoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcmNlQ29udHJvbGxlclByb2ZpbGU6IHRoaXMudmlydHVhbFJlYWxpdHkuZXhwZXJpZW5jZUlucHV0T3B0aW9ucy5jb250cm9sbGVyT3B0aW9ucy5mb3JjZUN0cmxQcm9maWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcmluZ0dyb3VwSWQ6IHRoaXMudmlydHVhbFJlYWxpdHkuZXhwZXJpZW5jZUlucHV0T3B0aW9ucy5jb250cm9sbGVyT3B0aW9ucy5yZW5kZXJpbmdHcm91cFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aU9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25Nb2RlOiB3ZWJ2ckltbWVyc2l2ZU1vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZlcmVuY2VTcGFjZVR5cGU6IHdlYnZyUmVmZXJlbmNlVHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5YUkV4cGVyaWVuY2VIZWxwZXIgPSBhd2FpdCB0aGlzLnNjZW5lLmNyZWF0ZURlZmF1bHRYUkV4cGVyaWVuY2VBc3luYyh3ZWJ2ckhlbHBlck9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFQUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5YUkV4cGVyaWVuY2VIZWxwZXIuYmFzZUV4cGVyaWVuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xzLldhcm4oXCJXZWJYUiBub3Qgc3VwcG9ydGVkIGluIGN1cnJlbnQgYnJvd3Nlci5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY2FtZXJhVHlwZSA9PT0gMikgeyAvLyBNdWx0aSBQbGF5ZXIgQ2FtZXJhXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbWVyYU5hbWUgPSB0aGlzLm1fY2FtZXJhUmlnLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIC8vaWYgKFBST0pFQ1QuVW5pdmVyc2FsQ2FtZXJhU3lzdGVtLlBsYXllck9uZUNhbWVyYSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJPbmVUcmFuc2Zvcm06QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbmV3IEJBQllMT04uVHJhbnNmb3JtTm9kZShcIlBsYXllciBDYW1lcmEgMVwiLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllck9uZVRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24gPSB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24uY2xvbmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllck9uZVRyYW5zZm9ybS5wb3NpdGlvbiA9IHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLmNsb25lKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJPbmVUcmFuc2Zvcm0ucGFyZW50ID0gdGhpcy50cmFuc2Zvcm0ucGFyZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllck9uZU5hbWU6c3RyaW5nID0gY2FtZXJhTmFtZSArIFwiLjFcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllck9uZUNhbWVyYXg6QkFCWUxPTi5Vbml2ZXJzYWxDYW1lcmEgPSB0aGlzLm1fY2FtZXJhUmlnLmNsb25lKHBsYXllck9uZU5hbWUpIGFzIEJBQllMT04uVW5pdmVyc2FsQ2FtZXJhO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyT25lQ2FtZXJheC5uYW1lID0gcGxheWVyT25lTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllck9uZUNhbWVyYXgucGFyZW50ID0gcGxheWVyT25lVHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyT25lQ2FtZXJheC5wb3NpdGlvbiA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyT25lQ2FtZXJheC5yb3RhdGlvblF1YXRlcm5pb24gPSBuZXcgQkFCWUxPTi5RdWF0ZXJuaW9uKDAsMCwwLDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyT25lQ2FtZXJheC52aWV3cG9ydCA9IG5ldyBCQUJZTE9OLlZpZXdwb3J0KDAsIDAsIDAsIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyT25lQ2FtZXJheC5zZXRFbmFibGVkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuVW5pdmVyc2FsQ2FtZXJhU3lzdGVtLlBsYXllck9uZUNhbWVyYSA9IHBsYXllck9uZUNhbWVyYXg7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5QbGF5ZXJPbmVDYW1lcmEuaW5lcnRpYSA9IHRoaXMuY2FtZXJhSW5lcnRpYTtcbiAgICAgICAgICAgICAgICAgICAgICAgICg8YW55PlBST0pFQ1QuVW5pdmVyc2FsQ2FtZXJhU3lzdGVtLlBsYXllck9uZUNhbWVyYSkudHJhbnNmb3JtID0gcGxheWVyT25lVHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgICAgICAgICAgKDxhbnk+cGxheWVyT25lVHJhbnNmb3JtKS5jYW1lcmFSaWcgPSBQUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5QbGF5ZXJPbmVDYW1lcmE7XG4gICAgICAgICAgICAgICAgICAgIC8vfSAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLy9pZiAoUFJPSkVDVC5Vbml2ZXJzYWxDYW1lcmFTeXN0ZW0uUGxheWVyVHdvQ2FtZXJhID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllclR3b1RyYW5zZm9ybTpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBuZXcgQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlKFwiUGxheWVyIENhbWVyYSAyXCIsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyVHdvVHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbiA9IHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbi5jbG9uZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyVHdvVHJhbnNmb3JtLnBvc2l0aW9uID0gdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24uY2xvbmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllclR3b1RyYW5zZm9ybS5wYXJlbnQgPSB0aGlzLnRyYW5zZm9ybS5wYXJlbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGxheWVyVHdvTmFtZTpzdHJpbmcgPSBjYW1lcmFOYW1lICsgXCIuMlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGxheWVyVHdvQ2FtZXJheDpCQUJZTE9OLlVuaXZlcnNhbENhbWVyYSA9IHRoaXMubV9jYW1lcmFSaWcuY2xvbmUocGxheWVyVHdvTmFtZSkgYXMgQkFCWUxPTi5Vbml2ZXJzYWxDYW1lcmE7XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJUd29DYW1lcmF4Lm5hbWUgPSBwbGF5ZXJUd29OYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyVHdvQ2FtZXJheC5wYXJlbnQgPSBwbGF5ZXJUd29UcmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJUd29DYW1lcmF4LnBvc2l0aW9uID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJUd29DYW1lcmF4LnJvdGF0aW9uUXVhdGVybmlvbiA9IG5ldyBCQUJZTE9OLlF1YXRlcm5pb24oMCwwLDAsMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJUd29DYW1lcmF4LnZpZXdwb3J0ID0gbmV3IEJBQllMT04uVmlld3BvcnQoMCwgMCwgMCwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJUd29DYW1lcmF4LnNldEVuYWJsZWQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5Vbml2ZXJzYWxDYW1lcmFTeXN0ZW0uUGxheWVyVHdvQ2FtZXJhID0gcGxheWVyVHdvQ2FtZXJheDtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuVW5pdmVyc2FsQ2FtZXJhU3lzdGVtLlBsYXllclR3b0NhbWVyYS5pbmVydGlhID0gdGhpcy5jYW1lcmFJbmVydGlhO1xuICAgICAgICAgICAgICAgICAgICAgICAgKDxhbnk+UFJPSkVDVC5Vbml2ZXJzYWxDYW1lcmFTeXN0ZW0uUGxheWVyVHdvQ2FtZXJhKS50cmFuc2Zvcm0gPSBwbGF5ZXJUd29UcmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgICAgICAgICAoPGFueT5wbGF5ZXJUd29UcmFuc2Zvcm0pLmNhbWVyYVJpZyA9IFBST0pFQ1QuVW5pdmVyc2FsQ2FtZXJhU3lzdGVtLlBsYXllclR3b0NhbWVyYTtcbiAgICAgICAgICAgICAgICAgICAgLy99XG4gICAgICAgICAgICAgICAgICAgIC8vaWYgKFBST0pFQ1QuVW5pdmVyc2FsQ2FtZXJhU3lzdGVtLlBsYXllclRocmVlQ2FtZXJhID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllclRocmVlVHJhbnNmb3JtOkJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG5ldyBCQUJZTE9OLlRyYW5zZm9ybU5vZGUoXCJQbGF5ZXIgQ2FtZXJhIDNcIiwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJUaHJlZVRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24gPSB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24uY2xvbmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllclRocmVlVHJhbnNmb3JtLnBvc2l0aW9uID0gdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24uY2xvbmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllclRocmVlVHJhbnNmb3JtLnBhcmVudCA9IHRoaXMudHJhbnNmb3JtLnBhcmVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJUaHJlZU5hbWU6c3RyaW5nID0gY2FtZXJhTmFtZSArIFwiLjNcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllclRocmVlQ2FtZXJheDpCQUJZTE9OLlVuaXZlcnNhbENhbWVyYSA9IHRoaXMubV9jYW1lcmFSaWcuY2xvbmUocGxheWVyVGhyZWVOYW1lKSBhcyBCQUJZTE9OLlVuaXZlcnNhbENhbWVyYTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllclRocmVlQ2FtZXJheC5uYW1lID0gcGxheWVyVGhyZWVOYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyVGhyZWVDYW1lcmF4LnBhcmVudCA9IHBsYXllclRocmVlVHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyVGhyZWVDYW1lcmF4LnBvc2l0aW9uID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJUaHJlZUNhbWVyYXgucm90YXRpb25RdWF0ZXJuaW9uID0gbmV3IEJBQllMT04uUXVhdGVybmlvbigwLDAsMCwxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllclRocmVlQ2FtZXJheC52aWV3cG9ydCA9IG5ldyBCQUJZTE9OLlZpZXdwb3J0KDAsIDAsIDAsIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyVGhyZWVDYW1lcmF4LnNldEVuYWJsZWQoZmFsc2UpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuVW5pdmVyc2FsQ2FtZXJhU3lzdGVtLlBsYXllclRocmVlQ2FtZXJhID0gcGxheWVyVGhyZWVDYW1lcmF4O1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5Vbml2ZXJzYWxDYW1lcmFTeXN0ZW0uUGxheWVyVGhyZWVDYW1lcmEuaW5lcnRpYSA9IHRoaXMuY2FtZXJhSW5lcnRpYTtcbiAgICAgICAgICAgICAgICAgICAgICAgICg8YW55PlBST0pFQ1QuVW5pdmVyc2FsQ2FtZXJhU3lzdGVtLlBsYXllclRocmVlQ2FtZXJhKS50cmFuc2Zvcm0gPSBwbGF5ZXJUaHJlZVRyYW5zZm9ybTtcbiAgICAgICAgICAgICAgICAgICAgICAgICg8YW55PnBsYXllclRocmVlVHJhbnNmb3JtKS5jYW1lcmFSaWcgPSBQUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5QbGF5ZXJUaHJlZUNhbWVyYTtcbiAgICAgICAgICAgICAgICAgICAgLy99XG4gICAgICAgICAgICAgICAgICAgIC8vaWYgKFBST0pFQ1QuVW5pdmVyc2FsQ2FtZXJhU3lzdGVtLlBsYXllckZvdXJDYW1lcmEgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGxheWVyRm91clRyYW5zZm9ybTpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBuZXcgQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlKFwiUGxheWVyIENhbWVyYSA0XCIsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyRm91clRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24gPSB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24uY2xvbmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllckZvdXJUcmFuc2Zvcm0ucG9zaXRpb24gPSB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi5jbG9uZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyRm91clRyYW5zZm9ybS5wYXJlbnQgPSB0aGlzLnRyYW5zZm9ybS5wYXJlbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGxheWVyRm91ck5hbWU6c3RyaW5nID0gY2FtZXJhTmFtZSArIFwiLjRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllckZvdXJDYW1lcmF4OkJBQllMT04uVW5pdmVyc2FsQ2FtZXJhID0gdGhpcy5tX2NhbWVyYVJpZy5jbG9uZShwbGF5ZXJGb3VyTmFtZSkgYXMgQkFCWUxPTi5Vbml2ZXJzYWxDYW1lcmE7XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJGb3VyQ2FtZXJheC5uYW1lID0gcGxheWVyRm91ck5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJGb3VyQ2FtZXJheC5wYXJlbnQgPSBwbGF5ZXJGb3VyVHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyRm91ckNhbWVyYXgucG9zaXRpb24gPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllckZvdXJDYW1lcmF4LnJvdGF0aW9uUXVhdGVybmlvbiA9IG5ldyBCQUJZTE9OLlF1YXRlcm5pb24oMCwwLDAsMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJGb3VyQ2FtZXJheC52aWV3cG9ydCA9IG5ldyBCQUJZTE9OLlZpZXdwb3J0KDAsIDAsIDAsIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyRm91ckNhbWVyYXguc2V0RW5hYmxlZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5QbGF5ZXJGb3VyQ2FtZXJhID0gcGxheWVyRm91ckNhbWVyYXg7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5QbGF5ZXJGb3VyQ2FtZXJhLmluZXJ0aWEgPSB0aGlzLmNhbWVyYUluZXJ0aWE7XG4gICAgICAgICAgICAgICAgICAgICAgICAoPGFueT5QUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5QbGF5ZXJGb3VyQ2FtZXJhKS50cmFuc2Zvcm0gPSBwbGF5ZXJGb3VyVHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgICAgICAgICAgKDxhbnk+cGxheWVyRm91clRyYW5zZm9ybSkuY2FtZXJhUmlnID0gUFJPSkVDVC5Vbml2ZXJzYWxDYW1lcmFTeXN0ZW0uUGxheWVyRm91ckNhbWVyYTtcbiAgICAgICAgICAgICAgICAgICAgLy99XG4gICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuVW5pdmVyc2FsQ2FtZXJhU3lzdGVtLm11bHRpUGxheWVyVmlldyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuVW5pdmVyc2FsQ2FtZXJhU3lzdGVtLlNldE11bHRpUGxheWVyVmlld0xheW91dCh0aGlzLnNjZW5lLCBQUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5zdGFydHVwTW9kZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNhbWVyYVR5cGUgPT09IDMpIHsgLy8gQXJjIFJvdGF0ZSBDYW1lcmFcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0VmVjdG9yOkJBQllMT04uVmVjdG9yMyA9IEJBQllMT04uVXRpbGl0aWVzLlBhcnNlVmVjdG9yMyh0aGlzLmFyY1JvdGF0ZUNvbmZpZy50YXJnZXQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fY2FtZXJhUmlnID0gbmV3IEJBQllMT04uQXJjUm90YXRlQ2FtZXJhKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5BcmNSb3RhdGVcIiwgdGhpcy5hcmNSb3RhdGVDb25maWcuYWxwaGEsIHRoaXMuYXJjUm90YXRlQ29uZmlnLmJldGEsIHRoaXMuYXJjUm90YXRlQ29uZmlnLnJhZGl1cywgdGFyZ2V0VmVjdG9yLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgKDxCQUJZTE9OLkFyY1JvdGF0ZUNhbWVyYT50aGlzLm1fY2FtZXJhUmlnKS53aGVlbFByZWNpc2lvbiA9IHRoaXMuYXJjUm90YXRlQ29uZmlnLndoZWVsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN3aXRjaEFjdGl2ZUNhbWVyYSh0aGlzLm1fY2FtZXJhUmlnLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL2lmIChQUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5yZW5kZXJpbmdQaXBlbGluZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcgIT0gbnVsbCAmJiB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLnVzZVBvc3RQcm9jZXNzaW5nID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuVW5pdmVyc2FsQ2FtZXJhU3lzdGVtLnJlbmRlcmluZ1BpcGVsaW5lID0gbmV3IEJBQllMT04uRGVmYXVsdFJlbmRlcmluZ1BpcGVsaW5lKFwiVW5pdmVyc2FsQ2FtZXJhU3lzdGVtXCIsIHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuaGlnaER5bmFtaWNSYW5nZSwgdGhpcy5zY2VuZSwgdGhpcy5zY2VuZS5jYW1lcmFzLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFBST0pFQ1QuVW5pdmVyc2FsQ2FtZXJhU3lzdGVtLnJlbmRlcmluZ1BpcGVsaW5lLmlzU3VwcG9ydGVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWZhdWx0UGlwZWxpbmU6QkFCWUxPTi5EZWZhdWx0UmVuZGVyaW5nUGlwZWxpbmUgPSBQUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5yZW5kZXJpbmdQaXBlbGluZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5zYW1wbGVzID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5zY3JlZW5BbnRpQWxpYXNpbmcubXVsdGlBbnRpQWxpYXNpbmc7IC8vIDEgYnkgZGVmYXVsdCAoTVNBQSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIEltYWdlIFByb2Nlc3NpbmcgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5pbWFnZVByb2Nlc3NpbmdFbmFibGVkID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5pbWFnZVByb2Nlc3NpbmdDb25maWcuaW1hZ2VQcm9jZXNzaW5nOyAvL3RydWUgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlZmF1bHRQaXBlbGluZS5pbWFnZVByb2Nlc3NpbmdFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmltYWdlUHJvY2Vzc2luZy5jb250cmFzdCA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuaW1hZ2VQcm9jZXNzaW5nQ29uZmlnLmltYWdlQ29udHJhc3Q7IC8vIDEgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5pbWFnZVByb2Nlc3NpbmcuZXhwb3N1cmUgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmltYWdlUHJvY2Vzc2luZ0NvbmZpZy5pbWFnZUV4cG9zdXJlOyAvLyAxIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBDb2xvciBHcmFkaW5nICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmltYWdlUHJvY2Vzc2luZy5jb2xvckdyYWRpbmdFbmFibGVkID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5pbWFnZVByb2Nlc3NpbmdDb25maWcudXNlQ29sb3JHcmFkaW5nOyAvLyBmYWxzZSBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlZmF1bHRQaXBlbGluZS5pbWFnZVByb2Nlc3NpbmcuY29sb3JHcmFkaW5nRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBLRUVQIEZPUiBSRUZFUkVOQ0VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogdXNpbmcgLjNkbCAoYmVzdCkgOiBkZWZhdWx0UGlwZWxpbmUuaW1hZ2VQcm9jZXNzaW5nLmNvbG9yR3JhZGluZ1RleHR1cmUgPSBuZXcgQkFCWUxPTi5Db2xvckdyYWRpbmdUZXh0dXJlKFwidGV4dHVyZXMvTGF0ZVN1bnNldC4zZGxcIiwgdGhpcy5zY2VuZSk7ICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIHVzaW5nIC5wbmcgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29sb3JHcmFkaW5nVGV4dHVyZSA9IG5ldyBCQUJZTE9OLlRleHR1cmUoXCJ0ZXh0dXJlcy9jb2xvckdyYWRlLWhpZ2hDb250cmFzdC5wbmdcIiwgdGhpcy5zY2VuZSwgdHJ1ZSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvckdyYWRpbmdUZXh0dXJlLndyYXBVID0gQkFCWUxPTi5UZXh0dXJlLkNMQU1QX0FERFJFU1NNT0RFO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvckdyYWRpbmdUZXh0dXJlLndyYXBWID0gQkFCWUxPTi5UZXh0dXJlLkNMQU1QX0FERFJFU1NNT0RFOyAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmltYWdlUHJvY2Vzc2luZy5jb2xvckdyYWRpbmdUZXh0dXJlID0gY29sb3JHcmFkaW5nVGV4dHVyZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmltYWdlUHJvY2Vzc2luZy5jb2xvckdyYWRpbmdXaXRoR3JlZW5EZXB0aCA9IGZhbHNlOyAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5pbWFnZVByb2Nlc3NpbmdDb25maWcuc2V0R3JhZGluZ1RleHR1cmUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29sb3JHcmFkaW5nVGV4dHVyZTpCQUJZTE9OLlRleHR1cmUgPSBCQUJZTE9OLlV0aWxpdGllcy5QYXJzZVRleHR1cmUodGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5pbWFnZVByb2Nlc3NpbmdDb25maWcuc2V0R3JhZGluZ1RleHR1cmUsIHRoaXMuc2NlbmUsIHRydWUsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yR3JhZGluZ1RleHR1cmUud3JhcFUgPSBCQUJZTE9OLlRleHR1cmUuQ0xBTVBfQUREUkVTU01PREU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvckdyYWRpbmdUZXh0dXJlLndyYXBWID0gQkFCWUxPTi5UZXh0dXJlLkNMQU1QX0FERFJFU1NNT0RFOyAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5pbWFnZVByb2Nlc3NpbmcuY29sb3JHcmFkaW5nVGV4dHVyZSA9IGNvbG9yR3JhZGluZ1RleHR1cmU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoPGFueT5kZWZhdWx0UGlwZWxpbmUuaW1hZ2VQcm9jZXNzaW5nKS5jb2xvckdyYWRpbmdXaXRoR3JlZW5EZXB0aCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIENvbG9yIEN1cnZlcyAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5pbWFnZVByb2Nlc3NpbmcuY29sb3JDdXJ2ZXNFbmFibGVkID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5pbWFnZVByb2Nlc3NpbmdDb25maWcuaW1hZ2luZ0NvbG9yQ3VydmVzLmN1cnZlc0VuYWJsZWQ7IC8vIGZhbHNlIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVmYXVsdFBpcGVsaW5lLmltYWdlUHJvY2Vzc2luZy5jb2xvckN1cnZlc0VuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnZlID0gbmV3IEJBQllMT04uQ29sb3JDdXJ2ZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VydmUuZ2xvYmFsRGVuc2l0eSA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuaW1hZ2VQcm9jZXNzaW5nQ29uZmlnLmltYWdpbmdDb2xvckN1cnZlcy5nbG9iYWxEZW47IC8vIDAgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJ2ZS5nbG9iYWxFeHBvc3VyZSA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuaW1hZ2VQcm9jZXNzaW5nQ29uZmlnLmltYWdpbmdDb2xvckN1cnZlcy5nbG9iYWxFeHA7IC8vIDAgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJ2ZS5nbG9iYWxIdWUgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmltYWdlUHJvY2Vzc2luZ0NvbmZpZy5pbWFnaW5nQ29sb3JDdXJ2ZXMuZ2xvYmFsSHVlOyAvLyAzMCBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnZlLmdsb2JhbFNhdHVyYXRpb24gPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmltYWdlUHJvY2Vzc2luZ0NvbmZpZy5pbWFnaW5nQ29sb3JDdXJ2ZXMuZ2xvYmFsU2F0OyAvLyAwIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VydmUuaGlnaGxpZ2h0c0RlbnNpdHkgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmltYWdlUHJvY2Vzc2luZ0NvbmZpZy5pbWFnaW5nQ29sb3JDdXJ2ZXMuaGlnaGxpZ2h0c0RlbjsgLy8gMCBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnZlLmhpZ2hsaWdodHNFeHBvc3VyZSA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuaW1hZ2VQcm9jZXNzaW5nQ29uZmlnLmltYWdpbmdDb2xvckN1cnZlcy5oaWdobGlnaHRzRXhwOyAvLyAwIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VydmUuaGlnaGxpZ2h0c0h1ZSA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuaW1hZ2VQcm9jZXNzaW5nQ29uZmlnLmltYWdpbmdDb2xvckN1cnZlcy5oaWdobGlnaHRzSHVlOyAvLyAzMCBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnZlLmhpZ2hsaWdodHNTYXR1cmF0aW9uID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5pbWFnZVByb2Nlc3NpbmdDb25maWcuaW1hZ2luZ0NvbG9yQ3VydmVzLmhpZ2hsaWdodHNTYXQ7IC8vIDAgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJ2ZS5taWR0b25lc0RlbnNpdHkgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmltYWdlUHJvY2Vzc2luZ0NvbmZpZy5pbWFnaW5nQ29sb3JDdXJ2ZXMubWlkdG9uZXNEZW47IC8vIDAgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJ2ZS5taWR0b25lc0V4cG9zdXJlID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5pbWFnZVByb2Nlc3NpbmdDb25maWcuaW1hZ2luZ0NvbG9yQ3VydmVzLm1pZHRvbmVzRXhwOyAvLyAwIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VydmUubWlkdG9uZXNIdWUgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmltYWdlUHJvY2Vzc2luZ0NvbmZpZy5pbWFnaW5nQ29sb3JDdXJ2ZXMubWlkdG9uZXNIdWU7IC8vIDMwIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VydmUubWlkdG9uZXNTYXR1cmF0aW9uID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5pbWFnZVByb2Nlc3NpbmdDb25maWcuaW1hZ2luZ0NvbG9yQ3VydmVzLm1pZHRvbmVzU2F0OyAvLyAwIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VydmUuc2hhZG93c0RlbnNpdHkgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmltYWdlUHJvY2Vzc2luZ0NvbmZpZy5pbWFnaW5nQ29sb3JDdXJ2ZXMuc2hhZG93c0RlbjsgLy8gMCBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnZlLnNoYWRvd3NFeHBvc3VyZSA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuaW1hZ2VQcm9jZXNzaW5nQ29uZmlnLmltYWdpbmdDb2xvckN1cnZlcy5zaGFkb3dzRXhwOyAvLyA4MDAgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJ2ZS5zaGFkb3dzSHVlID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5pbWFnZVByb2Nlc3NpbmdDb25maWcuaW1hZ2luZ0NvbG9yQ3VydmVzLnNoYWRvd3NIdWU7IC8vIDMwIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VydmUuc2hhZG93c1NhdHVyYXRpb24gPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmltYWdlUHJvY2Vzc2luZ0NvbmZpZy5pbWFnaW5nQ29sb3JDdXJ2ZXMuc2hhZG93c1NhdDsgLy8gMCBieSBkZWZhdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuaW1hZ2VQcm9jZXNzaW5nLmNvbG9yQ3VydmVzID0gY3VydmU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLyogQmxvb20gKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5ibG9vbUVuYWJsZWQgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmJsb29tRWZmZWN0UHJvcGVydGllcy5ibG9vbUVuYWJsZWQ7IC8vIGZhbHNlIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZWZhdWx0UGlwZWxpbmUuYmxvb21FbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmJsb29tS2VybmVsID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5ibG9vbUVmZmVjdFByb3BlcnRpZXMuYmxvb21LZXJuZWw7IC8vIDY0IGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuYmxvb21TY2FsZSA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuYmxvb21FZmZlY3RQcm9wZXJ0aWVzLmJsb29tU2NhbGU7IC8vIDAuNSBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmJsb29tV2VpZ2h0ID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5ibG9vbUVmZmVjdFByb3BlcnRpZXMuYmxvb21XZWlnaHQ7IC8vIDAuMTUgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5ibG9vbVRocmVzaG9sZCA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuYmxvb21FZmZlY3RQcm9wZXJ0aWVzLmJsb29tVGhyZXNob2xkOyAvLyAwLjkgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLyogQ2hyb21hdGljIEFiYmVyYXRpb24gKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5jaHJvbWF0aWNBYmVycmF0aW9uRW5hYmxlZCA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuY2hyb21hdGljQWJlcnJhdGlvbi5hYmVycmF0aW9uRW5hYmxlZDsgLy8gZmFsc2UgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlZmF1bHRQaXBlbGluZS5jaHJvbWF0aWNBYmVycmF0aW9uRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5jaHJvbWF0aWNBYmVycmF0aW9uLmFiZXJyYXRpb25BbW91bnQgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmNocm9tYXRpY0FiZXJyYXRpb24uYWJlcnJhdGlvbkFtb3VudDsgLy8gMzAgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5jaHJvbWF0aWNBYmVycmF0aW9uLmFkYXB0U2NhbGVUb0N1cnJlbnRWaWV3cG9ydCA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuY2hyb21hdGljQWJlcnJhdGlvbi5hZGFwdFNjYWxlVmlld3BvcnQ7IC8vIGZhbHNlIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuY2hyb21hdGljQWJlcnJhdGlvbi5hbHBoYU1vZGUgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmNocm9tYXRpY0FiZXJyYXRpb24uYWxwaGFNb2RlOyAvLyAwIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuY2hyb21hdGljQWJlcnJhdGlvbi5hbHdheXNGb3JjZVBPVCA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuY2hyb21hdGljQWJlcnJhdGlvbi5hbHdheXNGb3JjZVBPVDsgLy8gZmFsc2UgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5jaHJvbWF0aWNBYmVycmF0aW9uLmVuYWJsZVBpeGVsUGVyZmVjdE1vZGUgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmNocm9tYXRpY0FiZXJyYXRpb24ucGl4ZWxQZXJmZWN0TW9kZTsgLy8gZmFsc2UgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5jaHJvbWF0aWNBYmVycmF0aW9uLmZvcmNlRnVsbHNjcmVlblZpZXdwb3J0ID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5jaHJvbWF0aWNBYmVycmF0aW9uLmZ1bGxzY3JlZW5WaWV3cG9ydDsgLy8gdHJ1ZSBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBET0YgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5kZXB0aE9mRmllbGRFbmFibGVkID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5mb2NhbERlcHRoT2ZGaWVsZC5kZXB0aE9mRmllbGQ7IC8vIGZhbHNlIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZWZhdWx0UGlwZWxpbmUuZGVwdGhPZkZpZWxkRW5hYmxlZCAmJiBkZWZhdWx0UGlwZWxpbmUuZGVwdGhPZkZpZWxkLmlzU3VwcG9ydGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmRlcHRoT2ZGaWVsZEJsdXJMZXZlbCA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuZm9jYWxEZXB0aE9mRmllbGQuYmx1ckxldmVsOyAvLyAwIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuZGVwdGhPZkZpZWxkLmZTdG9wID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5mb2NhbERlcHRoT2ZGaWVsZC5mb2NhbFN0b3A7IC8vIDEuNCBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmRlcHRoT2ZGaWVsZC5mb2NhbExlbmd0aCA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuZm9jYWxEZXB0aE9mRmllbGQuZm9jYWxMZW5ndGg7IC8vIDUwIGJ5IGRlZmF1bHQsIG1tXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmRlcHRoT2ZGaWVsZC5mb2N1c0Rpc3RhbmNlID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5mb2NhbERlcHRoT2ZGaWVsZC5mb2N1c0Rpc3RhbmNlOyAvLyAyMDAwIGJ5IGRlZmF1bHQsIG1tXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmRlcHRoT2ZGaWVsZC5sZW5zU2l6ZSA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuZm9jYWxEZXB0aE9mRmllbGQubWF4TGVuc1NpemU7IC8vIDUwIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIEZYQUEgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5meGFhRW5hYmxlZCA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3Npbmcuc2NyZWVuQW50aUFsaWFzaW5nLmZ1bGxTY3JlZW5FbmFibGVkOyAvLyBmYWxzZSBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVmYXVsdFBpcGVsaW5lLmZ4YWFFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmZ4YWEuc2FtcGxlcyA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3Npbmcuc2NyZWVuQW50aUFsaWFzaW5nLnNjcmVlbkFudGlBbGlhc2luZzsgLy8gMSBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmZ4YWEuYWRhcHRTY2FsZVRvQ3VycmVudFZpZXdwb3J0ID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5zY3JlZW5BbnRpQWxpYXNpbmcuYWRhcHRTY2FsZVZpZXdwb3J0OyAvLyBmYWxzZSBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBHbG93TGF5ZXIgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5nbG93TGF5ZXJFbmFibGVkID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5nbG93TGF5ZXJQcm9wZXJ0aWVzLmdsb3dFbmFibGVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlZmF1bHRQaXBlbGluZS5nbG93TGF5ZXJFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmdsb3dMYXllci5pbnRlbnNpdHkgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmdsb3dMYXllclByb3BlcnRpZXMuZ2xvd0ludGVuc2l0eTsgLy8gMSBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLmdsb3dMYXllci5ibHVyS2VybmVsU2l6ZSA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuZ2xvd0xheWVyUHJvcGVydGllcy5ibHVyS2VybmVsU2l6ZTsgLy8gMTYgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLyogR3JhaW4gKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5ncmFpbkVuYWJsZWQgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLmdyYWluRWZmZWN0UHJvcGVydGllcy5ncmFpbkVuYWJsZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVmYXVsdFBpcGVsaW5lLmdyYWluRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5ncmFpbi5hbmltYXRlZCA9IHRoaXMuZWRpdG9yUG9zdFByb2Nlc3NpbmcuZ3JhaW5FZmZlY3RQcm9wZXJ0aWVzLmdyYWluQW5pbWF0ZWQ7IC8vIGZhbHNlIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuZ3JhaW4uaW50ZW5zaXR5ID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5ncmFpbkVmZmVjdFByb3BlcnRpZXMuZ3JhaW5JbnRlbnNpdHk7IC8vIDMwIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuZ3JhaW4uYWRhcHRTY2FsZVRvQ3VycmVudFZpZXdwb3J0ID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5ncmFpbkVmZmVjdFByb3BlcnRpZXMuYWRhcHRTY2FsZVZpZXdwb3J0OyAvLyBmYWxzZSBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBTaGFycGVuICovXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuc2hhcnBlbkVuYWJsZWQgPSB0aGlzLmVkaXRvclBvc3RQcm9jZXNzaW5nLnNoYXJwRWZmZWN0UHJvcGVydGllcy5zaGFycGVuRW5hYmxlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZWZhdWx0UGlwZWxpbmUuc2hhcnBlbkVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGlwZWxpbmUuc2hhcnBlbi5lZGdlQW1vdW50ID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5zaGFycEVmZmVjdFByb3BlcnRpZXMuc2hhcnBFZGdlQW1vdW50OyAvLyAwLjMgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQaXBlbGluZS5zaGFycGVuLmNvbG9yQW1vdW50ID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5zaGFycEVmZmVjdFByb3BlcnRpZXMuc2hhcnBDb2xvckFtb3VudDsgLy8gMSBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBpcGVsaW5lLnNoYXJwZW4uYWRhcHRTY2FsZVRvQ3VycmVudFZpZXdwb3J0ID0gdGhpcy5lZGl0b3JQb3N0UHJvY2Vzc2luZy5zaGFycEVmZmVjdFByb3BlcnRpZXMuYWRhcHRTY2FsZVZpZXdwb3J0OyAvLyBmYWxzZSBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xzLldhcm4oXCJCYWJ5bG9uLmpzIGRlZmF1bHQgcmVuZGVyaW5nIHBpcGVsaW5lIG5vdCBzdXBwb3J0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAvL31cbiAgICAgICAgICAgIFBST0pFQ1QuVW5pdmVyc2FsQ2FtZXJhU3lzdGVtLmNhbWVyYVJlYWR5ID0gdHJ1ZTsgICAgICAgICAgICBcbiAgICAgICAgfVxuICAgICAgICBwcm90ZWN0ZWQgdXBkYXRlQ2FtZXJhU3lzdGVtU3RhdGUoKTp2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1fY2FtZXJhUmlnICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jYW1lcmFUeXBlID09PSAwKSB7ICAgICAgICAvLyBTdGFuZGFyZCBGcmVlIENhbWVyYVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5jYW1lcmFUeXBlID09PSAxKSB7IC8vIFZpcnR1YWwgUmVhbGl0eSBDYW1lcmFcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY2FtZXJhVHlwZSA9PT0gMikgeyAvLyBNdWx0aSBQbGF5ZXIgQ2FtZXJhXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNhbWVyYVR5cGUgPT09IDMpIHsgLy8gQXJjIFJvdGF0ZSBDYW1lcmFcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHJvdGVjdGVkIGRlc3Ryb3lDYW1lcmFTeXN0ZW1TdGF0ZSgpOnZvaWQge1xuICAgICAgICAgICAgdGhpcy52aXJ0dWFsUmVhbGl0eSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gVW5pdmVyc2FsIENhbWVyYSBWaXJ0dWFsIFJlYWxpdHkgRnVuY3Rpb25zXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIC8qKiBHZXQgdGhlIFdlYlhSIGRlZmF1bHQgZXhwZXJpZW5jZSBoZWxwZXIgKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBHZXRXZWJYUigpOkJBQllMT04uV2ViWFJEZWZhdWx0RXhwZXJpZW5jZSB7IHJldHVybiBQUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5YUkV4cGVyaWVuY2VIZWxwZXI7IH1cblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gVW5pdmVyc2FsIENhbWVyYSBTeXN0ZW0gUGxheWVyIEZ1bmN0aW9uc1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgXG4gICAgICAgIC8qKiBHZXQgdW5pdmVyc2FsIGNhbWVyYSByaWcgZm9yIGRlc2lyZWQgcGxheWVyICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgR2V0UGxheWVyQ2FtZXJhKHNjZW5lOkJBQllMT04uU2NlbmUsIHBsYXllcjpCQUJZTE9OLlBsYXllck51bWJlciA9IEJBQllMT04uUGxheWVyTnVtYmVyLk9uZSwgZGV0YWNoOmJvb2xlYW4gPSBmYWxzZSk6QkFCWUxPTi5Vbml2ZXJzYWxDYW1lcmEgeyBcbiAgICAgICAgICAgIGxldCByZXN1bHQ6QkFCWUxPTi5Vbml2ZXJzYWxDYW1lcmEgPSBudWxsO1xuICAgICAgICAgICAgaWYgKFBST0pFQ1QuVW5pdmVyc2FsQ2FtZXJhU3lzdGVtLklzQ2FtZXJhU3lzdGVtUmVhZHkoKSkge1xuICAgICAgICAgICAgICAgIGlmIChwbGF5ZXIgPT09IEJBQllMT04uUGxheWVyTnVtYmVyLk9uZSAmJiBQUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5QbGF5ZXJPbmVDYW1lcmEgIT0gbnVsbCkgcmVzdWx0ID0gUFJPSkVDVC5Vbml2ZXJzYWxDYW1lcmFTeXN0ZW0uUGxheWVyT25lQ2FtZXJhO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHBsYXllciA9PT0gQkFCWUxPTi5QbGF5ZXJOdW1iZXIuVHdvICYmIFBST0pFQ1QuVW5pdmVyc2FsQ2FtZXJhU3lzdGVtLlBsYXllclR3b0NhbWVyYSAhPSBudWxsKSByZXN1bHQgPSBQUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5QbGF5ZXJUd29DYW1lcmE7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocGxheWVyID09PSBCQUJZTE9OLlBsYXllck51bWJlci5UaHJlZSAmJiBQUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5QbGF5ZXJUaHJlZUNhbWVyYSAhPSBudWxsKSByZXN1bHQgPSBQUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5QbGF5ZXJUaHJlZUNhbWVyYTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwbGF5ZXIgPT09IEJBQllMT04uUGxheWVyTnVtYmVyLkZvdXIgJiYgUFJPSkVDVC5Vbml2ZXJzYWxDYW1lcmFTeXN0ZW0uUGxheWVyRm91ckNhbWVyYSAhPSBudWxsKSByZXN1bHQgPSBQUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5QbGF5ZXJGb3VyQ2FtZXJhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRldGFjaCA9PT0gdHJ1ZSAmJiBwYXJlbnQgIT0gbnVsbCkgcmVzdWx0LnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIC8qKiBHZXQgY2FtZXJhIHRyYW5zZm9ybSBub2RlIGZvciBkZXNpcmVkIHBsYXllciAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIEdldENhbWVyYVRyYW5zZm9ybShzY2VuZTpCQUJZTE9OLlNjZW5lLCBwbGF5ZXI6QkFCWUxPTi5QbGF5ZXJOdW1iZXIgPSBCQUJZTE9OLlBsYXllck51bWJlci5PbmUpOkJBQllMT04uVHJhbnNmb3JtTm9kZSB7IFxuICAgICAgICAgICAgbGV0IHJlc3VsdDpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICAgICAgaWYgKFBST0pFQ1QuVW5pdmVyc2FsQ2FtZXJhU3lzdGVtLklzQ2FtZXJhU3lzdGVtUmVhZHkoKSkge1xuICAgICAgICAgICAgICAgIGlmIChwbGF5ZXIgPT09IEJBQllMT04uUGxheWVyTnVtYmVyLk9uZSAmJiBQUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5QbGF5ZXJPbmVDYW1lcmEgIT0gbnVsbCAmJiAoPGFueT5QUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5QbGF5ZXJPbmVDYW1lcmEpLnRyYW5zZm9ybSAhPSBudWxsKSByZXN1bHQgPSAoPGFueT5QUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5QbGF5ZXJPbmVDYW1lcmEpLnRyYW5zZm9ybTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwbGF5ZXIgPT09IEJBQllMT04uUGxheWVyTnVtYmVyLlR3byAmJiBQUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5QbGF5ZXJUd29DYW1lcmEgIT0gbnVsbCAmJiAoPGFueT5QUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5QbGF5ZXJUd29DYW1lcmEpLnRyYW5zZm9ybSAhPSBudWxsKSByZXN1bHQgPSAoPGFueT5QUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5QbGF5ZXJUd29DYW1lcmEpLnRyYW5zZm9ybTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwbGF5ZXIgPT09IEJBQllMT04uUGxheWVyTnVtYmVyLlRocmVlICYmIFBST0pFQ1QuVW5pdmVyc2FsQ2FtZXJhU3lzdGVtLlBsYXllclRocmVlQ2FtZXJhICE9IG51bGwgJiYgKDxhbnk+UFJPSkVDVC5Vbml2ZXJzYWxDYW1lcmFTeXN0ZW0uUGxheWVyVGhyZWVDYW1lcmEpLnRyYW5zZm9ybSAhPSBudWxsKSByZXN1bHQgPSAoPGFueT5QUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5QbGF5ZXJUaHJlZUNhbWVyYSkudHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHBsYXllciA9PT0gQkFCWUxPTi5QbGF5ZXJOdW1iZXIuRm91ciAmJiBQUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5QbGF5ZXJGb3VyQ2FtZXJhICE9IG51bGwgJiYgKDxhbnk+UFJPSkVDVC5Vbml2ZXJzYWxDYW1lcmFTeXN0ZW0uUGxheWVyRm91ckNhbWVyYSkudHJhbnNmb3JtICE9IG51bGwpIHJlc3VsdCA9ICg8YW55PlBST0pFQ1QuVW5pdmVyc2FsQ2FtZXJhU3lzdGVtLlBsYXllckZvdXJDYW1lcmEpLnRyYW5zZm9ybTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gVW5pdmVyc2FsIENhbWVyYSBTeXN0ZW0gTXVsdGkgUGxheWVyIEZ1bmN0aW9uc1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICAvKiogQXJlIHN0ZXJlbyBzaWRlIHNpZGUgY2FtZXJhIHNlcnZpY2VzIGF2YWlsYWJsZS4gKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBJc1N0ZXJlb0NhbWVyYXMoKTpib29sZWFuIHsgXG4gICAgICAgICAgICByZXR1cm4gUFJPSkVDVC5Vbml2ZXJzYWxDYW1lcmFTeXN0ZW0uc3RlcmVvQ2FtZXJhcztcbiAgICAgICAgfVxuICAgICAgICAvKiogQXJlIGxvY2FsIG11bHRpIHBsYXllciB2aWV3IHNlcnZpY2VzIGF2YWlsYWJsZS4gKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBJc011bHRpUGxheWVyVmlldygpOmJvb2xlYW4geyBcbiAgICAgICAgICAgIHJldHVybiBQUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5tdWx0aVBsYXllclZpZXc7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIEdldCB0aGUgY3VycmVudCBsb2NhbCBtdWx0aSBwbGF5ZXIgY291bnQgKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBHZXRNdWx0aVBsYXllckNvdW50KCk6bnVtYmVyIHsgXG4gICAgICAgICAgICByZXR1cm4gUFJPSkVDVC5Vbml2ZXJzYWxDYW1lcmFTeXN0ZW0ubXVsdGlQbGF5ZXJDb3VudDtcbiAgICAgICAgfVxuICAgICAgICAvKiogQWN0aXZhdGVzIGN1cnJlbnQgbG9jYWwgbXVsdGkgcGxheWVyIGNhbWVyYXMuICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgQWN0aXZhdGVNdWx0aVBsYXllckNhbWVyYXMoc2NlbmU6QkFCWUxPTi5TY2VuZSk6Ym9vbGVhbiB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0OmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChQUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5tdWx0aVBsYXllckNhbWVyYXMgIT0gbnVsbCAmJiBQUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5tdWx0aVBsYXllckNhbWVyYXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHNjZW5lLmFjdGl2ZUNhbWVyYXMgPSBQUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5tdWx0aVBsYXllckNhbWVyYXM7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIERpc3Bvc2VzIGN1cnJlbnQgbG9jYWwgbXVsdGlwbGF5ZXIgY2FtZXJhcyAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIERpc3Bvc2VNdWx0aVBsYXllckNhbWVyYXMoKTp2b2lkIHtcbiAgICAgICAgICAgIGlmIChQUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5QbGF5ZXJPbmVDYW1lcmEgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIFBST0pFQ1QuVW5pdmVyc2FsQ2FtZXJhU3lzdGVtLlBsYXllck9uZUNhbWVyYS5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgUFJPSkVDVC5Vbml2ZXJzYWxDYW1lcmFTeXN0ZW0uUGxheWVyT25lQ2FtZXJhID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChQUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5QbGF5ZXJUd29DYW1lcmEgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIFBST0pFQ1QuVW5pdmVyc2FsQ2FtZXJhU3lzdGVtLlBsYXllclR3b0NhbWVyYS5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgUFJPSkVDVC5Vbml2ZXJzYWxDYW1lcmFTeXN0ZW0uUGxheWVyVHdvQ2FtZXJhID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChQUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5QbGF5ZXJUaHJlZUNhbWVyYSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgUFJPSkVDVC5Vbml2ZXJzYWxDYW1lcmFTeXN0ZW0uUGxheWVyVGhyZWVDYW1lcmEuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIFBST0pFQ1QuVW5pdmVyc2FsQ2FtZXJhU3lzdGVtLlBsYXllclRocmVlQ2FtZXJhID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChQUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5QbGF5ZXJGb3VyQ2FtZXJhICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBQUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5QbGF5ZXJGb3VyQ2FtZXJhLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICBQUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5QbGF5ZXJGb3VyQ2FtZXJhID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKiogU2V0cyB0aGUgbXVsdGkgcGxheWVyIGNhbWVyYSB2aWV3IGxheW91dCAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIFNldE11bHRpUGxheWVyVmlld0xheW91dChzY2VuZTpCQUJZTE9OLlNjZW5lLCB0b3RhbE51bVBsYXllcnM6bnVtYmVyKTpib29sZWFuIHtcbiAgICAgICAgICAgIGxldCByZXN1bHQ6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IHBsYXllcnM6bnVtYmVyID0gQkFCWUxPTi5TY2FsYXIuQ2xhbXAodG90YWxOdW1QbGF5ZXJzLCAxLCA0KTtcbiAgICAgICAgICAgIGlmIChQUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5Jc011bHRpUGxheWVyVmlldygpKSB7XG4gICAgICAgICAgICAgICAgaWYgKFBST0pFQ1QuVW5pdmVyc2FsQ2FtZXJhU3lzdGVtLlBsYXllck9uZUNhbWVyYSAhPSBudWxsICYmIFBST0pFQ1QuVW5pdmVyc2FsQ2FtZXJhU3lzdGVtLlBsYXllclR3b0NhbWVyYSAhPSBudWxsICYmIFBST0pFQ1QuVW5pdmVyc2FsQ2FtZXJhU3lzdGVtLlBsYXllclRocmVlQ2FtZXJhICE9IG51bGwgJiYgUFJPSkVDVC5Vbml2ZXJzYWxDYW1lcmFTeXN0ZW0uUGxheWVyRm91ckNhbWVyYSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuVW5pdmVyc2FsQ2FtZXJhU3lzdGVtLm11bHRpUGxheWVyQ2FtZXJhcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGxheWVycyA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5Vbml2ZXJzYWxDYW1lcmFTeXN0ZW0uUGxheWVyT25lQ2FtZXJhLnZpZXdwb3J0ID0gbmV3IEJBQllMT04uVmlld3BvcnQoMCwgMCwgMSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5QbGF5ZXJUd29DYW1lcmEudmlld3BvcnQgPSBuZXcgQkFCWUxPTi5WaWV3cG9ydCgwLCAwLCAwLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuVW5pdmVyc2FsQ2FtZXJhU3lzdGVtLlBsYXllclR3b0NhbWVyYS5zZXRFbmFibGVkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuVW5pdmVyc2FsQ2FtZXJhU3lzdGVtLlBsYXllclRocmVlQ2FtZXJhLnZpZXdwb3J0ID0gbmV3IEJBQllMT04uVmlld3BvcnQoMCwgMCwgMCwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5QbGF5ZXJUaHJlZUNhbWVyYS5zZXRFbmFibGVkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuVW5pdmVyc2FsQ2FtZXJhU3lzdGVtLlBsYXllckZvdXJDYW1lcmEudmlld3BvcnQgPSBuZXcgQkFCWUxPTi5WaWV3cG9ydCgwLCAwLCAwLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuVW5pdmVyc2FsQ2FtZXJhU3lzdGVtLlBsYXllckZvdXJDYW1lcmEuc2V0RW5hYmxlZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5tdWx0aVBsYXllckNhbWVyYXMucHVzaChQUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5QbGF5ZXJPbmVDYW1lcmEpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBsYXllcnMgPT09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChQUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5zdGVyZW9DYW1lcmFzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5Vbml2ZXJzYWxDYW1lcmFTeXN0ZW0uUGxheWVyT25lQ2FtZXJhLnZpZXdwb3J0ID0gbmV3IEJBQllMT04uVmlld3BvcnQoMCwgMCwgMC41LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5QbGF5ZXJUd29DYW1lcmEudmlld3BvcnQgPSBuZXcgQkFCWUxPTi5WaWV3cG9ydCgwLjUsIDAsIDAuNSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuVW5pdmVyc2FsQ2FtZXJhU3lzdGVtLlBsYXllck9uZUNhbWVyYS52aWV3cG9ydCA9IG5ldyBCQUJZTE9OLlZpZXdwb3J0KDAsIDAuNSwgMSwgMC41KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5QbGF5ZXJUd29DYW1lcmEudmlld3BvcnQgPSBuZXcgQkFCWUxPTi5WaWV3cG9ydCgwLCAwLCAxLCAwLjUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5Vbml2ZXJzYWxDYW1lcmFTeXN0ZW0uUGxheWVyVHdvQ2FtZXJhLnNldEVuYWJsZWQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5QbGF5ZXJUaHJlZUNhbWVyYS52aWV3cG9ydCA9IG5ldyBCQUJZTE9OLlZpZXdwb3J0KDAsIDAsIDAsIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5Vbml2ZXJzYWxDYW1lcmFTeXN0ZW0uUGxheWVyVGhyZWVDYW1lcmEuc2V0RW5hYmxlZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5QbGF5ZXJGb3VyQ2FtZXJhLnZpZXdwb3J0ID0gbmV3IEJBQllMT04uVmlld3BvcnQoMCwgMCwgMCwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5QbGF5ZXJGb3VyQ2FtZXJhLnNldEVuYWJsZWQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5Vbml2ZXJzYWxDYW1lcmFTeXN0ZW0ubXVsdGlQbGF5ZXJDYW1lcmFzLnB1c2goUFJPSkVDVC5Vbml2ZXJzYWxDYW1lcmFTeXN0ZW0uUGxheWVyT25lQ2FtZXJhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuVW5pdmVyc2FsQ2FtZXJhU3lzdGVtLm11bHRpUGxheWVyQ2FtZXJhcy5wdXNoKFBST0pFQ1QuVW5pdmVyc2FsQ2FtZXJhU3lzdGVtLlBsYXllclR3b0NhbWVyYSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGxheWVycyA9PT0gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5Vbml2ZXJzYWxDYW1lcmFTeXN0ZW0uUGxheWVyT25lQ2FtZXJhLnZpZXdwb3J0ID0gbmV3IEJBQllMT04uVmlld3BvcnQoMCwgMCwgMC41LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuVW5pdmVyc2FsQ2FtZXJhU3lzdGVtLlBsYXllclR3b0NhbWVyYS52aWV3cG9ydCA9IG5ldyBCQUJZTE9OLlZpZXdwb3J0KDAuNSwgMC41LCAwLjUsIDAuNSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5QbGF5ZXJUd29DYW1lcmEuc2V0RW5hYmxlZCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuVW5pdmVyc2FsQ2FtZXJhU3lzdGVtLlBsYXllclRocmVlQ2FtZXJhLnZpZXdwb3J0ID0gbmV3IEJBQllMT04uVmlld3BvcnQoMC41LCAwLCAwLjUsIDAuNSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5QbGF5ZXJUaHJlZUNhbWVyYS5zZXRFbmFibGVkKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5Vbml2ZXJzYWxDYW1lcmFTeXN0ZW0uUGxheWVyRm91ckNhbWVyYS52aWV3cG9ydCA9IG5ldyBCQUJZTE9OLlZpZXdwb3J0KDAsIDAsIDAsIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5Vbml2ZXJzYWxDYW1lcmFTeXN0ZW0uUGxheWVyRm91ckNhbWVyYS5zZXRFbmFibGVkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuVW5pdmVyc2FsQ2FtZXJhU3lzdGVtLm11bHRpUGxheWVyQ2FtZXJhcy5wdXNoKFBST0pFQ1QuVW5pdmVyc2FsQ2FtZXJhU3lzdGVtLlBsYXllck9uZUNhbWVyYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5tdWx0aVBsYXllckNhbWVyYXMucHVzaChQUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5QbGF5ZXJUd29DYW1lcmEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5Vbml2ZXJzYWxDYW1lcmFTeXN0ZW0ubXVsdGlQbGF5ZXJDYW1lcmFzLnB1c2goUFJPSkVDVC5Vbml2ZXJzYWxDYW1lcmFTeXN0ZW0uUGxheWVyVGhyZWVDYW1lcmEpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBsYXllcnMgPT09IDQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuVW5pdmVyc2FsQ2FtZXJhU3lzdGVtLlBsYXllck9uZUNhbWVyYS52aWV3cG9ydCA9IG5ldyBCQUJZTE9OLlZpZXdwb3J0KDAsIDAuNSwgMC41LCAwLjUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5Vbml2ZXJzYWxDYW1lcmFTeXN0ZW0uUGxheWVyVHdvQ2FtZXJhLnZpZXdwb3J0ID0gbmV3IEJBQllMT04uVmlld3BvcnQoMCwgMCwgMC41LCAwLjUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5Vbml2ZXJzYWxDYW1lcmFTeXN0ZW0uUGxheWVyVHdvQ2FtZXJhLnNldEVuYWJsZWQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5QbGF5ZXJUaHJlZUNhbWVyYS52aWV3cG9ydCA9IG5ldyBCQUJZTE9OLlZpZXdwb3J0KDAuNSwgMC41LCAwLjUsIDAuNSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5QbGF5ZXJUaHJlZUNhbWVyYS5zZXRFbmFibGVkKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5Vbml2ZXJzYWxDYW1lcmFTeXN0ZW0uUGxheWVyRm91ckNhbWVyYS52aWV3cG9ydCA9IG5ldyBCQUJZTE9OLlZpZXdwb3J0KDAuNSwgMCwgMC41LCAwLjUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5Vbml2ZXJzYWxDYW1lcmFTeXN0ZW0uUGxheWVyRm91ckNhbWVyYS5zZXRFbmFibGVkKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgUFJPSkVDVC5Vbml2ZXJzYWxDYW1lcmFTeXN0ZW0ubXVsdGlQbGF5ZXJDYW1lcmFzLnB1c2goUFJPSkVDVC5Vbml2ZXJzYWxDYW1lcmFTeXN0ZW0uUGxheWVyT25lQ2FtZXJhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBST0pFQ1QuVW5pdmVyc2FsQ2FtZXJhU3lzdGVtLm11bHRpUGxheWVyQ2FtZXJhcy5wdXNoKFBST0pFQ1QuVW5pdmVyc2FsQ2FtZXJhU3lzdGVtLlBsYXllclR3b0NhbWVyYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5tdWx0aVBsYXllckNhbWVyYXMucHVzaChQUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5QbGF5ZXJUaHJlZUNhbWVyYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBQUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5tdWx0aVBsYXllckNhbWVyYXMucHVzaChQUk9KRUNULlVuaXZlcnNhbENhbWVyYVN5c3RlbS5QbGF5ZXJGb3VyQ2FtZXJhKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbHMuV2FybihcIkJhYnlsb24uanMgY2FtZXJhIHJpZyBpbnZhbGlkIHBsYXllciBjb3VudCBzcGVjaWZpZWQ6IFwiICsgcGxheWVycyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xzLldhcm4oXCJCYWJ5bG9uLmpzIGNhbWVyYSByaWcgZmFpbGVkIHRvIGluaXRpYWxpemUgbXVsdGkgcGxheWVyIGNhbWVyYXNcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFBST0pFQ1QuVW5pdmVyc2FsQ2FtZXJhU3lzdGVtLm11bHRpUGxheWVyQ291bnQgPSBwbGF5ZXJzO1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IFBST0pFQ1QuVW5pdmVyc2FsQ2FtZXJhU3lzdGVtLkFjdGl2YXRlTXVsdGlQbGF5ZXJDYW1lcmFzKHNjZW5lKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0ID09PSBmYWxzZSkgQkFCWUxPTi5Ub29scy5XYXJuKFwiQmFieWxvbi5qcyBjYW1lcmEgcmlnIGZhaWxlZCB0byBpbml0aWFsaXplIG11bHRpIHBsYXllciB2aWV3c1wiKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29scy5XYXJuKFwiQmFieWxvbi5qcyBjYW1lcmEgcmlnIG11bHRpIHBsYXllciB2aWV3IG9wdGlvbiBub3QgZW5hYmxlZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgICAvKiogQ2FtZXJhIEVkaXRvciBQcm9wZXJ0aWVzIFN1cHBvcnQgQ2xhc3NlcyAqL1xuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gICAgZXhwb3J0IGludGVyZmFjZSBJRWRpdG9yQXJjUnRvdGF0ZSB7XG4gICAgICAgIGFscGhhOm51bWJlcjtcbiAgICAgICAgYmV0YTpudW1iZXI7XG4gICAgICAgIHJhZGl1czpudW1iZXI7XG4gICAgICAgIHRhcmdldDpCQUJZTE9OLklVbml0eVZlY3RvcjM7XG4gICAgfVxuICAgIGV4cG9ydCBpbnRlcmZhY2UgSUVkaXRvclBvc3RQcm9jZXNzaW5nIHtcbiAgICAgICAgdXNlUG9zdFByb2Nlc3Npbmc6Ym9vbGVhbjtcbiAgICAgICAgaGlnaER5bmFtaWNSYW5nZTpib29sZWFuO1xuICAgICAgICBzY3JlZW5BbnRpQWxpYXNpbmc6UFJPSkVDVC5JRWRpdG9yQW50aUFsaWFzaW5nO1xuICAgICAgICBmb2NhbERlcHRoT2ZGaWVsZDpQUk9KRUNULklFZGl0b3JEZXB0aE9mRmllbGQ7XG4gICAgICAgIGNocm9tYXRpY0FiZXJyYXRpb246UFJPSkVDVC5JRWRpdG9yQ2hyb21hdGljQWJlcnJhdGlvbjtcbiAgICAgICAgZ2xvd0xheWVyUHJvcGVydGllczpQUk9KRUNULklFZGl0b3JHbG93TGF5ZXI7XG4gICAgICAgIGdyYWluRWZmZWN0UHJvcGVydGllczpQUk9KRUNULklFZGl0b3JHcmFpbkVmZmVjdDtcbiAgICAgICAgc2hhcnBFZmZlY3RQcm9wZXJ0aWVzOlBST0pFQ1QuSUVkaXRvclNoYXJwZW5FZmZlY3Q7XG4gICAgICAgIGJsb29tRWZmZWN0UHJvcGVydGllczpQUk9KRUNULklFZGl0b3JCbG9vbVByb2Nlc3Npbmc7XG4gICAgICAgIGltYWdlUHJvY2Vzc2luZ0NvbmZpZzpQUk9KRUNULklFZGl0b3JJbWFnZVByb2Nlc3Npbmc7XG4gICAgfVxuICAgIGV4cG9ydCBpbnRlcmZhY2UgSUVkaXRvckFudGlBbGlhc2luZyB7XG4gICAgICAgIGZ1bGxTY3JlZW5FbmFibGVkOmJvb2xlYW47XG4gICAgICAgIG11bHRpQW50aUFsaWFzaW5nOm51bWJlcjtcbiAgICAgICAgc2NyZWVuQW50aUFsaWFzaW5nOm51bWJlcjtcbiAgICAgICAgYWRhcHRTY2FsZVZpZXdwb3J0OmJvb2xlYW47XG4gICAgfVxuICAgIGV4cG9ydCBpbnRlcmZhY2UgSUVkaXRvckRlcHRoT2ZGaWVsZCB7XG4gICAgICAgIGRlcHRoT2ZGaWVsZDpib29sZWFuO1xuICAgICAgICBibHVyTGV2ZWw6bnVtYmVyO1xuICAgICAgICBmb2NhbFN0b3A6bnVtYmVyO1xuICAgICAgICBmb2NhbExlbmd0aDpudW1iZXI7XG4gICAgICAgIGZvY3VzRGlzdGFuY2U6bnVtYmVyO1xuICAgICAgICBtYXhMZW5zU2l6ZTpudW1iZXI7XG4gICAgfVxuICAgIGV4cG9ydCBpbnRlcmZhY2UgSUVkaXRvckNocm9tYXRpY0FiZXJyYXRpb24ge1xuICAgICAgICBhYmVycmF0aW9uRW5hYmxlZDpib29sZWFuO1xuICAgICAgICBhYmVycmF0aW9uQW1vdW50Om51bWJlcjtcbiAgICAgICAgYWRhcHRTY2FsZVZpZXdwb3J0OmJvb2xlYW47XG4gICAgICAgIGFscGhhTW9kZTpudW1iZXI7XG4gICAgICAgIGFsd2F5c0ZvcmNlUE9UOmJvb2xlYW47XG4gICAgICAgIHBpeGVsUGVyZmVjdE1vZGU6Ym9vbGVhbjtcbiAgICAgICAgZnVsbHNjcmVlblZpZXdwb3J0OmJvb2xlYW47XG4gICAgfVxuICAgIGV4cG9ydCBpbnRlcmZhY2UgSUVkaXRvckdsb3dMYXllciB7XG4gICAgICAgIGdsb3dFbmFibGVkOmJvb2xlYW47XG4gICAgICAgIGdsb3dJbnRlbnNpdHk6bnVtYmVyO1xuICAgICAgICBibHVyS2VybmVsU2l6ZTpudW1iZXI7XG4gICAgfVxuICAgIGV4cG9ydCBpbnRlcmZhY2UgSUVkaXRvckdyYWluRWZmZWN0IHtcbiAgICAgICAgZ3JhaW5FbmFibGVkOmJvb2xlYW47XG4gICAgICAgIGdyYWluQW5pbWF0ZWQ6Ym9vbGVhbjtcbiAgICAgICAgZ3JhaW5JbnRlbnNpdHk6bnVtYmVyO1xuICAgICAgICBhZGFwdFNjYWxlVmlld3BvcnQ6Ym9vbGVhbjtcbiAgICB9XG4gICAgZXhwb3J0IGludGVyZmFjZSBJRWRpdG9yU2hhcnBlbkVmZmVjdCB7XG4gICAgICAgIHNoYXJwZW5FbmFibGVkOmJvb2xlYW47XG4gICAgICAgIHNoYXJwRWRnZUFtb3VudDpudW1iZXI7XG4gICAgICAgIHNoYXJwQ29sb3JBbW91bnQ6bnVtYmVyO1xuICAgICAgICBhZGFwdFNjYWxlVmlld3BvcnQ6Ym9vbGVhbjtcbiAgICB9XG4gICAgZXhwb3J0IGludGVyZmFjZSBJRWRpdG9yQmxvb21Qcm9jZXNzaW5nIHtcbiAgICAgICAgYmxvb21FbmFibGVkOmJvb2xlYW47XG4gICAgICAgIGJsb29tS2VybmVsOm51bWJlcjtcbiAgICAgICAgYmxvb21TY2FsZTpudW1iZXI7XG4gICAgICAgIGJsb29tV2VpZ2h0Om51bWJlcjtcbiAgICAgICAgYmxvb21UaHJlc2hvbGQ6bnVtYmVyO1xuICAgIH1cbiAgICBleHBvcnQgaW50ZXJmYWNlIElFZGl0b3JDb2xvckN1cnZlcyB7XG4gICAgICAgIGN1cnZlc0VuYWJsZWQ6Ym9vbGVhbjtcbiAgICAgICAgZ2xvYmFsRGVuOm51bWJlcjtcbiAgICAgICAgZ2xvYmFsRXhwOm51bWJlcjtcbiAgICAgICAgZ2xvYmFsSHVlOm51bWJlcjtcbiAgICAgICAgZ2xvYmFsU2F0Om51bWJlcjtcbiAgICAgICAgaGlnaGxpZ2h0c0RlbjpudW1iZXI7XG4gICAgICAgIGhpZ2hsaWdodHNFeHA6bnVtYmVyO1xuICAgICAgICBoaWdobGlnaHRzSHVlOm51bWJlcjtcbiAgICAgICAgaGlnaGxpZ2h0c1NhdDpudW1iZXI7XG4gICAgICAgIG1pZHRvbmVzRGVuOm51bWJlcjtcbiAgICAgICAgbWlkdG9uZXNFeHA6bnVtYmVyO1xuICAgICAgICBtaWR0b25lc0h1ZTpudW1iZXI7XG4gICAgICAgIG1pZHRvbmVzU2F0Om51bWJlcjtcbiAgICAgICAgc2hhZG93c0RlbjpudW1iZXI7XG4gICAgICAgIHNoYWRvd3NFeHA6bnVtYmVyO1xuICAgICAgICBzaGFkb3dzSHVlOm51bWJlcjtcbiAgICAgICAgc2hhZG93c1NhdDpudW1iZXI7XG4gICAgfVxuICAgIGV4cG9ydCBpbnRlcmZhY2UgSUVkaXRvckltYWdlUHJvY2Vzc2luZyB7XG4gICAgICAgIGltYWdlUHJvY2Vzc2luZzpib29sZWFuO1xuICAgICAgICBpbWFnZUNvbnRyYXN0Om51bWJlcjtcbiAgICAgICAgaW1hZ2VFeHBvc3VyZTpudW1iZXI7XG4gICAgICAgIHVzZUNvbG9yR3JhZGluZzpib29sZWFuO1xuICAgICAgICBzZXRHcmFkaW5nVGV4dHVyZTphbnk7XG4gICAgICAgIGltYWdpbmdDb2xvckN1cnZlczpQUk9KRUNULklFZGl0b3JDb2xvckN1cnZlcztcbiAgICB9XG59IiwibW9kdWxlIFBST0pFQ1Qge1xuICAgIC8qKlxuICAgICogQmFieWxvbiBTY3JpcHQgQ29tcG9uZW50XG4gICAgKiBAY2xhc3MgVW5pdmVyc2FsUGxheWVyQ29udHJvbGxlclxuICAgICovXG4gICAgZXhwb3J0IGNsYXNzIFVuaXZlcnNhbFBsYXllckNvbnRyb2xsZXIgZXh0ZW5kcyBCQUJZTE9OLlNjcmlwdENvbXBvbmVudCB7XG4gICAgICAgIHB1YmxpYyBlbmFibGVJbnB1dDpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHB1YmxpYyBhdHRhY2hDYW1lcmE6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwdWJsaWMgcm90YXRlQ2FtZXJhOmJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBwdWJsaWMgbW92ZUNoYXJhY3Rlcjpib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHVibGljIHRvZ2dsZVZpZXc6Ym9vbGVhbiA9IHRydWU7XG4gICAgICAgIHB1YmxpYyBmcmVlTG9va2luZzpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHB1YmxpYyByb290TW90aW9uOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHVibGljIGdyYXZpdHlGb3JjZTpudW1iZXIgPSAwLjU7XG4gICAgICAgIHB1YmxpYyBzbG9wZUZvcmNlOm51bWJlciA9IDA7XG4gICAgICAgIHB1YmxpYyByYXlMZW5ndGg6bnVtYmVyID0gMTtcbiAgICAgICAgcHVibGljIHJheU9yaWdpbjpudW1iZXIgPSAwO1xuICAgICAgICBwdWJsaWMgbWF4QW5nbGU6bnVtYmVyID0gNDU7XG4gICAgICAgIHB1YmxpYyBzcGVlZEZhY3RvcjpudW1iZXIgPSAxLjA7XG4gICAgICAgIHB1YmxpYyBtb3ZlU3BlZWQ6bnVtYmVyID0gNS4wO1xuICAgICAgICBwdWJsaWMgbG9va1NwZWVkOm51bWJlciA9IDIuMDtcbiAgICAgICAgcHVibGljIGp1bXBTcGVlZDpudW1iZXIgPSA4LjA7XG4gICAgICAgIHB1YmxpYyBqdW1wRGVsYXk6bnVtYmVyID0gMC4wO1xuICAgICAgICBwdWJsaWMgZXllc0hlaWdodDpudW1iZXIgPSAwLjI1O1xuICAgICAgICBwdWJsaWMgcGl2b3RIZWlnaHQ6bnVtYmVyID0gMC4yNTtcbiAgICAgICAgcHVibGljIHRvcExvb2tMaW1pdDpudW1iZXIgPSA2MC4wO1xuICAgICAgICBwdWJsaWMgZG93bkxvb2tMaW1pdDpudW1iZXIgPSAzMC4wO1xuICAgICAgICBwdWJsaWMgbG93VHVyblNwZWVkOm51bWJlciA9IDE1LjA7XG4gICAgICAgIHB1YmxpYyBoaWdoVHVyblNwZWVkOm51bWJlciA9IDI1LjA7XG4gICAgICAgIHB1YmxpYyB0YWtlb2ZmUG93ZXI6bnVtYmVyID0gMi41O1xuICAgICAgICBwdWJsaWMgc3RvcHBpbmdQb3dlcjpudW1iZXIgPSA1LjA7XG4gICAgICAgIHB1YmxpYyBhY2NlbGVyYXRpb246Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwdWJsaWMgYXZhdGFyU2tpblRhZzpzdHJpbmcgPSBcIlNraW5cIjtcbiAgICAgICAgcHVibGljIGRpc3RhbmNlRmFjdG9yOm51bWJlciA9IDAuODU7XG4gICAgICAgIHB1YmxpYyBjYW1lcmFTbW9vdGhpbmc6bnVtYmVyID0gNTtcbiAgICAgICAgcHVibGljIGNhbWVyYUNvbGxpc2lvbnM6Ym9vbGVhbiA9IHRydWU7XG4gICAgICAgIHB1YmxpYyBpbnB1dE1hZ25pdHVkZTpudW1iZXIgPSAwO1xuICAgICAgICBwdWJsaWMgbWluaW11bURpc3RhbmNlOm51bWJlciA9IDAuODU7XG4gICAgICAgIHB1YmxpYyBidXR0b25KdW1wOm51bWJlciA9IEJBQllMT04uWGJveDM2MEJ1dHRvbi5BO1xuICAgICAgICBwdWJsaWMga2V5Ym9hcmRKdW1wOm51bWJlciA9IEJBQllMT04uVXNlcklucHV0S2V5LlNwYWNlQmFyO1xuICAgICAgICBwdWJsaWMgYnV0dG9uQ2FtZXJhOm51bWJlciA9IEJBQllMT04uWGJveDM2MEJ1dHRvbi5ZO1xuICAgICAgICBwdWJsaWMga2V5Ym9hcmRDYW1lcmE6bnVtYmVyID0gQkFCWUxPTi5Vc2VySW5wdXRLZXkuUDtcbiAgICAgICAgcHVibGljIHBsYXllck51bWJlcjpCQUJZTE9OLlBsYXllck51bWJlciA9IEJBQllMT04uUGxheWVyTnVtYmVyLk9uZTtcbiAgICAgICAgcHVibGljIGJvb21Qb3NpdGlvbjpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgcHVibGljIG1vdmVtZW50VmVsb2NpdHk6QkFCWUxPTi5WZWN0b3IzID0gQkFCWUxPTi5WZWN0b3IzLlplcm8oKTtcbiAgICAgICAgcHVibGljIGdldFBsYXllcklucHV0WCgpOm51bWJlciB7IHJldHVybiB0aGlzLnBsYXllcklucHV0WDsgfVxuICAgICAgICBwdWJsaWMgZ2V0UGxheWVySW5wdXRaKCk6bnVtYmVyIHsgcmV0dXJuIHRoaXMucGxheWVySW5wdXRaOyB9XG4gICAgICAgIHB1YmxpYyBnZXRQbGF5ZXJNb3VzZVgoKTpudW1iZXIgeyByZXR1cm4gdGhpcy5wbGF5ZXJNb3VzZVg7IH1cbiAgICAgICAgcHVibGljIGdldFBsYXllck1vdXNlWSgpOm51bWJlciB7IHJldHVybiB0aGlzLnBsYXllck1vdXNlWTsgfVxuICAgICAgICBwdWJsaWMgZ2V0UGxheWVySnVtcGluZygpOmJvb2xlYW4geyByZXR1cm4gdGhpcy5pc0NoYXJhY3Rlckp1bXBTdGF0ZTsgfVxuICAgICAgICBwdWJsaWMgZ2V0UGxheWVyR3JvdW5kZWQoKTpib29sZWFuIHsgcmV0dXJuIHRoaXMuaXNDaGFyYWN0ZXJHcm91bmRlZDsgfVxuICAgICAgICBwdWJsaWMgZ2V0R3JvdW5kZWRNZXNoKCk6QkFCWUxPTi5BYnN0cmFjdE1lc2ggeyByZXR1cm4gdGhpcy5ncm91bmRlZE1lc2g7IH1cbiAgICAgICAgcHVibGljIGdldEdyb3VuZGVkUG9pbnQoKTpCQUJZTE9OLlZlY3RvcjMgeyByZXR1cm4gdGhpcy5ncm91bmRlZFBvaW50OyB9XG4gICAgICAgIHB1YmxpYyBnZXRHcm91bmRlZEFuZ2xlKCk6bnVtYmVyIHsgcmV0dXJuIHRoaXMuZ3JvdW5kZWRBbmdsZTsgfVxuICAgICAgICBwdWJsaWMgZ2V0R3JvdW5kZWROb3JtYWwoKTpCQUJZTE9OLlZlY3RvcjMgeyByZXR1cm4gdGhpcy5ncm91bmRlZE5vcm1hbDsgfVxuICAgICAgICBwdWJsaWMgZ2V0Q2FtZXJhQm9vbU5vZGUoKTpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgeyByZXR1cm4gdGhpcy5jYW1lcmFOb2RlOyB9XG4gICAgICAgIHB1YmxpYyBnZXRDYW1lcmFUcmFuc2Zvcm0oKTpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgeyByZXR1cm4gdGhpcy5jYW1lcmFQaXZvdDsgfVxuICAgICAgICBwdWJsaWMgZ2V0QW5pbWF0aW9uU3RhdGUoKTpCQUJZTE9OLkFuaW1hdGlvblN0YXRlIHsgcmV0dXJuIHRoaXMuYW5pbWF0aW9uU3RhdGU7IH1cbiAgICAgICAgcHVibGljIGdldENoYXJhY3RlckNvbnRyb2xsZXIoKTpCQUJZTE9OLkNoYXJhY3RlckNvbnRyb2xsZXIgeyByZXR1cm4gdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyOyB9XG5cbiAgICAgICAgcHJpdmF0ZSBhYnN0cmFjdE1lc2g6QkFCWUxPTi5BYnN0cmFjdE1lc2ggPSBudWxsO1xuICAgICAgICBwcml2YXRlIGNhbWVyYURpc3RhbmNlOm51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgZm9yd2FyZENhbWVyYTpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgZG9sbHlEaXJlY3Rpb246QkFCWUxPTi5WZWN0b3IzID0gQkFCWUxPTi5WZWN0b3IzLlplcm8oKTtcbiAgICAgICAgcHJpdmF0ZSByb3RhdGlvbkV1bGVyczpCQUJZTE9OLlZlY3RvcjMgPSBCQUJZTE9OLlZlY3RvcjMuWmVybygpO1xuICAgICAgICBwcml2YXRlIGNhbWVyYVBpdm90T2Zmc2V0OkJBQllMT04uVmVjdG9yMyA9IEJBQllMT04uVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIHByaXZhdGUgY2FtZXJhRm9yd2FyZFZlY3RvcjpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgcHJpdmF0ZSBjYW1lcmFSaWdodFZlY3RvcjpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgcHJpdmF0ZSBkZXNpcmVkRm9yd2FyZFZlY3RvcjpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgcHJpdmF0ZSBkZXNpcmVkUmlnaHRWZWN0b3I6QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHByaXZhdGUgc2NhbGVkQ2FtRGlyZWN0aW9uOkJBQllMT04uVmVjdG9yMyA9IEJBQllMT04uVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIHByaXZhdGUgc2NhbGVkTWF4RGlyZWN0aW9uOkJBQllMT04uVmVjdG9yMyA9IEJBQllMT04uVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIHByaXZhdGUgcGFyZW50Tm9kZVBvc2l0aW9uOkJBQllMT04uVmVjdG9yMyA9IEJBQllMT04uVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIHByaXZhdGUgbWF4aW11bUNhbWVyYVBvczpCQUJZTE9OLlZlY3RvcjMgPSBCQUJZTE9OLlZlY3RvcjMuWmVybygpO1xuXG4gICAgICAgIHByaXZhdGUgcmF5Y2FzdFNoYXBlOmFueSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgcmF5Y2FzdEdyb3VwOm51bWJlciA9IEJBQllMT04uQ29sbGlzaW9uRmlsdGVycy5EZWZhdWx0RmlsdGVyO1xuICAgICAgICBwcml2YXRlIHJheWNhc3RNYXNrOm51bWJlciA9IChCQUJZTE9OLkNvbGxpc2lvbkZpbHRlcnMuQWxsRmlsdGVyIF4gQkFCWUxPTi5Db2xsaXNpb25GaWx0ZXJzLkNoYXJhY3RlckZpbHRlcik7XG4gICAgICAgIHByaXZhdGUgYXZhdGFyU2tpbnM6QkFCWUxPTi5BYnN0cmFjdE1lc2hbXSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgY2FtZXJhTm9kZTpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGNhbWVyYVBpdm90OkJBQllMT04uTWVzaCA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgbmF2aWdhdGlvbkFnZW50OkJBQllMT04uTmF2aWdhdGlvbkFnZW50ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBjaGFyYWN0ZXJDb250cm9sbGVyOkJBQllMT04uQ2hhcmFjdGVyQ29udHJvbGxlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgaXNDaGFyYWN0ZXJOYXZpZ2F0aW5nOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBpc0NoYXJhY3Rlckdyb3VuZGVkOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBpc0NoYXJhY3Rlckp1bXBGcmFtZTpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgaXNDaGFyYWN0ZXJKdW1wU3RhdGU6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIG5hdmlnYXRpb25Bbmd1bGFyU3BlZWQ6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBhbmltYXRpb25Db250cm9sbGVyVGFnOnN0cmluZyA9IFwiQW5pbWF0b3JcIjtcbiAgICAgICAgcHJpdmF0ZSBhbmltYXRpb25TdGF0ZU1hY2hpbmU6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIGFuaW1hdGlvblN0YXRlUGFyYW1zOkFuaW1hdGlvblN0YXRlUGFyYW1zID0gbnVsbDtcblxuICAgICAgICBwcml2YXRlIHNob3dEZWJ1Z0NvbGxpZGVyczpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgY29sbGlkZXJWaXNpYmlsaXR5Om51bWJlciA9IDA7XG5cbiAgICAgICAgcHJpdmF0ZSBkZWx0YVRpbWU6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBqdW1wVGltZXI6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBwbGF5ZXJDb250cm9sOm51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgcGxheWVySW5wdXRYOm51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgcGxheWVySW5wdXRaOm51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgcGxheWVyTW91c2VYOm51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgcGxheWVyTW91c2VZOm51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgZ3JvdW5kZWRNZXNoOkJBQllMT04uQWJzdHJhY3RNZXNoID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBncm91bmRlZFBvaW50OkJBQllMT04uVmVjdG9yMyA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgZ3JvdW5kZWRBbmdsZTpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGdyb3VuZGVkTm9ybWFsOkJBQllMT04uVmVjdG9yMyA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgdmVydGljYWxWZWxvY2l0eTpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHJvb3Rtb3Rpb25TcGVlZDpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHNtb290aERlbHRhVGltZTpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGFuaW1hdGlvblN0YXRlOkJBQllMT04uQW5pbWF0aW9uU3RhdGUgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGlucHV0TW92ZW1lbnRWZWN0b3I6QkFCWUxPTi5WZWN0b3IzID0gQkFCWUxPTi5WZWN0b3IzLlplcm8oKTtcbiAgICAgICAgcHJpdmF0ZSBwbGF5ZXJMb29rUm90YXRpb246QkFCWUxPTi5WZWN0b3IzID0gQkFCWUxPTi5WZWN0b3IzLlplcm8oKTtcbiAgICAgICAgcHJpdmF0ZSBwbGF5ZXJSb3RhdGlvblZlY3RvcjpCQUJZTE9OLlZlY3RvcjIgPSBCQUJZTE9OLlZlY3RvcjIuWmVybygpO1xuICAgICAgICBwcml2YXRlIHBsYXllck1vdmVtZW50VmVsb2NpdHk6QkFCWUxPTi5WZWN0b3IzID0gQkFCWUxPTi5WZWN0b3IzLlplcm8oKTtcbiAgICAgICAgcHJpdmF0ZSBwbGF5ZXJSb3RhdGlvblF1YXRlcm5pb246QkFCWUxPTi5RdWF0ZXJuaW9uID0gQkFCWUxPTi5RdWF0ZXJuaW9uLlplcm8oKTtcblxuICAgICAgICBwcm90ZWN0ZWQgYXdha2UoKTogdm9pZCB7IHRoaXMuYXdha2VQbGF5ZXJDb250cm9sbGVyKCk7IH1cbiAgICAgICAgcHJvdGVjdGVkIHN0YXJ0KCk6IHZvaWQgeyB0aGlzLnN0YXJ0UGxheWVyQ29udHJvbGxlcigpOyB9XG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGUoKTogdm9pZCB7IHRoaXMudXBkYXRlUGxheWVyQ29udHJvbGxlcigpOyB9XG4gICAgICAgIHByb3RlY3RlZCBsYXRlKCk6IHZvaWQgeyB0aGlzLmxhdGVQbGF5ZXJDb250cm9sbGVyKCk7IH1cbiAgICAgICAgcHJvdGVjdGVkIGFmdGVyKCk6IHZvaWQgeyB0aGlzLmFmdGVyUGxheWVyQ29udHJvbGxlcigpOyB9XG4gICAgICAgIHByb3RlY3RlZCBkZXN0cm95KCk6IHZvaWQgeyB0aGlzLmRlc3Ryb3lQbGF5ZXJDb250cm9sbGVyKCk7IH1cblxuICAgICAgICAvKiogUmVnaXN0ZXIgaGFuZGxlciB0aGF0IGlzIHRyaWdnZXJlZCBiZWZvcmUgdGhlIGNvbnRyb2xsZXIgaGFzIGJlZW4gdXBkYXRlZCAqL1xuICAgICAgICBwdWJsaWMgb25QcmVVcGRhdGVPYnNlcnZhYmxlID0gbmV3IEJBQllMT04uT2JzZXJ2YWJsZTxCQUJZTE9OLlRyYW5zZm9ybU5vZGU+KCk7XG4gICAgICAgIC8qKiBSZWdpc3RlciBoYW5kbGVyIHRoYXQgaXMgdHJpZ2dlcmVkIGJlZm9yZSB0aGUgY29udHJvbGxlciBtb3ZlbWVudCBoYXMgYmVlbiBhcHBsaWVkICovXG4gICAgICAgIHB1YmxpYyBvbkJlZm9yZU1vdmVPYnNlcnZhYmxlID0gbmV3IEJBQllMT04uT2JzZXJ2YWJsZTxCQUJZTE9OLlRyYW5zZm9ybU5vZGU+KCk7XG4gICAgICAgIC8qKiBSZWdpc3RlciBoYW5kbGVyIHRoYXQgaXMgdHJpZ2dlcmVkIGFmdGVyIHRoZSBjb250cm9sbGVyIGhhcyBiZWVuIHVwZGF0ZWQgKi9cbiAgICAgICAgcHVibGljIG9uUG9zdFVwZGF0ZU9ic2VydmFibGUgPSBuZXcgQkFCWUxPTi5PYnNlcnZhYmxlPEJBQllMT04uVHJhbnNmb3JtTm9kZT4oKTtcblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAvLyBDb250cm9sbGVyIEF0dGFjaG1lbnQgRnVuY3Rpb25zXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgLyoqIFRPRE8gKi9cbiAgICAgICAgcHVibGljIHNldFBsYXllckNvbnRyb2wobW9kZTpQUk9KRUNULlBsYXllcklucHV0Q29udHJvbCk6dm9pZCB7XG4gICAgICAgICAgICB0aGlzLnBsYXllckNvbnRyb2wgPSBtb2RlO1xuICAgICAgICAgICAgaWYgKHRoaXMucGxheWVyQ29udHJvbCA9PT0gUFJPSkVDVC5QbGF5ZXJJbnB1dENvbnRyb2wuVGhpcmRQZXJzb25TdHJhZmluZyB8fCB0aGlzLnBsYXllckNvbnRyb2wgPT09IFBST0pFQ1QuUGxheWVySW5wdXRDb250cm9sLlRoaXJkUGVyc29uRm9yd2FyZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2hvd0F2YXRhclNraW5zKHRydWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dBdmF0YXJTa2lucyhmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXJDb250cm9sID09PSBQUk9KRUNULlBsYXllcklucHV0Q29udHJvbC5UaGlyZFBlcnNvbkZvcndhcmQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZvcndhcmRDYW1lcmEgPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBsYXllckNvbnRyb2wgPT09IFBST0pFQ1QuUGxheWVySW5wdXRDb250cm9sLlRoaXJkUGVyc29uU3RyYWZpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZvcndhcmRDYW1lcmEgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKiogVE9ETyAqL1xuICAgICAgICBwdWJsaWMgdG9nZ2xlUGxheWVyQ29udHJvbCgpOnZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMudG9nZ2xlVmlldyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsYXllckNvbnRyb2wgPT09IFBST0pFQ1QuUGxheWVySW5wdXRDb250cm9sLkZpcnN0UGVyc29uU3RyYWZpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZm9yd2FyZENhbWVyYSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRQbGF5ZXJDb250cm9sKFBST0pFQ1QuUGxheWVySW5wdXRDb250cm9sLlRoaXJkUGVyc29uRm9yd2FyZCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFBsYXllckNvbnRyb2woUFJPSkVDVC5QbGF5ZXJJbnB1dENvbnRyb2wuVGhpcmRQZXJzb25TdHJhZmluZyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFBsYXllckNvbnRyb2woUFJPSkVDVC5QbGF5ZXJJbnB1dENvbnRyb2wuRmlyc3RQZXJzb25TdHJhZmluZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByaXZhdGUgc2hvd0F2YXRhclNraW5zKHNob3c6Ym9vbGVhbik6dm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5hdmF0YXJTa2lucyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gVE9ETyAtIE1ha2UgU2tpbnMgVmlzaWJsZSBPciBOb3QgVE8gQ2FtZXJhIEJ1dCBLZWVwIFNoYWRvd3MgLSA/Pz9cbiAgICAgICAgICAgICAgICB0aGlzLmF2YXRhclNraW5zLmZvckVhY2goKHNraW46QkFCWUxPTi5BYnN0cmFjdE1lc2gpID0+IHsgc2tpbi5pc1Zpc2libGUgPSBzaG93OyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBUT0RPICovXG4gICAgICAgIHB1YmxpYyBhdHRhY2hQbGF5ZXJDYW1lcmEocGxheWVyOkJBQllMT04uUGxheWVyTnVtYmVyKTp2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNhbWVyYU5vZGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllckNhbWVyYTpudW1iZXIgPSAocGxheWVyIDw9IDAgfHwgcGxheWVyID4gNCkgPyAxIDogcGxheWVyO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhTm9kZSA9IFBST0pFQ1QuVW5pdmVyc2FsQ2FtZXJhU3lzdGVtLkdldENhbWVyYVRyYW5zZm9ybSh0aGlzLnNjZW5lLCBwbGF5ZXJDYW1lcmEpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhbWVyYU5vZGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYU5vZGUucGFyZW50ID0gdGhpcy5jYW1lcmFQaXZvdDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFOb2RlLnBvc2l0aW9uLmNvcHlGcm9tKHRoaXMuYm9vbVBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFOb2RlLnJvdGF0aW9uUXVhdGVybmlvbiA9IG5ldyBCQUJZTE9OLlF1YXRlcm5pb24oMCwgMCwgMCwgMSk7XG4gICAgICAgICAgICAgICAgICAgIFxuXG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gLSBNb3ZlIHNvbWV3aGVyZSBiZXR0ZXIgLSA/Pz9cbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyAtIEhhbmRsZSBMb25nIEludGl0aWFsIENhbWVyYSBQYW4gLSA/Pz9cbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFEaXN0YW5jZSA9IHRoaXMuY2FtZXJhTm9kZS5wb3NpdGlvbi5sZW5ndGgoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb2xseURpcmVjdGlvbi5jb3B5RnJvbSh0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbGx5RGlyZWN0aW9uLm5vcm1hbGl6ZSgpO1xuICAgICAgICAgICAgICAgICAgICBcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbHMuV2FybihcIkZhaWxlZCB0byBsb2NhdGUgcGxheWVyIGNhbWVyYSBmb3I6IFwiICsgdGhpcy50cmFuc2Zvcm0ubmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByaXZhdGUgYXR0YWNoQW5pbWF0aW9uQ29udHJvbGxlcigpOnZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uU3RhdGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvbkNvbnRyb2xsZXJUYWcgIT0gbnVsbCAmJiB0aGlzLmFuaW1hdGlvbkNvbnRyb2xsZXJUYWcgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGJvdG1lc2g6QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaGFzVHJhbnNmb3JtVGFncyh0aGlzLmFuaW1hdGlvbkNvbnRyb2xsZXJUYWcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBib3RtZXNoID0gdGhpcy50cmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBib3RtZXNoID0gdGhpcy5nZXRDaGlsZFdpdGhUYWdzKHRoaXMuYW5pbWF0aW9uQ29udHJvbGxlclRhZywgZmFsc2UpIGFzIEJBQllMT04uQWJzdHJhY3RNZXNoO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChib3RtZXNoICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUgPSBCQUJZTE9OLlNjZW5lTWFuYWdlci5GaW5kU2NyaXB0Q29tcG9uZW50KGJvdG1lc2gsIFwiQkFCWUxPTi5BbmltYXRpb25TdGF0ZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbHMuV2FybihcIkZhaWxlZCB0byBsb2NhdGUgYm90IG1lc2ggd2l0aCB0YWc6IFwiICsgdGhpcy5hbmltYXRpb25Db250cm9sbGVyVGFnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKiogVE9ETyAqL1xuICAgICAgICBwdWJsaWMgcmVzZXRQbGF5ZXJSb3RhdGlvbigpOnZvaWQge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uLnRvRXVsZXJBbmdsZXNUb1JlZih0aGlzLnJvdGF0aW9uRXVsZXJzKTsgICAgICAgICAgICBcbiAgICAgICAgICAgIHRoaXMucGxheWVyUm90YXRpb25WZWN0b3IueCA9IHRoaXMucm90YXRpb25FdWxlcnMueDtcbiAgICAgICAgICAgIHRoaXMucGxheWVyUm90YXRpb25WZWN0b3IueSA9IHRoaXMucm90YXRpb25FdWxlcnMueTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vIENvbnRyb2xsZXIgV29ya2VyIEZ1bmN0aW9uc1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIHByaXZhdGUgYXdha2VQbGF5ZXJDb250cm9sbGVyKCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5ncmF2aXR5Rm9yY2UgPSB0aGlzLmdldFByb3BlcnR5KFwiZ3Jhdml0eUZvcmNlXCIsIHRoaXMuZ3Jhdml0eUZvcmNlKTtcbiAgICAgICAgICAgIHRoaXMucm90YXRlQ2FtZXJhID0gdGhpcy5nZXRQcm9wZXJ0eShcInJvdGF0ZUNhbWVyYVwiLCB0aGlzLnJvdGF0ZUNhbWVyYSk7XG4gICAgICAgICAgICB0aGlzLm1vdmVDaGFyYWN0ZXIgPSB0aGlzLmdldFByb3BlcnR5KFwibW92ZUNoYXJhY3RlclwiLCB0aGlzLm1vdmVDaGFyYWN0ZXIpO1xuICAgICAgICAgICAgdGhpcy5zbG9wZUZvcmNlID0gdGhpcy5nZXRQcm9wZXJ0eShcInNsb3BlRm9yY2VcIiwgdGhpcy5zbG9wZUZvcmNlKTtcbiAgICAgICAgICAgIHRoaXMucmF5TGVuZ3RoID0gdGhpcy5nZXRQcm9wZXJ0eShcInJheUxlbmd0aFwiLCB0aGlzLnJheUxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLnJheU9yaWdpbiA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyYXlPcmlnaW5cIiwgdGhpcy5yYXlPcmlnaW4pO1xuICAgICAgICAgICAgdGhpcy5tYXhBbmdsZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtYXhBbmdsZVwiLCB0aGlzLm1heEFuZ2xlKTtcbiAgICAgICAgICAgIHRoaXMuc3BlZWRGYWN0b3IgPSB0aGlzLmdldFByb3BlcnR5KFwic3BlZWRGYWN0b3JcIiwgdGhpcy5zcGVlZEZhY3Rvcik7XG4gICAgICAgICAgICB0aGlzLm1vdmVTcGVlZCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtb3ZlU3BlZWRcIiwgdGhpcy5tb3ZlU3BlZWQpO1xuICAgICAgICAgICAgdGhpcy5sb29rU3BlZWQgPSB0aGlzLmdldFByb3BlcnR5KFwibG9va1NwZWVkXCIsIHRoaXMubG9va1NwZWVkKTtcbiAgICAgICAgICAgIHRoaXMuanVtcFNwZWVkID0gdGhpcy5nZXRQcm9wZXJ0eShcImp1bXBTcGVlZFwiLCB0aGlzLmp1bXBTcGVlZCk7XG4gICAgICAgICAgICB0aGlzLmp1bXBEZWxheSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJqdW1wRGVsYXlcIiwgdGhpcy5qdW1wRGVsYXkpO1xuICAgICAgICAgICAgdGhpcy5leWVzSGVpZ2h0ID0gdGhpcy5nZXRQcm9wZXJ0eShcImV5ZXNIZWlnaHRcIiwgdGhpcy5leWVzSGVpZ2h0KTtcbiAgICAgICAgICAgIHRoaXMucGl2b3RIZWlnaHQgPSB0aGlzLmdldFByb3BlcnR5KFwicGl2b3RIZWlnaHRcIiwgdGhpcy5waXZvdEhlaWdodCk7XG4gICAgICAgICAgICB0aGlzLnRvcExvb2tMaW1pdCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJ0b3BMb29rTGltaXRcIiwgdGhpcy50b3BMb29rTGltaXQpO1xuICAgICAgICAgICAgdGhpcy5kb3duTG9va0xpbWl0ID0gdGhpcy5nZXRQcm9wZXJ0eShcImRvd25Mb29rTGltaXRcIiwgdGhpcy5kb3duTG9va0xpbWl0KTtcbiAgICAgICAgICAgIHRoaXMubG93VHVyblNwZWVkID0gdGhpcy5nZXRQcm9wZXJ0eShcImxvd1R1cm5TcGVlZFwiLCB0aGlzLmxvd1R1cm5TcGVlZCk7XG4gICAgICAgICAgICB0aGlzLmhpZ2hUdXJuU3BlZWQgPSB0aGlzLmdldFByb3BlcnR5KFwiaGlnaFR1cm5TcGVlZFwiLCB0aGlzLmhpZ2hUdXJuU3BlZWQpO1xuICAgICAgICAgICAgdGhpcy5lbmFibGVJbnB1dCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJlbmFibGVJbnB1dFwiLCB0aGlzLmVuYWJsZUlucHV0KTtcbiAgICAgICAgICAgIHRoaXMucm9vdE1vdGlvbiA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyb290TW90aW9uXCIsIHRoaXMucm9vdE1vdGlvbik7XG4gICAgICAgICAgICB0aGlzLnBsYXllck51bWJlciA9IHRoaXMuZ2V0UHJvcGVydHkoXCJwbGF5ZXJOdW1iZXJcIiwgdGhpcy5wbGF5ZXJOdW1iZXIpXG4gICAgICAgICAgICB0aGlzLmF0dGFjaENhbWVyYSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJhdHRhY2hDYW1lcmFcIiwgdGhpcy5hdHRhY2hDYW1lcmEpO1xuICAgICAgICAgICAgdGhpcy5mcmVlTG9va2luZyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJmcmVlTG9va2luZ1wiLCB0aGlzLmZyZWVMb29raW5nKTtcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlVmlldyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJ0b2dnbGVWaWV3XCIsIHRoaXMudG9nZ2xlVmlldyk7XG4gICAgICAgICAgICB0aGlzLmF2YXRhclNraW5UYWcgPSB0aGlzLmdldFByb3BlcnR5KFwiYXZhdGFyU2tpblRhZ1wiLCB0aGlzLmF2YXRhclNraW5UYWcpXG4gICAgICAgICAgICB0aGlzLmNhbWVyYUNvbGxpc2lvbnMgPSB0aGlzLmdldFByb3BlcnR5KFwiY2FtZXJhQ29sbGlzaW9uc1wiLCB0aGlzLmNhbWVyYUNvbGxpc2lvbnMpXG4gICAgICAgICAgICB0aGlzLmNhbWVyYVNtb290aGluZyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJjYW1lcmFTbW9vdGhpbmdcIiwgdGhpcy5jYW1lcmFTbW9vdGhpbmcpXG4gICAgICAgICAgICB0aGlzLmRpc3RhbmNlRmFjdG9yID0gdGhpcy5nZXRQcm9wZXJ0eShcImRpc3RhbmNlRmFjdG9yXCIsIHRoaXMuZGlzdGFuY2VGYWN0b3IpXG4gICAgICAgICAgICB0aGlzLm1pbmltdW1EaXN0YW5jZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtaW5pbXVtRGlzdGFuY2VcIiwgdGhpcy5taW5pbXVtRGlzdGFuY2UpO1xuICAgICAgICAgICAgdGhpcy5zdG9wcGluZ1Bvd2VyID0gdGhpcy5nZXRQcm9wZXJ0eShcInN0b3BwaW5nUG93ZXJcIiwgdGhpcy5zdG9wcGluZ1Bvd2VyKTtcbiAgICAgICAgICAgIHRoaXMudGFrZW9mZlBvd2VyID0gdGhpcy5nZXRQcm9wZXJ0eShcInRha2VvZmZQb3dlclwiLCB0aGlzLnRha2VvZmZQb3dlcik7XG4gICAgICAgICAgICB0aGlzLmFjY2VsZXJhdGlvbiA9IHRoaXMuZ2V0UHJvcGVydHkoXCJhY2NlbGVyYXRpb25cIiwgdGhpcy5hY2NlbGVyYXRpb24pO1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25Db250cm9sbGVyVGFnID0gdGhpcy5nZXRQcm9wZXJ0eShcImFuaW1hdGlvbkNvbnRyb2xsZXJUYWdcIiwgdGhpcy5hbmltYXRpb25Db250cm9sbGVyVGFnKTtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGVNYWNoaW5lID0gdGhpcy5nZXRQcm9wZXJ0eShcImFuaW1hdGlvblN0YXRlTWFjaGluZVwiLCB0aGlzLmFuaW1hdGlvblN0YXRlTWFjaGluZSk7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zID0gdGhpcy5nZXRQcm9wZXJ0eShcImFuaW1hdGlvblN0YXRlUGFyYW1zXCIsIHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGNvbnN0IGJvb21Qb3NpdGlvbkRhdGE6YW55ID0gdGhpcy5nZXRQcm9wZXJ0eShcImJvb21Qb3NpdGlvblwiKTtcbiAgICAgICAgICAgIGlmIChib29tUG9zaXRpb25EYXRhICE9IG51bGwpIHRoaXMuYm9vbVBvc2l0aW9uID0gQkFCWUxPTi5VdGlsaXRpZXMuUGFyc2VWZWN0b3IzKGJvb21Qb3NpdGlvbkRhdGEpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGNvbnN0IHNwaGVyZVJhZGl1czpudW1iZXIgPSB0aGlzLmdldFByb3BlcnR5KFwic3BoZXJlUmFkaXVzXCIsIDAuNSlcbiAgICAgICAgICAgIHRoaXMucmF5Y2FzdFNoYXBlID0gQkFCWUxPTi5TY2VuZU1hbmFnZXIuQ3JlYXRlUGh5c2ljc1NwaGVyZVNoYXBlKHNwaGVyZVJhZGl1cyk7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgdGhpcy5hYnN0cmFjdE1lc2ggPSB0aGlzLmdldEFic3RyYWN0TWVzaCgpO1xuICAgICAgICAgICAgdGhpcy5zaG93RGVidWdDb2xsaWRlcnMgPSBCQUJZTE9OLlV0aWxpdGllcy5TaG93RGVidWdDb2xsaWRlcnMoKTtcbiAgICAgICAgICAgIHRoaXMuY29sbGlkZXJWaXNpYmlsaXR5ID0gQkFCWUxPTi5VdGlsaXRpZXMuQ29sbGlkZXJWaXNpYmlsaXR5KCk7XG4gICAgICAgICAgICAvLyBOb3RlOiBHZXQgQXZhdGFyIFNraW5zIEZpcnN0IFRoaW5nXG4gICAgICAgICAgICBpZiAodGhpcy5hdmF0YXJTa2luVGFnICE9IG51bGwgJiYgdGhpcy5hdmF0YXJTa2luVGFnICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hdmF0YXJTa2lucyA9IHRoaXMuZ2V0Q2hpbGRyZW5XaXRoVGFncyh0aGlzLmF2YXRhclNraW5UYWcsIGZhbHNlKSBhcyBCQUJZTE9OLkFic3RyYWN0TWVzaFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcGNvbnRyb2w6bnVtYmVyID0gdGhpcy5nZXRQcm9wZXJ0eShcInBsYXllckNvbnRyb2xcIiwgdGhpcy5wbGF5ZXJDb250cm9sKTtcbiAgICAgICAgICAgIHRoaXMuc2V0UGxheWVyQ29udHJvbChwY29udHJvbClcbiAgICAgICAgICAgIHRoaXMucmVzZXRQbGF5ZXJSb3RhdGlvbigpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIHRoaXMuY2FtZXJhUGl2b3QgPSBuZXcgQkFCWUxPTi5NZXNoKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5DYW1lcmFQaXZvdFwiLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhUGl2b3QucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhUGl2b3QucG9zaXRpb24gPSB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi5jbG9uZSgpO1xuICAgICAgICAgICAgdGhpcy5jYW1lcmFQaXZvdC5yb3RhdGlvblF1YXRlcm5pb24gPSB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24uY2xvbmUoKTtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhUGl2b3QuY2hlY2tDb2xsaXNpb25zID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYVBpdm90LmlzUGlja2FibGUgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBpZiAodGhpcy5zaG93RGVidWdDb2xsaWRlcnMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXN0UGl2b3Q6QkFCWUxPTi5NZXNoID0gQkFCWUxPTi5NZXNoQnVpbGRlci5DcmVhdGVCb3goXCJUZXN0UGl2b3RcIiwgeyB3aWR0aDogMC4yNSwgaGVpZ2h0OiAwLjI1LCBkZXB0aDogMC41IH0sIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgIHRlc3RQaXZvdC5wYXJlbnQgPSB0aGlzLmNhbWVyYVBpdm90O1xuICAgICAgICAgICAgICAgIHRlc3RQaXZvdC5wb3NpdGlvbi5zZXQoMCwwLDApO1xuICAgICAgICAgICAgICAgIHRlc3RQaXZvdC5yb3RhdGlvblF1YXRlcm5pb24gPSBuZXcgQkFCWUxPTi5RdWF0ZXJuaW9uKDAsMCwwLDEpO1xuICAgICAgICAgICAgICAgIHRlc3RQaXZvdC52aXNpYmlsaXR5ID0gMC41O1xuICAgICAgICAgICAgICAgIHRlc3RQaXZvdC5jaGVja0NvbGxpc2lvbnMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0ZXN0UGl2b3QuaXNQaWNrYWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIEJBQllMT04uU2NlbmVNYW5hZ2VyLk9uS2V5Ym9hcmRQcmVzcyh0aGlzLmtleWJvYXJkQ2FtZXJhLCAoKT0+eyB0aGlzLnRvZ2dsZVBsYXllckNvbnRyb2woKTsgfSk7XG4gICAgICAgICAgICBCQUJZTE9OLlNjZW5lTWFuYWdlci5PbkdhbWVwYWRCdXR0b25QcmVzcyh0aGlzLmJ1dHRvbkNhbWVyYSwgKCk9PnsgdGhpcy50b2dnbGVQbGF5ZXJDb250cm9sKCk7IH0pO1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIHRoaXMubmF2aWdhdGlvbkFnZW50ID0gdGhpcy5nZXRDb21wb25lbnQoXCJCQUJZTE9OLk5hdmlnYXRpb25BZ2VudFwiKTtcbiAgICAgICAgICAgIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlciA9IHRoaXMuZ2V0Q29tcG9uZW50KFwiQkFCWUxPTi5DaGFyYWN0ZXJDb250cm9sbGVyXCIpO1xuICAgICAgICAgICAgaWYgKHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29scy5XYXJuKFwiU3RhcnRpbmcgcGxheWVyIGNvbnRyb2xsZXIgaW4gcGh5c2ljIGVuZ2luZSBtb2RlIGZvcjogXCIgKyB0aGlzLnRyYW5zZm9ybS5uYW1lKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29scy5XYXJuKFwiU3RhcnRpbmcgcGxheWVyIGNvbnRyb2xsZXIgaW4gY2hlY2sgY29sbGlzaW9ucyBtb2RlIGZvcjogXCIgKyB0aGlzLnRyYW5zZm9ybS5uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIgPT0gbnVsbCAmJiB0aGlzLmFic3RyYWN0TWVzaCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hYnN0cmFjdE1lc2guY2hlY2tDb2xsaXNpb25zID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmFic3RyYWN0TWVzaC5pc1BpY2thYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBhIGRlYnVnIGNvbGxpc2lvbiBzaGFwZVxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2hvd0RlYnVnQ29sbGlkZXJzID09PSB0cnVlICYmICg8YW55PnRoaXMudHJhbnNmb3JtKS5fZGVidWdDb2xsaWRlciA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsbGlwc29pZFNlZ3M6bnVtYmVyID0gMTY7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhcHN1bGVTaXplOkJBQllMT04uVmVjdG9yMyA9IHRoaXMuYWJzdHJhY3RNZXNoLmVsbGlwc29pZC5jbG9uZSgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWJ1Z05hbWU6c3RyaW5nID0gdGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLkRlYnVnXCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlYnVnQ2Fwc3VsZTpCQUJZTE9OLk1lc2ggPSBCQUJZTE9OLk1lc2hCdWlsZGVyLkNyZWF0ZVNwaGVyZShkZWJ1Z05hbWUsIHsgc2VnbWVudHM6IGVsbGlwc29pZFNlZ3MsIGRpYW1ldGVyWDogKGNhcHN1bGVTaXplLnggKiAyKSwgZGlhbWV0ZXJZOiAoY2Fwc3VsZVNpemUueSAqIDIpLCBkaWFtZXRlclo6IChjYXBzdWxlU2l6ZS56ICogMikgfSwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgIGRlYnVnQ2Fwc3VsZS5wb3NpdGlvbi5zZXQoMCwwLDApO1xuICAgICAgICAgICAgICAgICAgICBkZWJ1Z0NhcHN1bGUucm90YXRpb25RdWF0ZXJuaW9uID0gdGhpcy50cmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uLmNsb25lKCk7XG4gICAgICAgICAgICAgICAgICAgIGRlYnVnQ2Fwc3VsZS5zZXRQYXJlbnQodGhpcy50cmFuc2Zvcm0pO1xuICAgICAgICAgICAgICAgICAgICBkZWJ1Z0NhcHN1bGUucG9zaXRpb24uc2V0KDAsMCwwKTtcbiAgICAgICAgICAgICAgICAgICAgZGVidWdDYXBzdWxlLnZpc2liaWxpdHkgPSB0aGlzLmNvbGxpZGVyVmlzaWJpbGl0eTtcbiAgICAgICAgICAgICAgICAgICAgZGVidWdDYXBzdWxlLm1hdGVyaWFsID0gQkFCWUxPTi5VdGlsaXRpZXMuR2V0Q29sbGlkZXJNYXRlcmlhbCh0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgZGVidWdDYXBzdWxlLmNoZWNrQ29sbGlzaW9ucyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBkZWJ1Z0NhcHN1bGUuaXNQaWNrYWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAoPGFueT50aGlzLnRyYW5zZm9ybSkuX2RlYnVnQ29sbGlkZXIgPSBkZWJ1Z0NhcHN1bGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBzdGFydFBsYXllckNvbnRyb2xsZXIoKTogdm9pZCB7XG4gICAgICAgICAgICAvLyBUT0RPIC0gU3VwcG9ydCBEeW5hbWljIFBsYXllck51bWJlciBDaGFuZ2UgLSA/Pz9cbiAgICAgICAgICAgIGlmICh0aGlzLmF0dGFjaENhbWVyYSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNoUGxheWVyQ2FtZXJhKHRoaXMucGxheWVyTnVtYmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgdXBkYXRlUGxheWVyQ29udHJvbGxlcigpOiB2b2lkIHtcbiAgICAgICAgICAgIC8vIFRPRE8gLSBGSVggVEhJUyBTSElUXG4gICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25TdGF0ZU1hY2hpbmUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaEFuaW1hdGlvbkNvbnRyb2xsZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICB0aGlzLmRlbHRhVGltZSA9IHRoaXMuZ2V0RGVsdGFTZWNvbmRzKCk7XG4gICAgICAgICAgICB0aGlzLnNtb290aERlbHRhVGltZSA9IEJBQllMT04uU3lzdGVtLlNtb290aERlbHRhRmFjdG9yICogdGhpcy5kZWx0YVRpbWUgKyAoMSAtIEJBQllMT04uU3lzdGVtLlNtb290aERlbHRhRmFjdG9yKSAqIHRoaXMuc21vb3RoRGVsdGFUaW1lO1xuICAgICAgICAgICAgaWYgKHRoaXMuanVtcFRpbWVyID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuanVtcFRpbWVyIC09IHRoaXMuZGVsdGFUaW1lOyBcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5qdW1wVGltZXIgPCAwKSB0aGlzLmp1bXBUaW1lciA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKHRoaXMuZW5hYmxlSW5wdXQgPT09IGZhbHNlKSByZXR1cm47XG4gICAgICAgICAgICB0aGlzLnBsYXllcklucHV0WCA9IEJBQllMT04uU2NlbmVNYW5hZ2VyLkdldFVzZXJJbnB1dChCQUJZTE9OLlVzZXJJbnB1dEF4aXMuSG9yaXpvbnRhbCwgdGhpcy5wbGF5ZXJOdW1iZXIpO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJJbnB1dFogPSBCQUJZTE9OLlNjZW5lTWFuYWdlci5HZXRVc2VySW5wdXQoQkFCWUxPTi5Vc2VySW5wdXRBeGlzLlZlcnRpY2FsLCB0aGlzLnBsYXllck51bWJlcik7XG4gICAgICAgICAgICB0aGlzLnBsYXllck1vdXNlWCA9IEJBQllMT04uU2NlbmVNYW5hZ2VyLkdldFVzZXJJbnB1dChCQUJZTE9OLlVzZXJJbnB1dEF4aXMuTW91c2VYLCB0aGlzLnBsYXllck51bWJlcik7XG4gICAgICAgICAgICB0aGlzLnBsYXllck1vdXNlWSA9IEJBQllMT04uU2NlbmVNYW5hZ2VyLkdldFVzZXJJbnB1dChCQUJZTE9OLlVzZXJJbnB1dEF4aXMuTW91c2VZLCB0aGlzLnBsYXllck51bWJlcik7XG4gICAgICAgICAgICAvLy4uXG4gICAgICAgICAgICAvLyBVcGRhdGUgSW5wdXQgTWFnbml0dWRlXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgdGhpcy5pbnB1dE1vdmVtZW50VmVjdG9yLnNldCh0aGlzLnBsYXllcklucHV0WCwgMCwgdGhpcy5wbGF5ZXJJbnB1dFopO1xuICAgICAgICAgICAgQkFCWUxPTi5VdGlsaXRpZXMuQ2xhbXBNYWduaXR1ZGVWZWN0b3IzVG9SZWYodGhpcy5pbnB1dE1vdmVtZW50VmVjdG9yLCAxLjAsIHRoaXMuaW5wdXRNb3ZlbWVudFZlY3Rvcik7XG4gICAgICAgICAgICB0aGlzLmlucHV0TWFnbml0dWRlID0gdGhpcy5pbnB1dE1vdmVtZW50VmVjdG9yLmxlbmd0aCgpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBQcmUgTm90aWZpY2F0aW9uc1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmICh0aGlzLm9uUHJlVXBkYXRlT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMub25QcmVVcGRhdGVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLnRyYW5zZm9ybSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gVXBkYXRlIEZvcndhcmQgQ2FtZXJhIFZlY3RvclxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIHRoaXMuY2FtZXJhRm9yd2FyZFZlY3Rvci5jb3B5RnJvbSh0aGlzLmNhbWVyYVBpdm90LmZvcndhcmQpO1xuICAgICAgICAgICAgdGhpcy5jYW1lcmFGb3J3YXJkVmVjdG9yLnkgPSAwO1xuICAgICAgICAgICAgdGhpcy5jYW1lcmFGb3J3YXJkVmVjdG9yLm5vcm1hbGl6ZSgpO1xuICAgICAgICAgICAgdGhpcy5jYW1lcmFGb3J3YXJkVmVjdG9yLnNjYWxlVG9SZWYodGhpcy5wbGF5ZXJJbnB1dFosIHRoaXMuZGVzaXJlZEZvcndhcmRWZWN0b3IpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBSaWdodCBDYW1lcmEgVmVjdG9yXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgdGhpcy5jYW1lcmFSaWdodFZlY3Rvci5jb3B5RnJvbSh0aGlzLmNhbWVyYVBpdm90LnJpZ2h0KTtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhUmlnaHRWZWN0b3IueSA9IDA7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYVJpZ2h0VmVjdG9yLm5vcm1hbGl6ZSgpO1xuICAgICAgICAgICAgdGhpcy5jYW1lcmFSaWdodFZlY3Rvci5zY2FsZVRvUmVmKHRoaXMucGxheWVySW5wdXRYLCB0aGlzLmRlc2lyZWRSaWdodFZlY3Rvcik7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gVXBkYXRlIFBsYXllciBSb3RhdGlvbiBWZWN0b3JcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICB0aGlzLnBsYXllclJvdGF0aW9uVmVjdG9yLnkgKz0gKHRoaXMucGxheWVyTW91c2VYICogdGhpcy5sb29rU3BlZWQgKiB0aGlzLmRlbHRhVGltZSk7XG4gICAgICAgICAgICB0aGlzLnBsYXllclJvdGF0aW9uVmVjdG9yLnggKz0gKC10aGlzLnBsYXllck1vdXNlWSAqIHRoaXMubG9va1NwZWVkICogdGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJSb3RhdGlvblZlY3Rvci54ID0gQkFCWUxPTi5TY2FsYXIuQ2xhbXAodGhpcy5wbGF5ZXJSb3RhdGlvblZlY3Rvci54LCAtQkFCWUxPTi5Ub29scy5Ub1JhZGlhbnModGhpcy5kb3duTG9va0xpbWl0KSwgQkFCWUxPTi5Ub29scy5Ub1JhZGlhbnModGhpcy50b3BMb29rTGltaXQpKTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBVcGRhdGUgUGxheWVyIE1vdmVtZW50IFZlbG9jaXR5XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgY29uc3QgbW92ZW1lbnRTcGVlZDpudW1iZXIgPSAodGhpcy5pbnB1dE1hZ25pdHVkZSAqIHRoaXMubW92ZVNwZWVkICogdGhpcy5kZWx0YVRpbWUgKiB0aGlzLnNwZWVkRmFjdG9yKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY29tb3Rpb25TcGVlZDpudW1iZXIgPSAodGhpcy5yb290bW90aW9uU3BlZWQgKiB0aGlzLnNwZWVkRmFjdG9yKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnBsYXllckNvbnRyb2wgPT09IFBST0pFQ1QuUGxheWVySW5wdXRDb250cm9sLkZpcnN0UGVyc29uU3RyYWZpbmcpIHsgXG4gICAgICAgICAgICAgICAgLy8gU3RyYWZpbmcgRmlyc3QgUGVyc29uIFZpZXcgLSBQbGF5ZXIgTW92ZW1lbnQgVmVsb2NpdHlcbiAgICAgICAgICAgICAgICB0aGlzLmRlc2lyZWRGb3J3YXJkVmVjdG9yLmFkZFRvUmVmKHRoaXMuZGVzaXJlZFJpZ2h0VmVjdG9yLCB0aGlzLnBsYXllck1vdmVtZW50VmVsb2NpdHkpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJvb3RNb3Rpb24gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJNb3ZlbWVudFZlbG9jaXR5LnNjYWxlSW5QbGFjZShsb2NvbW90aW9uU3BlZWQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVyTW92ZW1lbnRWZWxvY2l0eS5zY2FsZUluUGxhY2UobW92ZW1lbnRTcGVlZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIE5vIEZyZWUgTG9va2luZyAtIFNuYXAgUGxheWVyIFJvdGF0aW9uIChFdWxlciBBbmdsZSBSb3RhdGlvbilcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlF1YXRlcm5pb24uRnJvbUV1bGVyQW5nbGVzVG9SZWYoMCwgdGhpcy5wbGF5ZXJSb3RhdGlvblZlY3Rvci55LCAwLCB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24pO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBsYXllckNvbnRyb2wgPT09IFBST0pFQ1QuUGxheWVySW5wdXRDb250cm9sLlRoaXJkUGVyc29uU3RyYWZpbmcpIHsgXG4gICAgICAgICAgICAgICAgLy8gU3RyYWZpbmcgVGhpcmQgUGVyc29uIFZpZXcgLSBQbGF5ZXIgTW92ZW1lbnQgVmVsb2NpdHlcbiAgICAgICAgICAgICAgICB0aGlzLmRlc2lyZWRGb3J3YXJkVmVjdG9yLmFkZFRvUmVmKHRoaXMuZGVzaXJlZFJpZ2h0VmVjdG9yLCB0aGlzLnBsYXllck1vdmVtZW50VmVsb2NpdHkpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJvb3RNb3Rpb24gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJNb3ZlbWVudFZlbG9jaXR5LnNjYWxlSW5QbGFjZShsb2NvbW90aW9uU3BlZWQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVyTW92ZW1lbnRWZWxvY2l0eS5zY2FsZUluUGxhY2UobW92ZW1lbnRTcGVlZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFZhbGlkYXRlIEZyZWUgTG9va2luZyBSb3RhdGlvblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZyZWVMb29raW5nID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlucHV0TWFnbml0dWRlID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRklYTUUgLSBOb3RlOiBMYXJnZSBNb3ZlbWVudCAtIFNsZXJwIFBsYXllciBSb3RhdGlvbiAoRXVsZXIgQW5nbGUgUm90YXRpb24pXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHJhZmluZ1R1cm5SYXRpbzpudW1iZXIgPSAodGhpcy5wbGF5ZXJNb3ZlbWVudFZlbG9jaXR5Lmxlbmd0aCgpIC8gdGhpcy5tb3ZlU3BlZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RyYWZpbmdUdXJuU3BlZWQ6bnVtYmVyID0gQkFCWUxPTi5TY2FsYXIuTGVycCh0aGlzLmhpZ2hUdXJuU3BlZWQsIHRoaXMubG93VHVyblNwZWVkLCBzdHJhZmluZ1R1cm5SYXRpbyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlF1YXRlcm5pb24uRnJvbUV1bGVyQW5nbGVzVG9SZWYoMCwgdGhpcy5wbGF5ZXJSb3RhdGlvblZlY3Rvci55LCAwLCB0aGlzLnBsYXllclJvdGF0aW9uUXVhdGVybmlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlF1YXRlcm5pb24uU2xlcnBUb1JlZih0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24sIHRoaXMucGxheWVyUm90YXRpb25RdWF0ZXJuaW9uLCAoc3RyYWZpbmdUdXJuU3BlZWQgKiB0aGlzLmRlbHRhVGltZSksIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBObyBGcmVlIExvb2tpbmcgLSBTbmFwIFBsYXllciBSb3RhdGlvbiAoRXVsZXIgQW5nbGUgUm90YXRpb24pXG4gICAgICAgICAgICAgICAgICAgIEJBQllMT04uUXVhdGVybmlvbi5Gcm9tRXVsZXJBbmdsZXNUb1JlZigwLCB0aGlzLnBsYXllclJvdGF0aW9uVmVjdG9yLnksIDAsIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBsYXllckNvbnRyb2wgPT09IFBST0pFQ1QuUGxheWVySW5wdXRDb250cm9sLlRoaXJkUGVyc29uRm9yd2FyZCkgeyBcbiAgICAgICAgICAgICAgICAvLyBGb3J3YXJkIFRoaXJkIFBlcnNvbiBWaWV3IC0gUGxheWVyIExvb2sgUm90YXRpb25cbiAgICAgICAgICAgICAgICB0aGlzLmRlc2lyZWRGb3J3YXJkVmVjdG9yLmFkZFRvUmVmKHRoaXMuZGVzaXJlZFJpZ2h0VmVjdG9yLCB0aGlzLnBsYXllckxvb2tSb3RhdGlvbik7IFxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJvb3RNb3Rpb24gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0uZm9yd2FyZC5zY2FsZVRvUmVmKGxvY29tb3Rpb25TcGVlZCwgdGhpcy5wbGF5ZXJNb3ZlbWVudFZlbG9jaXR5KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5mb3J3YXJkLnNjYWxlVG9SZWYobW92ZW1lbnRTcGVlZCwgdGhpcy5wbGF5ZXJNb3ZlbWVudFZlbG9jaXR5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQWx3YXlzIEZyZWUgTG9va2luZyAtIExlcnAgUGxheWVyIFJvdGF0aW9uIChUdXJuIEFuZCBCdXJuKVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlucHV0TWFnbml0dWRlID4gMCkgeyBcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9yd2FyZFR1cm5SYXRpbzpudW1iZXIgPSAodGhpcy5wbGF5ZXJNb3ZlbWVudFZlbG9jaXR5Lmxlbmd0aCgpIC8gdGhpcy5tb3ZlU3BlZWQpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmb3J3YXJkVHVyblNwZWVkOm51bWJlciA9IEJBQllMT04uU2NhbGFyLkxlcnAodGhpcy5oaWdoVHVyblNwZWVkLCB0aGlzLmxvd1R1cm5TcGVlZCwgZm9yd2FyZFR1cm5SYXRpbyk7XG4gICAgICAgICAgICAgICAgICAgIEJBQllMT04uVXRpbGl0aWVzLkxvb2tSb3RhdGlvblRvUmVmKHRoaXMucGxheWVyTG9va1JvdGF0aW9uLCB0aGlzLnBsYXllclJvdGF0aW9uUXVhdGVybmlvbik7XG4gICAgICAgICAgICAgICAgICAgIEJBQllMT04uUXVhdGVybmlvbi5TbGVycFRvUmVmKHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbiwgdGhpcy5wbGF5ZXJSb3RhdGlvblF1YXRlcm5pb24sIChmb3J3YXJkVHVyblNwZWVkICogdGhpcy5kZWx0YVRpbWUpLCB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBVcGRhdGUgUGxheWVyIEFjY2VsZXJhdGlvblxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmICh0aGlzLmFjY2VsZXJhdGlvbiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRha2VvZmZQb3dlciA8IDAuMSkgdGhpcy50YWtlb2ZmUG93ZXIgPSAwLjE7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RvcHBpbmdQb3dlciA8IDAuMSkgdGhpcy5zdG9wcGluZ1Bvd2VyID0gMC4xO1xuICAgICAgICAgICAgICAgIEJBQllMT04uVmVjdG9yMy5MZXJwVG9SZWYodGhpcy5tb3ZlbWVudFZlbG9jaXR5LCB0aGlzLnBsYXllck1vdmVtZW50VmVsb2NpdHksICh0aGlzLnRha2VvZmZQb3dlciAqIHRoaXMuc21vb3RoRGVsdGFUaW1lKSwgdGhpcy5tb3ZlbWVudFZlbG9jaXR5KTtcbiAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJNb3ZlbWVudExlbmd0aDpudW1iZXIgPSB0aGlzLnBsYXllck1vdmVtZW50VmVsb2NpdHkubGVuZ3RoKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZmluYWxNb3ZlbWVudExlbmd0aDpudW1iZXIgPSB0aGlzLm1vdmVtZW50VmVsb2NpdHkubGVuZ3RoKCk7XG4gICAgICAgICAgICAgICAgaWYgKHBsYXllck1vdmVtZW50TGVuZ3RoID09PSAwICYmIGZpbmFsTW92ZW1lbnRMZW5ndGggPiAwICYmIGZpbmFsTW92ZW1lbnRMZW5ndGggPCAodGhpcy5zdG9wcGluZ1Bvd2VyICogMC4wMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3ZlbWVudFZlbG9jaXR5LmNvcHlGcm9tKHRoaXMucGxheWVyTW92ZW1lbnRWZWxvY2l0eSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubW92ZW1lbnRWZWxvY2l0eS5jb3B5RnJvbSh0aGlzLnBsYXllck1vdmVtZW50VmVsb2NpdHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBDaGFyYWN0ZXIgQ29udHJvbGxlclxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIHRoaXMuaXNDaGFyYWN0ZXJHcm91bmRlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmlzQ2hhcmFjdGVySnVtcEZyYW1lID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmlzQ2hhcmFjdGVyTmF2aWdhdGluZyA9ICh0aGlzLm5hdmlnYXRpb25BZ2VudCAhPSBudWxsICYmIHRoaXMubmF2aWdhdGlvbkFnZW50LmlzTmF2aWdhdGluZygpKTtcbiAgICAgICAgICAgIHRoaXMubmF2aWdhdGlvbkFuZ3VsYXJTcGVlZCA9ICh0aGlzLm5hdmlnYXRpb25BZ2VudCAhPSBudWxsKSA/IHRoaXMubmF2aWdhdGlvbkFnZW50LmFuZ3VsYXJTcGVlZCA6IDA7XG4gICAgICAgICAgICBpZiAodGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUNoYXJhY3RlckNvbnRyb2xsZXIoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDaGVja0NvbGxpc2lvbnMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBVcGRhdGUgQW5pbWF0aW9uIFN0YXRlIFBhcmFtc1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvblN0YXRlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25TdGF0ZU1hY2hpbmUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52YWxpZGF0ZUFuaW1hdGlvblN0YXRlUGFyYW1zKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0RmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5ob3Jpem9udGFsSW5wdXQsIHRoaXMucGxheWVySW5wdXRYKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLnZlcnRpY2FsSW5wdXQsIHRoaXMucGxheWVySW5wdXRaKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRGbG9hdCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLm1vdXNlWElucHV0LCB0aGlzLnBsYXllck1vdXNlWCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0RmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5tb3VzZVlJbnB1dCwgdGhpcy5wbGF5ZXJNb3VzZVkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlLnNldEZsb2F0KHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMuc3BlZWRJbnB1dCwgdGhpcy5pbnB1dE1hZ25pdHVkZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0Qm9vbCh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zLmp1bXBlZElucHV0LCB0aGlzLmlzQ2hhcmFjdGVySnVtcEZyYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRCb29sKHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMuanVtcGluZ0lucHV0LCB0aGlzLmlzQ2hhcmFjdGVySnVtcFN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZS5zZXRCb29sKHRoaXMuYW5pbWF0aW9uU3RhdGVQYXJhbXMuZ3JvdW5kZWRJbnB1dCwgdGhpcy5pc0NoYXJhY3Rlckdyb3VuZGVkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNDaGFyYWN0ZXJOYXZpZ2F0aW5nID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIC0gVXBkYXRlIFNwZWVkIElucHV0IFdpdGggTmF2aWdhdGlvbiBNYWduaXR1ZGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuYW5pbWF0aW9uU3RhdGUuc2V0RmxvYXQodGhpcy5hbmltYXRpb25TdGF0ZVBhcmFtcy5zcGVlZElucHV0LCB0aGlzLmlucHV0TWFnbml0dWRlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBVcGRhdGUgUG9zdCBOb3RpZmljYXRpb25zXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKHRoaXMub25Qb3N0VXBkYXRlT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMub25Qb3N0VXBkYXRlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcy50cmFuc2Zvcm0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSB1cGRhdGVDaGFyYWN0ZXJDb250cm9sbGVyKCkgOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1vdmVDaGFyYWN0ZXIgPT09IHRydWUgJiYgdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzQ2hhcmFjdGVyR3JvdW5kZWQgPSB0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIuaXNHcm91bmRlZCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuZ3JvdW5kZWRNZXNoID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLmdyb3VuZGVkUG9pbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMuZ3JvdW5kZWROb3JtYWwgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMuZ3JvdW5kZWRBbmdsZSA9ICh0aGlzLmdyb3VuZGVkTm9ybWFsICE9IG51bGwpID8gTWF0aC5hYnMoQkFCWUxPTi5VdGlsaXRpZXMuR2V0QW5nbGUodGhpcy5ncm91bmRlZE5vcm1hbCwgdGhpcy50cmFuc2Zvcm0uZm9yd2FyZCkgLSA5MCkgOiAwO1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gREVCVUc6IGxldCBtc2c6c3RyaW5nID0gXCJDaGFyYWN0ZXIgQ29udHJvbGxlciBHb3VuZGVkOiBcIiArIHRoaXMuaXNDaGFyYWN0ZXJHcm91bmRlZDtcbiAgICAgICAgICAgICAgICAvLyBERUJVRzogaWYgKHRoaXMuZ3JvdW5kZWROb3JtYWwgIT0gbnVsbCkgbXNnICs9IChcIiAtLT4gSGl0IEFuZ2xlOiBcIiArIHRoaXMuZ3JvdW5kZWRBbmdsZS50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICAvLyBERUJVRzogaWYgKHRoaXMuZ3JvdW5kZWRNZXNoICE9IG51bGwpIG1zZyArPSAoXCIgLS0+IEdyb3VuZCBNZXNoOiBcIiArIHRoaXMuZ3JvdW5kZWRNZXNoLm5hbWUpO1xuICAgICAgICAgICAgICAgIC8vIERFQlVHOiBCQUJZTE9OLlV0aWxpdGllcy5QcmludFRvU2NyZWVuKG1zZyk7XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0NoYXJhY3Rlck5hdmlnYXRpbmcgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzQ2hhcmFjdGVyR3JvdW5kZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzQ2hhcmFjdGVySnVtcFN0YXRlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuanVtcERlbGF5ID4gMCkgdGhpcy5qdW1wVGltZXIgPSAodGhpcy5qdW1wRGVsYXkgKyB0aGlzLmRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0NoYXJhY3Rlckp1bXBTdGF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuanVtcFRpbWVyIDw9IDApIHRoaXMuaXNDaGFyYWN0ZXJKdW1wRnJhbWUgPSAoQkFCWUxPTi5TY2VuZU1hbmFnZXIuR2V0S2V5Ym9hcmRJbnB1dCh0aGlzLmtleWJvYXJkSnVtcCkgfHwgQkFCWUxPTi5TY2VuZU1hbmFnZXIuR2V0R2FtZXBhZEJ1dHRvbklucHV0KHRoaXMuYnV0dG9uSnVtcCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNDaGFyYWN0ZXJKdW1wRnJhbWUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQ2hhcmFjdGVySnVtcFN0YXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIuanVtcCh0aGlzLmp1bXBTcGVlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIE1vdmUgTm90aWZpY2F0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9uQmVmb3JlTW92ZU9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uQmVmb3JlTW92ZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMudHJhbnNmb3JtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5tb3ZlKHRoaXMubW92ZW1lbnRWZWxvY2l0eSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYXJhY3RlckNvbnRyb2xsZXIuc2V0R2hvc3RXb3JsZFBvc2l0aW9uKHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIHVwZGF0ZUNoZWNrQ29sbGlzaW9ucygpIDogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5tb3ZlQ2hhcmFjdGVyID09PSB0cnVlICYmIHRoaXMuYWJzdHJhY3RNZXNoICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwaWNrOkJBQllMT04uUGlja2luZ0luZm8gPSB0aGlzLnBpY2tDaGVja0NvbGxpc2lvbnNSYXljYXN0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0NoYXJhY3Rlckdyb3VuZGVkID0gKHBpY2sgIT0gbnVsbCAmJiBwaWNrLmhpdCk7XG4gICAgICAgICAgICAgICAgdGhpcy5ncm91bmRlZE1lc2ggPSAocGljayAhPSBudWxsICYmIHBpY2suaGl0KSA/IHBpY2sucGlja2VkTWVzaCA6IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy5ncm91bmRlZFBvaW50ID0gKHBpY2sgIT0gbnVsbCAmJiBwaWNrLmhpdCkgPyBwaWNrLnBpY2tlZFBvaW50IDogbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLmdyb3VuZGVkTm9ybWFsID0gKHBpY2sgIT0gbnVsbCAmJiBwaWNrLmhpdCkgPyBwaWNrLmdldE5vcm1hbCh0cnVlKSA6IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy5ncm91bmRlZEFuZ2xlID0gKHRoaXMuZ3JvdW5kZWROb3JtYWwgIT0gbnVsbCkgPyBNYXRoLmFicyhCQUJZTE9OLlV0aWxpdGllcy5HZXRBbmdsZSh0aGlzLmdyb3VuZGVkTm9ybWFsLCB0aGlzLnRyYW5zZm9ybS5mb3J3YXJkKSAtIDkwKSA6IDA7XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBERUJVRzogbGV0IG1zZzpzdHJpbmcgPSBcIkNoZWNrIENvbGxpc2lvbnMgR291bmRlZDogXCIgKyB0aGlzLmlzQ2hhcmFjdGVyR3JvdW5kZWQ7XG4gICAgICAgICAgICAgICAgLy8gREVCVUc6IGlmICh0aGlzLmdyb3VuZGVkTm9ybWFsICE9IG51bGwpIG1zZyArPSAoXCIgLS0+IEhpdCBBbmdsZTogXCIgKyB0aGlzLmdyb3VuZGVkQW5nbGUudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgLy8gREVCVUc6IGlmICh0aGlzLmdyb3VuZGVkTWVzaCAhPSBudWxsKSBtc2cgKz0gKFwiIC0tPiBHcm91bmQgTWVzaDogXCIgKyB0aGlzLmdyb3VuZGVkTWVzaC5uYW1lKTtcbiAgICAgICAgICAgICAgICAvLyBERUJVRzogQkFCWUxPTi5VdGlsaXRpZXMuUHJpbnRUb1NjcmVlbihtc2cpO1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ3Jhdml0eUZvcmNlID4gMCkgdGhpcy52ZXJ0aWNhbFZlbG9jaXR5IC09ICh0aGlzLmRlbHRhVGltZSAqIHRoaXMuZ3Jhdml0eUZvcmNlKTsgLy8gTm90ZTogQXBwbHkgQ29uc3RhbnQgR3Jhdml0eVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzQ2hhcmFjdGVyTmF2aWdhdGluZyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNDaGFyYWN0ZXJHcm91bmRlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2xvcGVGYWN0b3I6bnVtYmVyID0gKHRoaXMubWF4QW5nbGUgPiAwICYmIHRoaXMuZ3JvdW5kZWRBbmdsZSA+IDAgJiYgdGhpcy5ncm91bmRlZEFuZ2xlIDwgdGhpcy5tYXhBbmdsZSkgPyAwIDogdGhpcy5zbG9wZUZvcmNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52ZXJ0aWNhbFZlbG9jaXR5ID0gTWF0aC5tYXgoLXNsb3BlRmFjdG9yLCB0aGlzLnZlcnRpY2FsVmVsb2NpdHkpOyAvLyBOb3RlOiBBbGxvd2VkIFNsb3BlIEFuZ2xlIFN1cHBvcnRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzQ2hhcmFjdGVySnVtcFN0YXRlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuanVtcERlbGF5ID4gMCkgdGhpcy5qdW1wVGltZXIgPSAodGhpcy5qdW1wRGVsYXkgKyB0aGlzLmRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0NoYXJhY3Rlckp1bXBTdGF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuanVtcFRpbWVyIDw9IDApIHRoaXMuaXNDaGFyYWN0ZXJKdW1wRnJhbWUgPSAoQkFCWUxPTi5TY2VuZU1hbmFnZXIuR2V0S2V5Ym9hcmRJbnB1dCh0aGlzLmtleWJvYXJkSnVtcCkgfHwgQkFCWUxPTi5TY2VuZU1hbmFnZXIuR2V0R2FtZXBhZEJ1dHRvbklucHV0KHRoaXMuYnV0dG9uSnVtcCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNDaGFyYWN0ZXJKdW1wRnJhbWUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQ2hhcmFjdGVySnVtcFN0YXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZlcnRpY2FsVmVsb2NpdHkgPSAodGhpcy5qdW1wU3BlZWQgKiAwLjAxNSk7IC8vIE5vdGU6IEp1bXAgU3BlZWQgU2NhbGUgRmFjdG9yXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3ZlbWVudFZlbG9jaXR5LnkgPSB0aGlzLnZlcnRpY2FsVmVsb2NpdHk7XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBNb3ZlIE5vdGlmaWNhdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub25CZWZvcmVNb3ZlT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkJlZm9yZU1vdmVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLnRyYW5zZm9ybSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hYnN0cmFjdE1lc2gubW92ZVdpdGhDb2xsaXNpb25zKHRoaXMubW92ZW1lbnRWZWxvY2l0eSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByaXZhdGUgcGlja2luZ1JheTpCQUJZTE9OLlJheSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgcGlja2luZ0hlbHBlcjpCQUJZTE9OLlJheUhlbHBlciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgcGlja2luZ09yaWdpbjpCQUJZTE9OLlZlY3RvcjMgPSBudWxsO1xuICAgICAgICBwcml2YXRlIHBpY2tpbmdEaXJlY3Rpb246QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAtMSwgMCk7XG4gICAgICAgIHByaXZhdGUgcGlja0NoZWNrQ29sbGlzaW9uc1JheWNhc3QoZmFzdENoZWNrOmJvb2xlYW4gPSB0cnVlKTpCQUJZTE9OLlBpY2tpbmdJbmZvIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFic3RyYWN0TWVzaCA9PSBudWxsKSByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIGlmICh0aGlzLnJheUxlbmd0aCA8PSAwKSB0aGlzLnJheUxlbmd0aCA9IDAuMTtcbiAgICAgICAgICAgIGNvbnN0IHJheWNhc3RMZW5ndGg6bnVtYmVyID0gKHRoaXMucmF5TGVuZ3RoIC8gdGhpcy50cmFuc2Zvcm0uc2NhbGluZy55KSArIDAuMDU7XG4gICAgICAgICAgICBpZiAodGhpcy5waWNraW5nUmF5ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5waWNraW5nT3JpZ2luID09IG51bGwpIHRoaXMucGlja2luZ09yaWdpbiA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgdGhpcy5yYXlPcmlnaW4sIDApO1xuICAgICAgICAgICAgICAgIHRoaXMucGlja2luZ1JheSA9IG5ldyBCQUJZTE9OLlJheSh0aGlzLnBpY2tpbmdPcmlnaW4sIHRoaXMucGlja2luZ0RpcmVjdGlvbiwgcmF5Y2FzdExlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5waWNraW5nSGVscGVyID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBpY2tpbmdIZWxwZXIgPSBuZXcgQkFCWUxPTi5SYXlIZWxwZXIodGhpcy5waWNraW5nUmF5KTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5waWNraW5nT3JpZ2luID09IG51bGwpIHRoaXMucGlja2luZ09yaWdpbiA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgdGhpcy5yYXlPcmlnaW4sIDApO1xuICAgICAgICAgICAgICAgIHRoaXMucGlja2luZ0hlbHBlci5hdHRhY2hUb01lc2godGhpcy5hYnN0cmFjdE1lc2gsIHRoaXMucGlja2luZ0RpcmVjdGlvbiwgdGhpcy5waWNraW5nT3JpZ2luLCByYXljYXN0TGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zaG93RGVidWdDb2xsaWRlcnMgPT09IHRydWUpIHRoaXMucGlja2luZ0hlbHBlci5zaG93KHRoaXMuc2NlbmUsIG5ldyBCQUJZTE9OLkNvbG9yMygxLCAwLCAwKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMucGlja2luZ1JheSAhPSBudWxsKSA/IHRoaXMuc2NlbmUucGlja1dpdGhSYXkodGhpcy5waWNraW5nUmF5LCAobWVzaDpCQUJZTE9OLkFic3RyYWN0TWVzaCkgPT4geyByZXR1cm4gKG1lc2ggIT0gdGhpcy5hYnN0cmFjdE1lc2ggJiYgbWVzaC5jaGVja0NvbGxpc2lvbnMgPT09IHRydWUpOyB9LCBmYXN0Q2hlY2spIDogbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBwcml2YXRlIGNhbWVyYVJheTpCQUJZTE9OLlJheSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgY2FtZXJhSGVscGVyOkJBQllMT04uUmF5SGVscGVyID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBjYW1lcmFGb3J3YXJkOkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgY2FtZXJhRGlyZWN0aW9uOkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHByaXZhdGUgcGlja0NhbWVyYUNvbGxpc2lvbnNSYXljYXN0KG9yaWdpbjpCQUJZTE9OLlZlY3RvcjMsIGRpcmVjdGlvbjpCQUJZTE9OLlZlY3RvcjMsIHJheUxlbmd0aDpudW1iZXIsIGZhc3RDaGVjazpib29sZWFuID0gdHJ1ZSk6QkFCWUxPTi5QaWNraW5nSW5mbyB7XG4gICAgICAgICAgICBpZiAodGhpcy5hYnN0cmFjdE1lc2ggPT0gbnVsbCkgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICBpZiAodGhpcy5jYW1lcmFSYXkgPT0gbnVsbCkgdGhpcy5jYW1lcmFSYXkgPSBuZXcgQkFCWUxPTi5SYXkob3JpZ2luLCBkaXJlY3Rpb24sIHJheUxlbmd0aCk7XG4gICAgICAgICAgICBpZiAodGhpcy5jYW1lcmFSYXkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhUmF5Lm9yaWdpbi5jb3B5RnJvbShvcmlnaW4pO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhUmF5LmRpcmVjdGlvbi5jb3B5RnJvbShkaXJlY3Rpb24pO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhUmF5Lmxlbmd0aCA9IHJheUxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmNhbWVyYUhlbHBlciA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFIZWxwZXIgPSBuZXcgQkFCWUxPTi5SYXlIZWxwZXIodGhpcy5jYW1lcmFSYXkpO1x0XHRcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zaG93RGVidWdDb2xsaWRlcnMgPT09IHRydWUpIHRoaXMuY2FtZXJhSGVscGVyLnNob3codGhpcy5zY2VuZSwgbmV3IEJBQllMT04uQ29sb3IzKDEsIDAsIDApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAodGhpcy5jYW1lcmFSYXkgIT0gbnVsbCkgPyB0aGlzLnNjZW5lLnBpY2tXaXRoUmF5KHRoaXMuY2FtZXJhUmF5LCAobWVzaDpCQUJZTE9OLkFic3RyYWN0TWVzaCkgPT4geyByZXR1cm4gKG1lc2ggIT0gdGhpcy5hYnN0cmFjdE1lc2ggJiYgbWVzaC5jaGVja0NvbGxpc2lvbnMgPT09IHRydWUpOyB9LCBmYXN0Q2hlY2spIDogbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgbGF0ZVBsYXllckNvbnRyb2xsZXIoKTp2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmVuYWJsZUlucHV0ID09PSBmYWxzZSkgcmV0dXJuO1xuICAgICAgICAgICAgbGV0IGFsbG93Um90YXRpb246Ym9vbGVhbiA9IHRoaXMucm90YXRlQ2FtZXJhO1xuICAgICAgICAgICAgLy8gRFVOTk8gRlVSIFNVUkU6ICBpZiAodGhpcy5pc0NoYXJhY3Rlck5hdmlnYXRpbmcgPT09IHRydWUgJiYgdGhpcy5uYXZpZ2F0aW9uQW5ndWxhclNwZWVkID4gMCkgYWxsb3dSb3RhdGlvbiA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHRoaXMuY2FtZXJhUGl2b3QgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIC4uIFxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBDYW1lcmEgUGl2b3QgT2Zmc2V0XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXJDb250cm9sID09PSBQUk9KRUNULlBsYXllcklucHV0Q29udHJvbC5UaGlyZFBlcnNvblN0cmFmaW5nIHx8IHRoaXMucGxheWVyQ29udHJvbCA9PT0gUFJPSkVDVC5QbGF5ZXJJbnB1dENvbnRyb2wuVGhpcmRQZXJzb25Gb3J3YXJkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhUGl2b3RPZmZzZXQuc2V0KDAsIHRoaXMucGl2b3RIZWlnaHQsIDApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhUGl2b3RPZmZzZXQuc2V0KDAsIHRoaXMuZXllc0hlaWdodCwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIENhbWVyYSBQaXZvdCBQb3NpdGlvblxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgQkFCWUxPTi5VdGlsaXRpZXMuR2V0QWJzb2x1dGVQb3NpdGlvblRvUmVmKHRoaXMudHJhbnNmb3JtLCB0aGlzLmNhbWVyYVBpdm90LnBvc2l0aW9uLCB0aGlzLmNhbWVyYVBpdm90T2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBDYW1lcmEgUGl2b3QgUm90YXRpb25cbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIGlmIChhbGxvd1JvdGF0aW9uID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIEJBQllMT04uUXVhdGVybmlvbi5Gcm9tRXVsZXJBbmdsZXNUb1JlZih0aGlzLnBsYXllclJvdGF0aW9uVmVjdG9yLngsIHRoaXMucGxheWVyUm90YXRpb25WZWN0b3IueSwgMCwgdGhpcy5jYW1lcmFQaXZvdC5yb3RhdGlvblF1YXRlcm5pb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhbGxvd1JvdGF0aW9uID09PSB0cnVlICYmIHRoaXMuY2FtZXJhTm9kZSAhPSBudWxsKSB7IFxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhbWVyYVNtb290aGluZyA8PSAwKSB0aGlzLmNhbWVyYVNtb290aGluZyA9IDUuMDsgLy8gRGVmYXVsdCBDYW1lcmEgU21vb3RoaW5nXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGxheWVyQ29udHJvbCA9PT0gUFJPSkVDVC5QbGF5ZXJJbnB1dENvbnRyb2wuVGhpcmRQZXJzb25TdHJhZmluZyB8fCB0aGlzLnBsYXllckNvbnRyb2wgPT09IFBST0pFQ1QuUGxheWVySW5wdXRDb250cm9sLlRoaXJkUGVyc29uRm9yd2FyZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jYW1lcmFDb2xsaXNpb25zID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgQ2FtZXJhIENvbGxpc2lvblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1heERpc3RhbmNlOm51bWJlciA9IE1hdGguYWJzKHRoaXMuYm9vbVBvc2l0aW9uLnopO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyZW50Tm9kZTpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSAodGhpcy5jYW1lcmFOb2RlLnBhcmVudCBhcyBCQUJZTE9OLlRyYW5zZm9ybU5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kb2xseURpcmVjdGlvbi5zY2FsZVRvUmVmKG1heERpc3RhbmNlLCB0aGlzLnNjYWxlZE1heERpcmVjdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbGx5RGlyZWN0aW9uLnNjYWxlVG9SZWYodGhpcy5jYW1lcmFEaXN0YW5jZSwgdGhpcy5zY2FsZWRDYW1EaXJlY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5VdGlsaXRpZXMuR2V0QWJzb2x1dGVQb3NpdGlvblRvUmVmKHBhcmVudE5vZGUsIHRoaXMucGFyZW50Tm9kZVBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVXRpbGl0aWVzLlRyYW5zZm9ybVBvaW50VG9SZWYocGFyZW50Tm9kZSwgdGhpcy5zY2FsZWRNYXhEaXJlY3Rpb24sIHRoaXMubWF4aW11bUNhbWVyYVBvcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvbnRhY3Q6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRpc3RhbmNlOm51bWJlciA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBOb3RlOiBVc2UgQnVsbGV0IFBoeXNpY3MgU2hhcGUgQ2FzdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJheWNhc3Q6QkFCWUxPTi5SYXljYXN0SGl0UmVzdWx0ID0gQkFCWUxPTi5TY2VuZU1hbmFnZXIuUGh5c2ljc1NoYXBlY2FzdFRvUG9pbnQodGhpcy5zY2VuZSwgdGhpcy5yYXljYXN0U2hhcGUsIHRoaXMucGFyZW50Tm9kZVBvc2l0aW9uLCB0aGlzLm1heGltdW1DYW1lcmFQb3MsIHRoaXMucmF5Y2FzdEdyb3VwLCB0aGlzLnJheWNhc3RNYXNrKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWN0ID0gKHJheWNhc3QgIT0gbnVsbCAmJiByYXljYXN0Lmhhc0hpdCA9PT0gdHJ1ZSAmJiByYXljYXN0LmNvbGxpc2lvbk9iamVjdCAhPSBudWxsICYmIHJheWNhc3QuY29sbGlzaW9uT2JqZWN0LmVudGl0eSAhPSBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IChyYXljYXN0ICE9IG51bGwgJiYgcmF5Y2FzdC5oYXNIaXQgPT09IHRydWUpID8gcmF5Y2FzdC5oaXREaXN0YW5jZSA6IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vdGU6IFVzZSBOYXRpdmUgU2NlbmUgUGljayBXaXRoIFJheVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhRm9yd2FyZC5zZXQoMCwwLC0xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlV0aWxpdGllcy5UcmFuc2Zvcm1Qb2ludFRvUmVmKHBhcmVudE5vZGUsIHRoaXMuY2FtZXJhRm9yd2FyZCwgdGhpcy5jYW1lcmFGb3J3YXJkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYUZvcndhcmQuc3VidHJhY3RUb1JlZih0aGlzLnBhcmVudE5vZGVQb3NpdGlvbiwgdGhpcy5jYW1lcmFEaXJlY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhRGlyZWN0aW9uLm5vcm1hbGl6ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGljazpCQUJZTE9OLlBpY2tpbmdJbmZvID0gdGhpcy5waWNrQ2FtZXJhQ29sbGlzaW9uc1JheWNhc3QodGhpcy5wYXJlbnROb2RlUG9zaXRpb24sIHRoaXMuY2FtZXJhRGlyZWN0aW9uLCB0aGlzLm1heGltdW1DYW1lcmFQb3MubGVuZ3RoKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhY3QgPSAocGljayAhPSBudWxsICYmIHBpY2suaGl0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IChwaWNrICE9IG51bGwgJiYgcGljay5kaXN0YW5jZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udGFjdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhRGlzdGFuY2UgPSBCQUJZTE9OLlNjYWxhci5DbGFtcCgoZGlzdGFuY2UgKiB0aGlzLmRpc3RhbmNlRmFjdG9yKSwgdGhpcy5taW5pbXVtRGlzdGFuY2UsIG1heERpc3RhbmNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBMZXJwIFBhc3QgQ2FtZXJhIENvbGxpc2lvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jYW1lcmFOb2RlLnBvc2l0aW9uLnggIT09IHRoaXMuc2NhbGVkQ2FtRGlyZWN0aW9uLnggfHwgdGhpcy5jYW1lcmFOb2RlLnBvc2l0aW9uLnkgIT09IHRoaXMuc2NhbGVkQ2FtRGlyZWN0aW9uLnkgfHwgdGhpcy5jYW1lcmFOb2RlLnBvc2l0aW9uLnogIT09IHRoaXMuc2NhbGVkQ2FtRGlyZWN0aW9uLnopIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5WZWN0b3IzLkxlcnBUb1JlZih0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24sIHRoaXMuc2NhbGVkQ2FtRGlyZWN0aW9uLCAodGhpcy5kZWx0YVRpbWUgKiB0aGlzLmNhbWVyYVNtb290aGluZyksIHRoaXMuY2FtZXJhTm9kZS5wb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBMZXJwIFRvIENhbWVyYSBCb29tIFBvc2l0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FtZXJhTm9kZS5wb3NpdGlvbi54ICE9PSB0aGlzLmJvb21Qb3NpdGlvbi54IHx8IHRoaXMuY2FtZXJhTm9kZS5wb3NpdGlvbi55ICE9PSB0aGlzLmJvb21Qb3NpdGlvbi55IHx8IHRoaXMuY2FtZXJhTm9kZS5wb3NpdGlvbi56ICE9PSB0aGlzLmJvb21Qb3NpdGlvbi56KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVmVjdG9yMy5MZXJwVG9SZWYodGhpcy5jYW1lcmFOb2RlLnBvc2l0aW9uLCB0aGlzLmJvb21Qb3NpdGlvbiwgKHRoaXMuZGVsdGFUaW1lICogdGhpcy5jYW1lcmFTbW9vdGhpbmcpLCB0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIExlcnAgVG8gQ2FtZXJhIEJvb20gUG9zaXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24ueCAhPT0gdGhpcy5ib29tUG9zaXRpb24ueCB8fCB0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24ueSAhPT0gdGhpcy5ib29tUG9zaXRpb24ueSB8fCB0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24ueiAhPT0gdGhpcy5ib29tUG9zaXRpb24ueikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVmVjdG9yMy5MZXJwVG9SZWYodGhpcy5jYW1lcmFOb2RlLnBvc2l0aW9uLCB0aGlzLmJvb21Qb3NpdGlvbiwgKHRoaXMuZGVsdGFUaW1lICogdGhpcy5jYW1lcmFTbW9vdGhpbmcpLCB0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTm90ZTogU25hcCBUbyBaZXJvIENhbWVyYSBQaXZvdCBQb3NpdGlvbiAtIEZpcnN0IFBlcnNvbiBWaWV3XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24ueCAhPT0gMCB8fCB0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24ueSAhPT0gMCB8fCB0aGlzLmNhbWVyYU5vZGUucG9zaXRpb24ueiAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFOb2RlLnBvc2l0aW9uLnNldCgwLDAsMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIGFmdGVyUGxheWVyQ29udHJvbGxlcigpOnZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuZW5hYmxlSW5wdXQgPT09IGZhbHNlKSByZXR1cm47XG4gICAgICAgICAgICB0aGlzLnJvb3Rtb3Rpb25TcGVlZCA9IDA7ICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25TdGF0ZSAhPSBudWxsICYmIHRoaXMuYW5pbWF0aW9uU3RhdGVNYWNoaW5lID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yb290bW90aW9uU3BlZWQgPSB0aGlzLmFuaW1hdGlvblN0YXRlLmdldFJvb3RNb3Rpb25TcGVlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBkZXN0cm95UGxheWVyQ29udHJvbGxlcigpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhUGl2b3QgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5jYW1lcmFOb2RlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMub25QcmVVcGRhdGVPYnNlcnZhYmxlLmNsZWFyKCk7XG4gICAgICAgICAgICB0aGlzLm9uUHJlVXBkYXRlT2JzZXJ2YWJsZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLm9uQmVmb3JlTW92ZU9ic2VydmFibGUuY2xlYXIoKTtcbiAgICAgICAgICAgIHRoaXMub25CZWZvcmVNb3ZlT2JzZXJ2YWJsZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLm9uUG9zdFVwZGF0ZU9ic2VydmFibGUuY2xlYXIoKTtcbiAgICAgICAgICAgIHRoaXMub25Qb3N0VXBkYXRlT2JzZXJ2YWJsZSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIHZhbGlkYXRlQW5pbWF0aW9uU3RhdGVQYXJhbXMoKTp2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgICAgICBob3Jpem9udGFsSW5wdXQ6IFwiSG9yaXpvbnRhbFwiLFxuICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNhbElucHV0OiBcIlZlcnRpY2FsXCIsXG4gICAgICAgICAgICAgICAgICAgIG1vdXNlWElucHV0OiBcIk1vdXNlWFwiLFxuICAgICAgICAgICAgICAgICAgICBtb3VzZVlJbnB1dDogXCJNb3VzZVlcIixcbiAgICAgICAgICAgICAgICAgICAgc3BlZWRJbnB1dDogXCJTcGVlZFwiLFxuICAgICAgICAgICAgICAgICAgICBqdW1wZWRJbnB1dDogXCJKdW1wZWRcIixcbiAgICAgICAgICAgICAgICAgICAganVtcGluZ0lucHV0OiBcIkp1bXBpbmdcIixcbiAgICAgICAgICAgICAgICAgICAgZ3JvdW5kZWRJbnB1dDogXCJHcm91bmRlZFwiXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAqIEJhYnlsb24gSW50ZXJmYWNlIERlZmluaXRpb25cbiAgICAqIEBpbnRlcmZhY2UgQW5pbWF0aW9uU3RhdGVQYXJhbXNcbiAgICAqL1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgQW5pbWF0aW9uU3RhdGVQYXJhbXMge1xuICAgICAgICBob3Jpem9udGFsSW5wdXQ6IHN0cmluZztcbiAgICAgICAgdmVydGljYWxJbnB1dDpzdHJpbmc7XG4gICAgICAgIG1vdXNlWElucHV0OnN0cmluZztcbiAgICAgICAgbW91c2VZSW5wdXQ6c3RyaW5nO1xuICAgICAgICBzcGVlZElucHV0OnN0cmluZztcbiAgICAgICAganVtcGVkSW5wdXQ6c3RyaW5nO1xuICAgICAgICBqdW1waW5nSW5wdXQ6c3RyaW5nO1xuICAgICAgICBncm91bmRlZElucHV0OnN0cmluZztcbiAgICB9ICAgIFxuICAgIC8qKlxuICAgICogQmFieWxvbiBFbnVtIERlZmluaXRpb25cbiAgICAqIEBpbnRlcmZhY2UgUGxheWVySW5wdXRDb250cm9sXG4gICAgKi9cbiAgICBleHBvcnQgZW51bSBQbGF5ZXJJbnB1dENvbnRyb2wge1xuICAgICAgICBGaXJzdFBlcnNvblN0cmFmaW5nID0gMCxcbiAgICAgICAgVGhpcmRQZXJzb25TdHJhZmluZyA9IDEsXG4gICAgICAgIFRoaXJkUGVyc29uRm9yd2FyZCA9IDJcbiAgICB9XG59IiwibW9kdWxlIFBST0pFQ1Qge1xuICAgIC8qKlxuICAgICogQmFieWxvbiBTY3JpcHQgQ29tcG9uZW50XG4gICAgKiBAY2xhc3MgRnhQYXJ0aWNsZVN5c3RlbVxuICAgICovXG4gICAgZXhwb3J0IGNsYXNzIEZ4UGFydGljbGVTeXN0ZW0gZXh0ZW5kcyBCQUJZTE9OLlNjcmlwdENvbXBvbmVudCB7XG4gICAgICAgIHB1YmxpYyBnZXRQYXJ0aWNsZUVtaXR0ZXIoKTpCQUJZTE9OLkFic3RyYWN0TWVzaCB7IHJldHVybiB0aGlzLm1fcGFydGljbGVFbWl0dGVyOyB9XG4gICAgICAgIHB1YmxpYyBnZXRQYXJ0aWNsZVN5c3RlbSgpOkJBQllMT04uUGFydGljbGVTeXN0ZW0gfCBCQUJZTE9OLkdQVVBhcnRpY2xlU3lzdGVtIHsgcmV0dXJuIHRoaXMubV9wYXJ0aWNsZVN5c3RlbTsgfVxuXG4gICAgICAgIHByb3RlY3RlZCBtX3BhcnRpY2xlRW1pdHRlcjpCQUJZTE9OLkFic3RyYWN0TWVzaCA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBtX3BhcnRpY2xlU3lzdGVtOkJBQllMT04uUGFydGljbGVTeXN0ZW0gfCBCQUJZTE9OLkdQVVBhcnRpY2xlU3lzdGVtID0gbnVsbDtcbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlKCk6IHZvaWQge1xuICAgICAgICAgICAgY29uc3Qgcm9vdFVybDpzdHJpbmcgPSBCQUJZTE9OLlNjZW5lTWFuYWdlci5HZXRSb290VXJsKHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgY29uc3QgY2xhc3NUeXBlOm51bWJlciA9IHRoaXMuZ2V0UHJvcGVydHkoXCJjbGFzc1R5cGVcIiwgMCk7XG4gICAgICAgICAgICBjb25zdCBwYXJ0aWNsZVRleHQ6c3RyaW5nID0gdGhpcy5nZXRQcm9wZXJ0eShcImJhc2U2NFBhcnRpY2xlU3lzdGVtXCIpO1xuICAgICAgICAgICAgY29uc3QgcGxheU9uQXdha2U6Ym9vbGVhbiA9IHRoaXMuZ2V0UHJvcGVydHkoXCJwbGF5T25Bd2FrZVwiLCBmYWxzZSk7XG4gICAgICAgICAgICBjb25zdCBwYXJ0aWNsZVRleHR1cmU6QkFCWUxPTi5JVW5pdHlUZXh0dXJlID0gdGhpcy5nZXRQcm9wZXJ0eShcInBhcnRpY2xlVGV4dHVyZVwiKTtcbiAgICAgICAgICAgIHRoaXMubV9wYXJ0aWNsZUVtaXR0ZXIgPSB0aGlzLmdldEFic3RyYWN0TWVzaCgpO1xuICAgICAgICAgICAgaWYgKHRoaXMubV9wYXJ0aWNsZUVtaXR0ZXIgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMubV9wYXJ0aWNsZUVtaXR0ZXIgPSBCQUJZTE9OLk1lc2guQ3JlYXRlQm94KHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5FbWl0dGVyXCIsIDAuMjUsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgIHRoaXMubV9wYXJ0aWNsZUVtaXR0ZXIucGFyZW50ID0gdGhpcy50cmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgdGhpcy5tX3BhcnRpY2xlRW1pdHRlci5wb3NpdGlvbi5zZXQoMCwwLDApO1xuICAgICAgICAgICAgICAgIHRoaXMubV9wYXJ0aWNsZUVtaXR0ZXIuaXNWaXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3BhcnRpY2xlRW1pdHRlci5pc1BpY2thYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3BhcnRpY2xlRW1pdHRlci5tYXRlcmlhbCA9IEJBQllMT04uVXRpbGl0aWVzLkdldENvbGxpZGVyTWF0ZXJpYWwodGhpcy5zY2VuZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocGFydGljbGVUZXh0ICE9IG51bGwgJiYgcGFydGljbGVUZXh0ICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFydGljbGVKc29uOnN0cmluZyA9IHdpbmRvdy5hdG9iKHBhcnRpY2xlVGV4dCk7XG4gICAgICAgICAgICAgICAgaWYgKHBhcnRpY2xlSnNvbiAhPSBudWxsICYmIHBhcnRpY2xlSnNvbiAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJ0aWNsZVBhcnNlZDphbnkgPSBKU09OLnBhcnNlKHBhcnRpY2xlSnNvbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJ0aWNsZVBhcnNlZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFydGljbGVQYXJzZWQudGV4dHVyZSAhPSBudWxsICYmIHBhcnRpY2xlVGV4dHVyZSAhPSBudWxsKSAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRpY2xlUGFyc2VkLnRleHR1cmUubmFtZSA9IHBhcnRpY2xlVGV4dHVyZS5maWxlbmFtZTsgLy8gTm90ZTogUGFydGljbGUgU3lzdGVtIFBhcnNlciBVc2UgTmFtZSBOb3QgVXJsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydGljbGVQYXJzZWQudGV4dHVyZS51cmwgPSBwYXJ0aWNsZVRleHR1cmUuZmlsZW5hbWU7ICAvLyBOb3RlOiBQYXJ0aWNsZSBTeXN0ZW0gUGFyc2VyIFVzZSBOYW1lIE5vdCBVcmxcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjbGFzc1R5cGUgPT09IDEpIHsgIC8vIEdQVSBQYXJ0aWNsZSBTeXN0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fcGFydGljbGVTeXN0ZW0gPSBCQUJZTE9OLkdQVVBhcnRpY2xlU3lzdGVtLlBhcnNlKHBhcnRpY2xlUGFyc2VkLCB0aGlzLnNjZW5lLCByb290VXJsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7ICAgICAgICAgICAgICAgIC8vIENQVSBQYXJ0aWNsZSBTeXN0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fcGFydGljbGVTeXN0ZW0gPSBCQUJZTE9OLlBhcnRpY2xlU3lzdGVtLlBhcnNlKHBhcnRpY2xlUGFyc2VkLCB0aGlzLnNjZW5lLCByb290VXJsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1fcGFydGljbGVTeXN0ZW0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1fcGFydGljbGVFbWl0dGVyICE9IG51bGwpIHRoaXMubV9wYXJ0aWNsZVN5c3RlbS5lbWl0dGVyID0gdGhpcy5tX3BhcnRpY2xlRW1pdHRlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGxheU9uQXdha2UgPT09IGZhbHNlKSB0aGlzLm1fcGFydGljbGVTeXN0ZW0uc3RvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLm1fcGFydGljbGVFbWl0dGVyID0gbnVsbDtcbiAgICAgICAgICAgIGlmICh0aGlzLm1fcGFydGljbGVTeXN0ZW0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMubV9wYXJ0aWNsZVN5c3RlbS5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3BhcnRpY2xlU3lzdGVtID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCJtb2R1bGUgUFJPSkVDVCB7XG4gICAgLyoqXG4gICAgICogQmFieWxvbiB3YXRlciBtYXRlcmlhbCBzeXN0ZW0gcHJvIGNsYXNzIChCYWJ5bG9uIFdhdGVyIE1hdGVyaWFsKVxuICAgICAqIEBjbGFzcyBTa3lNYXRlcmlhbFN5c3RlbSAtIEFsbCByaWdodHMgcmVzZXJ2ZWQgKGMpIDIwMjAgTWFja2V5IEtpbmFyZFxuICAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBTa3lNYXRlcmlhbFN5c3RlbSBleHRlbmRzIEJBQllMT04uU2NyaXB0Q29tcG9uZW50IHtcbiAgICAgICAgcHJpdmF0ZSBza3lmb2c6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIHNreXNpemU6bnVtYmVyID0gMTAwMDtcbiAgICAgICAgcHJpdmF0ZSBwcm9iZXNpemU6bnVtYmVyID0gMTI4O1xuICAgICAgICBwcml2YXRlIHJlZmxlY3Rpb25zOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSByZWZsZWN0bGV2ZWw6bnVtYmVyID0gMTtcbiAgICAgICAgcHJpdmF0ZSBza3l0aW50Y29sb3I6QkFCWUxPTi5Db2xvcjMgPSBuZXcgQkFCWUxPTi5Db2xvcjMoMSwxLDEpO1xuICAgICAgICBwdWJsaWMgZ2V0U2t5Ym94TWVzaCgpOkJBQllMT04uQWJzdHJhY3RNZXNoIHsgcmV0dXJuIHRoaXMubV9za3lib3hNZXNoOyB9XG4gICAgICAgIHB1YmxpYyBnZXRTa3lNYXRlcmlhbCgpOkJBQllMT04uU2t5TWF0ZXJpYWwgeyByZXR1cm4gdGhpcy5tX3NreU1hdGVyaWFsOyB9XG4gICAgICAgIHB1YmxpYyBnZXRSZWZsZWN0aW9uUHJvYmUoKTpCQUJZTE9OLlJlZmxlY3Rpb25Qcm9iZSB7IHJldHVybiB0aGlzLm1fcmVmbGVjdFByb2JlOyB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlKCk6IHZvaWQgeyB0aGlzLmF3YWtlU2t5Ym94TWF0ZXJpYWwoKTsgfVxuICAgICAgICBwcm90ZWN0ZWQgc3RhcnQoKTogdm9pZCB7IC8qIFN0YXJ0IHJlbmRlciBsb29wIGZ1bmN0aW9uICovIH1cbiAgICAgICAgcHJvdGVjdGVkIHVwZGF0ZSgpOiB2b2lkIHsgLyogVXBkYXRlIHJlbmRlciBsb29wIGZ1bmN0aW9uICovIH1cbiAgICAgICAgcHJvdGVjdGVkIGxhdGUoKTogdm9pZCB7IC8qIExhdGUgdXBkYXRlIHJlbmRlciBsb29wIGZ1bmN0aW9uICovIH1cbiAgICAgICAgcHJvdGVjdGVkIGFmdGVyKCk6IHZvaWQgeyAvKiBBZnRlciByZW5kZXIgbG9vcCBmdW5jdGlvbiAqLyB9XG4gICAgICAgIHByb3RlY3RlZCBkZXN0cm95KCk6IHZvaWQgeyB0aGlzLmRlc3Ryb3lTa3lib3hNYXRlcmlhbCgpOyB9XG5cbiAgICAgICAgcHJvdGVjdGVkIG1fc2t5Ym94TWVzaDpCQUJZTE9OLk1lc2ggPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgbV9za3lNYXRlcmlhbDpCQUJZTE9OLlNreU1hdGVyaWFsID0gbnVsbDtcbiAgICAgICAgcHJvdGVjdGVkIG1fcmVmbGVjdFByb2JlOkJBQllMT04uUmVmbGVjdGlvblByb2JlID0gbnVsbDtcbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlU2t5Ym94TWF0ZXJpYWwoKTp2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuc2t5Zm9nID0gdGhpcy5nZXRQcm9wZXJ0eShcInNreWZvZ1wiLCB0aGlzLnNreWZvZyk7XG4gICAgICAgICAgICB0aGlzLnNreXNpemUgPSB0aGlzLmdldFByb3BlcnR5KFwic2t5c2l6ZVwiLCB0aGlzLnNreXNpemUpO1xuICAgICAgICAgICAgdGhpcy5wcm9iZXNpemUgPSB0aGlzLmdldFByb3BlcnR5KFwicHJvYmVzaXplXCIsIHRoaXMucHJvYmVzaXplKTtcbiAgICAgICAgICAgIHRoaXMucmVmbGVjdGlvbnMgPSB0aGlzLmdldFByb3BlcnR5KFwicmVmbGVjdGlvbnNcIiwgdGhpcy5yZWZsZWN0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLnJlZmxlY3RsZXZlbCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyZWZsZWN0bGV2ZWxcIiwgdGhpcy5yZWZsZWN0bGV2ZWwpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGNvbnN0IHRpbnRDb2xvcjpCQUJZTE9OLklVbml0eUNvbG9yID0gdGhpcy5nZXRQcm9wZXJ0eShcInRpbnRDb2xvclwiKTtcbiAgICAgICAgICAgIGlmICh0aW50Q29sb3IgIT0gbnVsbCkgdGhpcy5za3l0aW50Y29sb3IgPSBCQUJZTE9OLlV0aWxpdGllcy5QYXJzZUNvbG9yMyh0aW50Q29sb3IpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIHRoaXMubV9za3lib3hNZXNoID0gQkFCWUxPTi5NZXNoLkNyZWF0ZUJveChcIkFtYmllbnQgU2t5Ym94XCIsIHRoaXMuc2t5c2l6ZSwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICB0aGlzLm1fc2t5Ym94TWVzaC5wb3NpdGlvbi5zZXQoMCwwLDApO1xuICAgICAgICAgICAgdGhpcy5tX3NreWJveE1lc2guaW5maW5pdGVEaXN0YW5jZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLm1fc2t5Ym94TWVzaC5hcHBseUZvZyA9IHRoaXMuc2t5Zm9nO1xuICAgICAgICAgICAgaWYgKHRoaXMuc2NlbmUudXNlUmlnaHRIYW5kZWRTeXN0ZW0gPT09IHRydWUpIHRoaXMubV9za3lib3hNZXNoLnNjYWxpbmcueCAqPSAtMTtcbiAgICAgICAgICAgIC8vIFNldHVwIFNreSBNYXRlcmlhbCBQcm9wZXJ0aWVzXG4gICAgICAgICAgICB0aGlzLm1fc2t5TWF0ZXJpYWwgPSBuZXcgQkFCWUxPTi5Ta3lNYXRlcmlhbCh0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuU2t5TWF0ZXJpYWxcIiwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICB0aGlzLm1fc2t5TWF0ZXJpYWwuYmFja0ZhY2VDdWxsaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnNldFNreWJveFRpbnRDb2xvcih0aGlzLnNreXRpbnRjb2xvcik7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIERlZmluZXMgdGhlIG92ZXJhbGwgbHVtaW5hbmNlIG9mIHNreSBpbiBpbnRlcnZhbCBbMCwgMV0uXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMubV9za3lNYXRlcmlhbC5sdW1pbmFuY2UgPSB0aGlzLmdldFByb3BlcnR5KFwibHVtaW5hbmNlXCIsIHRoaXMubV9za3lNYXRlcmlhbC5sdW1pbmFuY2UpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAqIERlZmluZXMgdGhlIGFtb3VudCAoc2NhdHRlcmluZykgb2YgaGF6ZSBhcyBvcHBvc2VkIHRvIG1vbGVjdWxlcyBpbiBhdG1vc3BoZXJlLlxuICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMubV9za3lNYXRlcmlhbC50dXJiaWRpdHkgPSB0aGlzLmdldFByb3BlcnR5KFwidHVyYmlkaXR5XCIsIHRoaXMubV9za3lNYXRlcmlhbC50dXJiaWRpdHkpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBEZWZpbmVzIHRoZSBza3kgYXBwZWFyYW5jZSAobGlnaHQgaW50ZW5zaXR5KS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5tX3NreU1hdGVyaWFsLnJheWxlaWdoID0gdGhpcy5nZXRQcm9wZXJ0eShcInJheWxlaWdoXCIsIHRoaXMubV9za3lNYXRlcmlhbC5yYXlsZWlnaCk7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIERlZmluZXMgdGhlIG1pZUNvZWZmaWNpZW50IGluIGludGVydmFsIFswLCAwLjFdIHdoaWNoIGFmZmVjdHMgdGhlIHByb3BlcnR5IC5taWVEaXJlY3Rpb25hbEcuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMubV9za3lNYXRlcmlhbC5taWVDb2VmZmljaWVudCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtaWVjb2VmZmljaWVudFwiLCB0aGlzLm1fc2t5TWF0ZXJpYWwubWllQ29lZmZpY2llbnQpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBEZWZpbmVzIHRoZSBhbW91bnQgb2YgaGF6ZSBwYXJ0aWNsZXMgZm9sbG93aW5nIHRoZSBNaWUgc2NhdHRlcmluZyB0aGVvcnkuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMubV9za3lNYXRlcmlhbC5taWVEaXJlY3Rpb25hbEcgPSB0aGlzLmdldFByb3BlcnR5KFwibWllZGlyZWN0aW9uYWxnXCIsIHRoaXMubV9za3lNYXRlcmlhbC5taWVEaXJlY3Rpb25hbEcpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBEZWZpbmVzIHRoZSBkaXN0YW5jZSBvZiB0aGUgc3VuIGFjY29yZGluZyB0byB0aGUgYWN0aXZlIHNjZW5lIGNhbWVyYS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5tX3NreU1hdGVyaWFsLmRpc3RhbmNlID0gdGhpcy5nZXRQcm9wZXJ0eShcImRpc3RhbmNlXCIsIHRoaXMubV9za3lNYXRlcmlhbC5kaXN0YW5jZSk7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIERlZmluZXMgdGhlIHN1biBpbmNsaW5hdGlvbiwgaW4gaW50ZXJ2YWwgWy0wLjUsIDAuNV0uIFdoZW4gdGhlIGluY2xpbmF0aW9uIGlzIG5vdCAwLCB0aGUgc3VuIGlzIHNhaWRcbiAgICAgICAgICAgICAqIFwiaW5jbGluZWRcIi5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5tX3NreU1hdGVyaWFsLmluY2xpbmF0aW9uID0gdGhpcy5nZXRQcm9wZXJ0eShcImluY2xpbmF0aW9uXCIsIHRoaXMubV9za3lNYXRlcmlhbC5pbmNsaW5hdGlvbik7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIERlZmluZXMgdGhlIHNvbGFyIGF6aW11dGggaW4gaW50ZXJ2YWwgWzAsIDFdLiBUaGUgYXppbXV0aCBpcyB0aGUgYW5nbGUgaW4gdGhlIGhvcml6b250YWwgcGxhbiBiZXR3ZWVuXG4gICAgICAgICAgICAgKiBhbiBvYmplY3QgZGlyZWN0aW9uIGFuZCBhIHJlZmVyZW5jZSBkaXJlY3Rpb24uXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMubV9za3lNYXRlcmlhbC5hemltdXRoID0gdGhpcy5nZXRQcm9wZXJ0eShcImF6aW11dGhcIiwgdGhpcy5tX3NreU1hdGVyaWFsLmF6aW11dGgpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBEZWZpbmVzIGFuIG9mZnNldCB2ZWN0b3IgdXNlZCB0byBnZXQgYSBob3Jpem9uIG9mZnNldC5cbiAgICAgICAgICAgICAqIEBleGFtcGxlIHNreU1hdGVyaWFsLmNhbWVyYU9mZnNldC55ID0gY2FtZXJhLmdsb2JhbFBvc2l0aW9uLnkgLy8gU2V0IGhvcml6b24gcmVsYXRpdmUgdG8gMCBvbiB0aGUgWSBheGlzXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNvbnN0IGNhbU9mZnNldERhdGE6QkFCWUxPTi5JVW5pdHlWZWN0b3IzID0gdGhpcy5nZXRQcm9wZXJ0eShcImNhbWVyYW9mZnNldFwiKTtcbiAgICAgICAgICAgIGlmIChjYW1PZmZzZXREYXRhICE9IG51bGwpIHRoaXMubV9za3lNYXRlcmlhbC5jYW1lcmFPZmZzZXQgPSBCQUJZTE9OLlV0aWxpdGllcy5QYXJzZVZlY3RvcjMoY2FtT2Zmc2V0RGF0YSk7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIERlZmluZXMgaWYgdGhlIHN1biBwb3NpdGlvbiBzaG91bGQgYmUgY29tcHV0ZWQgKGluY2xpbmF0aW9uIGFuZCBhemltdXRoKSBhY2NvcmRpbmcgdG8gdGhlIHNjZW5lXG4gICAgICAgICAgICAgKiBzdW4gcG9zaXRpb24uXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMubV9za3lNYXRlcmlhbC51c2VTdW5Qb3NpdGlvbiA9IHRoaXMuZ2V0UHJvcGVydHkoXCJ1c2VzdW5wb3NpdGlvblwiLCB0aGlzLm1fc2t5TWF0ZXJpYWwudXNlU3VuUG9zaXRpb24pO1xuICAgICAgICAgICAgdGhpcy5tX3NreU1hdGVyaWFsLnN1blBvc2l0aW9uID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCA1MCwgMCk7XG4gICAgICAgICAgICBpZiAodGhpcy5zY2VuZS5tZXRhZGF0YSAhPSBudWxsICYmIHRoaXMuc2NlbmUubWV0YWRhdGEudW5pdHkgIT0gbnVsbCAmJiB0aGlzLnNjZW5lLm1ldGFkYXRhLnVuaXR5KSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2NlbmUubWV0YWRhdGEudW5pdHkuc3VucG9zaXRpb24gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fc2t5TWF0ZXJpYWwuc3VuUG9zaXRpb24gPSBCQUJZTE9OLlV0aWxpdGllcy5QYXJzZVZlY3RvcjModGhpcy5zY2VuZS5tZXRhZGF0YS51bml0eS5zdW5wb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQXNzaWduIFNreSBNYXRlcmlhbCBUbyBTa3lib3ggTWVzaFxuICAgICAgICAgICAgdGhpcy5tX3NreWJveE1lc2gubWF0ZXJpYWwgPSB0aGlzLm1fc2t5TWF0ZXJpYWw7XG4gICAgICAgICAgICAvLyBTZXR1cCBFbnZpcm9ubWVudCBSZWZsZWN0aW9uIFByb2JlIFRleHR1cmVcbiAgICAgICAgICAgIGlmICh0aGlzLnJlZmxlY3Rpb25zID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3JlZmxlY3RQcm9iZSA9IG5ldyBCQUJZTE9OLlJlZmxlY3Rpb25Qcm9iZShcIlNreWJveC1SZWZsZWN0aW9uUHJvYmVcIiwgdGhpcy5wcm9iZXNpemUsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgIHRoaXMubV9yZWZsZWN0UHJvYmUucmVuZGVyTGlzdC5wdXNoKHRoaXMubV9za3lib3hNZXNoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLmN1c3RvbVJlbmRlclRhcmdldHMucHVzaCh0aGlzLm1fcmVmbGVjdFByb2JlLmN1YmVUZXh0dXJlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLmVudmlyb25tZW50VGV4dHVyZSA9IHRoaXMubV9yZWZsZWN0UHJvYmUuY3ViZVRleHR1cmU7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5lbnZpcm9ubWVudEludGVuc2l0eSA9IHRoaXMucmVmbGVjdGxldmVsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByb3RlY3RlZCBkZXN0cm95U2t5Ym94TWF0ZXJpYWwoKTp2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1fc2t5Ym94TWVzaCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3NreWJveE1lc2guZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMubV9za3lib3hNZXNoID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLm1fcmVmbGVjdFByb2JlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1fcmVmbGVjdFByb2JlLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fcmVmbGVjdFByb2JlID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLm1fc2t5TWF0ZXJpYWwgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMubV9za3lNYXRlcmlhbC5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3NreU1hdGVyaWFsID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKiogU2V0IFNreWJveCBNZXNoIHRpbnQgY29sb3IuIChCb3ggTWVzaCBWZXJ0ZXggQ29sb3JzKSAqL1xuICAgICAgICBwdWJsaWMgc2V0U2t5Ym94VGludENvbG9yKGNvbG9yOkJBQllMT04uQ29sb3IzKTp2b2lkIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbG9ycyA9IFtdO1xuICAgICAgICAgICAgY29uc3QgbnVtVmVydGljZXMgPSB0aGlzLm1fc2t5Ym94TWVzaC5nZXRUb3RhbFZlcnRpY2VzKCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVZlcnRpY2VzOyArK2kpIHtcbiAgICAgICAgICAgICAgICBjb2xvcnMucHVzaChjb2xvci5yLCBjb2xvci5nLCBjb2xvci5iLCAxLjApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5tX3NreWJveE1lc2guc2V0VmVydGljZXNEYXRhKFwiY29sb3JcIiwgY29sb3JzKTtcbiAgICAgICAgICAgIHRoaXMubV9za3lib3hNZXNoLnVzZVZlcnRleENvbG9ycyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUgUFJPSkVDVCB7XG4gICAgLyoqXG4gICAgICogQmFieWxvbiB3YXRlciBtYXRlcmlhbCBzeXN0ZW0gcHJvIGNsYXNzIChCYWJ5bG9uIFdhdGVyIE1hdGVyaWFsKVxuICAgICAqIEBjbGFzcyBXYXRlck1hdGVyaWFsU3lzdGVtIC0gQWxsIHJpZ2h0cyByZXNlcnZlZCAoYykgMjAyMCBNYWNrZXkgS2luYXJkXG4gICAgICovXG4gICAgZXhwb3J0IGNsYXNzIFdhdGVyTWF0ZXJpYWxTeXN0ZW0gZXh0ZW5kcyBCQUJZTE9OLlNjcmlwdENvbXBvbmVudCB7XG4gICAgICAgIHByaXZhdGUgd2F0ZXJUYWc6c3RyaW5nID0gXCJXYXRlclwiO1xuICAgICAgICBwcml2YXRlIHRhcmdldFNpemU6QkFCWUxPTi5WZWN0b3IyID0gbmV3IEJBQllMT04uVmVjdG9yMigxMjgsIDEyOCk7XG4gICAgICAgIHByaXZhdGUgcmVuZGVyU2l6ZTpCQUJZTE9OLlZlY3RvcjIgPSBuZXcgQkFCWUxPTi5WZWN0b3IyKDUxMiwgNTEyKTtcbiAgICAgICAgcHJpdmF0ZSBkZXB0aEZhY3RvcjpudW1iZXIgPSAxLjA7XG4gICAgICAgIHByaXZhdGUgcmVmbGVjdFNreWJveDpib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHJpdmF0ZSBzdWJEaXZpc2lvbnM6bnVtYmVyID0gMzI7XG4gICAgICAgIHByaXZhdGUgaGVpZ2h0T2Zmc2V0Om51bWJlciA9IDEuMDtcbiAgICAgICAgcHJpdmF0ZSB3aW5kRGlyZWN0aW9uOiBCQUJZTE9OLlZlY3RvcjIgPSBuZXcgQkFCWUxPTi5WZWN0b3IyKDAsIDEpO1xuICAgICAgICBwcml2YXRlIHdpbmRGb3JjZTogbnVtYmVyID0gNjtcbiAgICAgICAgcHJpdmF0ZSB3YXZlU3BlZWQ6IG51bWJlciA9IDEuMDtcbiAgICAgICAgcHJpdmF0ZSB3YXZlTGVuZ3RoOiBudW1iZXIgPSAwLjQ7XG4gICAgICAgIHByaXZhdGUgd2F2ZUhlaWdodDogbnVtYmVyID0gMC40O1xuICAgICAgICBwcml2YXRlIGJ1bXBIZWlnaHQ6IG51bWJlciA9IDAuNDtcbiAgICAgICAgcHJpdmF0ZSBidW1wU3VwZXJpbXBvc2U6IGJvb2xlYW47XG4gICAgICAgIHByaXZhdGUgYnVtcEFmZmVjdHNSZWZsZWN0aW9uOiBib29sZWFuO1xuICAgICAgICBwcml2YXRlIHdhdGVyQ29sb3I6IEJBQllMT04uQ29sb3IzID0gbmV3IEJBQllMT04uQ29sb3IzKDAuMSwgMC4xLCAwLjYpO1xuICAgICAgICBwcml2YXRlIGNvbG9yQmxlbmRGYWN0b3I6IG51bWJlciA9IDAuMjtcbiAgICAgICAgcHJpdmF0ZSB3YXRlckNvbG9yMjogQkFCWUxPTi5Db2xvcjMgPSBuZXcgQkFCWUxPTi5Db2xvcjMoMC4xLCAwLjEsIDAuNik7XG4gICAgICAgIHByaXZhdGUgY29sb3JCbGVuZEZhY3RvcjI6IG51bWJlciA9IDAuMjtcbiAgICAgICAgcHJpdmF0ZSBkaXNhYmxlQ2xpcFBsYW5lOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgZnJlc25lbFNlcGFyYXRlOiBib29sZWFuO1xuXG4gICAgICAgIHB1YmxpYyBnZXRXYXRlckdlb21ldHJ5KCk6QkFCWUxPTi5BYnN0cmFjdE1lc2ggeyByZXR1cm4gdGhpcy5tX3dhdGVyR2VvbWV0cnk7IH1cbiAgICAgICAgcHVibGljIGdldFdhdGVyTWF0ZXJpYWwoKTpCQUJZTE9OLldhdGVyTWF0ZXJpYWwgeyByZXR1cm4gdGhpcy5tX3dhdGVyTWF0ZXJpYWw7IH1cbiAgICAgICAgcHJvdGVjdGVkIG1fd2F0ZXJHZW9tZXRyeTpCQUJZTE9OLkFic3RyYWN0TWVzaCA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBtX3dhdGVyTWF0ZXJpYWw6QkFCWUxPTi5XYXRlck1hdGVyaWFsID0gbnVsbDtcbiAgICAgICAgXG4gICAgICAgIHByb3RlY3RlZCBhd2FrZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMud2F0ZXJUYWcgPSB0aGlzLmdldFByb3BlcnR5KFwid2F0ZXJ0YWdcIiwgdGhpcy53YXRlclRhZyk7XG4gICAgICAgICAgICB0aGlzLmRlcHRoRmFjdG9yID0gdGhpcy5nZXRQcm9wZXJ0eShcImRlcHRoZmFjdG9yXCIsIHRoaXMuZGVwdGhGYWN0b3IpO1xuICAgICAgICAgICAgdGhpcy5zdWJEaXZpc2lvbnMgPSB0aGlzLmdldFByb3BlcnR5KFwic3ViZGl2aXNpb25zXCIsIHRoaXMuc3ViRGl2aXNpb25zKTtcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0T2Zmc2V0ID0gdGhpcy5nZXRQcm9wZXJ0eShcImhlaWdodG9mZnNldFwiLCB0aGlzLmhlaWdodE9mZnNldCk7XG4gICAgICAgICAgICB0aGlzLnJlZmxlY3RTa3lib3ggPSB0aGlzLmdldFByb3BlcnR5KFwicmVmbGVjdHNreWJveFwiLCB0aGlzLnJlZmxlY3RTa3lib3gpO1xuICAgICAgICAgICAgdGhpcy53aW5kRm9yY2UgPSB0aGlzLmdldFByb3BlcnR5KFwid2luZGZvcmNlXCIsIHRoaXMud2luZEZvcmNlKTtcbiAgICAgICAgICAgIHRoaXMud2F2ZVNwZWVkID0gdGhpcy5nZXRQcm9wZXJ0eShcIndhdmVzcGVlZFwiLCB0aGlzLndhdmVTcGVlZCk7XG4gICAgICAgICAgICB0aGlzLndhdmVMZW5ndGggPSB0aGlzLmdldFByb3BlcnR5KFwid2F2ZWxlbmd0aFwiLCB0aGlzLndhdmVMZW5ndGgpO1xuICAgICAgICAgICAgdGhpcy53YXZlSGVpZ2h0ID0gdGhpcy5nZXRQcm9wZXJ0eShcIndhdmVoZWlnaHRcIiwgdGhpcy53YXZlSGVpZ2h0KTtcbiAgICAgICAgICAgIHRoaXMuYnVtcEhlaWdodCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJidW1waGVpZ2h0XCIsIHRoaXMuYnVtcEhlaWdodCk7XG4gICAgICAgICAgICB0aGlzLmJ1bXBTdXBlcmltcG9zZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJidW1wc3VwZXJpbXBvc2VcIiwgdGhpcy5idW1wU3VwZXJpbXBvc2UpO1xuICAgICAgICAgICAgdGhpcy5idW1wQWZmZWN0c1JlZmxlY3Rpb24gPSB0aGlzLmdldFByb3BlcnR5KFwiYnVtcGFmZmVjdHNyZWZsZWN0aW9uXCIsIHRoaXMuYnVtcEFmZmVjdHNSZWZsZWN0aW9uKTtcbiAgICAgICAgICAgIHRoaXMuY29sb3JCbGVuZEZhY3RvciA9IHRoaXMuZ2V0UHJvcGVydHkoXCJjb2xvcmJsZW5kZmFjdG9yXCIsIHRoaXMuY29sb3JCbGVuZEZhY3Rvcik7XG4gICAgICAgICAgICB0aGlzLmNvbG9yQmxlbmRGYWN0b3IyID0gdGhpcy5nZXRQcm9wZXJ0eShcImNvbG9yYmxlbmRmYWN0b3IyXCIsIHRoaXMuY29sb3JCbGVuZEZhY3RvcjIpO1xuICAgICAgICAgICAgdGhpcy5kaXNhYmxlQ2xpcFBsYW5lID0gdGhpcy5nZXRQcm9wZXJ0eShcImRpc2FibGVjbGlwcGxhbmVcIiwgdGhpcy5kaXNhYmxlQ2xpcFBsYW5lKTtcbiAgICAgICAgICAgIHRoaXMuZnJlc25lbFNlcGFyYXRlID0gdGhpcy5nZXRQcm9wZXJ0eShcImZyZXNuZWxzZXBhcmF0ZVwiLCB0aGlzLmZyZXNuZWxTZXBhcmF0ZSk7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgY29uc3Qgd2NvbG9yMTpCQUJZTE9OLklVbml0eUNvbG9yID0gdGhpcy5nZXRQcm9wZXJ0eShcIndhdGVyY29sb3JcIik7XG4gICAgICAgICAgICB0aGlzLndhdGVyQ29sb3IgPSBCQUJZTE9OLlV0aWxpdGllcy5QYXJzZUNvbG9yMyh3Y29sb3IxKTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBjb25zdCB3Y29sb3IyOkJBQllMT04uSVVuaXR5Q29sb3IgPSB0aGlzLmdldFByb3BlcnR5KFwid2F0ZXJjb2xvcjJcIik7XG4gICAgICAgICAgICB0aGlzLndhdGVyQ29sb3IyID0gQkFCWUxPTi5VdGlsaXRpZXMuUGFyc2VDb2xvcjMod2NvbG9yMik7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgY29uc3Qgd2RpcmVjdGlvbjpCQUJZTE9OLklVbml0eVZlY3RvcjIgPSB0aGlzLmdldFByb3BlcnR5KFwid2luZGRpcmVjdGlvblwiKTtcbiAgICAgICAgICAgIHRoaXMud2luZERpcmVjdGlvbiA9IEJBQllMT04uVXRpbGl0aWVzLlBhcnNlVmVjdG9yMih3ZGlyZWN0aW9uKTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBjb25zdCBpdGFyZ2V0c2l6ZTpCQUJZTE9OLklVbml0eVZlY3RvcjIgPSB0aGlzLmdldFByb3BlcnR5KFwidGFyZ2V0c2l6ZVwiKTtcbiAgICAgICAgICAgIGlmIChpdGFyZ2V0c2l6ZSAhPSBudWxsKSB0aGlzLnRhcmdldFNpemUgPSBCQUJZTE9OLlV0aWxpdGllcy5QYXJzZVZlY3RvcjIoaXRhcmdldHNpemUpO1xuICAgICAgICAgICAgLy8gLi4gICAgICAgIFxuICAgICAgICAgICAgY29uc3QgaXJlbmRlcnNpemU6QkFCWUxPTi5JVW5pdHlWZWN0b3IyID0gdGhpcy5nZXRQcm9wZXJ0eShcInJlbmRlcnNpemVcIik7XG4gICAgICAgICAgICBpZiAoaXJlbmRlcnNpemUgIT0gbnVsbCkgdGhpcy5yZW5kZXJTaXplID0gQkFCWUxPTi5VdGlsaXRpZXMuUGFyc2VWZWN0b3IyKGlyZW5kZXJzaXplKTtcbiAgICAgICAgICAgIC8qIEF3YWtlIGNvbXBvbmVudCBmdW5jdGlvbiAqL1xuICAgICAgICAgICAgbGV0IGJ1bXBUZXh0dXJlOkJBQllMT04uVGV4dHVyZSA9IG51bGw7XG4gICAgICAgICAgICBjb25zdCBidW1wVGV4dHVyZURhdGE6QkFCWUxPTi5JVW5pdHlUZXh0dXJlID0gdGhpcy5nZXRQcm9wZXJ0eShcImJ1bXB0ZXh0dXJlXCIpO1xuICAgICAgICAgICAgaWYgKGJ1bXBUZXh0dXJlRGF0YSAhPSBudWxsKSBidW1wVGV4dHVyZSA9IEJBQllMT04uVXRpbGl0aWVzLlBhcnNlVGV4dHVyZShidW1wVGV4dHVyZURhdGEsIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgaWYgKGJ1bXBUZXh0dXJlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1fd2F0ZXJNYXRlcmlhbCA9IG5ldyBCQUJZTE9OLldhdGVyTWF0ZXJpYWwodGhpcy50cmFuc2Zvcm0ubmFtZSArIFwiLldhdGVyXCIsIHRoaXMuc2NlbmUsIHRoaXMucmVuZGVyU2l6ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3dhdGVyTWF0ZXJpYWwuYnVtcFRleHR1cmUgPSBidW1wVGV4dHVyZTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fd2F0ZXJNYXRlcmlhbC53aW5kRGlyZWN0aW9uID0gdGhpcy53aW5kRGlyZWN0aW9uO1xuICAgICAgICAgICAgICAgIHRoaXMubV93YXRlck1hdGVyaWFsLndpbmRGb3JjZSA9IHRoaXMud2luZEZvcmNlO1xuICAgICAgICAgICAgICAgIHRoaXMubV93YXRlck1hdGVyaWFsLndhdmVTcGVlZCA9IHRoaXMud2F2ZVNwZWVkO1xuICAgICAgICAgICAgICAgIHRoaXMubV93YXRlck1hdGVyaWFsLndhdmVMZW5ndGggPSB0aGlzLndhdmVMZW5ndGg7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3dhdGVyTWF0ZXJpYWwud2F2ZUhlaWdodCA9IHRoaXMud2F2ZUhlaWdodDtcbiAgICAgICAgICAgICAgICB0aGlzLm1fd2F0ZXJNYXRlcmlhbC5idW1wSGVpZ2h0ID0gdGhpcy5idW1wSGVpZ2h0O1xuICAgICAgICAgICAgICAgIHRoaXMubV93YXRlck1hdGVyaWFsLmJ1bXBTdXBlcmltcG9zZSA9IHRoaXMuYnVtcFN1cGVyaW1wb3NlO1xuICAgICAgICAgICAgICAgIHRoaXMubV93YXRlck1hdGVyaWFsLmJ1bXBBZmZlY3RzUmVmbGVjdGlvbiA9IHRoaXMuYnVtcEFmZmVjdHNSZWZsZWN0aW9uO1xuICAgICAgICAgICAgICAgIHRoaXMubV93YXRlck1hdGVyaWFsLndhdGVyQ29sb3IgPSB0aGlzLndhdGVyQ29sb3I7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3dhdGVyTWF0ZXJpYWwuY29sb3JCbGVuZEZhY3RvciA9IHRoaXMuY29sb3JCbGVuZEZhY3RvcjtcbiAgICAgICAgICAgICAgICB0aGlzLm1fd2F0ZXJNYXRlcmlhbC53YXRlckNvbG9yMiA9IHRoaXMud2F0ZXJDb2xvcjI7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3dhdGVyTWF0ZXJpYWwuY29sb3JCbGVuZEZhY3RvcjIgPSB0aGlzLmNvbG9yQmxlbmRGYWN0b3IyO1xuICAgICAgICAgICAgICAgIHRoaXMubV93YXRlck1hdGVyaWFsLmRpc2FibGVDbGlwUGxhbmUgPSB0aGlzLmRpc2FibGVDbGlwUGxhbmU7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3dhdGVyTWF0ZXJpYWwuZnJlc25lbFNlcGFyYXRlID0gdGhpcy5mcmVzbmVsU2VwYXJhdGU7XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBXYXRlciBNYXRlcmlhbCBUYWdzXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWZsZWN0U2t5Ym94ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNreWJveE1lc2g6QkFCWUxPTi5BYnN0cmFjdE1lc2ggPSBCQUJZTE9OLlNjZW5lTWFuYWdlci5HZXRBbWJpZW50U2t5Ym94KHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2t5Ym94TWVzaCAhPSBudWxsKSB0aGlzLm1fd2F0ZXJNYXRlcmlhbC5hZGRUb1JlbmRlckxpc3Qoc2t5Ym94TWVzaCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLndhdGVyVGFnICE9IG51bGwgJiYgdGhpcy53YXRlclRhZyAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB3YXRlck1lc2hlczpCQUJZTE9OLkFic3RyYWN0TWVzaFtdID0gdGhpcy5zY2VuZS5nZXRNZXNoZXNCeVRhZ3ModGhpcy53YXRlclRhZyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh3YXRlck1lc2hlcyAhPSBudWxsICYmIHdhdGVyTWVzaGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhdGVyTWVzaGVzLmZvckVhY2goKG1lc2g6QkFCWUxPTi5BYnN0cmFjdE1lc2gpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fd2F0ZXJNYXRlcmlhbC5hZGRUb1JlbmRlckxpc3QobWVzaCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIFdhdGVyIE1hdGVyaWFsIE1lc2hcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIHRoaXMubV93YXRlckdlb21ldHJ5ID0gQkFCWUxPTi5NZXNoLkNyZWF0ZUdyb3VuZCh0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuV2F0ZXJNZXNoXCIsIHRoaXMudGFyZ2V0U2l6ZS54LCB0aGlzLnRhcmdldFNpemUueSwgdGhpcy5zdWJEaXZpc2lvbnMsIHRoaXMuc2NlbmUsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fd2F0ZXJHZW9tZXRyeS5wYXJlbnQgPSB0aGlzLnRyYW5zZm9ybTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fd2F0ZXJHZW9tZXRyeS5wb3NpdGlvbi5zZXQoMCwgdGhpcy5oZWlnaHRPZmZzZXQsIDApO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlcHRoRmFjdG9yID4gMCkgdGhpcy5tX3dhdGVyR2VvbWV0cnkuc2NhbGluZy55ICo9IHRoaXMuZGVwdGhGYWN0b3I7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3dhdGVyR2VvbWV0cnkubWF0ZXJpYWwgPSB0aGlzLm1fd2F0ZXJNYXRlcmlhbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29scy5XYXJuKFwiTm8gc3VwcG9ydGVkIHdhdGVyIGJ1bXAgdGV4dHVyZSBmb3I6IFwiICsgdGhpcy50cmFuc2Zvcm0ubmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHJvdGVjdGVkIHN0YXJ0KCk6IHZvaWQgeyAvKiBTdGFydCByZW5kZXIgbG9vcCBmdW5jdGlvbiAqLyB9XG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGUoKTogdm9pZCB7IC8qIFVwZGF0ZSByZW5kZXIgbG9vcCBmdW5jdGlvbiAqLyB9XG4gICAgICAgIHByb3RlY3RlZCBsYXRlKCk6IHZvaWQgeyAvKiBMYXRlIHVwZGF0ZSByZW5kZXIgbG9vcCBmdW5jdGlvbiAqLyB9XG4gICAgICAgIHByb3RlY3RlZCBhZnRlcigpOiB2b2lkIHsgLyogQWZ0ZXIgcmVuZGVyIGxvb3AgZnVuY3Rpb24gKi8gfVxuICAgICAgICBwcm90ZWN0ZWQgZGVzdHJveSgpOiB2b2lkIHsgLyogRGVzdHJveSBjb21wb25lbnQgZnVuY3Rpb24gKi8gfVxuICAgIH1cbn0iLCJtb2R1bGUgUFJPSkVDVCB7XG4gICAgLyoqXG4gICAgKiBCYWJ5bG9uIFNjcmlwdCBDb21wb25lbnRcbiAgICAqIEBjbGFzcyBTaW1wbGVGb2xsb3dDYW1lcmFcbiAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBTaW1wbGVGb2xsb3dDYW1lcmEgZXh0ZW5kcyBCQUJZTE9OLlNjcmlwdENvbXBvbmVudCB7XG4gICAgICAgIHByaXZhdGUgc21vb3RoRm9sbG93Om51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgc21vb3RoUm90YXRlOm51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgbWF0Y2hSb3RhdGlvbjpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgZm9sbG93VGFyZ2V0OkJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgdGFyZ2V0UG9zaXRpb246QkFCWUxPTi5WZWN0b3IzID0gQkFCWUxPTi5WZWN0b3IzLlplcm8oKTtcbiAgICAgICAgcHJpdmF0ZSB0YXJnZXRSb3RhdGlvbjpCQUJZTE9OLlF1YXRlcm5pb24gPSBCQUJZTE9OLlF1YXRlcm5pb24uWmVybygpO1xuICAgICAgICBwdWJsaWMgY29uc3RydWN0b3IodHJhbnNmb3JtOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUsIHNjZW5lOiBCQUJZTE9OLlNjZW5lLCBwcm9wZXJ0aWVzOiBhbnkgPSB7fSkge1xuICAgICAgICAgICAgc3VwZXIodHJhbnNmb3JtLCBzY2VuZSwgcHJvcGVydGllcyk7XG4gICAgICAgICAgICB0aGlzLnNtb290aEZvbGxvdyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJzbW9vdGhGb2xsb3dcIiwgdGhpcy5zbW9vdGhGb2xsb3cpO1xuICAgICAgICAgICAgdGhpcy5zbW9vdGhSb3RhdGUgPSB0aGlzLmdldFByb3BlcnR5KFwic21vb3RoUm90YXRlXCIsIHRoaXMuc21vb3RoUm90YXRlKTtcbiAgICAgICAgICAgIHRoaXMubWF0Y2hSb3RhdGlvbiA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtYXRjaFJvdGF0aW9uXCIsIHRoaXMubWF0Y2hSb3RhdGlvbik7XG4gICAgICAgICAgICBjb25zdCBmdGFyZ2V0OkJBQllMT04uSVVuaXR5VHJhbnNmb3JtID0gdGhpcy5nZXRQcm9wZXJ0eShcImZvbGxvd1RhcmdldFwiKTtcbiAgICAgICAgICAgIGlmIChmdGFyZ2V0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZvbGxvd1RhcmdldCA9IEJBQllMT04uVXRpbGl0aWVzLlBhcnNlVHJhbnNmb3JtQnlJRChmdGFyZ2V0LCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5mb2xsb3dUYXJnZXQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlV0aWxpdGllcy5WYWxpZGF0ZVRyYW5zZm9ybVF1YXRlcm5pb24odGhpcy5mb2xsb3dUYXJnZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIEJBQllMT04uVXRpbGl0aWVzLlZhbGlkYXRlVHJhbnNmb3JtUXVhdGVybmlvbih0aGlzLnRyYW5zZm9ybSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgc3RhcnQoKTogdm9pZCB7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiU3RhcnRpbmcgc2ltcGxlIGZvbGxvdyB0YXJnZXQgZm9yOiBcIiArIHRoaXMudHJhbnNmb3JtLm5hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGxhdGUoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5mb2xsb3dUYXJnZXQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlbHRhVGltZTpudW1iZXIgPSB0aGlzLmdldERlbHRhU2Vjb25kcygpO1xuICAgICAgICAgICAgICAgIEJBQllMT04uVXRpbGl0aWVzLkdldEFic29sdXRlUG9zaXRpb25Ub1JlZih0aGlzLmZvbGxvd1RhcmdldCwgdGhpcy50YXJnZXRQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgdGhpcy50YXJnZXRSb3RhdGlvbi5jb3B5RnJvbSh0aGlzLmZvbGxvd1RhcmdldC5hYnNvbHV0ZVJvdGF0aW9uUXVhdGVybmlvbik7XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zbW9vdGhGb2xsb3cgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIEJBQllMT04uVmVjdG9yMy5MZXJwVG9SZWYodGhpcy50cmFuc2Zvcm0ucG9zaXRpb24sIHRoaXMudGFyZ2V0UG9zaXRpb24sIChkZWx0YVRpbWUgKiB0aGlzLnNtb290aEZvbGxvdyksIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi5jb3B5RnJvbSh0aGlzLnRhcmdldFBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tYXRjaFJvdGF0aW9uID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNtb290aFJvdGF0ZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uUXVhdGVybmlvbi5TbGVycFRvUmVmKHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbiwgdGhpcy50YXJnZXRSb3RhdGlvbiwgKGRlbHRhVGltZSAqIHRoaXMuc21vb3RoUm90YXRlKSwgdGhpcy50cmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbi5jb3B5RnJvbSh0aGlzLnRhcmdldFJvdGF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCJtb2R1bGUgUFJPSkVDVCB7XG4gICAgLyoqXG4gICAgKiBCYWJ5bG9uIFNjcmlwdCBDb21wb25lbnRcbiAgICAqIEBjbGFzcyBTbW9vdGhGb2xsb3dUYXJnZXRcbiAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBTbW9vdGhGb2xsb3dUYXJnZXQgZXh0ZW5kcyBCQUJZTE9OLlNjcmlwdENvbXBvbmVudCB7XG5cbiAgICAgICAgcHVibGljIHRhcmdldDpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBudWxsO1xuICAgICAgICBwdWJsaWMgdGFyZ2V0SGVpZ2h0Om51bWJlciA9IDEuNzU7XG4gICAgICAgIHB1YmxpYyBmb2xsb3dIZWlnaHQ6bnVtYmVyID0gMS43NTtcblx0XHRwdWJsaWMgaGVpZ2h0RGFtcGluZzpudW1iZXIgPSAxMi4wO1xuICAgICAgICBwdWJsaWMgcm90YXRpb25EYW1waW5nOm51bWJlciA9IDMuMDtcblx0XHRwdWJsaWMgbWluaW11bURpc3RhbmNlOm51bWJlciA9IDYuMDtcbiAgICAgICAgcHVibGljIG1heGltdW1EaXN0YW5jZTpudW1iZXIgPSA4LjA7XG4gICAgICAgIHB1YmxpYyBzdGFydEJlaGluZFRhcmdldDpib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHVibGljIGZvbGxvd0JlaGluZFRhcmdldDpib29sZWFuID0gdHJ1ZTtcblxuXHRcdHByaXZhdGUgdGFyZ2V0UG9zaXRpb246QkFCWUxPTi5WZWN0b3IzID0gQkFCWUxPTi5WZWN0b3IzLlplcm8oKTtcbiAgICAgICAgcHJpdmF0ZSB0YXJnZXRBbmdsZXM6QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHByaXZhdGUgdHJhbnNmb3JtQW5nbGVzOkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICBwcml2YXRlIHBvc2l0aW9uQnVmZmVyOkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICBwcml2YXRlIHJvdGF0aW9uQnVmZmVyOkJBQllMT04uUXVhdGVybmlvbiA9IG5ldyBCQUJZTE9OLlF1YXRlcm5pb24oMCwwLDAsMSk7XG4gICAgICAgIHByaXZhdGUgdGVtcFJvdGF0aW9uQnVmZmVyOkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICBcbiAgICAgICAgcHVibGljIGNvbnN0cnVjdG9yKHRyYW5zZm9ybTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlLCBzY2VuZTogQkFCWUxPTi5TY2VuZSwgcHJvcGVydGllczogYW55ID0ge30pIHtcbiAgICAgICAgICAgIHN1cGVyKHRyYW5zZm9ybSwgc2NlbmUsIHByb3BlcnRpZXMpO1xuXG4gICAgICAgICAgICB0aGlzLnRhcmdldEhlaWdodCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJ0YXJnZXRIZWlnaHRcIiwgdGhpcy50YXJnZXRIZWlnaHQpO1xuICAgICAgICAgICAgdGhpcy5mb2xsb3dIZWlnaHQgPSB0aGlzLmdldFByb3BlcnR5KFwiZm9sbG93SGVpZ2h0XCIsIHRoaXMuZm9sbG93SGVpZ2h0KTtcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0RGFtcGluZyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJoZWlnaHREYW1waW5nXCIsIHRoaXMuaGVpZ2h0RGFtcGluZyk7XG4gICAgICAgICAgICB0aGlzLnJvdGF0aW9uRGFtcGluZyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyb3RhdGlvbkRhbXBpbmdcIiwgdGhpcy5yb3RhdGlvbkRhbXBpbmcpO1xuICAgICAgICAgICAgdGhpcy5taW5pbXVtRGlzdGFuY2UgPSB0aGlzLmdldFByb3BlcnR5KFwibWluaW11bURpc3RhbmNlXCIsIHRoaXMubWluaW11bURpc3RhbmNlKTtcbiAgICAgICAgICAgIHRoaXMubWF4aW11bURpc3RhbmNlID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1heGltdW1EaXN0YW5jZVwiLCB0aGlzLm1heGltdW1EaXN0YW5jZSk7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0QmVoaW5kVGFyZ2V0ID0gdGhpcy5nZXRQcm9wZXJ0eShcInN0YXJ0QmVoaW5kVGFyZ2V0XCIsIHRoaXMuc3RhcnRCZWhpbmRUYXJnZXQpO1xuICAgICAgICAgICAgdGhpcy5mb2xsb3dCZWhpbmRUYXJnZXQgPSB0aGlzLmdldFByb3BlcnR5KFwiZm9sbG93QmVoaW5kVGFyZ2V0XCIsIHRoaXMuZm9sbG93QmVoaW5kVGFyZ2V0KTtcblxuICAgICAgICAgICAgaWYgKHRoaXMucm90YXRpb25EYW1waW5nIDw9IDApIHRoaXMucm90YXRpb25EYW1waW5nID0gMztcbiAgICAgICAgICAgIGlmICh0aGlzLmhlaWdodERhbXBpbmcgPD0gMCkgdGhpcy5oZWlnaHREYW1waW5nID0gMTI7XG5cbiAgICAgICAgICAgIGNvbnN0IGZvbGxvd1RhcmdldDphbnkgPSB0aGlzLmdldFByb3BlcnR5KFwidGFyZ2V0XCIpO1xuICAgICAgICAgICAgaWYgKGZvbGxvd1RhcmdldCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50YXJnZXQgPSBCQUJZTE9OLlV0aWxpdGllcy5QYXJzZVRyYW5zZm9ybUJ5SUQoZm9sbG93VGFyZ2V0LCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBzdGFydCgpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRhcmdldCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhcnRCZWhpbmRUYXJnZXQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyAtIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uID0gdGhpcy50YXJnZXQucG9zaXRpb24uY2xvbmUoKTsgLSA/Pz9cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgbGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRhcmdldCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50YXJnZXRQb3NpdGlvbi5jb3B5RnJvbSh0aGlzLnRhcmdldC5wb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZm9sbG93QmVoaW5kVGFyZ2V0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlbHRhVGltZTpudW1iZXIgPSB0aGlzLmdldERlbHRhU2Vjb25kcygpO1xuICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlV0aWxpdGllcy5Ub0V1bGVyVG9SZWYodGhpcy50YXJnZXQucm90YXRpb25RdWF0ZXJuaW9uLCB0aGlzLnRhcmdldEFuZ2xlcyk7XG4gICAgICAgICAgICAgICAgICAgIEJBQllMT04uVXRpbGl0aWVzLlRvRXVsZXJUb1JlZih0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24sIHRoaXMudHJhbnNmb3JtQW5nbGVzKTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBub3JtYWxpemVkU3BlZWQ6bnVtYmVyID0gMS4wOyAvLyBUT0RPIC0gR2V0IFRhcmdldCBOb3JtYWxpemVkIFNwZWVkXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHdhbnRlZEhlaWdodDpudW1iZXIgPSAodGhpcy50YXJnZXRQb3NpdGlvbi55ICsgdGhpcy5mb2xsb3dIZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50SGVpZ2h0Om51bWJlciA9IEJBQllMT04uU2NhbGFyLkxlcnAodGhpcy50cmFuc2Zvcm0ucG9zaXRpb24ueSwgd2FudGVkSGVpZ2h0LCAodGhpcy5oZWlnaHREYW1waW5nICogZGVsdGFUaW1lKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHdhbnRlZFJvdGF0aW9uQW5nbGU6bnVtYmVyID0gdGhpcy50YXJnZXRBbmdsZXMueTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFJvdGF0aW9uQW5nbGU6bnVtYmVyID0gQkFCWUxPTi5TY2FsYXIuTGVycEFuZ2xlKHRoaXMudHJhbnNmb3JtQW5nbGVzLnksIHdhbnRlZFJvdGF0aW9uQW5nbGUsICh0aGlzLnJvdGF0aW9uRGFtcGluZyAqIGRlbHRhVGltZSkpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB3YW50ZWRUYXJnZXREaXN0YW5jZTpudW1iZXIgPSBCQUJZTE9OLlNjYWxhci5MZXJwKHRoaXMubWluaW11bURpc3RhbmNlLCB0aGlzLm1heGltdW1EaXN0YW5jZSwgbm9ybWFsaXplZFNwZWVkKTtcbiAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5VdGlsaXRpZXMuRnJvbUV1bGVyVG9SZWYoMCwgY3VycmVudFJvdGF0aW9uQW5nbGUsIDAsIHRoaXMucm90YXRpb25CdWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlV0aWxpdGllcy5NdWx0aXBseVF1YXRlcm5pb25CeVZlY3RvclRvUmVmKHRoaXMucm90YXRpb25CdWZmZXIsIEJBQllMT04uVmVjdG9yMy5Gb3J3YXJkKCksIHRoaXMudGVtcFJvdGF0aW9uQnVmZmVyKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50ZW1wUm90YXRpb25CdWZmZXIuc2NhbGVJblBsYWNlKHdhbnRlZFRhcmdldERpc3RhbmNlKTtcblxuICAgICAgICAgICAgICAgICAgICAvL2xldCB3YW50ZWRSb3RhdGlvbkFuZ2xlID0gdGhpcy50YXJnZXRBbmdsZXMueTtcbiAgICAgICAgICAgICAgICAgICAgLy9sZXQgd2FudGVkSGVpZ2h0ID0gdGhpcy50YXJnZXRQb3NpdGlvbi55ICsgdGhpcy5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIC8vbGV0IGN1cnJlbnRSb3RhdGlvbkFuZ2xlID0gdGhpcy50cmFuc2Zvcm1BbmdsZXMueTtcbiAgICAgICAgICAgICAgICAgICAgLy9sZXQgY3VycmVudEhlaWdodCA9IHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLnk7XG4gICAgICAgICAgICAgICAgICAgIC8vY3VycmVudFJvdGF0aW9uQW5nbGUgPSBCQUJZTE9OLlNjYWxhci5MZXJwQW5nbGUoY3VycmVudFJvdGF0aW9uQW5nbGUsIHdhbnRlZFJvdGF0aW9uQW5nbGUsIHRoaXMucm90YXRpb25EYW1waW5nICogZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgLy9jdXJyZW50SGVpZ2h0ID0gQkFCWUxPTi5TY2FsYXIuTGVycChjdXJyZW50SGVpZ2h0LCB3YW50ZWRIZWlnaHQsIHRoaXMuaGVpZ2h0RGFtcGluZyAqIGRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgICAgIC8vQkFCWUxPTi5VdGlsaXRpZXMuRnJvbUV1bGVyVG9SZWYoMCwgY3VycmVudFJvdGF0aW9uQW5nbGUsIDAsIHRoaXMucm90YXRpb25CdWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICAvL0JBQllMT04uVXRpbGl0aWVzLk11bHRpcGx5UXVhdGVybmlvbkJ5VmVjdG9yVG9SZWYodGhpcy5yb3RhdGlvbkJ1ZmZlciwgQkFCWUxPTi5WZWN0b3IzLkZvcndhcmQoKSwgdGhpcy50ZW1wUm90YXRpb25CdWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICAvL3RoaXMudGVtcFJvdGF0aW9uQnVmZmVyLnNjYWxlSW5QbGFjZSh0aGlzLmRpc3RhbmNlKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvc2l0aW9uQnVmZmVyLmNvcHlGcm9tKHRoaXMudGFyZ2V0UG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvc2l0aW9uQnVmZmVyLnN1YnRyYWN0SW5QbGFjZSh0aGlzLnRlbXBSb3RhdGlvbkJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLnNldCh0aGlzLnBvc2l0aW9uQnVmZmVyLngsIGN1cnJlbnRIZWlnaHQsIHRoaXMucG9zaXRpb25CdWZmZXIueik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0UG9zaXRpb24ueSArPSB0aGlzLnRhcmdldEhlaWdodDtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5sb29rQXQodGhpcy50YXJnZXRQb3NpdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0QW5nbGVzID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtQW5nbGVzID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb25CdWZmZXIgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5yb3RhdGlvbkJ1ZmZlciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnRlbXBSb3RhdGlvbkJ1ZmZlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59IiwibW9kdWxlIFBST0pFQ1Qge1xuICAgIC8qKlxuICAgICogQmFieWxvbiBTY3JpcHQgQ29tcG9uZW50XG4gICAgKiBAY2xhc3MgV2F5cG9pbnRUYXJnZXRNYW5hZ2VyXG4gICAgKi9cbiAgICBleHBvcnQgY2xhc3MgV2F5cG9pbnRUYXJnZXRNYW5hZ2VyIGV4dGVuZHMgQkFCWUxPTi5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwcml2YXRlIF93YXlwb2ludE1lc2hMaW5lczpCQUJZTE9OLkxpbmVzTWVzaCA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX3dheXBvaW50U3BsaW5lQ3VydmU6QkFCWUxPTi5DdXJ2ZTMgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF93YXlwb2ludFRyYW5zZm9ybU5vZGVzOkJBQllMT04uVHJhbnNmb3JtTm9kZVtdID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfd2F5cG9pbnRTcGxpbmVQb3NpdGlvbnM6QkFCWUxPTi5WZWN0b3IzW10gPSBudWxsO1xuICAgICAgICBwcml2YXRlIF93YXlwb2ludFNwaGVyZU1hdGVyaWFsOkJBQllMT04uU3RhbmRhcmRNYXRlcmlhbCA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIHJlc29sdXRpb246bnVtYmVyID0gMTtcbiAgICAgICAgcHVibGljIGNsb3NlZExvb3A6Ym9vbGVhbiA9IHRydWU7XG4gICAgICAgIHB1YmxpYyBkcmF3TGluZXM6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwdWJsaWMgZHJhd1BvaW50czpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHB1YmxpYyBkcmF3VHJhY2VzOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHVibGljIHBvaW50U2l6ZTpudW1iZXIgPSAwLjU7XG4gICAgICAgIHB1YmxpYyBsaW5lSGVpZ2h0Om51bWJlciA9IDAuMjU7XG4gICAgICAgIHB1YmxpYyBsaW5lQ29sb3I6QkFCWUxPTi5Db2xvcjMgPSBuZXcgQkFCWUxPTi5Db2xvcjMoMSwgMSwgMSk7XG4gICAgICAgIHB1YmxpYyBwb2ludENvbG9yOkJBQllMT04uQ29sb3IzID0gbmV3IEJBQllMT04uQ29sb3IzKDEsIDEsIDEpO1xuICAgICAgICBwdWJsaWMgdHJhY2VDb2xvcjpCQUJZTE9OLkNvbG9yMyA9IG5ldyBCQUJZTE9OLkNvbG9yMygxLCAxLCAxKTtcbiAgICAgICAgcHVibGljIGdldFNwbGluZUN1cnZlKCk6QkFCWUxPTi5DdXJ2ZTMgeyByZXR1cm4gdGhpcy5fd2F5cG9pbnRTcGxpbmVDdXJ2ZTsgfVxuICAgICAgICBwdWJsaWMgZ2V0U3BsaW5lQ3VydmVMZW5ndGgoKTpudW1iZXIgeyByZXR1cm4gKHRoaXMuX3dheXBvaW50U3BsaW5lQ3VydmUgIT0gbnVsbCkgPyB0aGlzLl93YXlwb2ludFNwbGluZUN1cnZlLmxlbmd0aCgpIDogMDsgIH1cbiAgICAgICAgcHVibGljIGdldFNwbGluZUN1cnZlUG9zaXRpb25zKCk6QkFCWUxPTi5WZWN0b3IzW10geyByZXR1cm4gdGhpcy5fd2F5cG9pbnRTcGxpbmVQb3NpdGlvbnM7IH1cbiAgICAgICAgcHVibGljIGdldENvbnRyb2xQb2ludFRyYW5zZm9ybXMoKTpCQUJZTE9OLlRyYW5zZm9ybU5vZGVbXSB7IHJldHVybiB0aGlzLl93YXlwb2ludFRyYW5zZm9ybU5vZGVzOyB9XG5cbiAgICAgICAgcHVibGljIGNvbnN0cnVjdG9yKHRyYW5zZm9ybTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlLCBzY2VuZTogQkFCWUxPTi5TY2VuZSwgcHJvcGVydGllczogYW55ID0ge30pIHtcbiAgICAgICAgICAgIHN1cGVyKHRyYW5zZm9ybSwgc2NlbmUsIHByb3BlcnRpZXMpO1xuICAgICAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gdGhpcy5nZXRQcm9wZXJ0eShcInJlc29sdXRpb25cIiwgdGhpcy5yZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIHRoaXMuY2xvc2VkTG9vcCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJjbG9zZWRMb29wXCIsIHRoaXMuY2xvc2VkTG9vcCk7XG4gICAgICAgICAgICB0aGlzLmRyYXdMaW5lcyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJkcmF3TGluZXNcIiwgdGhpcy5kcmF3TGluZXMpO1xuICAgICAgICAgICAgdGhpcy5kcmF3UG9pbnRzID0gdGhpcy5nZXRQcm9wZXJ0eShcImRyYXdQb2ludHNcIiwgdGhpcy5kcmF3UG9pbnRzKTtcbiAgICAgICAgICAgIHRoaXMuZHJhd1RyYWNlcyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJkcmF3VHJhY2VzXCIsIHRoaXMuZHJhd1RyYWNlcyk7XG4gICAgICAgICAgICB0aGlzLnBvaW50U2l6ZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJwb2ludFNpemVcIiwgdGhpcy5wb2ludFNpemUpO1xuICAgICAgICAgICAgdGhpcy5saW5lSGVpZ2h0ID0gdGhpcy5nZXRQcm9wZXJ0eShcImxpbmVIZWlnaHRcIiwgdGhpcy5saW5lSGVpZ2h0KTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBjb25zdCBsY29sb3I6QkFCWUxPTi5JVW5pdHlDb2xvciA9IHRoaXMuZ2V0UHJvcGVydHkoXCJsaW5lQ29sb3JcIik7XG4gICAgICAgICAgICBjb25zdCBwY29sb3I6QkFCWUxPTi5JVW5pdHlDb2xvciA9IHRoaXMuZ2V0UHJvcGVydHkoXCJwb2ludENvbG9yXCIpO1xuICAgICAgICAgICAgY29uc3QgdGNvbG9yOkJBQllMT04uSVVuaXR5Q29sb3IgPSB0aGlzLmdldFByb3BlcnR5KFwidHJhY2VDb2xvclwiKTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICB0aGlzLmxpbmVDb2xvciA9IEJBQllMT04uVXRpbGl0aWVzLlBhcnNlQ29sb3IzKGxjb2xvciwgdGhpcy5saW5lQ29sb3IpO1xuICAgICAgICAgICAgdGhpcy5wb2ludENvbG9yID0gQkFCWUxPTi5VdGlsaXRpZXMuUGFyc2VDb2xvcjMocGNvbG9yLCB0aGlzLnBvaW50Q29sb3IpO1xuICAgICAgICAgICAgdGhpcy50cmFjZUNvbG9yID0gQkFCWUxPTi5VdGlsaXRpZXMuUGFyc2VDb2xvcjModGNvbG9yLCB0aGlzLnRyYWNlQ29sb3IpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIHRoaXMuX3dheXBvaW50U3BoZXJlTWF0ZXJpYWwgPSBuZXcgQkFCWUxPTi5TdGFuZGFyZE1hdGVyaWFsKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5TcGxpbmVNYXRlcmlhbFwiLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgIHRoaXMuX3dheXBvaW50U3BoZXJlTWF0ZXJpYWwuZGlmZnVzZUNvbG9yID0gdGhpcy5wb2ludENvbG9yO1xuICAgICAgICAgICAgLy90aGlzLl93YXlwb2ludFNwaGVyZU1hdGVyaWFsLndpcmVmcmFtZSA9IHRydWU7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgdGhpcy5fd2F5cG9pbnRUcmFuc2Zvcm1Ob2RlcyA9IHRoaXMudHJhbnNmb3JtLmdldENoaWxkcmVuKG51bGwsIHRydWUpIGFzIEJBQllMT04uVHJhbnNmb3JtTm9kZVtdO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3dheXBvaW50VHJhbnNmb3JtTm9kZXMgIT0gbnVsbCAmJiB0aGlzLl93YXlwb2ludFRyYW5zZm9ybU5vZGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb250cm9sUG9pbnRzOkJBQllMT04uVmVjdG9yM1tdID0gW107XG4gICAgICAgICAgICAgICAgdGhpcy5fd2F5cG9pbnRUcmFuc2Zvcm1Ob2Rlcy5mb3JFYWNoKCh0cmFuc2Zvcm06QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIEJBQllMT04uVXRpbGl0aWVzLlZhbGlkYXRlVHJhbnNmb3JtUXVhdGVybmlvbih0cmFuc2Zvcm0pO1xuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIC0gRklYTUUgLSBVc2UgVHJhbnNmb3JtIFBvaW50IFRvIEdldCBXb3JsZCBQb3NpdGlvblxuICAgICAgICAgICAgICAgICAgICAvLyBjb250cm9sUG9pbnRzLnB1c2godHJhbnNmb3JtLmdldEFic29sdXRlUG9zaXRpb24oKS5jbG9uZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbFBvaW50cy5wdXNoKEJBQllMT04uVXRpbGl0aWVzLkdldEFic29sdXRlUG9zaXRpb24odHJhbnNmb3JtKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRyYXdQb2ludHMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRyb2xQb2ludDpCQUJZTE9OLk1lc2ggPSBCQUJZTE9OLk1lc2hCdWlsZGVyLkNyZWF0ZVNwaGVyZSh0cmFuc2Zvcm0ubmFtZSArIFwiLldpcmVTcGhlcmVcIiwgeyBzZWdtZW50czogMjQsIGRpYW1ldGVyOiAodGhpcy5wb2ludFNpemUgKiAyKSB9LCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xQb2ludC5wYXJlbnQgPSB0cmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sUG9pbnQucG9zaXRpb24uc2V0KDAsMCwwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xQb2ludC52aXNpYmlsaXR5ID0gMC4yNTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xQb2ludC5pc1Zpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbFBvaW50Lm1hdGVyaWFsID0gdGhpcy5fd2F5cG9pbnRTcGhlcmVNYXRlcmlhbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuX3dheXBvaW50U3BsaW5lQ3VydmUgPSBCQUJZTE9OLkN1cnZlMy5DcmVhdGVDYXRtdWxsUm9tU3BsaW5lKGNvbnRyb2xQb2ludHMsIHRoaXMucmVzb2x1dGlvbiwgdGhpcy5jbG9zZWRMb29wKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fd2F5cG9pbnRTcGxpbmVDdXJ2ZSAhPSBudWxsKSB0aGlzLl93YXlwb2ludFNwbGluZVBvc2l0aW9ucyA9IHRoaXMuX3dheXBvaW50U3BsaW5lQ3VydmUuZ2V0UG9pbnRzKCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3dheXBvaW50U3BsaW5lUG9zaXRpb25zICE9IG51bGwpIGNvbnNvbGUud2FybihcIkRFQlVHOiBXYXlwb2ludCBNYW5hZ2VyIC0gXCIgKyB0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCI6IChcIiArIHRoaXMuX3dheXBvaW50VHJhbnNmb3JtTm9kZXMubGVuZ3RoICsgXCIgLSBcIiArIHRoaXMuX3dheXBvaW50U3BsaW5lUG9zaXRpb25zLmxlbmd0aCArIFwiIC0gXCIgKyB0aGlzLl93YXlwb2ludFNwbGluZUN1cnZlLmxlbmd0aCgpLnRvRml4ZWQoMikgKyBcIilcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHJvdGVjdGVkIHN0YXJ0KCkgOnZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3dheXBvaW50U3BsaW5lUG9zaXRpb25zICE9IG51bGwgJiYgdGhpcy5kcmF3TGluZXMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl93YXlwb2ludE1lc2hMaW5lcyA9IEJBQllMT04uTWVzaEJ1aWxkZXIuQ3JlYXRlTGluZXMoKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5TcGxpbmVNZXNoXCIpLCB7IHBvaW50czogdGhpcy5fd2F5cG9pbnRTcGxpbmVQb3NpdGlvbnMgfSwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fd2F5cG9pbnRNZXNoTGluZXMucGFyZW50ID0gdGhpcy50cmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgdGhpcy5fd2F5cG9pbnRNZXNoTGluZXMuY29sb3IgPSB0aGlzLmxpbmVDb2xvcjsgXG4gICAgICAgICAgICAgICAgdGhpcy5fd2F5cG9pbnRNZXNoTGluZXMucG9zaXRpb24ueSArPSB0aGlzLmxpbmVIZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHJvdGVjdGVkIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLmxpbmVDb2xvciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl93YXlwb2ludFNwbGluZUN1cnZlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3dheXBvaW50VHJhbnNmb3JtTm9kZXMgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fd2F5cG9pbnRTcGxpbmVQb3NpdGlvbnMgPSBudWxsO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3dheXBvaW50TWVzaExpbmVzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl93YXlwb2ludE1lc2hMaW5lcy5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fd2F5cG9pbnRNZXNoTGluZXMgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSBCQUJZTE9OIHtcbiAgICAvKipcbiAgICAgKiBCYWJ5bG9uIG1ldGFkYXRhIHBhcnNlciBjbGFzcyAoSW50ZXJuYWwgdXNlIG9ubHkpXG4gICAgICogQGNsYXNzIFBlcmxpbk5vaXNlR2VuZXJhdG9yIC0gQWxsIHJpZ2h0cyByZXNlcnZlZCAoYykgMjAyMCBNYWNrZXkgS2luYXJkXG4gICAgICovXG4gICAgZXhwb3J0IGNsYXNzIFBlcmxpbk5vaXNlR2VuZXJhdG9yIHtcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgZ3JhZGllbnRzOmFueSA9IHt9O1xuICAgICAgICBwcml2YXRlIHN0YXRpYyByYW5kX3ZlY3QoKTphbnkge1xuICAgICAgICAgICAgbGV0IHRoZXRhID0gTWF0aC5yYW5kb20oKSAqIDIgKiBNYXRoLlBJO1xuICAgICAgICAgICAgcmV0dXJuIHt4OiBNYXRoLmNvcyh0aGV0YSksIHk6IE1hdGguc2luKHRoZXRhKX07XG4gICAgICAgIH1cbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgZG90X3Byb2RfZ3JpZCh4Om51bWJlciwgeTpudW1iZXIsIHZ4Om51bWJlciwgdnk6bnVtYmVyKTpudW1iZXIge1xuICAgICAgICAgICAgbGV0IGdfdmVjdDtcbiAgICAgICAgICAgIGxldCBkX3ZlY3QgPSB7eDogeCAtIHZ4LCB5OiB5IC0gdnl9O1xuICAgICAgICAgICAgaWYgKFBlcmxpbk5vaXNlR2VuZXJhdG9yLmdyYWRpZW50c1s8YW55Plt2eCwgdnldXSl7XG4gICAgICAgICAgICAgICAgZ192ZWN0ID0gUGVybGluTm9pc2VHZW5lcmF0b3IuZ3JhZGllbnRzWzxhbnk+W3Z4LHZ5XV07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGdfdmVjdCA9IFBlcmxpbk5vaXNlR2VuZXJhdG9yLnJhbmRfdmVjdCgpO1xuICAgICAgICAgICAgICAgIFBlcmxpbk5vaXNlR2VuZXJhdG9yLmdyYWRpZW50c1s8YW55Plt2eCwgdnldXSA9IGdfdmVjdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkX3ZlY3QueCAqIGdfdmVjdC54ICsgZF92ZWN0LnkgKiBnX3ZlY3QueTtcbiAgICAgICAgfVxuICAgICAgICBwcml2YXRlIHN0YXRpYyBzbW9vdGhlcnN0ZXAoeDpudW1iZXIpOm51bWJlciB7XG4gICAgICAgICAgICByZXR1cm4gNip4Kio1IC0gMTUqeCoqNCArIDEwKngqKjM7XG4gICAgICAgIH1cbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgaW50ZXJwKHg6bnVtYmVyLCBhOm51bWJlciwgYjpudW1iZXIpOiBudW1iZXIge1xuICAgICAgICAgICAgcmV0dXJuIGEgKyBQZXJsaW5Ob2lzZUdlbmVyYXRvci5zbW9vdGhlcnN0ZXAoeCkgKiAoYi1hKTtcbiAgICAgICAgfVxuICAgICAgICAvKiogU2VlZCBwZXJsaW4gbm9pc2UgZ2VuZXJhdG9yICovXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgc2VlZCgpOnZvaWQge1xuICAgICAgICAgICAgUGVybGluTm9pc2VHZW5lcmF0b3IuZ3JhZGllbnRzID0ge307XG4gICAgICAgIH1cbiAgICAgICAgLyoqIEdlbmVyYXRlIHBlcmxpbiBub2lzZSB2YWx1ZSBmcm9tIDJEIGNvb3JkaW5hdGVzLiAoTm90ZTogVXNlIG5vcm1hbGl6ZWQgaW5wdXQgdmFsdWVzKSAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIGdlbmVyYXRlKHg6bnVtYmVyLCB5Om51bWJlcik6bnVtYmVyIHtcbiAgICAgICAgICAgIGxldCB4ZiA9IE1hdGguZmxvb3IoeCk7XG4gICAgICAgICAgICBsZXQgeWYgPSBNYXRoLmZsb29yKHkpO1xuICAgICAgICAgICAgLy9pbnRlcnBvbGF0ZVxuICAgICAgICAgICAgbGV0IHRsID0gUGVybGluTm9pc2VHZW5lcmF0b3IuZG90X3Byb2RfZ3JpZCh4LCB5LCB4ZiwgICB5Zik7XG4gICAgICAgICAgICBsZXQgdHIgPSBQZXJsaW5Ob2lzZUdlbmVyYXRvci5kb3RfcHJvZF9ncmlkKHgsIHksIHhmKzEsIHlmKTtcbiAgICAgICAgICAgIGxldCBibCA9IFBlcmxpbk5vaXNlR2VuZXJhdG9yLmRvdF9wcm9kX2dyaWQoeCwgeSwgeGYsICAgeWYrMSk7XG4gICAgICAgICAgICBsZXQgYnIgPSBQZXJsaW5Ob2lzZUdlbmVyYXRvci5kb3RfcHJvZF9ncmlkKHgsIHksIHhmKzEsIHlmKzEpO1xuICAgICAgICAgICAgbGV0IHh0ID0gUGVybGluTm9pc2VHZW5lcmF0b3IuaW50ZXJwKHgteGYsIHRsLCB0cik7XG4gICAgICAgICAgICBsZXQgeGIgPSBQZXJsaW5Ob2lzZUdlbmVyYXRvci5pbnRlcnAoeC14ZiwgYmwsIGJyKTtcbiAgICAgICAgICAgIHJldHVybiBQZXJsaW5Ob2lzZUdlbmVyYXRvci5pbnRlcnAoeS15ZiwgeHQsIHhiKTtcbiAgICAgICAgfSAgICAgICAgXG4gICAgfVxufVxuQkFCWUxPTi5QZXJsaW5Ob2lzZUdlbmVyYXRvci5zZWVkKCk7IiwibW9kdWxlIE1WUksge1xuICAgIC8qKlxuICAgICogQmFieWxvbiBTY3JpcHQgQ29tcG9uZW50XG4gICAgKiBAY2xhc3MgQ2FwdGlvbk1hbmFnZXJcbiAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBDYXB0aW9uTWFuYWdlciBleHRlbmRzIEJBQllMT04uU2NyaXB0Q29tcG9uZW50IHtcblx0XHRcbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlKCk6IHZvaWQge1xuXHRcdFx0LyogSW5pdCBjb21wb25lbnQgZnVuY3Rpb24gKi9cblx0XHRcdHZhciBET01lbGVtZW50ID0gdGhpcy5nZXRQcm9wZXJ0eTxzdHJpbmc+KFwiRG9tRWxlbWVudFwiKTtcblx0XHRcdHZhciBmb250VHlwZSA9IHRoaXMuZ2V0UHJvcGVydHk8c3RyaW5nPihcImZvbnRUeXBlXCIpO1xuXHRcdFx0dmFyIGZvbnRTaXplID0gdGhpcy5nZXRQcm9wZXJ0eTxudW1iZXI+KFwiZm9udFNpemVcIik7XG5cdFx0XHR2YXIgZm9udEhleENvbG9yID0gdGhpcy5nZXRQcm9wZXJ0eTxzdHJpbmc+KFwiZm9udEhleENvbG9yXCIpO1xuXHRcdFx0dmFyIGZvbnRPdXRsaW5lQ29sb3IgPSB0aGlzLmdldFByb3BlcnR5PHN0cmluZz4oXCJmb250T3V0bGluZUNvbG9yXCIpO1xuXHRcdFx0dmFyIGRlYnVnTGFuZ3VhZ2VDb2RlID0gdGhpcy5nZXRQcm9wZXJ0eTxzdHJpbmc+KFwiZGVidWdMYW5ndWFnZUNvZGVcIik7XG5cblx0XHRcdC8vIEVuYWJsZSBkZWJ1ZyBsYW5ndWFnZSBsb2NhbGUgZm9yIHRlc3Rpbmdcblx0XHRcdGlmIChkZWJ1Z0xhbmd1YWdlQ29kZSAhPSBudWxsICYmIGRlYnVnTGFuZ3VhZ2VDb2RlICE9PSBcIlwiKSB7XG5cdFx0XHRcdEJBQllMT04uU2NlbmVNYW5hZ2VyLlNldFdpbmRvd1N0YXRlKFwiZGVidWdMb2NhbGVcIiwgZGVidWdMYW5ndWFnZUNvZGUudG9Mb3dlckNhc2UoKSk7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdC8vIE1ha2Ugc3VyZSB0aGlzIGVsZW1lbnQgZG9lc24ndCBhbHJlYWR5IGV4aXN0XG5cdFx0XHRpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKERPTWVsZW1lbnQpKSB7XG5cdFx0XHRcdGNvbnN0IGNhcHRpb25zRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTsgXG5cdFx0XHRcdGNhcHRpb25zRGl2LmlkID0gRE9NZWxlbWVudDtcblx0XHRcdFx0aWYgKGZvbnRUeXBlKSBjYXB0aW9uc0Rpdi5zdHlsZS5mb250RmFtaWx5ID0gZm9udFR5cGU7XG5cdFx0XHRcdGlmIChmb250U2l6ZSkgY2FwdGlvbnNEaXYuc3R5bGUuZm9udFNpemUgPSBmb250U2l6ZStcInB0XCI7XG5cdFx0XHRcdGNhcHRpb25zRGl2LnN0eWxlLnpJbmRleCA9IFwiMlwiO1xuXHRcdFx0XHRjYXB0aW9uc0Rpdi5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcblx0XHRcdFx0Y2FwdGlvbnNEaXYuc3R5bGUuYm90dG9tID0gXCIxMDBweFwiO1xuXHRcdFx0XHRjYXB0aW9uc0Rpdi5zdHlsZS5sZWZ0ID0gXCIwXCI7XG5cdFx0XHRcdGNhcHRpb25zRGl2LnN0eWxlLnJpZ2h0ID0gXCIwXCI7XG5cdFx0XHRcdGNhcHRpb25zRGl2LnN0eWxlLm1hcmdpbiA9IFwiMCBhdXRvXCI7XG5cdFx0XHRcdGNhcHRpb25zRGl2LnN0eWxlLnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XG5cdFx0XHRcdGNhcHRpb25zRGl2LnN0eWxlLmZvbnRXZWlnaHQgPSBcImJvbGRcIjtcblx0XHRcdFx0Y2FwdGlvbnNEaXYuc3R5bGUudXNlclNlbGVjdCA9IFwibm9uZVwiO1xuXHRcdFx0XHRjYXB0aW9uc0Rpdi5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJub25lXCI7XG5cdFx0XHRcdGNhcHRpb25zRGl2LnN0eWxlLmNvbG9yID0gZm9udEhleENvbG9yO1xuXHRcdFx0XHRpZiAoZm9udE91dGxpbmVDb2xvcikge1xuXHRcdFx0XHRcdGNhcHRpb25zRGl2LnN0eWxlLnRleHRTaGFkb3cgPVwiMCAwIDFweCBcIitmb250T3V0bGluZUNvbG9yK1wiLCAwIDAgMXB4IFwiK2ZvbnRPdXRsaW5lQ29sb3IrXCIsIDAgMCAxcHggXCIrZm9udE91dGxpbmVDb2xvcitcIiwgMCAwIDFweCBcIitmb250T3V0bGluZUNvbG9yO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGRvY3VtZW50LmJvZHkuYXBwZW5kKGNhcHRpb25zRGl2KTtcblx0XHRcdH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCJtb2R1bGUgTVZSSyB7XG4gICAgLyoqXG4gICAgKiBCYWJ5bG9uIFNjcmlwdCBDb21wb25lbnRcbiAgICAqIEBjbGFzcyBDYXB0aW9uU3lzdGVtXG4gICAgKi9cbiAgICBleHBvcnQgY2xhc3MgQ2FwdGlvblN5c3RlbSBleHRlbmRzIEJBQllMT04uU2NyaXB0Q29tcG9uZW50IHtcbiAgICAgICAgcHJpdmF0ZSBjYXB0aW9uVHlwZTpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGRpc3BsYXlUaW1lcjpudW1iZXIgPSA1O1xuICAgICAgICBwcml2YXRlIGRvbUVsZW1lbnQ6c3RyaW5nID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSB0ZXh0VHJhY2tzOk1WUksuSUNhcHRpb25UZXh0VHJhY2tbXSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgdXNlckxvY2FsZTpzdHJpbmcgPSBcImVuXCI7XG5cbiAgICAgICAgcHVibGljIGxvZ0NhcHRpb25zOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHVibGljIGdldFVzZXJMb2NhbGUoKTpzdHJpbmcgeyByZXR1cm4gdGhpcy51c2VyTG9jYWxlOyB9XG4gICAgICAgIHB1YmxpYyBnZXRDYXB0aW9uVHlwZSgpOm51bWJlciB7IHJldHVybiB0aGlzLmNhcHRpb25UeXBlOyB9XG4gICAgICAgIFxuICAgICAgICBwcm90ZWN0ZWQgbV9jYXB0aW9uRWxlbWVudDogSFRNTEVsZW1lbnQ7XG4gICAgICAgIHByb3RlY3RlZCBtX2NhcHRpb25Tb3VyY2U6IEJBQllMT04uV2ViVmlkZW9QbGF5ZXIgfCBCQUJZTE9OLkF1ZGlvU291cmNlID0gbnVsbDtcbiAgICAgICAgcHJvdGVjdGVkIG1fY2FwdGlvblRpbWVyOm51bWJlciA9IDA7XG5cbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlKCk6IHZvaWQgeyB0aGlzLmF3YWtlQ2FwdGlvblN5c3RlbSgpOyB9XG4gICAgICAgIHByb3RlY3RlZCBzdGFydCgpOiB2b2lkIHsgdGhpcy5zdGFydENhcHRpb25TeXN0ZW0oKTsgfVxuICAgICAgICBwcm90ZWN0ZWQgdXBkYXRlKCk6IHZvaWQgeyB0aGlzLnVwZGF0ZUNhcHRpb25TeXN0ZW0oKTsgfVxuICAgICAgICBwcm90ZWN0ZWQgZGVzdHJveSgpOiB2b2lkIHsgdGhpcy5kZXN0cm95Q2FwdGlvblN5c3RlbSgpOyB9XG5cbiAgICAgICAgLyoqIFJlZ2lzdGVyIGhhbmRsZXIgdGhhdCBpcyB0cmlnZ2VyZWQgb24gdnR0IGNhcHRpb24gY3VlIGNoYW5nZWQgKi9cbiAgICAgICAgcHVibGljIG9uVXBkYXRlQ2FwdGlvbk9ic2VydmFibGUgPSBuZXcgQkFCWUxPTi5PYnNlcnZhYmxlPHN0cmluZz4oKTtcblxuICAgICAgICBwdWJsaWMgY29uc3RydWN0b3IodHJhbnNmb3JtOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUsIHNjZW5lOiBCQUJZTE9OLlNjZW5lLCBwcm9wZXJ0aWVzPzogYW55KSB7XG4gICAgICAgICAgICBzdXBlcih0cmFuc2Zvcm0sIHNjZW5lLCBwcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnRyYW5zZm9ybS5tZXRhZGF0YSA9PSBudWxsKSB0aGlzLnRyYW5zZm9ybS5tZXRhZGF0YSA9IHt9O1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIEZsYWcgV2ViVlRUIFN1cHBvcnQgUmVxdWlyZWRcbiAgICAgICAgICAgIC8vIC4uICAgICAgICAgICAgXG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5tZXRhZGF0YS52dHQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlQ2FwdGlvblN5c3RlbSgpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuY2FwdGlvblR5cGUgPSB0aGlzLmdldFByb3BlcnR5KFwiY2FwdGlvblR5cGVcIiwgdGhpcy5jYXB0aW9uVHlwZSk7XG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlUaW1lciA9IHRoaXMuZ2V0UHJvcGVydHkoXCJkaXNwbGF5VGltZXJcIiwgdGhpcy5kaXNwbGF5VGltZXIpO1xuICAgICAgICAgICAgdGhpcy5kb21FbGVtZW50ID0gdGhpcy5nZXRQcm9wZXJ0eShcImRvbUVsZW1lbnRcIiwgdGhpcy5kb21FbGVtZW50KTtcbiAgICAgICAgICAgIHRoaXMudGV4dFRyYWNrcyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJ0ZXh0VHJhY2tzXCIsIHRoaXMudGV4dFRyYWNrcyk7XG4gICAgICAgICAgICB0aGlzLmxvZ0NhcHRpb25zID0gdGhpcy5nZXRQcm9wZXJ0eShcImxvZ0NhcHRpb25zXCIsIHRoaXMubG9nQ2FwdGlvbnMpO1xuICAgICAgICAgICAgdGhpcy51c2VyTG9jYWxlID0gQkFCWUxPTi5TY2VuZU1hbmFnZXIuR2V0V2luZG93U3RhdGUoXCJkZWJ1Z0xvY2FsZVwiKSB8fCBNVlJLLlN5c3RlbS5HZXRVc2VySW5mbygpPy5sb2NhbGUgfHwgdGhpcy51c2VyTG9jYWxlO1xuXG4gICAgICAgICAgICAvLyBIQUNLOiBRdWljayBGaXhcbiAgICAgICAgICAgIGlmICh0aGlzLnVzZXJMb2NhbGUgPT09IFwiemhcIikgdGhpcy51c2VyTG9jYWxlID0gXCJjaFwiO1xuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy51c2VyTG9jYWxlID09PSBcImphXCIpIHRoaXMudXNlckxvY2FsZSA9IFwianBcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBzdGFydENhcHRpb25TeXN0ZW0oKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5jYXB0aW9uVHlwZSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMubV9jYXB0aW9uU291cmNlID0gdGhpcy5nZXRDb21wb25lbnQoXCJCQUJZTE9OLldlYlZpZGVvUGxheWVyXCIpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1fY2FwdGlvblNvdXJjZSA9PSBudWxsKSBCQUJZTE9OLlRvb2xzLldhcm4oXCJGYWlsZWQgdG8gbG9jYXRlIHdlYiB2aWRlbyBwbGF5ZXIgY29tcG9uZW50IGZvcjogXCIgKyB0aGlzLnRyYW5zZm9ybS5uYW1lKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tX2NhcHRpb25Tb3VyY2UgPSB0aGlzLmdldENvbXBvbmVudChcIkJBQllMT04uQXVkaW9Tb3VyY2VcIik7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubV9jYXB0aW9uU291cmNlID09IG51bGwpIEJBQllMT04uVG9vbHMuV2FybihcIkZhaWxlZCB0byBsb2NhdGUgYXVkaW8gc291cmNlIGNvbXBvbmVudCBmb3I6IFwiICsgdGhpcy50cmFuc2Zvcm0ubmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5tX2NhcHRpb25Tb3VyY2UgIT0gbnVsbCkgdGhpcy5hdHRhY2hDYXB0aW9uU3lzdGVtKCk7XG4gICAgICAgICAgICB0aGlzLnBvc3RDYXB0aW9uTWVzc2FnZShcIlwiKTsgLy8gTm90ZTogUG9zdCBJbml0aWFsIENsZWFyIFNjcmVlbiBNZXNzYWdlXG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgdXBkYXRlQ2FwdGlvblN5c3RlbSgpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmRpc3BsYXlUaW1lciA+IDAgJiYgdGhpcy5tX2NhcHRpb25UaW1lciA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1fY2FwdGlvblRpbWVyICs9IHRoaXMuZ2V0RGVsdGFTZWNvbmRzKCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubV9jYXB0aW9uVGltZXIgPj0gdGhpcy5kaXNwbGF5VGltZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3N0Q2FwdGlvbk1lc3NhZ2UoXCJcIik7IC8vIE5vdGU6IFBvc3QgVGltZW91dCBDbGVhciBTY3JlZW4gTWVzc2FnZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBkZXN0cm95Q2FwdGlvblN5c3RlbSgpOnZvaWQge1xuICAgICAgICAgICAgdGhpcy50ZXh0VHJhY2tzID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMubV9jYXB0aW9uU291cmNlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMubV9jYXB0aW9uRWxlbWVudCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLm9uVXBkYXRlQ2FwdGlvbk9ic2VydmFibGUuY2xlYXIoKTtcbiAgICAgICAgICAgIHRoaXMub25VcGRhdGVDYXB0aW9uT2JzZXJ2YWJsZSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vIFByaXZhdGUgV29ya2VyIEZ1bmN0aW9uc1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgcHJpdmF0ZSBhdHRhY2hDYXB0aW9uU3lzdGVtKCk6dm9pZCB7XG4gICAgICAgICAgICBjb25zdCByb290VXJsOnN0cmluZyA9IEJBQllMT04uU2NlbmVNYW5hZ2VyLkdldFJvb3RVcmwodGhpcy5zY2VuZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5tX2NhcHRpb25Tb3VyY2UgIT0gbnVsbCAmJiB0aGlzLnVzZXJMb2NhbGUgIT0gbnVsbCAmJiB0aGlzLnVzZXJMb2NhbGUgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50ZXh0VHJhY2tzICE9IG51bGwgJiYgdGhpcy50ZXh0VHJhY2tzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMudGV4dFRyYWNrcy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRleHRUcmFjazpNVlJLLklDYXB0aW9uVGV4dFRyYWNrID0gdGhpcy50ZXh0VHJhY2tzW2luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ZXh0VHJhY2sudHJhY2tMYW5ndWFnZSA9PT0gdGhpcy51c2VyTG9jYWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJhY2tFbGVtZW50OkhUTUxUcmFja0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJhY2tcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2tFbGVtZW50LnNyYyA9IChyb290VXJsICsgdGV4dFRyYWNrLnRyYWNrQXNzZXQuZmlsZW5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNrRWxlbWVudC5raW5kID0gdGhpcy5mb3JtYXRUZXh0VHJhY2tLaW5kKHRleHRUcmFjay50cmFja0tpbmQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNrRWxlbWVudC5sYWJlbCA9IHRleHRUcmFjay50cmFja0xhYmVsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNrRWxlbWVudC5zcmNsYW5nID0gdGV4dFRyYWNrLnRyYWNrTGFuZ3VhZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2tFbGVtZW50LmRlZmF1bHQgPSBmYWxzZTsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2tFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjdWVjaGFuZ2VcIiwgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldDphbnkgPSBldmVudC50YXJnZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQgIT0gbnVsbCAmJiB0YXJnZXQudHJhY2sgIT0gbnVsbCAmJiB0YXJnZXQudHJhY2suYWN0aXZlQ3VlcyAhPSBudWxsICYmIHRhcmdldC50cmFjay5hY3RpdmVDdWVzWzBdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1ZTphbnkgPSB0YXJnZXQudHJhY2suYWN0aXZlQ3Vlc1swXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdWUudGV4dCAhPSBudWxsICYmIGN1ZS50ZXh0ICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubG9nQ2FwdGlvbnMgPT09IHRydWUpIGNvbnNvbGUubG9nKGN1ZS50ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBvc3RDYXB0aW9uTWVzc2FnZShjdWUudGV4dCk7IC8vIE5vdGU6IFBvc3QgQ2FwdGlvbiBTeXN0ZW0gVHJhY2sgTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBdHRhY2ggVHJhY2sgRWxlbWVudCBUbyBTb3VyY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1fY2FwdGlvblNvdXJjZSBpbnN0YW5jZW9mIEJBQllMT04uV2ViVmlkZW9QbGF5ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2NhcHRpb25Tb3VyY2UuZ2V0VmlkZW9FbGVtZW50KCk/LmFwcGVuZENoaWxkKHRyYWNrRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLm1fY2FwdGlvblNvdXJjZSBpbnN0YW5jZW9mIEJBQllMT04uQXVkaW9Tb3VyY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2NhcHRpb25Tb3VyY2UuZ2V0QXVkaW9FbGVtZW50KCk/LmFwcGVuZENoaWxkKHRyYWNrRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFNldHVwIERlZmF1bHQgQ2FwdGlvbiBTeXN0ZW0gTG9jYWxlXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKHRoaXMubV9jYXB0aW9uU291cmNlIGluc3RhbmNlb2YgQkFCWUxPTi5XZWJWaWRlb1BsYXllcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZpZGVvOkhUTUxWaWRlb0VsZW1lbnQgPSB0aGlzLm1fY2FwdGlvblNvdXJjZS5nZXRWaWRlb0VsZW1lbnQoKTtcbiAgICAgICAgICAgICAgICBpZiAodmlkZW8gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBNVlJLLkNhcHRpb25TeXN0ZW0uRW5hYmxlRGVmYXVsdFRleHRUcmFjayh2aWRlbywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29scy5XYXJuKFwiTnVsbCBodG1sIHZpZGVvIGVsZW1lbnQgZm9yOiBcIiArIHRoaXMudHJhbnNmb3JtLm5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5tX2NhcHRpb25Tb3VyY2UgaW5zdGFuY2VvZiBCQUJZTE9OLkF1ZGlvU291cmNlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXVkaW86SFRNTEF1ZGlvRWxlbWVudCA9IHRoaXMubV9jYXB0aW9uU291cmNlLmdldEF1ZGlvRWxlbWVudCgpO1xuICAgICAgICAgICAgICAgIGlmIChhdWRpbyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIE1WUksuQ2FwdGlvblN5c3RlbS5FbmFibGVEZWZhdWx0VGV4dFRyYWNrKGF1ZGlvLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xzLldhcm4oXCJOdWxsIGh0bWwgYXVkaW8gZWxlbWVudCBmb3I6IFwiICsgdGhpcy50cmFuc2Zvcm0ubmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBwb3N0Q2FwdGlvbk1lc3NhZ2UobWVzc2FnZTpzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMubV9jYXB0aW9uVGltZXIgPSAwO1xuICAgICAgICAgICAgaWYgKG1lc3NhZ2UgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9uVXBkYXRlQ2FwdGlvbk9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vblVwZGF0ZUNhcHRpb25PYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZG9tRWxlbWVudCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1fY2FwdGlvbkVsZW1lbnQgPT0gbnVsbCkgdGhpcy5tX2NhcHRpb25FbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5kb21FbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubV9jYXB0aW9uRWxlbWVudCAhPSBudWxsKSB0aGlzLm1fY2FwdGlvbkVsZW1lbnQuaW5uZXJIVE1MID0gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UgIT09IFwiXCIpIHRoaXMubV9jYXB0aW9uVGltZXIgPSAwLjAwMDAxOyAvLyBOb3RlOiBTZXQgVmVyeSBTbWFsbCBUaW1lciBTdGFydCBWYWx1ZVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBmb3JtYXRUZXh0VHJhY2tLaW5kKGtpbmQ6bnVtYmVyKTpzdHJpbmcge1xuICAgICAgICAgICAgbGV0IHJlc3VsdDpzdHJpbmcgPSBcInN1YnRpdGxlc1wiO1xuICAgICAgICAgICAgc3dpdGNoIChraW5kKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBcInN1YnRpdGxlc1wiO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFwiY2FwdGlvbnNcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBcImRlc2NyaXB0aW9uc1wiO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFwiY2hhcHRlcnNcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBcIm1ldGFkYXRhXCI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gU3RhdGljIEhlbHBlciBGdW5jdGlvbnNcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgRW5hYmxlRGVmYXVsdFRleHRUcmFjayhzb3VyY2U6SFRNTFZpZGVvRWxlbWVudHxIVE1MQXVkaW9FbGVtZW50LCBlbmFibGU6Ym9vbGVhbik6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHNvdXJjZSAhPSBudWxsICYmIHNvdXJjZS50ZXh0VHJhY2tzICE9IG51bGwgJiYgc291cmNlLnRleHRUcmFja3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHNvdXJjZS50ZXh0VHJhY2tzWzBdLm1vZGUgPSAoZW5hYmxlID09PSB0cnVlKSA/IFwic2hvd2luZ1wiIDogXCJkaXNhYmxlZFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRleHQgVHJhY2sgSW50ZXJmYWNlIERhdGFcbiAgICAgKi9cbiAgICBleHBvcnQgaW50ZXJmYWNlIElDYXB0aW9uVGV4dFRyYWNrIHtcbiAgICAgICAgdHJhY2tLaW5kOm51bWJlcjtcbiAgICAgICAgdHJhY2tMYWJlbDpzdHJpbmc7XG4gICAgICAgIHRyYWNrQXNzZXQ6QkFCWUxPTi5JVW5pdHlEZWZhdWx0QXNzZXQ7XG4gICAgICAgIHRyYWNrTGFuZ3VhZ2U6c3RyaW5nO1xuICAgIH1cbn0iLCJtb2R1bGUgTVZSSyB7XG4gICAgLyoqXG4gICAgKiBCYWJ5bG9uIFNjcmlwdCBDb21wb25lbnRcbiAgICAqIEBjbGFzcyBTY2VuZVNvdW5kU3lzdGVtXG4gICAgKi9cbiAgICBleHBvcnQgY2xhc3MgU2NlbmVTb3VuZFN5c3RlbSBleHRlbmRzIEJBQllMT04uU2NyaXB0Q29tcG9uZW50IHtcbiAgICAgICAgXG4gICAgICAgIHByaXZhdGUgc3RhdGljIF9NVVNJQzpNVlJLLlNvdW5kTWFuYWdlciA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgZ2V0IE1VU0lDKCk6TVZSSy5Tb3VuZE1hbmFnZXIgeyByZXR1cm4gU2NlbmVTb3VuZFN5c3RlbS5fTVVTSUM7IH1cblxuICAgICAgICBwcml2YXRlIHN0YXRpYyBfU0ZYOk1WUksuU291bmRNYW5hZ2VyID0gbnVsbDtcbiAgICAgICAgcHVibGljIHN0YXRpYyBnZXQgU0ZYKCk6TVZSSy5Tb3VuZE1hbmFnZXIgeyByZXR1cm4gU2NlbmVTb3VuZFN5c3RlbS5fU0ZYOyB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHN0YXJ0KCk6IHZvaWQge1xuICAgICAgICAgICAgY29uc3QgbXVzaWNOb2RlOkJBQllMT04uVHJhbnNmb3JtTm9kZSA9IHRoaXMuZ2V0Q2hpbGROb2RlKFwiTVVTSUNcIik7XG4gICAgICAgICAgICBpZiAobXVzaWNOb2RlICE9IG51bGwpIFNjZW5lU291bmRTeXN0ZW0uX01VU0lDID0gQkFCWUxPTi5TY2VuZU1hbmFnZXIuRmluZFNjcmlwdENvbXBvbmVudChtdXNpY05vZGUsIFwiTVZSSy5Tb3VuZE1hbmFnZXJcIik7XG5cbiAgICAgICAgICAgIGNvbnN0IHNvdW5kTm9kZTpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSB0aGlzLmdldENoaWxkTm9kZShcIlNGWFwiKTtcbiAgICAgICAgICAgIGlmIChzb3VuZE5vZGUgIT0gbnVsbCkgU2NlbmVTb3VuZFN5c3RlbS5fU0ZYID0gQkFCWUxPTi5TY2VuZU1hbmFnZXIuRmluZFNjcmlwdENvbXBvbmVudChzb3VuZE5vZGUsIFwiTVZSSy5Tb3VuZE1hbmFnZXJcIik7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRNdXNpY1RyYWNrOnN0cmluZyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJkZWZhdWx0TXVzaWNUcmFja1wiKTtcbiAgICAgICAgICAgIGlmIChkZWZhdWx0TXVzaWNUcmFjayAhPSBudWxsICYmIGRlZmF1bHRNdXNpY1RyYWNrICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgU2NlbmVTb3VuZFN5c3RlbS5NVVNJQz8ucGxheVRyYWNrKGRlZmF1bHRNdXNpY1RyYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCJtb2R1bGUgTVZSSyB7XG4gICAgLyoqXG4gICAgKiBCYWJ5bG9uIFNjcmlwdCBDb21wb25lbnRcbiAgICAqIEBjbGFzcyBTb3VuZE1hbmFnZXJcbiAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBTb3VuZE1hbmFnZXIgZXh0ZW5kcyBCQUJZTE9OLlNjcmlwdENvbXBvbmVudCB7XG4gICAgICAgIHByaXZhdGUgaXNSZWFkeTpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgZ3JvdXBOYW1lOnN0cmluZyA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIGdldElzUmVhZHkoKTpib29sZWFuIHsgcmV0dXJuIHRoaXMuaXNSZWFkeTsgfVxuICAgICAgICBwdWJsaWMgZ2V0R3JvdXBOYW1lKCk6c3RyaW5nIHsgcmV0dXJuIHRoaXMuZ3JvdXBOYW1lOyB9XG5cbiAgICAgICAgcHJvdGVjdGVkIG1fc291bmRNYXA6TWFwPHN0cmluZywgQkFCWUxPTi5BdWRpb1NvdXJjZT4gPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgbV9zb3VuZExpc3Q6QkFCWUxPTi5BdWRpb1NvdXJjZVtdID0gbnVsbDtcblxuICAgICAgICBwcm90ZWN0ZWQgYXdha2UoKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLmdyb3VwTmFtZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJncm91cE5hbWVcIiwgdGhpcy50cmFuc2Zvcm0ubmFtZSk7IC8vIE5vdGU6IERlZmF1bHQgVHJhbnNmb3JtIEdyb3VwIE5hbWVcbiAgICAgICAgICAgIHRoaXMubV9zb3VuZE1hcCA9IG5ldyBNYXA8c3RyaW5nLCBCQUJZTE9OLkF1ZGlvU291cmNlPigpXG4gICAgICAgICAgICB0aGlzLm1fc291bmRMaXN0ID0gW107XG4gICAgICAgICAgICB0aGlzLmlzUmVhZHkgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBzdGFydCgpOiB2b2lkIHtcbiAgICAgICAgICAgIGNvbnN0IGF1ZGlvVHJhbnNmb3JtczpCQUJZTE9OLlRyYW5zZm9ybU5vZGVbXSA9IHRoaXMudHJhbnNmb3JtLmdldENoaWxkcmVuKG51bGwsIHRydWUpIGFzIEJBQllMT04uVHJhbnNmb3JtTm9kZVtdO1xuICAgICAgICAgICAgaWYgKGF1ZGlvVHJhbnNmb3JtcyAhPSBudWxsICYmIGF1ZGlvVHJhbnNmb3Jtcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGF1ZGlvVHJhbnNmb3Jtcy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXVkaW9UcmFja05vZGU6QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlID0gYXVkaW9UcmFuc2Zvcm1zW2luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXVkaW9Tb3VyY2U6QkFCWUxPTi5BdWRpb1NvdXJjZSA9IEJBQllMT04uU2NlbmVNYW5hZ2VyLkZpbmRTY3JpcHRDb21wb25lbnQoYXVkaW9UcmFja05vZGUsIFwiQkFCWUxPTi5BdWRpb1NvdXJjZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGF1ZGlvU291cmNlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9zb3VuZE1hcC5zZXQoYXVkaW9UcmFja05vZGUubmFtZSwgYXVkaW9Tb3VyY2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX3NvdW5kTGlzdC5wdXNoKGF1ZGlvU291cmNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGUoKTogdm9pZCB7IC8qIFRPRE8gLSBDaGVjayBTb3VuZCBUcmFjayBSZWFkeSBTdGF0ZSAqLyB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLm1fc291bmRMaXN0ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMubV9zb3VuZE1hcC5jbGVhcigpO1xuICAgICAgICAgICAgdGhpcy5tX3NvdW5kTWFwID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAvLyBQdWJsaWMgU291bmQgTWFuYWdlciBIZWxwZXJzXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogUGxheSB0aGUgc291bmQgdHJhY2sgYnkgbmFtZVxuICAgICAgICAgKiBAcGFyYW0gdGltZSAob3B0aW9uYWwpIFN0YXJ0IHRoZSBzb3VuZCBhZnRlciBYIHNlY29uZHMuIFN0YXJ0IGltbWVkaWF0ZWx5ICgwKSBieSBkZWZhdWx0LlxuICAgICAgICAgKiBAcGFyYW0gb2Zmc2V0IChvcHRpb25hbCkgU3RhcnQgdGhlIHNvdW5kIGF0IGEgc3BlY2lmaWMgdGltZSBpbiBzZWNvbmRzXG4gICAgICAgICAqIEBwYXJhbSBsZW5ndGggKG9wdGlvbmFsKSBTb3VuZCBkdXJhdGlvbiAoaW4gc2Vjb25kcylcbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyBwbGF5VHJhY2sobmFtZTpzdHJpbmcsIHRpbWU/OiBudW1iZXIsIG9mZnNldD86IG51bWJlciwgbGVuZ3RoPzogbnVtYmVyKTpib29sZWFuIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEF1ZGlvU291cmNlKG5hbWUpPy5wbGF5KHRpbWUsIG9mZnNldCwgbGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogUGF1c2UgdGhlIHNvdW5kIHRyYWNrIGJ5IG5hbWVcbiAgICAgICAgICogQHBhcmFtIHRpbWUgKG9wdGlvbmFsKSBTdGFydCB0aGUgc291bmQgYWZ0ZXIgWCBzZWNvbmRzLiBTdGFydCBpbW1lZGlhdGVseSAoMCkgYnkgZGVmYXVsdC5cbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyBwYXVzZVRyYWNrKG5hbWU6c3RyaW5nKTpib29sZWFuIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEF1ZGlvU291cmNlKG5hbWUpPy5wYXVzZSgpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQYXVzZSB0aGUgc291bmQgZm9yIGFsbCB0cmFja3MgaW4gdGhlIGdyb3VwXG4gICAgICAgICAqIEBwYXJhbSB0aW1lIChvcHRpb25hbCkgU3RvcCB0aGUgc291bmQgYWZ0ZXIgWCBzZWNvbmRzLiBTdG9wIGltbWVkaWF0ZWx5ICgwKSBieSBkZWZhdWx0LlxuICAgICAgICAgKi9cbiAgICAgICAgcHVibGljIHBhdXNlQWxsVHJhY2tzKCk6dm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5tX3NvdW5kTGlzdCAhPSBudWxsICYmIHRoaXMubV9zb3VuZExpc3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLm1fc291bmRMaXN0Lmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fc291bmRMaXN0W2luZGV4XT8ucGF1c2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFN0b3AgdGhlIHNvdW5kIHRyYWNrIGJ5IG5hbWVcbiAgICAgICAgICogQHBhcmFtIHRpbWUgKG9wdGlvbmFsKSBTdGFydCB0aGUgc291bmQgYWZ0ZXIgWCBzZWNvbmRzLiBTdGFydCBpbW1lZGlhdGVseSAoMCkgYnkgZGVmYXVsdC5cbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyBzdG9wVHJhY2sobmFtZTpzdHJpbmcsIHRpbWU/OiBudW1iZXIpOmJvb2xlYW4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QXVkaW9Tb3VyY2UobmFtZSk/LnN0b3AodGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFN0b3AgdGhlIHNvdW5kIGZvciBhbGwgdHJhY2tzIGluIHRoZSBncm91cFxuICAgICAgICAgKiBAcGFyYW0gdGltZSAob3B0aW9uYWwpIFN0b3AgdGhlIHNvdW5kIGFmdGVyIFggc2Vjb25kcy4gU3RvcCBpbW1lZGlhdGVseSAoMCkgYnkgZGVmYXVsdC5cbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyBzdG9wQWxsVHJhY2tzKHRpbWU/OiBudW1iZXIpOnZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMubV9zb3VuZExpc3QgIT0gbnVsbCAmJiB0aGlzLm1fc291bmRMaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5tX3NvdW5kTGlzdC5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX3NvdW5kTGlzdFtpbmRleF0/LnN0b3AodGltZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNdXRlIHRoZSBzb3VuZCB0cmFjayBieSBuYW1lXG4gICAgICAgICAqIEBwYXJhbSB0aW1lIChvcHRpb25hbCkgU3RhcnQgdGhlIHNvdW5kIGFmdGVyIFggc2Vjb25kcy4gU3RhcnQgaW1tZWRpYXRlbHkgKDApIGJ5IGRlZmF1bHQuXG4gICAgICAgICAqL1xuICAgICAgICBwdWJsaWMgbXV0ZVRyYWNrKG5hbWU6c3RyaW5nLCB0aW1lPzogbnVtYmVyKTpib29sZWFuIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEF1ZGlvU291cmNlKG5hbWUpPy5tdXRlKHRpbWUpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVbm11dGUgdGhlIHNvdW5kIHRyYWNrIGJ5IG5hbWVcbiAgICAgICAgICogQHBhcmFtIHRpbWUgKG9wdGlvbmFsKSBTdGFydCB0aGUgc291bmQgYWZ0ZXIgWCBzZWNvbmRzLiBTdGFydCBpbW1lZGlhdGVseSAoMCkgYnkgZGVmYXVsdC5cbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyB1bm11dGVUcmFjayhuYW1lOnN0cmluZywgdGltZT86IG51bWJlcik6Ym9vbGVhbiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRBdWRpb1NvdXJjZShuYW1lKT8udW5tdXRlKHRpbWUpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNdXRlcyB0aGUgdm9sdW1lIGZvciBhbGwgc291bmQgdHJhY2tzIGluIHRoZSBncm91cFxuICAgICAgICAgKiBAcGFyYW0gdGltZSBEZWZpbmUgdGltZSBmb3IgZ3JhZHVhbCBjaGFuZ2UgdG8gbmV3IHZvbHVtZVxuICAgICAgICAgKi9cbiAgICAgICAgcHVibGljIG11dGVBbGxUcmFja3ModGltZT86IG51bWJlcik6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMubV9zb3VuZExpc3QgIT0gbnVsbCAmJiB0aGlzLm1fc291bmRMaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5tX3NvdW5kTGlzdC5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX3NvdW5kTGlzdFtpbmRleF0/Lm11dGUodGltZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVbm11dGVzIHRoZSB2b2x1bWUgZm9yIGFsbCBzb3VuZCB0cmFja3MgaW4gdGhlIGdyb3VwXG4gICAgICAgICAqIEBwYXJhbSB0aW1lIERlZmluZSB0aW1lIGZvciBncmFkdWFsIGNoYW5nZSB0byBuZXcgdm9sdW1lXG4gICAgICAgICAqL1xuICAgICAgICBwdWJsaWMgdW5tdXRlQWxsVHJhY2tzKHRpbWU/OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1fc291bmRMaXN0ICE9IG51bGwgJiYgdGhpcy5tX3NvdW5kTGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMubV9zb3VuZExpc3QubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9zb3VuZExpc3RbaW5kZXhdPy51bm11dGUodGltZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIHRoZSB2b2x1bWUgZm9yIGFsbCBzb3VuZCB0cmFja3MgaW4gdGhlIGdyb3VwXG4gICAgICAgICAqIEBwYXJhbSB2b2x1bWUgRGVmaW5lIHRoZSBuZXcgdm9sdW1lIG9mIHRoZSBzb3VuZFxuICAgICAgICAgKiBAcGFyYW0gdGltZSBEZWZpbmUgdGltZSBmb3IgZ3JhZHVhbCBjaGFuZ2UgdG8gbmV3IHZvbHVtZVxuICAgICAgICAgKi9cbiAgICAgICAgcHVibGljIHNldEdyb3VwVm9sdW1lKHZvbHVtZTogbnVtYmVyLCB0aW1lPzogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5tX3NvdW5kTGlzdCAhPSBudWxsICYmIHRoaXMubV9zb3VuZExpc3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLm1fc291bmRMaXN0Lmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fc291bmRMaXN0W2luZGV4XT8uc2V0Vm9sdW1lKHZvbHVtZSwgdGltZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgYSBzb3VuZCBzb3VyY2UgYnkgbmFtZVxuICAgICAgICAgKi9cbiAgICAgICAgcHVibGljIGdldEF1ZGlvU291cmNlKG5hbWU6c3RyaW5nKTpCQUJZTE9OLkF1ZGlvU291cmNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1fc291bmRNYXAuZ2V0KG5hbWUpO1xuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSBNVlJLIHtcbiAgICAvKipcbiAgICAqIEJhYnlsb24gU2NyaXB0IENvbXBvbmVudFxuICAgICogQGNsYXNzIFZpZGVvQ29udHJvbGxlclxuICAgICovXG4gICAgZXhwb3J0IGNsYXNzIFZpZGVvQ29udHJvbGxlciBleHRlbmRzIEJBQllMT04uU2NyaXB0Q29tcG9uZW50IHtcbiAgICAgICAgXG4gICAgICAgIHByb3RlY3RlZCBhd2FrZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIC8qIEluaXQgY29tcG9uZW50IGZ1bmN0aW9uICovXG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgc3RhcnQoKTogdm9pZCB7XG4gICAgICAgICAgICAvKiBTdGFydCByZW5kZXIgbG9vcCBmdW5jdGlvbiAqL1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHVwZGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIC8qIFVwZGF0ZSByZW5kZXIgbG9vcCBmdW5jdGlvbiAqL1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGxhdGUoKTogdm9pZCB7XG4gICAgICAgICAgICAvKiBMYXRlIHVwZGF0ZSByZW5kZXIgbG9vcCBmdW5jdGlvbiAqL1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGFmdGVyKCk6IHZvaWQge1xuICAgICAgICAgICAgLyogQWZ0ZXIgcmVuZGVyIGxvb3AgZnVuY3Rpb24gKi9cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBkZXN0cm95KCk6IHZvaWQge1xuICAgICAgICAgICAgLyogRGVzdHJveSBjb21wb25lbnQgZnVuY3Rpb24gKi9cbiAgICAgICAgfVxuICAgIH1cbn0iLCJtb2R1bGUgTVZSSyB7XG4gICAgLyoqXG4gICAgKiBCYWJ5bG9uIFNjcmlwdCBDb21wb25lbnRcbiAgICAqIEBjbGFzcyBJbnNpZGVOb3RpZmljYXRpb25cbiAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBJbnNpZGVOb3RpZmljYXRpb24gZXh0ZW5kcyBCQUJZTE9OLlNjcmlwdENvbXBvbmVudCB7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIEN1cnJlbnRSb29tOiBzdHJpbmcgPSBcIlwiO1xuICAgICAgICBwcml2YXRlIGFic3RyYWN0TWVzaDogQkFCWUxPTi5BYnN0cmFjdE1lc2ggPSBudWxsO1xuICAgICAgICBcbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlKCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5hYnN0cmFjdE1lc2ggPSB0aGlzLmdldEFic3RyYWN0TWVzaCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHVwZGF0ZSgpOnZvaWQge1xuICAgICAgICAgICAgaWYgKE1WUksuSW5zaWRlTm90aWZpY2F0aW9uLkN1cnJlbnRSb29tICE9PSB0aGlzLnRyYW5zZm9ybS5uYW1lKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FtZXJhUG9zOkJBQllMT04uVmVjdG9yMyA9IHRoaXMuc2NlbmUuYWN0aXZlQ2FtZXJhLmdsb2JhbFBvc2l0aW9uO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBvaW50SXNJbnNpZGUoY2FtZXJhUG9zKSkge1xuICAgICAgICAgICAgICAgICAgICBNVlJLLkluc2lkZU5vdGlmaWNhdGlvbi5DdXJyZW50Um9vbSA9IHRoaXMudHJhbnNmb3JtLm5hbWUgXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IEpTT046c3RyaW5nID0gJ3tcImNvbW1hbmRcIjpcImxvY2F0aW9uXCIsXCJwYXJhbTFcIjpcIicrdGhpcy50cmFuc2Zvcm0ubmFtZSsnXCJ9JztcbiAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5TY2VuZU1hbmFnZXIuUG9zdFdpbmRvd01lc3NhZ2UoSlNPTiwnKicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vY29uc29sZS53YXJuKFwiTVZSSy5JbnNpZGVOb3RpZmljYXRpb246IFwiICsgdGhpcy50cmFuc2Zvcm0ubmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIHBvaW50SXNJbnNpZGUocG9pbnQ6QkFCWUxPTi5WZWN0b3IzKTpib29sZWFuIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFic3RyYWN0TWVzaCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYm91bmRJbmZvOkJBQllMT04uQm91bmRpbmdJbmZvID0gdGhpcy5hYnN0cmFjdE1lc2guZ2V0Qm91bmRpbmdJbmZvKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbWF4OkJBQllMT04uVmVjdG9yMyA9IGJvdW5kSW5mby5ib3VuZGluZ0JveC5tYXhpbXVtV29ybGQ7XG4gICAgICAgICAgICAgICAgY29uc3QgbWluOkJBQllMT04uVmVjdG9yMyA9IGJvdW5kSW5mby5ib3VuZGluZ0JveC5taW5pbXVtV29ybGQ7XG4gICAgICAgICAgICAgICAgaWYocG9pbnQueCA8IG1pbi54IHx8IHBvaW50LnggPiBtYXgueCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmKHBvaW50LnkgPCBtaW4ueSB8fCBwb2ludC55ID4gbWF4LnkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZihwb2ludC56IDwgbWluLnogfHwgcG9pbnQueiA+IG1heC56KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJtb2R1bGUgTVZSSyB7XG4gICAgLyoqXG4gICAgKiBCYWJ5bG9uIFNjcmlwdCBDb21wb25lbnRcbiAgICAqIEBjbGFzcyBQb3B1cFRyaWdnZXJcbiAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBQb3B1cFRyaWdnZXIgZXh0ZW5kcyBCQUJZTE9OLlNjcmlwdENvbXBvbmVudCB7XG4gICAgICAgIHB1YmxpYyB0cmlnZ2VyVHlwZTogc3RyaW5nID0gXCJ2b2RcIjtcbiAgICAgICAgcHVibGljIHRyaWdnZXJQYXJhbTogc3RyaW5nID0gXCJkZWZhdWx0UGFyYW1cIjtcbiAgICAgICAgcHJpdmF0ZSB0cmlnZ2VyRm9jdXM6IEJBQllMT04uQWJzdHJhY3RNZXNoID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBhYnN0cmFjdE1lc2g6QkFCWUxPTi5BYnN0cmFjdE1lc2ggPSBudWxsO1xuXG4gICAgICAgIC8qKiBSZWdpc3RlciBoYW5kbGVyIHRoYXQgaXMgdHJpZ2dlcmVkIHdoZW4gdGhlIG1lc2ggaGFzIGJlZW4gcGlja2VkICovXG4gICAgICAgIHB1YmxpYyBvblBpY2tUcmlnZ2VyT2JzZXJ2YWJsZSA9IG5ldyBCQUJZTE9OLk9ic2VydmFibGU8QkFCWUxPTi5BYnN0cmFjdE1lc2g+KCk7XG5cbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlKCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy50cmlnZ2VyUGFyYW0gPSB0aGlzLmdldFByb3BlcnR5KFwidHJpZ2dlclBhcmFtXCIsIHRoaXMudHJpZ2dlclBhcmFtKTtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlclR5cGUgPSB0aGlzLmdldFByb3BlcnR5KFwidHJpZ2dlclR5cGVcIiwgdGhpcy50cmlnZ2VyVHlwZSk7XG4gICAgICAgICAgICBjb25zdCBub2RlRm9jdXNEYXRhOkJBQllMT04uSVVuaXR5VHJhbnNmb3JtID0gdGhpcy5nZXRQcm9wZXJ0eShcInRyaWdnZXJGb2N1c1wiKTtcbiAgICAgICAgICAgIGlmIChub2RlRm9jdXNEYXRhICE9IG51bGwpIHRoaXMudHJpZ2dlckZvY3VzID0gQkFCWUxPTi5VdGlsaXRpZXMuUGFyc2VUcmFuc2Zvcm1CeUlEKG5vZGVGb2N1c0RhdGEsIHRoaXMuc2NlbmUpIGFzIEJBQllMT04uQWJzdHJhY3RNZXNoO1xuICAgICAgICAgICAgdGhpcy5hYnN0cmFjdE1lc2ggPSB0aGlzLmdldEFic3RyYWN0TWVzaCgpO1xuICAgICAgICAgICAgY29uc3QgSlNPTjpzdHJpbmcgPSAne1wiY29tbWFuZFwiOlwiJyArIHRoaXMudHJpZ2dlclR5cGUgKyAnXCIsXCJwYXJhbVwiOlwiJysgdGhpcy50cmlnZ2VyUGFyYW0gKydcIn0nO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5hYnN0cmFjdE1lc2ggIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWJzdHJhY3RNZXNoLmFjdGlvbk1hbmFnZXIgPSBuZXcgQkFCWUxPTi5BY3Rpb25NYW5hZ2VyKHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuYWJzdHJhY3RNZXNoICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFic3RyYWN0TWVzaC5hY3Rpb25NYW5hZ2VyLnJlZ2lzdGVyQWN0aW9uKFxuICAgICAgICAgICAgICAgICAgICBuZXcgQkFCWUxPTi5FeGVjdXRlQ29kZUFjdGlvbihcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyOiBCQUJZTE9OLkFjdGlvbk1hbmFnZXIuT25QaWNrVHJpZ2dlclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmdldENvbXBvbmVudChcIlBST0pFQ1QuTGVycE9iamVjdFwiKT09bnVsbCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghIXRoaXMudHJpZ2dlckZvY3VzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdyYWR1YWxGb2N1cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9uUGlja1RyaWdnZXJPYnNlcnZhYmxlLmhhc09ic2VydmVycygpID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uUGlja1RyaWdnZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLmFic3RyYWN0TWVzaCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5TY2VuZU1hbmFnZXIuUG9zdFdpbmRvd01lc3NhZ2UoSlNPTiwnKicpOyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApOyAgXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2VuZE1lc3NhZ2UoKTogdm9pZHtcbiAgICAgICAgICAgIGNvbnN0IEpTT046c3RyaW5nID0gJ3tcImNvbW1hbmRcIjpcIicgKyB0aGlzLnRyaWdnZXJUeXBlICsgJ1wiLFwicGFyYW1cIjpcIicrIHRoaXMudHJpZ2dlclBhcmFtICsnXCJ9JztcbiAgICAgICAgICAgIEJBQllMT04uU2NlbmVNYW5hZ2VyLlBvc3RXaW5kb3dNZXNzYWdlKEpTT04sJyonKTsgXG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcmVnaXN0ZXJOZXdUcmlnZ2VyKCk6IHZvaWR7XG4gICAgICAgICAgICBjb25zdCBKU09OOnN0cmluZyA9ICd7XCJjb21tYW5kXCI6XCInICsgdGhpcy50cmlnZ2VyVHlwZSArICdcIixcInBhcmFtXCI6XCInKyB0aGlzLnRyaWdnZXJQYXJhbSArJ1wifSc7XG4gICAgICAgICAgICBpZiAodGhpcy5hYnN0cmFjdE1lc2ggIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWJzdHJhY3RNZXNoLmFjdGlvbk1hbmFnZXIucmVnaXN0ZXJBY3Rpb24oXG4gICAgICAgICAgICAgICAgICAgIG5ldyBCQUJZTE9OLkV4ZWN1dGVDb2RlQWN0aW9uKFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXI6IEJBQllMT04uQWN0aW9uTWFuYWdlci5PblBpY2tUcmlnZ2VyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghIXRoaXMudHJpZ2dlckZvY3VzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ3JhZHVhbEZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9uUGlja1RyaWdnZXJPYnNlcnZhYmxlLmhhc09ic2VydmVycygpID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25QaWNrVHJpZ2dlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMuYWJzdHJhY3RNZXNoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5TY2VuZU1hbmFnZXIuUG9zdFdpbmRvd01lc3NhZ2UoSlNPTiwnKicpOyBcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICk7ICBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcHJpdmF0ZSBncmFkdWFsRm9jdXMoKTogdm9pZCB7XG4gICAgICAgICAgICBjb25zdCBjYW1lcmE6QkFCWUxPTi5DYW1lcmEgPSB0aGlzLnNjZW5lLmFjdGl2ZUNhbWVyYTtcbiAgICAgICAgICAgIGNvbnN0IGVtcHR5OkJBQllMT04uTWVzaCA9IG5ldyBCQUJZTE9OLk1lc2goXCJlbXB0eVwiLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgIGVtcHR5LnBvc2l0aW9uID0gY2FtZXJhLnBvc2l0aW9uLmNsb25lKCk7XG4gICAgICAgICAgICBlbXB0eS5yb3RhdGlvbiA9IGNhbWVyYVtcInJvdGF0aW9uXCJdLmNsb25lKCk7XG4gICAgICAgICAgICBlbXB0eS5tb3ZlUE9WKDAsMCwtMik7XG4gICAgICAgICAgICBjb25zdCB2ZWNTb3VyY2U6QkFCWUxPTi5WZWN0b3IzID0gZW1wdHkucG9zaXRpb24uY2xvbmUoKTtcbiAgICAgICAgICAgIGNvbnN0IHZlY0Rlc3Q6QkFCWUxPTi5WZWN0b3IzID0gdGhpcy50cmlnZ2VyRm9jdXMuYWJzb2x1dGVQb3NpdGlvbjtcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuYWN0aXZlQ2FtZXJhW1wibG9ja2VkVGFyZ2V0XCJdID0gdmVjU291cmNlO1xuICAgICAgICAgICAgZW1wdHkuZGlzcG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5sZXJwQ2FtZXJhVmlldyh2ZWNTb3VyY2UsIHZlY0Rlc3QsIDApO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBsZXJwQ2FtZXJhVmlldyh2ZWNTb3VyY2U6IEJBQllMT04uVmVjdG9yMywgdmVjRGVzdDogQkFCWUxPTi5WZWN0b3IzLCBhbW91bnQ6IG51bWJlcik6IHZvaWQge1xuICAgICAgICAgICAgY29uc3QgbmV3VmVjOkJBQllMT04uVmVjdG9yMyA9IEJBQllMT04uVmVjdG9yMy5MZXJwKHZlY1NvdXJjZSwgdmVjRGVzdCwgYW1vdW50KTtcbiAgICAgICAgICAgIGlmIChhbW91bnQgPCAxKSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBuZXdBbW91bnQgPSBhbW91bnQgKyAwLjAxO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLmFjdGl2ZUNhbWVyYVtcImxvY2tlZFRhcmdldFwiXSA9IG5ld1ZlYztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sZXJwQ2FtZXJhVmlldyh2ZWNTb3VyY2UsIHZlY0Rlc3QsIG5ld0Ftb3VudClcbiAgICAgICAgICAgICAgICB9LCA1KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5hY3RpdmVDYW1lcmFbXCJsb2NrZWRUYXJnZXRcIl0gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSBNVlJLIHtcclxuICAgIC8qKlxyXG4gICAgKiBCYWJ5bG9uIFNjcmlwdCBDb21wb25lbnQgU3RhdGUgQ2xhc3NcclxuICAgICogQGNsYXNzIFN0YXRlXHJcbiAgICAqL1xyXG4gICAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIFN0YXRlIHtcclxuICAgICAgICBwdWJsaWMgYWJzdHJhY3Qgb25FbnRlcigpOiB2b2lkO1xyXG4gICAgICAgIHB1YmxpYyBhYnN0cmFjdCBvbkV4aXQoKTogdm9pZDtcclxuICAgICAgICBwdWJsaWMgYWJzdHJhY3QgY2FuQ2hhbmdlU3RhdGUoKTogYm9vbGVhbjtcclxuICAgICAgICBwdWJsaWMgYWJzdHJhY3Qgb25TdGF0ZUNoYW5nZUZhaWwoKTogdm9pZDtcclxuICAgICAgICBwdWJsaWMgdGljaygpOiB2b2lkIHsgLyogb3ZlcnJpZGUgdGhpcyBpZiBhbnl0aGluZyB3ZSBuZWVkIHRvIGRvIHJlcXVpcmVzIGFuIHVwZGF0ZSBwZXIgZnJhbWUsIGJ1dCBkb24ndCByZXF1aXJlIGl0ICovIH07XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICogQmFieWxvbiBTdGF0ZWZ1bCBTY3JpcHQgQ29tcG9uZW50XHJcbiAgICAqIEBjbGFzcyBTdGF0ZWZ1bFNjcmlwdENvbXBvbmVudFxyXG4gICAgKi9cclxuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBTdGF0ZWZ1bFNjcmlwdENvbXBvbmVudCBleHRlbmRzIEJBQllMT04uU2NyaXB0Q29tcG9uZW50IHtcclxuICAgICAgICBwcml2YXRlIF9jdXJyZW50U3RhdGU6IE1WUksuU3RhdGUgPSBudWxsO1xyXG4gICAgICAgIC8qKiBHZXRzIHRoZSBjdXJyZW50IHNjcmlwdCBjb21wb25lbnQgc3RhdGUgKi9cclxuICAgICAgICBwdWJsaWMgZ2V0Q3VycmVudFN0YXRlKCk6TVZSSy5TdGF0ZSB7IHJldHVybiB0aGlzLl9jdXJyZW50U3RhdGU7IH1cclxuICAgICAgICAvKiogU2V0cyB0aGUgbmV3IHNjcmlwdCBjb21wb25lbnQgc3RhdGUgKi9cclxuICAgICAgICBwdWJsaWMgc2V0U3RhdGUobmV3U3RhdGU6IE1WUksuU3RhdGUsIGZvcmNlZD86IGJvb2xlYW4pOiBib29sZWFuIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnRTdGF0ZSA9PT0gbmV3U3RhdGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZihmb3JjZWQhPW51bGwgJiYgZm9yY2VkID09IHRydWUpe1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnRTdGF0ZSkgdGhpcy5fY3VycmVudFN0YXRlLm9uRXhpdCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudFN0YXRlID0gbmV3U3RhdGU7XHJcbiAgICAgICAgICAgICAgICBuZXdTdGF0ZS5vbkVudGVyKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vblN0YXRlQ2hhbmdlT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25TdGF0ZUNoYW5nZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMuX2N1cnJlbnRTdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChuZXdTdGF0ZS5jYW5DaGFuZ2VTdGF0ZSgpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fY3VycmVudFN0YXRlKSB0aGlzLl9jdXJyZW50U3RhdGUub25FeGl0KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50U3RhdGUgPSBuZXdTdGF0ZTtcclxuICAgICAgICAgICAgICAgIG5ld1N0YXRlLm9uRW50ZXIoKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9uU3RhdGVDaGFuZ2VPYnNlcnZhYmxlLmhhc09ic2VydmVycygpID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vblN0YXRlQ2hhbmdlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcy5fY3VycmVudFN0YXRlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbmV3U3RhdGUub25TdGF0ZUNoYW5nZUZhaWwoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvKiogUmVnaXN0ZXIgaGFuZGxlciB0aGF0IGlzIHRyaWdnZXJlZCB3aGVuIHRoZSBhbmltYXRpb24gaWsgc2V0dXAgaGFzIGJlZW4gdHJpZ2dlcmVkICovXHJcbiAgICAgICAgcHVibGljIG9uU3RhdGVDaGFuZ2VPYnNlcnZhYmxlID0gbmV3IEJBQllMT04uT2JzZXJ2YWJsZTxNVlJLLlN0YXRlPigpO1xyXG4gICAgfVxyXG59IiwibW9kdWxlIE1WUksge1xuICAgIC8qKlxuICAgICogQmFieWxvbiBTY3JpcHQgQ29tcG9uZW50XG4gICAgKiBAY2xhc3MgQmlsbGJvYXJkTWVzaFxuICAgICovXG4gICAgZXhwb3J0IGNsYXNzIEJpbGxib2FyZE1lc2ggZXh0ZW5kcyBCQUJZTE9OLlNjcmlwdENvbXBvbmVudCB7XG4gICAgICAgIHByaXZhdGUgY2FtZXJhOiBCQUJZTE9OLlVuaXZlcnNhbENhbWVyYTtcblxuICAgICAgICBwcm90ZWN0ZWQgYXdha2UoKTogdm9pZCB7XG4gICAgICAgICAgICAvKiBJbml0IGNvbXBvbmVudCBmdW5jdGlvbiAqL1xuICAgICAgICAgICAgdGhpcy5jYW1lcmEgPSB0aGlzLnNjZW5lLmFjdGl2ZUNhbWVyYSBhcyBCQUJZTE9OLlVuaXZlcnNhbENhbWVyYTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGUoKTogdm9pZCB7XG4gICAgICAgICAgICAvKiBVcGRhdGUgcmVuZGVyIGxvb3AgZnVuY3Rpb24gKi9cbiAgICAgICAgICAgIGxldCBhYnNDYW1lcmFQb3MgPSB0aGlzLmNhbWVyYS5nbG9iYWxQb3NpdGlvbjtcbiAgICAgICAgICAgIGxldCBhYnNUcmFuc2Zvcm1Qb3MgPSB0aGlzLnRyYW5zZm9ybS5hYnNvbHV0ZVBvc2l0aW9uO1xuICAgICAgICAgICAgbGV0IGxvb2tEaXJlY3Rpb24gPSBhYnNDYW1lcmFQb3Muc3VidHJhY3QoYWJzVHJhbnNmb3JtUG9zKS5ub3JtYWxpemUoKS5zY2FsZSgtMSk7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5sb29rQXQoYWJzVHJhbnNmb3JtUG9zLmFkZChsb29rRGlyZWN0aW9uKSwgbnVsbCwgbnVsbCwgbnVsbCwgQkFCWUxPTi5TcGFjZS5XT1JMRCk7XG4gICAgICAgIH1cbiAgICB9XG59IiwibW9kdWxlIE1WUksge1xuICAgIC8qKlxuICAgICogQmFieWxvbiBTY3JpcHQgQ29tcG9uZW50XG4gICAgKiBAY2xhc3MgQmxpbmtNYW5hZ2VyXG4gICAgKi9cbiAgICBleHBvcnQgY2xhc3MgQmxpbmtNYW5hZ2VyIGV4dGVuZHMgQkFCWUxPTi5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwcml2YXRlIGVuYWJsZUJsaW5raW5nOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBibGlua2luZ1N0YXRlOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBibGlua2luZ1RpbWVyOm51bWJlciA9IDA7XG5cbiAgICAgICAgcHVibGljIGJsaW5rVGltZW91dDpudW1iZXIgPSAwLjU7XG5cbiAgICAgICAgLyoqIFJlZ2lzdGVyIGhhbmRsZXIgdGhhdCBpcyB0cmlnZ2VyZWQgd2hlbiB0aGUgYmxpbmsgY2hhbmdlIGhhcyBiZWVuIHRyaWdnZXJlZCAqL1xuICAgICAgICBwdWJsaWMgb25CbGlua1VwZGF0ZU9ic2VydmFibGUgPSBuZXcgQkFCWUxPTi5PYnNlcnZhYmxlPGJvb2xlYW4+KCk7XG5cbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlKCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5ibGlua1RpbWVvdXQgPSB0aGlzLmdldFByb3BlcnR5KFwiYmxpbmtUaW1lb3V0XCIsIHRoaXMuYmxpbmtUaW1lb3V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGUoKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5lbmFibGVCbGlua2luZyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYmxpbmtpbmdUaW1lciArPSB0aGlzLmdldERlbHRhU2Vjb25kcygpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJsaW5raW5nVGltZXIgPj3CoHRoaXMuYmxpbmtUaW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmxpbmtpbmdUaW1lciA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmxpbmtpbmdTdGF0ZSA9ICF0aGlzLmJsaW5raW5nU3RhdGU7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9uQmxpbmtVcGRhdGVPYnNlcnZhYmxlLmhhc09ic2VydmVycygpID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uQmxpbmtVcGRhdGVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLmJsaW5raW5nU3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLm9uQmxpbmtVcGRhdGVPYnNlcnZhYmxlLmNsZWFyKCk7XG4gICAgICAgICAgICB0aGlzLm9uQmxpbmtVcGRhdGVPYnNlcnZhYmxlID0gbnVsbDsgICAgXG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZW5hYmxlQmxpbmtNb2RlKGJsaW5raW5nOmJvb2xlYW4pOnZvaWQge1xuICAgICAgICAgICAgdGhpcy5ibGlua2luZ1RpbWVyID0gMDsgICAgICAgICAgICBcbiAgICAgICAgICAgIHRoaXMuYmxpbmtpbmdTdGF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5lbmFibGVCbGlua2luZyA9IGJsaW5raW5nO1xuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSBNVlJLIHtcbiAgICAvKipcbiAgICAqIEJhYnlsb24gU2NyaXB0IENvbXBvbmVudFxuICAgICogQGNsYXNzIEZsb2F0aW5nQW5pbWF0aW9uXG4gICAgKi9cbiAgICBleHBvcnQgY2xhc3MgRmxvYXRpbmdBbmltYXRpb24gZXh0ZW5kcyBCQUJZTE9OLlNjcmlwdENvbXBvbmVudCB7XG5cdFx0cHJpdmF0ZSBmbG9hdFNwZWVkOiBudW1iZXIgPSAxLjA7XG5cdFx0cHJpdmF0ZSBmbG9hdERpc3RhbmNlOiBudW1iZXIgPSAwLjI7XG4gICAgICAgIHByaXZhdGUgcmFuZG9tT2Zmc2V0OiBudW1iZXIgPSAwLjE7XG5cdFx0cHJpdmF0ZSBpbml0UG9zaXRpb246IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICBwcml2YXRlIGZsb2F0aW5nVmVjdG9yOiBCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcblxuICAgICAgICBwcm90ZWN0ZWQgYXdha2UoKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLmZsb2F0U3BlZWQgPSB0aGlzLmdldFByb3BlcnR5KFwiZmxvYXRTcGVlZFwiLCB0aGlzLmZsb2F0U3BlZWQpO1xuXHRcdFx0dGhpcy5mbG9hdERpc3RhbmNlID0gdGhpcy5nZXRQcm9wZXJ0eShcImZsb2F0RGlzdGFuY2VcIiwgdGhpcy5mbG9hdERpc3RhbmNlKTtcbiAgICAgICAgICAgIHRoaXMucmFuZG9tT2Zmc2V0ID0gQkFCWUxPTi5TY2FsYXIuUmFuZG9tUmFuZ2UoLU1hdGguUEksIE1hdGguUEkpO1xuXHRcdFx0dGhpcy5pbml0UG9zaXRpb24uY29weUZyb20odGhpcy50cmFuc2Zvcm0ucG9zaXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHVwZGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIGNvbnN0IHRpbWU6bnVtYmVyID0gdGhpcy5nZXRHYW1lVGltZSgpO1xuXHRcdFx0dGhpcy5mbG9hdGluZ1ZlY3Rvci5zZXQoMCwgTWF0aC5zaW4oKHRpbWUgKyB0aGlzLnJhbmRvbU9mZnNldCkgKiB0aGlzLmZsb2F0U3BlZWQpICogdGhpcy5mbG9hdERpc3RhbmNlLCAwKTtcbiAgICAgICAgICAgIHRoaXMuZmxvYXRpbmdWZWN0b3IuYWRkVG9SZWYodGhpcy5pbml0UG9zaXRpb24sIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBkZXN0cm95KCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5pbml0UG9zaXRpb24gPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5mbG9hdGluZ1ZlY3RvciA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59IiwibW9kdWxlIE1WUksge1xuICAgIC8qKlxuICAgICogQmFieWxvbiBTY3JpcHQgQ29tcG9uZW50XG4gICAgKiBAY2xhc3MgUm90YXRlVHJhbnNmb3JtXG4gICAgKi9cbiAgICBleHBvcnQgY2xhc3MgUm90YXRlVHJhbnNmb3JtIGV4dGVuZHMgQkFCWUxPTi5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwcml2YXRlIHJvdGF0ZVNwZWVkWDogbnVtYmVyID0gMC4wO1xuICAgICAgICBwcml2YXRlIHJvdGF0ZVNwZWVkWTogbnVtYmVyID0gMC4wO1xuICAgICAgICBwcml2YXRlIHJvdGF0ZVNwZWVkWjogbnVtYmVyID0gMS4wO1xuXG4gICAgICAgIHByb3RlY3RlZCBhd2FrZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMucm90YXRlU3BlZWRYID0gdGhpcy5nZXRQcm9wZXJ0eShcInJvdGF0ZVNwZWVkWFwiLCB0aGlzLnJvdGF0ZVNwZWVkWCk7XG4gICAgICAgICAgICB0aGlzLnJvdGF0ZVNwZWVkWSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyb3RhdGVTcGVlZFlcIiwgdGhpcy5yb3RhdGVTcGVlZFkpO1xuICAgICAgICAgICAgdGhpcy5yb3RhdGVTcGVlZFogPSB0aGlzLmdldFByb3BlcnR5KFwicm90YXRlU3BlZWRaXCIsIHRoaXMucm90YXRlU3BlZWRaKTtcbiAgICAgICAgICAgIC8vIE5vdGU6IFNldHVwIFRyYW5zZm9ybSBUbyBVc2UgRXVsZXIgUm90YXRpb25zXG4gICAgICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0ucm90YXRpb24gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24udG9FdWxlckFuZ2xlc1RvUmVmKHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHVwZGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIGNvbnN0IGRlbHRhVGltZTogbnVtYmVyID0gdGhpcy5nZXREZWx0YVNlY29uZHMoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnJvdGF0ZVNwZWVkWCAhPT0gMCkgdGhpcy50cmFuc2Zvcm0ucm90YXRpb24ueCArPSAodGhpcy5yb3RhdGVTcGVlZFggKiBkZWx0YVRpbWUpO1xuICAgICAgICAgICAgaWYgKHRoaXMucm90YXRlU3BlZWRZICE9PSAwKSB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvbi55ICs9ICh0aGlzLnJvdGF0ZVNwZWVkWSAqIGRlbHRhVGltZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5yb3RhdGVTcGVlZFogIT09IDApIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uLnogKz0gKHRoaXMucm90YXRlU3BlZWRaICogZGVsdGFUaW1lKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJtb2R1bGUgTVZSSyB7XG4gICAgLyoqXG4gICAgKiBCYWJ5bG9uIFNjcmlwdCBDb21wb25lbnRcbiAgICAqIEBjbGFzcyBSdW50aW1lVGV4dHVyZVxuICAgICovXG4gICAgZXhwb3J0IGNsYXNzIFJ1bnRpbWVUZXh0dXJlIGV4dGVuZHMgQkFCWUxPTi5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwcm90ZWN0ZWQgbV9keW5hbWljVGV4dHVyZTpCQUJZTE9OLlRleHR1cmUgPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgbV9keW5hbWljTWF0ZXJpYWw6QkFCWUxPTi5NYXRlcmlhbCA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBhd2FrZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIGNvbnN0IHRleHR1cmVVcmw6c3RyaW5nID0gdGhpcy5nZXRQcm9wZXJ0eShcInRleHR1cmVVcmxcIik7XG4gICAgICAgICAgICBjb25zdCBpbnZlcnRBeGlzOmJvb2xlYW4gPSB0aGlzLmdldFByb3BlcnR5KFwiaW52ZXJ0QXhpc1wiLCBmYWxzZSk7XG4gICAgICAgICAgICBjb25zdCBnZW5NaXBtYXBzOmJvb2xlYW4gPSB0aGlzLmdldFByb3BlcnR5KFwiZ2VuTWlwbWFwc1wiLCBmYWxzZSk7XG4gICAgICAgICAgICBjb25zdCBtYXRlcmlhbEluZGV4Om51bWJlciA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtYXRlcmlhbEluZGV4XCIsIDApO1xuICAgICAgICAgICAgY29uc3QgYWJzdHJhY3RNZXNoOkJBQllMT04uQWJzdHJhY3RNZXNoID0gdGhpcy5nZXRBYnN0cmFjdE1lc2goKTtcbiAgICAgICAgICAgIGlmIChhYnN0cmFjdE1lc2ggIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmIChhYnN0cmFjdE1lc2gubWF0ZXJpYWwgaW5zdGFuY2VvZiBCQUJZTE9OLk11bHRpTWF0ZXJpYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbW1hdDE6QkFCWUxPTi5NdWx0aU1hdGVyaWFsID0gYWJzdHJhY3RNZXNoLm1hdGVyaWFsLmNsb25lKGFic3RyYWN0TWVzaC5tYXRlcmlhbC5uYW1lICsgXCIuXCIgKyBhYnN0cmFjdE1lc2gubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9keW5hbWljTWF0ZXJpYWwgPSBtbWF0MS5zdWJNYXRlcmlhbHNbbWF0ZXJpYWxJbmRleF0uY2xvbmUobW1hdDEuc3ViTWF0ZXJpYWxzW21hdGVyaWFsSW5kZXhdLm5hbWUgKyBcIl9cIiArIGFic3RyYWN0TWVzaC5uYW1lKSBhcyBCQUJZTE9OLlBCUk1hdGVyaWFsO1xuICAgICAgICAgICAgICAgICAgICBtbWF0MS5zdWJNYXRlcmlhbHNbbWF0ZXJpYWxJbmRleF0gPSB0aGlzLm1fZHluYW1pY01hdGVyaWFsO1xuICAgICAgICAgICAgICAgICAgICBhYnN0cmFjdE1lc2gubWF0ZXJpYWwgPSBtbWF0MTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fZHluYW1pY01hdGVyaWFsID0gYWJzdHJhY3RNZXNoLm1hdGVyaWFsLmNsb25lKGFic3RyYWN0TWVzaC5tYXRlcmlhbC5uYW1lICsgXCIuXCIgKyBhYnN0cmFjdE1lc2gubmFtZSkgYXMgQkFCWUxPTi5QQlJNYXRlcmlhbDtcbiAgICAgICAgICAgICAgICAgICAgYWJzdHJhY3RNZXNoLm1hdGVyaWFsID0gdGhpcy5tX2R5bmFtaWNNYXRlcmlhbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5tX2R5bmFtaWNNYXRlcmlhbC51bmZyZWV6ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRleHR1cmVVcmwgIT0gbnVsbCAmJiB0ZXh0dXJlVXJsICE9PSBcIlwiKSB0aGlzLnNldFRleHR1cmVVcmwodGV4dHVyZVVybCwgaW52ZXJ0QXhpcywgZ2VuTWlwbWFwcyk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHByb3RlY3RlZCBkZXN0cm95KCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMubV9keW5hbWljVGV4dHVyZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tX2R5bmFtaWNUZXh0dXJlLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fZHluYW1pY1RleHR1cmUgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMubV9keW5hbWljTWF0ZXJpYWwgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMubV9keW5hbWljTWF0ZXJpYWwuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMubV9keW5hbWljTWF0ZXJpYWwgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNldFRleHR1cmVVcmwodXJsOnN0cmluZywgaW52ZXJ0WTpib29sZWFuID0gZmFsc2UsIGNyZWF0ZU1pcG1hcHM6Ym9vbGVhbiA9IGZhbHNlKTp2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1fZHluYW1pY1RleHR1cmUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMubV9keW5hbWljVGV4dHVyZS5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5tX2R5bmFtaWNUZXh0dXJlID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubV9keW5hbWljVGV4dHVyZSA9IG5ldyBCQUJZTE9OLlRleHR1cmUodXJsLCB0aGlzLnNjZW5lLCAhY3JlYXRlTWlwbWFwcywgaW52ZXJ0WSk7XG4gICAgICAgICAgICBpZiAodGhpcy5tX2R5bmFtaWNNYXRlcmlhbCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubV9keW5hbWljTWF0ZXJpYWwgaW5zdGFuY2VvZiBCQUJZTE9OLlBCUk1hdGVyaWFsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9keW5hbWljTWF0ZXJpYWwuYWxiZWRvVGV4dHVyZSA9IHRoaXMubV9keW5hbWljVGV4dHVyZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMubV9keW5hbWljTWF0ZXJpYWwgaW5zdGFuY2VvZiBCQUJZTE9OLlN0YW5kYXJkTWF0ZXJpYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2R5bmFtaWNNYXRlcmlhbC5kaWZmdXNlVGV4dHVyZSA9IHRoaXMubV9keW5hbWljVGV4dHVyZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59IiwibW9kdWxlIE1WUksge1xuICAgIC8qKlxuICAgICogQmFieWxvbiBTY3JpcHQgQ29tcG9uZW50XG4gICAgKiBAY2xhc3MgU3ByaXRlQW5pbWF0aW9uXG4gICAgKi9cbiAgICBleHBvcnQgY2xhc3MgU3ByaXRlQW5pbWF0aW9uIGV4dGVuZHMgQkFCWUxPTi5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwcml2YXRlIGdyaWRDb2xzOm51bWJlciA9IDE7XG4gICAgICAgIHByaXZhdGUgZ3JpZFJvd3M6bnVtYmVyID0gMTtcbiAgICAgICAgcHJpdmF0ZSBzdGFydFJvdzpudW1iZXIgPSAxO1xuICAgICAgICBwcml2YXRlIGJvdHRvbVVwOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSB0aW1lSW5TZWNvbmRzOm51bWJlciA9IDE7XG5cbiAgICAgICAgcHJpdmF0ZSBjb2xXaWR0aDpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHJvd0hlaWdodDpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIGFuaW1UaW1lcjpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHRpbGVJbmRleDpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIHRpbGVSZXNldDpudW1iZXIgPSAwO1xuXG4gICAgICAgIHByaXZhdGUgYmFzZVRleHR1cmU6QkFCWUxPTi5UZXh0dXJlID0gbnVsbDtcblxuICAgICAgICBwcm90ZWN0ZWQgYXdha2UoKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLmdyaWRDb2xzID0gdGhpcy5nZXRQcm9wZXJ0eShcImdyaWRDb2xzXCIsIHRoaXMuZ3JpZENvbHMpO1xuICAgICAgICAgICAgdGhpcy5ncmlkUm93cyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJncmlkUm93c1wiLCB0aGlzLmdyaWRSb3dzKTtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRSb3cgPSB0aGlzLmdldFByb3BlcnR5KFwic3RhcnRSb3dcIiwgdGhpcy5zdGFydFJvdyk7XG4gICAgICAgICAgICB0aGlzLmJvdHRvbVVwID0gdGhpcy5nZXRQcm9wZXJ0eShcImJvdHRvbVVwXCIsIHRoaXMuYm90dG9tVXApO1xuICAgICAgICAgICAgdGhpcy50aW1lSW5TZWNvbmRzID0gdGhpcy5nZXRQcm9wZXJ0eShcInRpbWVJblNlY29uZHNcIiwgdGhpcy50aW1lSW5TZWNvbmRzKTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICB0aGlzLmNvbFdpZHRoID0gKDEgLyB0aGlzLmdyaWRDb2xzKTtcbiAgICAgICAgICAgIHRoaXMucm93SGVpZ2h0ID0gKDEgLyB0aGlzLmdyaWRSb3dzKTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBTZXQgTWF4IFRpbGUgUmVzZXQgQ291bnRcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICB0aGlzLnRpbGVJbmRleCA9IDA7XG4gICAgICAgICAgICB0aGlzLnRpbGVSZXNldCA9IDA7XG4gICAgICAgICAgICBjb25zdCB0b3RhbFRpbGVzOm51bWJlciA9ICh0aGlzLmdyaWRDb2xzICogdGhpcy5ncmlkUm93cyk7XG4gICAgICAgICAgICBjb25zdCBtYXhUaWxlQ291bnQ6bnVtYmVyID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1heFRpbGVDb3VudFwiLCAwKTtcbiAgICAgICAgICAgIGlmIChtYXhUaWxlQ291bnQgPiAwICYmIG1heFRpbGVDb3VudCA8IHRvdGFsVGlsZXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRpbGVSZXNldCA9IG1heFRpbGVDb3VudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBDcmVhdGUgTWVzaCBNYXRlcmlhbCBDbG9uZVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGNvbnN0IG1lc2g6QkFCWUxPTi5BYnN0cmFjdE1lc2ggPSB0aGlzLmdldEFic3RyYWN0TWVzaCgpO1xuICAgICAgICAgICAgaWYgKG1lc2ggIT0gbnVsbCAmJiBtZXNoLm1hdGVyaWFsICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAobWVzaC5tYXRlcmlhbCBpbnN0YW5jZW9mIEJBQllMT04uUEJSTWF0ZXJpYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGJyTWF0ZXJpYWw6QkFCWUxPTi5QQlJNYXRlcmlhbCA9IG1lc2gubWF0ZXJpYWwuY2xvbmUobWVzaC5uYW1lICsgXCIuXCIgKyBtZXNoLm1hdGVyaWFsLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlID0gcGJyTWF0ZXJpYWwuYWxiZWRvVGV4dHVyZSBhcyBCQUJZTE9OLlRleHR1cmU7XG4gICAgICAgICAgICAgICAgICAgIG1lc2gubWF0ZXJpYWwgPSBwYnJNYXRlcmlhbDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1lc2gubWF0ZXJpYWwgaW5zdGFuY2VvZiBCQUJZTE9OLlN0YW5kYXJkTWF0ZXJpYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RkTWF0ZXJpYWw6QkFCWUxPTi5TdGFuZGFyZE1hdGVyaWFsID0gbWVzaC5tYXRlcmlhbC5jbG9uZShtZXNoLm5hbWUgKyBcIi5cIiArIG1lc2gubWF0ZXJpYWwubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUgPSBzdGRNYXRlcmlhbC5kaWZmdXNlVGV4dHVyZSBhcyBCQUJZTE9OLlRleHR1cmU7XG4gICAgICAgICAgICAgICAgICAgIG1lc2gubWF0ZXJpYWwgPSBzdGRNYXRlcmlhbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gU2V0dXAgVGV4dHVyZSBSb3dzIEFuZCBDb2x1bW5zXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKHRoaXMuYmFzZVRleHR1cmUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUudVNjYWxlID0gdGhpcy5jb2xXaWR0aDtcbiAgICAgICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLnZTY2FsZSA9IHRoaXMucm93SGVpZ2h0O1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gT2Zmc2V0IFN0YXJ0aW5nIFJvdyBBbmQgQ29sdW1uXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBjb25zdCBzdGFydFJvd09mZnNldDpudW1iZXIgPSBCQUJZTE9OLlNjYWxhci5DbGFtcCgoKHRoaXMuc3RhcnRSb3cgLSAxKSAqIHRoaXMucm93SGVpZ2h0KSk7XG4gICAgICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS51T2Zmc2V0ID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLnZPZmZzZXQgPSAodGhpcy5ib3R0b21VcCA9PT0gdHJ1ZSkgPyBzdGFydFJvd09mZnNldCA6ICgoMSAtIHN0YXJ0Um93T2Zmc2V0KSAtIHRoaXMucm93SGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGFydFJvdyA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50aWxlSW5kZXggPSAoKHRoaXMuc3RhcnRSb3cgLSAxKSAqIHRoaXMuZ3JpZENvbHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBzdGFydCgpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuYW5pbVRpbWVyID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCByZXNldCgpOnZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuYmFzZVRleHR1cmUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUudU9mZnNldCA9IDA7XG4gICAgICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS52T2Zmc2V0ID0gKHRoaXMuYm90dG9tVXAgPT09IHRydWUpID8gMCA6ICgxIC0gdGhpcy5yb3dIZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIHVwZGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRpbWVJblNlY29uZHMgPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hbmltVGltZXIgKz0gdGhpcy5nZXREZWx0YVNlY29uZHMoKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hbmltVGltZXIgPj0gdGhpcy50aW1lSW5TZWNvbmRzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbVRpbWVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRlKCk7XG4gICAgICAgICAgICAgICAgfSBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCBhbmltYXRlKCk6dm9pZCB7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gQW5pbWF0ZSBUaWxlIE9mZnNldFxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmICh0aGlzLmJhc2VUZXh0dXJlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5iYXNlVGV4dHVyZS51T2Zmc2V0ID49ICgxIC0gdGhpcy5jb2xXaWR0aCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS51T2Zmc2V0ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIFJvdyBBZnRlciBXaG9sZSBDb2x1bW5cbiAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYm90dG9tVXAgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJhc2VUZXh0dXJlLnZPZmZzZXQgPj0gKDEgLSB0aGlzLnJvd0hlaWdodCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLnZPZmZzZXQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLnZPZmZzZXQgKz0gdGhpcy5yb3dIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5iYXNlVGV4dHVyZS52T2Zmc2V0IDw9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLnZPZmZzZXQgPSAoMSAtIHRoaXMucm93SGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS52T2Zmc2V0IC09IHRoaXMucm93SGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJhc2VUZXh0dXJlLnZPZmZzZXQgPCAwIHx8IHRoaXMuYmFzZVRleHR1cmUudk9mZnNldCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUudk9mZnNldCA9IEJBQllMT04uU2NhbGFyLkNsYW1wKHRoaXMuYmFzZVRleHR1cmUudk9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLnVPZmZzZXQgKz0gdGhpcy5jb2xXaWR0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYmFzZVRleHR1cmUudU9mZnNldCA8IDAgfHwgdGhpcy5iYXNlVGV4dHVyZS51T2Zmc2V0ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLnVPZmZzZXQgPSBCQUJZTE9OLlNjYWxhci5DbGFtcCh0aGlzLmJhc2VUZXh0dXJlLnVPZmZzZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBWYWxpZGF0ZSBNYXggVGlsZSBSZXNldFxuICAgICAgICAgICAgLy8gLi4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICh0aGlzLnRpbGVSZXNldCA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRpbGVJbmRleCsrO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRpbGVJbmRleCA+PSB0aGlzLnRpbGVSZXNldCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRpbGVJbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSBNVlJLIHtcbiAgICAvKipcbiAgICAgKiBCYWJ5bG9uIHNjZW5lIGxvYWRlciBoZWxwZXIgY2xhc3NcbiAgICAgKiBAY2xhc3MgU2NlbmVMb2FkZXJcbiAgICAgKi9cbiAgICBleHBvcnQgY2xhc3MgU2NlbmVMb2FkZXIge1xuICAgICAgICBwdWJsaWMgc3RhdGljIFRlbGVGYWRlID0geyBTcGVlZDowLjAxLCBUaW1lb3V0OjUwLCBNdWx0aXBsaWVyOjEuOCwgTGltaXQ6MC40LCBTY2VuZUZpbGU6bnVsbCB9XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgU3dpdGNoU2NlbmUoc2NlbmVGaWxlOnN0cmluZyk6dm9pZCB7XG4gICAgICAgICAgICBNVlJLLlNjZW5lTG9hZGVyLlRlbGVGYWRlLlNjZW5lRmlsZSA9IHNjZW5lRmlsZTtcbiAgICAgICAgICAgIEJBQllMT04uU2NlbmVNYW5hZ2VyLlJlZ2lzdGVyT25TaG93U2NlbmVMb2FkZXIoKHNob3c6Ym9vbGVhbikgPT4geyAvKiBEbyBOb3RoaW5nICovIH0pO1xuICAgICAgICAgICAgbGV0IGJsYW5rZXQ6SFRNTERpdkVsZW1lbnQgPSBwYXJlbnQud2luZG93LmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYmxhbmtldFwiKSBhcyBIVE1MRGl2RWxlbWVudDtcbiAgICAgICAgICAgIGlmIChibGFua2V0ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBibGFua2V0ID0gcGFyZW50LndpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgIGJsYW5rZXQuaWQgPSBcImJsYW5rZXRcIjtcbiAgICAgICAgICAgICAgICBibGFua2V0LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgICAgICAgICAgIGJsYW5rZXQuc3R5bGUubWluSGVpZ2h0ID0gXCIxMDAlXCI7XG4gICAgICAgICAgICAgICAgYmxhbmtldC5zdHlsZS53aWR0aCA9IFwiMTAwJVwiO1xuICAgICAgICAgICAgICAgIGJsYW5rZXQuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XG4gICAgICAgICAgICAgICAgYmxhbmtldC5zdHlsZS5wYWRkaW5nID0gXCIwcHhcIjtcbiAgICAgICAgICAgICAgICBibGFua2V0LnN0eWxlLm1hcmdpbiA9IFwiMHB4XCI7XG4gICAgICAgICAgICAgICAgYmxhbmtldC5zdHlsZS50b3AgPSBcIjBcIjtcbiAgICAgICAgICAgICAgICBibGFua2V0LnN0eWxlLmxlZnQgPSBcIjBcIjtcbiAgICAgICAgICAgICAgICBibGFua2V0LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICBibGFua2V0LnN0eWxlLm91dGxpbmUgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICBibGFua2V0LnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcbiAgICAgICAgICAgICAgICBibGFua2V0LnN0eWxlLm9wYWNpdHkgPSBcIjBcIjtcbiAgICAgICAgICAgICAgICBibGFua2V0LnN0eWxlLnpJbmRleCA9IFwiLTFcIjtcbiAgICAgICAgICAgICAgICBibGFua2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiYmxhY2tcIjtcbiAgICAgICAgICAgICAgICBwYXJlbnQud2luZG93LmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYmxhbmtldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYmxhbmtldCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgYmxhbmtldC5zdHlsZS56SW5kZXggPSBcIjIwMDFcIjtcbiAgICAgICAgICAgICAgICBibGFua2V0LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgICAgICAgYmxhbmtldC5zdHlsZS5vcGFjaXR5ID0gXCIwXCI7XG4gICAgICAgICAgICAgICAgTVZSSy5TY2VuZUxvYWRlci5GYWRlVG9CbGFjayhibGFua2V0LCBNVlJLLlNjZW5lTG9hZGVyLlRlbGVGYWRlLlNwZWVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwdWJsaWMgc3RhdGljIEZhZGVUb0JsYWNrKGJsYW5rZXQ6SFRNTERpdkVsZW1lbnQsIHNwZWVkOiBudW1iZXIpIHtcbiAgICAgICAgICAgIGlmIChibGFua2V0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3BlZWQgPCBNVlJLLlNjZW5lTG9hZGVyLlRlbGVGYWRlLkxpbWl0KSB7ICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlNjZW5lTWFuYWdlci5TZXRUaW1lb3V0KE1WUksuU2NlbmVMb2FkZXIuVGVsZUZhZGUuVGltZW91dCwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmxhbmtldC5zdHlsZS5vcGFjaXR5ID0gKHNwZWVkIC8gKE1WUksuU2NlbmVMb2FkZXIuVGVsZUZhZGUuTGltaXQgLSBzcGVlZCkpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBNVlJLLlNjZW5lTG9hZGVyLkZhZGVUb0JsYWNrKGJsYW5rZXQsIHNwZWVkICogTVZSSy5TY2VuZUxvYWRlci5UZWxlRmFkZS5NdWx0aXBsaWVyKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYmxhbmtldC5zdHlsZS56SW5kZXggPSBcIjIwMDFcIjtcbiAgICAgICAgICAgICAgICAgICAgYmxhbmtldC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAgICAgICAgICAgICBibGFua2V0LnN0eWxlLm9wYWNpdHkgPSBcIjFcIjtcbiAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5TY2VuZU1hbmFnZXIuU2hvd1BhcmVudExvYWRlcih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5TY2VuZU1hbmFnZXIuTG9hZFNjZW5lRmlsZShNVlJLLlNjZW5lTG9hZGVyLlRlbGVGYWRlLlNjZW5lRmlsZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgRmFkZVRvU2NlbmUoYmxhbmtldDpIVE1MRGl2RWxlbWVudCwgc3BlZWQ6IG51bWJlcikge1xuICAgICAgICAgICAgaWYgKGJsYW5rZXQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmIChzcGVlZCA+IDAuMDAxKSB7ICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIEJBQllMT04uU2NlbmVNYW5hZ2VyLlNldFRpbWVvdXQoTVZSSy5TY2VuZUxvYWRlci5UZWxlRmFkZS5UaW1lb3V0LCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBibGFua2V0LnN0eWxlLm9wYWNpdHkgPSAoc3BlZWQgLyAoTVZSSy5TY2VuZUxvYWRlci5UZWxlRmFkZS5MaW1pdCAtIHNwZWVkKSkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIE1WUksuU2NlbmVMb2FkZXIuRmFkZVRvU2NlbmUoYmxhbmtldCwgc3BlZWQgLyBNVlJLLlNjZW5lTG9hZGVyLlRlbGVGYWRlLk11bHRpcGxpZXIpXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJsYW5rZXQuc3R5bGUuekluZGV4ID0gXCItMVwiO1xuICAgICAgICAgICAgICAgICAgICBibGFua2V0LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICAgICAgYmxhbmtldC5zdHlsZS5vcGFjaXR5ID0gXCIwXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgTG9hZFNjZW5lQ29tcGxldGUoKTp2b2lkIHtcbiAgICAgICAgICAgIEJBQllMT04uU2NlbmVNYW5hZ2VyLlNob3dQYXJlbnRMb2FkZXIoZmFsc2UpO1xuICAgICAgICAgICAgY29uc3QgYmxhbmtldDpIVE1MRGl2RWxlbWVudCA9IHBhcmVudC53aW5kb3cuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJibGFua2V0XCIpIGFzIEhUTUxEaXZFbGVtZW50O1xuICAgICAgICAgICAgaWYgKGJsYW5rZXQgIT0gbnVsbCkgTVZSSy5TY2VuZUxvYWRlci5GYWRlVG9TY2VuZShibGFua2V0LCBNVlJLLlNjZW5lTG9hZGVyLlRlbGVGYWRlLkxpbWl0KTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJtb2R1bGUgTVZSSyB7XG4gICAgLyoqXG4gICAgICogQmFieWxvbiBzeXN0ZW0gdXRpbGl0aWVzIGhlbHBlciBjbGFzc1xuICAgICAqIEBjbGFzcyBTeXN0ZW1cbiAgICAgKi9cbiAgICBleHBvcnQgY2xhc3MgU3lzdGVtIHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBHZXRVc2VySW5mbygpOk1WUksuSVVzZXJJbmZvIHtcbiAgICAgICAgICAgIGxldCByZXN1bHQ6TVZSSy5JVXNlckluZm8gPSBudWxsO1xuICAgICAgICAgICAgaWYgKHdpbmRvdy5mcmFtZUVsZW1lbnQgIT0gbnVsbCAmJiBwYXJlbnQgIT0gbnVsbCAmJiBwYXJlbnQud2luZG93ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50LndpbmRvd1tcImdldE1WUktVc2VyXCJdKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHBhcmVudC53aW5kb3dbXCJnZXRNVlJLVXNlclwiXSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHdpbmRvd1tcImdldE1WUktVc2VyXCJdKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHdpbmRvd1tcImdldE1WUktVc2VyXCJdKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlc3VsdCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0geyBmaXJzdE5hbWU6XCJEZWZhdWx0XCIsIGxhc3ROYW1lOiBcIlBsYXllclwiLCBsb2NhbGU6XCJlblwiLCBlbWFpbDpudWxsIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHN0YXRpYyBHZXRHYW1lTG9iYnlJbmZvKCk6TVZSSy5JR2FtZUxvYmJ5IHtcbiAgICAgICAgICAgIGxldCByZXN1bHQ6TVZSSy5JR2FtZUxvYmJ5ID0gbnVsbDtcbiAgICAgICAgICAgIGlmICh3aW5kb3cuZnJhbWVFbGVtZW50ICE9IG51bGwgJiYgcGFyZW50ICE9IG51bGwgJiYgcGFyZW50LndpbmRvdyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudC53aW5kb3dbXCJnZXRHYW1lTG9iYnlJbmZvXCJdKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHBhcmVudC53aW5kb3dbXCJnZXRHYW1lTG9iYnlJbmZvXCJdKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAod2luZG93W1wiZ2V0R2FtZUxvYmJ5SW5mb1wiXSkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB3aW5kb3dbXCJnZXRHYW1lTG9iYnlJbmZvXCJdKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlc3VsdCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0geyBpZDogXCIxMjM0NVwiIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVzZXIgSW5mbyBJbnRlcmZhY2VcbiAgICAgKi9cbiAgICBleHBvcnQgaW50ZXJmYWNlIElVc2VySW5mbyB7XG4gICAgICAgIGZpcnN0TmFtZTpzdHJpbmc7XG4gICAgICAgIGxhc3ROYW1lOnN0cmluZztcbiAgICAgICAgbG9jYWxlOnN0cmluZztcbiAgICAgICAgZW1haWw6c3RyaW5nXG4gICAgfVxuXG4gICAgZXhwb3J0IGludGVyZmFjZSBJR2FtZUxvYmJ5IHtcbiAgICAgICAgaWQ6IHN0cmluZztcbiAgICB9XG59IiwibW9kdWxlIFBST0pFQ1Qge1xuICAgIC8qKlxuICAgICogQmFieWxvbiBTY3JpcHQgQ29tcG9uZW50XG4gICAgKiBAY2xhc3MgUG9zdGVyUm9vbVxuICAgICovXG5cdGludGVyZmFjZSBJUG9zdGVye1xuXHRcdGlkOiBudW1iZXIsXG5cdFx0dXJsOiBzdHJpbmcsXG5cdFx0YWN0aXZlOiBib29sZWFuXHRcdFxuXHR9XG5cbiAgICBleHBvcnQgY2xhc3MgUG9zdGVyUm9vbSBleHRlbmRzIEJBQllMT04uU2NyaXB0Q29tcG9uZW50IHtcblx0XHRcblx0XHRzdGF0aWMgX2luc3RhbmNlOiBQb3N0ZXJSb29tO1xuXHRcdC8vcHJpdmF0ZSBhY3RpdmVQb3N0ZXJzOiBJUG9zdGVyW107XG5cdFx0cHJpdmF0ZSBwb3N0ZXJEYXRhOiBJUG9zdGVyW11bXTtcblx0XHRwcml2YXRlIGVsQm9keTogSFRNTEJvZHlFbGVtZW50O1x0XHRcblx0XHRwcml2YXRlIGVsQ29udGFpbmVyOiBIVE1MRGl2RWxlbWVudDtcblx0XHRwcml2YXRlIGVsUG9zdGVyRWxlbWVudHM6IEhUTUxEaXZFbGVtZW50O1xuXHRcdHByaXZhdGUgc2xvdHM6IEhUTUxEaXZFbGVtZW50W10gPSBbXTtcblx0XHRwcml2YXRlIGVsQnV0dG9uczogSFRNTERpdkVsZW1lbnQ7XG5cblx0XHRwcml2YXRlIHNwaW5UaW1lID0gNTAwO1xuXHRcdHByaXZhdGUgc3BpbkRlbGF5ID0gMjAwO1xuXG4gICAgICAgIHByb3RlY3RlZCBhd2FrZSgpOiB2b2lkIHtcblx0XHRcdC8qIEluaXQgY29tcG9uZW50IGZ1bmN0aW9uICovXG5cdFx0XHRQb3N0ZXJSb29tLl9pbnN0YW5jZSA9IHRoaXM7XG5cdFx0XHR0aGlzLmVsQm9keSA9IGRvY3VtZW50LmJvZHkgYXMgSFRNTEJvZHlFbGVtZW50O1xuXHRcdFx0dGhpcy5lbENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG5cdFx0XHR0aGlzLmVsQ29udGFpbmVyLmlkID0gJ3Bvc3Rlci1jYXJvdXNlbCdcblx0XHRcdFxuXHRcdFx0dGhpcy5sb2FkU3R5bGVzaGVldCgpO1xuXHRcdFx0Ly9SRVFVRVNUIEZPUiBEQVRBXG5cdFx0XHQvL09OIFJFU1BPTlNFIFxuXHRcdFx0dGhpcy5pbml0aWFsUG9zdGVyRGF0YShbXG5cdFx0XHRcdHRoaXMuZ2V0UmFuZG9tUG9zdGVyU2xvdERhdGEoKSxcblx0XHRcdFx0dGhpcy5nZXRSYW5kb21Qb3N0ZXJTbG90RGF0YSgpLFxuXHRcdFx0XHR0aGlzLmdldFJhbmRvbVBvc3RlclNsb3REYXRhKClcblx0XHRcdF0pXHRcdFx0XHRcblx0XHR9XG5cblx0XHRwdWJsaWMgaW5pdGlhbFBvc3RlckRhdGEocG9zdGVyRGF0YTogSVBvc3RlcltdW10pOiB2b2lke1xuXHRcdFx0dGhpcy5wb3N0ZXJEYXRhID0gcG9zdGVyRGF0YVxuXHRcdFx0dGhpcy5lbFBvc3RlckVsZW1lbnRzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxuXHRcdFx0dGhpcy5lbFBvc3RlckVsZW1lbnRzLmlkID0gXCJwb3N0ZXJzXCJcblx0XHRcdHRoaXMuZWxDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5lbFBvc3RlckVsZW1lbnRzKVxuXG5cdFx0XHQvL3ByZXAgc2xvdHNcblx0XHRcdHRoaXMuc2xvdHMucHVzaChcblx0XHRcdFx0ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG5cdFx0XHRcdGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuXHRcdFx0XHRkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuXHRcdFx0KVxuXHRcdFx0dGhpcy5zbG90cy5mb3JFYWNoKChzLGkpPT57XG5cdFx0XHRcdHMuaWQgPSAnc2xvdCcraVxuXHRcdFx0XHRzLmNsYXNzTGlzdC5hZGQoJ3Nsb3QnKVxuXHRcdFx0XHR0aGlzLmJ1aWxkU2xvdChpLCBwb3N0ZXJEYXRhW2ldKVxuXHRcdFx0XHR0aGlzLmVsUG9zdGVyRWxlbWVudHMuYXBwZW5kQ2hpbGQocylcblx0XHRcdH0pXG5cdFx0XHQvL3RoaXMucG9wdWxhdGVQb3N0ZXJzKCk7XG5cdFx0XHQvLyBIaWRlIGNhbnZhc1xuXHRcdFx0dGhpcy5zY2VuZS5nZXRFbmdpbmUoKS5nZXRSZW5kZXJpbmdDYW52YXMoKS5zdHlsZS56SW5kZXggPSBcIi0xXCJcblx0XHRcdC8vIFNldCBiYWNrZ3JvdW5kIGltYWdlXG5cdFx0XHRjb25zdCBiYWNrZ3JvdW5kRmlsZW5hbWUgPSB0aGlzLmdldFByb3BlcnR5PGFueT4oXCJiYWNrZ3JvdW5kSW1hZ2VcIikhLmZpbGVuYW1lXG5cdFx0XHR0aGlzLmVsQm9keS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBcInVybCgnc2NlbmVzL1wiK2JhY2tncm91bmRGaWxlbmFtZStcIicpXCJcblx0XHRcdHRoaXMuYWRkQnV0dG9ucygpXG5cdFx0XHRzZXRUaW1lb3V0KCgpPT57XG5cdFx0XHRcdHRoaXMuZWxCb2R5LmFwcGVuZENoaWxkKHRoaXMuZWxDb250YWluZXIpXG5cdFx0XHRcdHRoaXMuZmFkZSh0cnVlKVxuXHRcdFx0fSwxMDAwKVx0XHRcblx0XHR9XG5cdCAgXG5cdFx0cHJpdmF0ZSBmYWRlKHN0YXRlOmJvb2xlYW4pOiB2b2lke1xuXHRcdFx0aWYoc3RhdGUpe1xuXHRcdFx0XHR0aGlzLmVsQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2ZhZGUtaW4nKVxuXHRcdFx0fWVsc2V7XG5cdFx0XHRcdHRoaXMuZWxDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnZmFkZS1pbicpXG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cHJpdmF0ZSBhZGRCdXR0b25zKCk6IHZvaWQge1xuXHRcdFx0Ly8gQWRkIGNvbnRhaW5lcnMgZm9yIGFsbCBidXR0b25zXG5cdFx0XHR0aGlzLmVsQnV0dG9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHR0aGlzLmVsQnV0dG9ucy5pZCA9IFwiYnV0dG9uc1wiO1xuXHRcdFx0dGhpcy5lbENvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmVsQnV0dG9ucyk7XG5cdFx0XHQvLyBBZGQgaW5kaXZpZHVhbCBidXR0b25zXG5cdFx0XHRsZXQgZWxCdXR0b25QcmV2aW91cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG5cdFx0XHRlbEJ1dHRvblByZXZpb3VzLmlubmVyVGV4dCA9IFwiUFJFVklPVVNcIjtcblx0XHRcdGVsQnV0dG9uUHJldmlvdXMub25jbGljayA9ICgpPT57dGhpcy5wcmV2aW91cygpfTtcblx0XHRcdHRoaXMuZWxCdXR0b25zLmFwcGVuZENoaWxkKGVsQnV0dG9uUHJldmlvdXMpO1xuXHRcdFx0bGV0IGVsQnV0dG9uTmV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG5cdFx0XHRlbEJ1dHRvbk5leHQuaW5uZXJUZXh0ID0gXCJORVhUXCI7XG5cdFx0XHRlbEJ1dHRvbk5leHQub25jbGljayA9ICgpPT57dGhpcy5uZXh0KCl9O1xuXHRcdFx0dGhpcy5lbEJ1dHRvbnMuYXBwZW5kQ2hpbGQoZWxCdXR0b25OZXh0KTtcdFx0XHRcblx0XHR9XG5cdFx0XG5cdFx0cHVibGljIGRpc2FibGVCdXR0b25zKCk6IHZvaWQge1xuXHRcdFx0dmFyIGJ1dHRvbnMgPSB0aGlzLmVsQnV0dG9ucy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYnV0dG9uJyk7XG5cdFx0XHRmb3IgKHZhciBpPTA7IGk8YnV0dG9ucy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHR2YXIgY2hpbGRCdXR0b24gPSBidXR0b25zW2ldO1xuXHRcdFx0XHRjaGlsZEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cHJpdmF0ZSBlbmFibGVCdXR0b25zKCk6IHZvaWQge1xuXHRcdFx0dmFyIGJ1dHRvbnMgPSB0aGlzLmVsQnV0dG9ucy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYnV0dG9uJyk7XG5cdFx0XHRmb3IgKHZhciBpPTA7IGk8YnV0dG9ucy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHR2YXIgY2hpbGRCdXR0b24gPSBidXR0b25zW2ldO1xuXHRcdFx0XHRjaGlsZEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHByaXZhdGUgY2xlYXJBbmltYXRpb25zKHNsb3Q6bnVtYmVyKTogdm9pZCB7XHRcblx0XHRcdHRoaXMuZ2V0U2xvdChzbG90KS5xdWVyeVNlbGVjdG9yQWxsKCdhLnBvc3RlcicpLmZvckVhY2goKGVsOiBIVE1MQW5jaG9yRWxlbWVudCwgaSkgPT4ge1xuXHRcdFx0XHQvL2NvbnNvbGUubG9nKGVsKVxuXHRcdFx0XHRlbC5jbGFzc0xpc3QucmVtb3ZlKCdmb3J3YXJkQW5pbScsICdiYWNrd2FyZEFuaW0nKVxuXHRcdFx0XHRlbC5zdHlsZS5hbmltYXRpb24gPSAnbm9uZSc7XG5cdFx0XHRcdGVsLnN0eWxlLndlYmtpdEFuaW1hdGlvbiA9ICdub25lJztcblx0XHRcdFx0ZWwub2Zmc2V0SGVpZ2h0O1xuXHRcdFx0XHRlbC5zdHlsZS5hbmltYXRpb24gPSBudWxsO1xuXHRcdFx0XHRlbC5zdHlsZS53ZWJraXRBbmltYXRpb25OYW1lID0gbnVsbDtcblx0XHRcdFx0ZWwuc3R5bGUuYW5pbWF0aW9uTmFtZSA9IG51bGw7XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRwcml2YXRlIGdldFNsb3Qoc2xvdDpudW1iZXIpe1xuXHRcdFx0cmV0dXJuIHRoaXMuc2xvdHNbc2xvdF1cblx0XHR9XG5cblx0XHRwdWJsaWMgbmV4dCgpOiB2b2lkIHtcblx0XHRcdHRoaXMuZGlzYWJsZUJ1dHRvbnMoKVxuXHRcdFx0dGhpcy5jbGVhckFuaW1hdGlvbnMoMSlcdFx0XHRcdFx0XHRcdFxuXHRcdFx0dGhpcy5nZXRTbG90KDEpLmNsYXNzTGlzdC5hZGQoJ2ZhZGUtb3V0Jyk7XG5cdFx0XHQvL0FuaW1hdGVzIENlbnRlciBFbGVtZW50IG91dCB0byBsZWZ0XG5cdFx0XHR0aGlzLmdldFNsb3QoMSkucXVlcnlTZWxlY3RvckFsbCgnYS5wb3N0ZXInKS5mb3JFYWNoKChlbDogSFRNTEFuY2hvckVsZW1lbnQsIGkpID0+IHtcblx0XHRcdFx0Ly9jb25zb2xlLmxvZyhlbClcblx0XHRcdFx0bGV0IGFuaW1hdGlvbklkID0gaSsxXG5cdFx0XHRcdGVsLmNsYXNzTGlzdC5hZGQoJ2ZvcndhcmRBbmltJyk7XG5cdFx0XHRcdGVsLnN0eWxlLndlYmtpdEFuaW1hdGlvbk5hbWUgPSAnb3JiaXQtbmV4dCcrYW5pbWF0aW9uSWQ7XG5cdFx0XHRcdGVsLnN0eWxlLmFuaW1hdGlvbk5hbWUgPSAnb3JiaXQtbmV4dCcrYW5pbWF0aW9uSWQ7XG5cdFx0XHRcdGVsLnN0eWxlLndlYmtpdEFuaW1hdGlvblRpbWluZ0Z1bmN0aW9uID0gJ2Vhc2Utb3V0JztcdFxuXHRcdFx0XHRlbC5zdHlsZS5hbmltYXRpb25UaW1pbmdGdW5jdGlvbj0gJ2Vhc2Utb3V0Jztcblx0XHRcdH0pXG5cdFx0XHR0aGlzLnNsb3RzLnB1c2godGhpcy5zbG90cy5zaGlmdCgpKVx0XHRcblx0XHRcdHRoaXMuYnVpbGRTbG90KDIsIHRoaXMuZ2V0UmFuZG9tUG9zdGVyU2xvdERhdGEoKSlcblx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xuXG5cdFx0XHRcdHRoaXMuZ2V0U2xvdCgwKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnLCAnZmFkZS1vdXQnKVx0XHRcdFx0XG5cdFx0XHRcdHRoaXMuZ2V0U2xvdCgwKS5xdWVyeVNlbGVjdG9yQWxsKCdhLnBvc3RlcicpLmZvckVhY2goKGVsOiBIVE1MQW5jaG9yRWxlbWVudCwgaSkgPT4ge1xuXHRcdFx0XHRcdGVsLnN0eWxlLndlYmtpdEFuaW1hdGlvbk5hbWUgPSAnb3JiaXQtcHJldicrKGkrMSk7XG5cdFx0XHRcdFx0ZWwuc3R5bGUuYW5pbWF0aW9uTmFtZSA9ICdvcmJpdC1wcmV2JysoaSsxKTtcblx0XHRcdFx0XHRlbC5zdHlsZS53ZWJraXRBbmltYXRpb25UaW1pbmdGdW5jdGlvbiA9ICdlYXNlLWluJztcdFxuXHRcdFx0XHRcdGVsLnN0eWxlLmFuaW1hdGlvblRpbWluZ0Z1bmN0aW9uPSAnZWFzZS1pbic7XHRcblx0XHRcdFx0fSlcblxuXHRcdFx0XHR0aGlzLmdldFNsb3QoMSkuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcblx0XHRcdFx0dGhpcy5nZXRTbG90KDEpLnF1ZXJ5U2VsZWN0b3JBbGwoJ2EucG9zdGVyJykuZm9yRWFjaCgoZWw6IEhUTUxBbmNob3JFbGVtZW50LCBpKSA9PiB7XHRcdFx0XHRcdFxuXHRcdFx0XHRcdGVsLmNsYXNzTGlzdC5hZGQoJ2ZvcndhcmRBbmltJyk7XG5cdFx0XHRcdFx0ZWwuc3R5bGUud2Via2l0QW5pbWF0aW9uTmFtZSA9ICdvcmJpdC1wcmV2JysoaSsxKTtcblx0XHRcdFx0XHRlbC5zdHlsZS5hbmltYXRpb25OYW1lID0gJ29yYml0LXByZXYnKyhpKzEpO1xuXHRcdFx0XHRcdGVsLnN0eWxlLndlYmtpdEFuaW1hdGlvblRpbWluZ0Z1bmN0aW9uID0gJ2Vhc2UtaW4nO1x0XG5cdFx0XHRcdFx0ZWwuc3R5bGUuYW5pbWF0aW9uVGltaW5nRnVuY3Rpb249ICdlYXNlLWluJztcblx0XHRcdFx0fSlcdFxuXG5cdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0dGhpcy5lbmFibGVCdXR0b25zKCk7XG5cdFx0XHR9LCB0aGlzLnNwaW5UaW1lKTtcblx0XHRcdH0sIHRoaXMuc3BpblRpbWUrdGhpcy5zcGluRGVsYXkpO1xuXHRcdH1cblx0XHRwdWJsaWMgcHJldmlvdXMoKTogdm9pZCB7XG5cdFx0XHR0aGlzLmRpc2FibGVCdXR0b25zKClcblx0XHRcdHRoaXMuY2xlYXJBbmltYXRpb25zKDEpXHRcdFx0XHRcdFx0XHRcblx0XHRcdHRoaXMuZ2V0U2xvdCgxKS5jbGFzc0xpc3QuYWRkKCdmYWRlLW91dCcpO1xuXHRcdFx0Ly9BbmltYXRlcyBDZW50ZXIgRWxlbWVudCBvdXQgdG8gbGVmdFxuXHRcdFx0dGhpcy5nZXRTbG90KDEpLnF1ZXJ5U2VsZWN0b3JBbGwoJ2EucG9zdGVyJykuZm9yRWFjaCgoZWw6IEhUTUxBbmNob3JFbGVtZW50LCBpKSA9PiB7XG5cdFx0XHRcdGxldCBhbmltYXRpb25JZCA9IGkrMVxuXHRcdFx0XHRlbC5jbGFzc0xpc3QuYWRkKCdiYWNrd2FyZEFuaW0nKTtcblx0XHRcdFx0ZWwuc3R5bGUud2Via2l0QW5pbWF0aW9uTmFtZSA9ICdvcmJpdC1wcmV2JythbmltYXRpb25JZDtcblx0XHRcdFx0ZWwuc3R5bGUuYW5pbWF0aW9uTmFtZSA9ICdvcmJpdC1wcmV2JythbmltYXRpb25JZDtcblx0XHRcdFx0ZWwuc3R5bGUud2Via2l0QW5pbWF0aW9uVGltaW5nRnVuY3Rpb24gPSAnZWFzZS1vdXQnO1x0XG5cdFx0XHRcdGVsLnN0eWxlLmFuaW1hdGlvblRpbWluZ0Z1bmN0aW9uPSAnZWFzZS1vdXQnO1xuXHRcdFx0fSlcblxuXHRcdFx0dGhpcy5zbG90cy51bnNoaWZ0KHRoaXMuc2xvdHMucG9wKCkpXHRcdFxuXHRcdFx0dGhpcy5idWlsZFNsb3QoMCwgdGhpcy5nZXRSYW5kb21Qb3N0ZXJTbG90RGF0YSgpKVxuXG5cdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0dGhpcy5nZXRTbG90KDIpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScsICdmYWRlLW91dCcpXG5cdFx0XHRcdHRoaXMuZ2V0U2xvdCgyKS5xdWVyeVNlbGVjdG9yQWxsKCdhLnBvc3RlcicpLmZvckVhY2goKGVsOiBIVE1MQW5jaG9yRWxlbWVudCwgaSkgPT4ge1xuXHRcdFx0XHRcdGVsLnN0eWxlLndlYmtpdEFuaW1hdGlvbk5hbWUgPSAnb3JiaXQtbmV4dCcrKGkrMSk7XG5cdFx0XHRcdFx0ZWwuc3R5bGUuYW5pbWF0aW9uTmFtZSA9ICdvcmJpdC1uZXh0JysoaSsxKTtcblx0XHRcdFx0XHRlbC5zdHlsZS53ZWJraXRBbmltYXRpb25UaW1pbmdGdW5jdGlvbiA9ICdlYXNlLW91dCc7XHRcblx0XHRcdFx0XHRlbC5zdHlsZS5hbmltYXRpb25UaW1pbmdGdW5jdGlvbj0gJ2Vhc2Utb3V0Jztcblx0XHRcdFx0fSlcblx0XHRcdFx0dGhpcy5nZXRTbG90KDEpLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXG5cdFx0XHRcdHRoaXMuZ2V0U2xvdCgxKS5xdWVyeVNlbGVjdG9yQWxsKCdhLnBvc3RlcicpLmZvckVhY2goKGVsOiBIVE1MQW5jaG9yRWxlbWVudCwgaSkgPT4ge1xuXHRcdFx0XHRcdGVsLmNsYXNzTGlzdC5hZGQoJ2JhY2t3YXJkQW5pbScpO1xuXHRcdFx0XHRcdGVsLnN0eWxlLndlYmtpdEFuaW1hdGlvbk5hbWUgPSAnb3JiaXQtbmV4dCcrKGkrMSk7XG5cdFx0XHRcdFx0ZWwuc3R5bGUuYW5pbWF0aW9uTmFtZSA9ICdvcmJpdC1uZXh0JysoaSsxKTtcblx0XHRcdFx0XHRlbC5zdHlsZS53ZWJraXRBbmltYXRpb25UaW1pbmdGdW5jdGlvbiA9ICdlYXNlLWluJztcdFxuXHRcdFx0XHRcdGVsLnN0eWxlLmFuaW1hdGlvblRpbWluZ0Z1bmN0aW9uPSAnZWFzZS1pbic7XHRcblx0XHRcdFx0fSlcdFxuXHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRcdHRoaXMuZW5hYmxlQnV0dG9ucygpO1xuXHRcdFx0fSwgdGhpcy5zcGluVGltZSk7XG5cdFx0XHR9LCB0aGlzLnNwaW5UaW1lK3RoaXMuc3BpbkRlbGF5KTtcdFx0XHRcblx0XHR9XG5cblx0XHRwdWJsaWMgdXBkYXRlU2xvdERhdGEoc2xvdDpudW1iZXIsIGRhdGE6IElQb3N0ZXJbXSk6dm9pZHtcblx0XHRcdHRoaXMuc2xvdHNbc2xvdF0ucXVlcnlTZWxlY3RvckFsbCgnYS5wb3N0ZXInKS5mb3JFYWNoKChlbCwgaSk9Pntcblx0XHRcdFx0aWYoZGF0YVtpXS5hY3RpdmUpe1xuXHRcdFx0XHRcdGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZhZGVkLW91dCcpXG5cdFx0XHRcdH1lbHNle1xuXHRcdFx0XHRcdGVsLmNsYXNzTGlzdC5hZGQoJ2ZhZGVkLW91dCcpXG5cdFx0XHRcdH1cblx0XHRcdH0pXG5cdFx0fVxuXG5cdFx0cHJpdmF0ZSBnZXRSYW5kb21Qb3N0ZXJTbG90RGF0YSgpOiBJUG9zdGVyW117XG5cdFx0XHRjb25zdCBwb3N0ZXIxOklQb3N0ZXIgPSB7XG5cdFx0XHRcdGlkOjAsXG5cdFx0XHRcdHVybDpcInNjZW5lcy9cIit0aGlzLmdldFByb3BlcnR5PGFueT4oXCJwb3N0ZXIxXCIpIS5maWxlbmFtZSxcblx0XHRcdFx0YWN0aXZlOnRydWVcblx0XHRcdH1cblx0XHRcdGNvbnN0IHBvc3RlcjI6SVBvc3RlciA9IHtcblx0XHRcdFx0aWQ6MSxcblx0XHRcdFx0dXJsOlwic2NlbmVzL1wiK3RoaXMuZ2V0UHJvcGVydHk8YW55PihcInBvc3RlcjJcIikhLmZpbGVuYW1lLFxuXHRcdFx0XHRhY3RpdmU6dHJ1ZVxuXHRcdFx0fVxuXHRcdFx0Y29uc3QgcG9zdGVyMzpJUG9zdGVyID0ge1xuXHRcdFx0XHRpZDoyLFxuXHRcdFx0XHR1cmw6XCJzY2VuZXMvXCIrdGhpcy5nZXRQcm9wZXJ0eTxhbnk+KFwicG9zdGVyM1wiKSEuZmlsZW5hbWUsXG5cdFx0XHRcdGFjdGl2ZTp0cnVlXG5cdFx0XHR9XG5cdFx0XHRsZXQgcG9zdGVycyA9IFtwb3N0ZXIxLCBwb3N0ZXIyLCBwb3N0ZXIzXVxuXHRcdFx0bGV0IGRhdGEgPSBbXVxuXHRcdFx0Zm9yKGxldCBpPTA7IGk8MTQ7IGkrKyl7XG5cdFx0XHRcdGRhdGEucHVzaChcblx0XHRcdFx0XHRwb3N0ZXJzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpwb3N0ZXJzLmxlbmd0aCldXG5cdFx0XHRcdClcblx0XHRcdFx0ZGF0YVtpXS5hY3RpdmUgPSAoTWF0aC5yYW5kb20oKTw9MC41KT90cnVlOmZhbHNlXG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZGF0YVxuXHRcdH1cblxuXHRcdHB1YmxpYyBidWlsZFNsb3Qoc2xvdDpudW1iZXIsIGRhdGE6IElQb3N0ZXJbXSA9IG51bGwpOiB2b2lke1xuXHRcdFx0dGhpcy5zbG90c1tzbG90XS5pbm5lckhUTUwgPSBgYFxuXHRcdFx0bGV0IHNsb3REYXRhID0gZGF0YSB8fCB0aGlzLnBvc3RlckRhdGFbc2xvdF1cblx0XHRcdHRoaXMucG9zdGVyRGF0YVtzbG90XSA9IHNsb3REYXRhXG5cdFx0XHRzbG90RGF0YS5mb3JFYWNoKChkYXRhLCBpKT0+e1xuXHRcdFx0XHRsZXQgcElkID0gRGF0ZS5ub3coKVxuXHRcdFx0XHRsZXQgcG9zdGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIilcblx0XHRcdFx0cG9zdGVyLnNldEF0dHJpYnV0ZSgnaHJlZicsICcjJylcblx0XHRcdFx0cG9zdGVyLmlkID0gJ3Bvc3RlcicrcElkXG5cdFx0XHRcdHBvc3Rlci5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCR7ZGF0YS51cmx9KWBcblx0XHRcdFx0bGV0IGNvbW1hbmQgPSBcInBvc3RlcnNcIlxuXHRcdFx0XHRsZXQgcGFyYW0gPSBkYXRhLmlkXG5cdFx0XHRcdHBvc3Rlci5vbmNsaWNrID0gKCk9Pntcblx0XHRcdFx0XHRpZighcG9zdGVyLmNsYXNzTGlzdC5jb250YWlucygnZmFkZWQtb3V0Jykpe1xuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coYHtcImNvbW1hbmRcIjpcIiR7Y29tbWFuZH1cIixcInBhcmFtXCI6XCIke3BhcmFtfVwifWApXG5cdFx0XHRcdFx0XHRCQUJZTE9OLlNjZW5lTWFuYWdlci5Qb3N0V2luZG93TWVzc2FnZShcblx0XHRcdFx0XHRcdFx0YHtcImNvbW1hbmRcIjpcIiR7Y29tbWFuZH1cIixcInBhcmFtXCI6XCIke3BhcmFtfVwifWAsJyonXG5cdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHRoaXMuc2xvdHNbc2xvdF0uYXBwZW5kQ2hpbGQocG9zdGVyKVxuXHRcdFx0XHRwb3N0ZXIuY2xhc3NMaXN0LmFkZCgncG9zdGVyJylcblx0XHRcdFx0Ly9wb3N0ZXIuY2xhc3NMaXN0LmFkZCgncG9zdGVyJywgJ2JhY2t3YXJkQW5pbScpO1xuXHRcdFx0XHRpZighdGhpcy5wb3N0ZXJEYXRhW3Nsb3RdW2ldLmFjdGl2ZSl7XG5cdFx0XHRcdFx0cG9zdGVyLmNsYXNzTGlzdC5hZGQoJ2ZhZGVkLW91dCcpXG5cdFx0XHRcdH1cblx0XHRcdFx0c3dpdGNoKHNsb3Qpe1xuXHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdHBvc3Rlci5zdHlsZS53ZWJraXRBbmltYXRpb25OYW1lID0gJ29yYml0LW5leHQnKyhpKzEpO1xuXHRcdFx0XHRcdFx0cG9zdGVyLnN0eWxlLmFuaW1hdGlvbk5hbWUgPSAnb3JiaXQtbmV4dCcrKGkrMSk7XG5cdFx0XHRcdFx0XHRwb3N0ZXIuc3R5bGUud2Via2l0QW5pbWF0aW9uVGltaW5nRnVuY3Rpb24gPSAnZWFzZS1pbic7XHRcblx0XHRcdFx0XHRcdHBvc3Rlci5zdHlsZS5hbmltYXRpb25UaW1pbmdGdW5jdGlvbj0gJ2Vhc2UtaW4nO1x0XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAxOlxuXHRcdFx0XHRcdFx0dGhpcy5zbG90c1sxXS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxuXHRcdFx0XHRcdFx0cG9zdGVyLmNsYXNzTGlzdC5hZGQoJ2ZvcndhcmRBbmltJylcblx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRwb3N0ZXIuc3R5bGUud2Via2l0QW5pbWF0aW9uTmFtZSA9ICdvcmJpdC1wcmV2JysoaSsxKTtcblx0XHRcdFx0XHRcdHBvc3Rlci5zdHlsZS5hbmltYXRpb25OYW1lID0gJ29yYml0LXByZXYnKyhpKzEpO1xuXHRcdFx0XHRcdFx0cG9zdGVyLnN0eWxlLndlYmtpdEFuaW1hdGlvblRpbWluZ0Z1bmN0aW9uID0gJ2Vhc2UtaW4nO1x0XG5cdFx0XHRcdFx0XHRwb3N0ZXIuc3R5bGUuYW5pbWF0aW9uVGltaW5nRnVuY3Rpb249ICdlYXNlLWluJztcdFxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XHRcdFx0XHRcblx0XHRcdH0pXG5cdFx0fVx0XHRcblx0XHRwcml2YXRlIGxvYWRTdHlsZXNoZWV0KCk6IHZvaWQge1xuXHRcdFx0Y29uc3Qgc3R5bGVzaGVldEZpbGUgPSBcInNjZW5lcy9cIit0aGlzLmdldFByb3BlcnR5PGFueT4oXCJzdHlsZXNoZWV0XCIpIS5maWxlbmFtZTtcblx0XHRcdHZhciBzdHlsZXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcblx0XHRcdHN0eWxlcy5yZWwgPSBcInN0eWxlc2hlZXRcIjtcblx0XHRcdHN0eWxlcy50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuXHRcdFx0c3R5bGVzLmhyZWYgPSBzdHlsZXNoZWV0RmlsZTtcblx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0uYXBwZW5kQ2hpbGQoc3R5bGVzKTtcdFx0XHRcblx0XHR9XHRcdFxuICAgIH1cbn0iLCJtb2R1bGUgQkFCWUxPTiB7XG4gICAgLyoqXG4gICAgICogQmFieWxvbiBhbmltYXRpb24gc3RhdGUgcHJvIGNsYXNzIChVbml0eSBTdHlsZSBNZWNoYW5pbSBBbmltYXRpb24gU3lzdGVtKVxuICAgICAqIEBjbGFzcyBBbmltYXRpb25TdGF0ZSAtIEFsbCByaWdodHMgcmVzZXJ2ZWQgKGMpIDIwMjAgTWFja2V5IEtpbmFyZFxuICAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBBbmltYXRpb25TdGF0ZSBleHRlbmRzIEJBQllMT04uU2NyaXB0Q29tcG9uZW50IHtcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgRlBTOm51bWJlciA9IDMwO1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBUSU1FOm51bWJlciA9IDE7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIEVYSVQ6c3RyaW5nID0gXCJbRVhJVF1cIjtcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgTU9USU9OOm51bWJlciA9IDAuMDAxO1xuXG4gICAgICAgIHByaXZhdGUgX2ZyYW1ldGltZTpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIF9sYXllcmNvdW50Om51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgX3VwZGF0ZW1vZGU6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBfaGFzcm9vdG1vdGlvbjpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgX3Byb2Nlc3Ntb3Rpb246Ym9vbGVhbiA9IHRydWU7XG4gICAgICAgIHByaXZhdGUgX2luaXRpYWx0YXJnZXRibGVuZGluZzpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgX2hhc3RyYW5zZm9ybWhpZXJhcmNoeTpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgX2xlZnRmZWV0Ym90dG9taGVpZ2h0Om51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgX3JpZ2h0ZmVldGJvdHRvbWhlaWdodDpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIF9ydW50aW1lY29udHJvbGxlcjpzdHJpbmcgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9leGVjdXRlZDpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgX2NoZWNrZXJzOkJBQllMT04uVHJhbnNpdGlvbkNoZWNrID0gbmV3IEJBQllMT04uVHJhbnNpdGlvbkNoZWNrKCk7XG4gICAgICAgIHByaXZhdGUgX3NvdXJjZTpzdHJpbmcgPSBcIlwiO1xuICAgICAgICBwcml2YXRlIF9tYWNoaW5lOmFueSA9IG51bGw7XG5cbiAgICAgICAgcHJpdmF0ZSBfZGVsdGFQb3NpdGlvbjpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgcHJpdmF0ZSBfZGVsdGFSb3RhdGlvbjpCQUJZTE9OLlF1YXRlcm5pb24gPSBuZXcgQkFCWUxPTi5RdWF0ZXJuaW9uKDAsMCwwLDEpO1xuICAgICAgICBwcml2YXRlIF9kZWx0YUFuZ2xlWTpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIF9wb3NpdGlvbldlaWdodDpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgX3Jvb3RCb25lV2VpZ2h0OmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBfcm90YXRpb25XZWlnaHQ6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIF9yb290UXVhdFdlaWdodDpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgX3Bvc2l0aW9uSG9sZGVyOkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICBwcml2YXRlIF9yb290Qm9uZUhvbGRlcjpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgcHJpdmF0ZSBfcm90YXRpb25Ib2xkZXI6QkFCWUxPTi5RdWF0ZXJuaW9uID0gbmV3IEJBQllMT04uUXVhdGVybmlvbigwLDAsMCwxKTtcbiAgICAgICAgcHJpdmF0ZSBfcm9vdFF1YXRIb2xkZXI6QkFCWUxPTi5RdWF0ZXJuaW9uID0gbmV3IEJBQllMT04uUXVhdGVybmlvbigwLDAsMCwxKTtcbiAgICAgICAgcHJpdmF0ZSBfcm9vdE1vdGlvbk1hdHJpeDpCQUJZTE9OLk1hdHJpeCA9IEJBQllMT04uTWF0cml4Llplcm8oKTtcbiAgICAgICAgcHJpdmF0ZSBfcm9vdE1vdGlvblNjYWxpbmc6QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHByaXZhdGUgX3Jvb3RNb3Rpb25Sb3RhdGlvbjpCQUJZTE9OLlF1YXRlcm5pb24gPSBuZXcgQkFCWUxPTi5RdWF0ZXJuaW9uKDAsMCwwLDEpO1xuICAgICAgICBwcml2YXRlIF9yb290TW90aW9uUG9zaXRpb246QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHByaXZhdGUgX2xhc3RNb3Rpb25Sb3RhdGlvbjpCQUJZTE9OLlF1YXRlcm5pb24gPSBuZXcgQkFCWUxPTi5RdWF0ZXJuaW9uKDAsMCwwLDEpO1xuICAgICAgICBwcml2YXRlIF9sYXN0TW90aW9uUG9zaXRpb246QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHByaXZhdGUgX3F1YXRSb3RhdGlvbkRpZmY6QkFCWUxPTi5RdWF0ZXJuaW9uID0gbmV3IEJBQllMT04uUXVhdGVybmlvbigwLDAsMCwxKTtcbiAgICAgICAgcHJpdmF0ZSBfcXVhdFJvdGF0ZVZlY3RvcjpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgcHJpdmF0ZSBfZGlydHlNb3Rpb25NYXRyaXg6YW55ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfZGlydHlCbGVuZGVyTWF0cml4OmFueSA9IG51bGw7XG4gICAgICAgIC8vcHJpdmF0ZSBfYm9keU9yaWVudGF0aW9uQW5nbGVZOm51bWJlciA9IDA7XG5cbiAgICAgICAgcHJpdmF0ZSBfdGFyZ2V0UG9zaXRpb246QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHByaXZhdGUgX3RhcmdldFJvdGF0aW9uOkJBQllMT04uUXVhdGVybmlvbiA9IG5ldyBCQUJZTE9OLlF1YXRlcm5pb24oMCwwLDAsMSk7XG4gICAgICAgIHByaXZhdGUgX3RhcmdldFNjYWxpbmc6QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygxLDEsMSk7XG4gICAgICAgIHByaXZhdGUgX3VwZGF0ZU1hdHJpeDpCQUJZTE9OLk1hdHJpeCA9IEJBQllMT04uTWF0cml4Llplcm8oKTtcbiAgICAgICAgcHJpdmF0ZSBfYmxlbmRlck1hdHJpeDpCQUJZTE9OLk1hdHJpeCA9IEJBQllMT04uTWF0cml4Llplcm8oKTtcbiAgICAgICAgcHJpdmF0ZSBfYmxlbmRXZWlnaHRzOkJBQllMT04uQmxlbmRpbmdXZWlnaHRzID0gbmV3IEJBQllMT04uQmxlbmRpbmdXZWlnaHRzKCk7XG5cbiAgICAgICAgcHJpdmF0ZSBfZGF0YTpNYXA8c3RyaW5nLCBCQUJZTE9OLk1hY2hpbmVTdGF0ZT4gPSBuZXcgTWFwPHN0cmluZywgQkFCWUxPTi5NYWNoaW5lU3RhdGU+KCk7XG4gICAgICAgIHByaXZhdGUgX2FuaW1zOk1hcDxzdHJpbmcsIEJBQllMT04uQW5pbWF0aW9uR3JvdXA+ID0gbmV3IE1hcDxzdHJpbmcsIEJBQllMT04uQW5pbWF0aW9uR3JvdXA+KCk7XG4gICAgICAgIHByaXZhdGUgX251bWJlcnM6TWFwPHN0cmluZywgbnVtYmVyPiA9IG5ldyBNYXAoKTtcbiAgICAgICAgcHJpdmF0ZSBfYm9vbGVhbnM6TWFwPHN0cmluZywgYm9vbGVhbj4gPSBuZXcgTWFwKCk7XG4gICAgICAgIHByaXZhdGUgX3RyaWdnZXJzOk1hcDxzdHJpbmcsIGJvb2xlYW4+ID0gbmV3IE1hcCgpO1xuICAgICAgICBwcml2YXRlIF9wYXJhbWV0ZXJzOk1hcDxzdHJpbmcsIEJBQllMT04uQW5pbWF0b3JQYXJhbWV0ZXJUeXBlPiA9IG5ldyBNYXA8c3RyaW5nLCBCQUJZTE9OLkFuaW1hdG9yUGFyYW1ldGVyVHlwZT4oKTtcbiAgICAgICAgXG4gICAgICAgIHB1YmxpYyBzcGVlZFJhdGlvOm51bWJlciA9IDEuMDtcbiAgICAgICAgcHVibGljIGFwcGx5Um9vdE1vdGlvbiA9IGZhbHNlO1xuICAgICAgICBwdWJsaWMgZW5hYmxlQW5pbWF0aW9uOmJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBwdWJsaWMgaGFzUm9vdE1vdGlvbigpOmJvb2xlYW4geyByZXR1cm4gdGhpcy5faGFzcm9vdG1vdGlvbiB9XG4gICAgICAgIHB1YmxpYyBnZXRBbmltYXRpb25UaW1lKCk6bnVtYmVyIHsgcmV0dXJuIHRoaXMuX2ZyYW1ldGltZTsgfVxuICAgICAgICBwdWJsaWMgZ2V0RGVsdGFQb3NpdGlvbigpOkJBQllMT04uVmVjdG9yMyB7IHJldHVybiB0aGlzLl9kZWx0YVBvc2l0aW9uOyB9XG4gICAgICAgIHB1YmxpYyBnZXREZWx0YVJvdGF0aW9uKCk6QkFCWUxPTi5RdWF0ZXJuaW9uIHsgcmV0dXJuIHRoaXMuX2RlbHRhUm90YXRpb247IH1cbiAgICAgICAgcHVibGljIGdldFJ1bnRpbWVDb250cm9sbGVyKCk6c3RyaW5nIHsgcmV0dXJuIHRoaXMuX3J1bnRpbWVjb250cm9sbGVyOyB9XG4gICAgICAgIHByb3RlY3RlZCBtX2F2YXRhck1hc2s6TWFwPHN0cmluZywgbnVtYmVyPiA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBtX2RlZmF1bHRHcm91cDpCQUJZTE9OLkFuaW1hdGlvbkdyb3VwID0gbnVsbDtcbiAgICAgICAgcHJvdGVjdGVkIG1fYW5pbWF0aW9uVGFyZ2V0czpCQUJZTE9OLlRhcmdldGVkQW5pbWF0aW9uW10gPSBudWxsO1xuICAgICAgICBcbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlKCk6IHZvaWQgeyB0aGlzLmF3YWtlU3RhdGVNYWNoaW5lKCk7IH1cbiAgICAgICAgcHJvdGVjdGVkIGxhdGUoKTogdm9pZCB7IHRoaXMubGF0ZVN0YXRlTWFjaGluZSgpOyB9XG4gICAgICAgIHByb3RlY3RlZCBkZXN0cm95KCk6IHZvaWQgeyB0aGlzLmRlc3Ryb3lTdGF0ZU1hY2hpbmUoKTsgfVxuXG4gICAgICAgIC8qKiBSZWdpc3RlciBoYW5kbGVyIHRoYXQgaXMgdHJpZ2dlcmVkIHdoZW4gdGhlIGFuaW1hdGlvbiBpayBzZXR1cCBoYXMgYmVlbiB0cmlnZ2VyZWQgKi9cbiAgICAgICAgcHVibGljIG9uQW5pbWF0aW9uSUtPYnNlcnZhYmxlID0gbmV3IEJBQllMT04uT2JzZXJ2YWJsZTxudW1iZXI+KCk7XG4gICAgICAgIC8qKiBSZWdpc3RlciBoYW5kbGVyIHRoYXQgaXMgdHJpZ2dlcmVkIHdoZW4gdGhlIGFuaW1hdGlvbiBlbmQgaGFzIGJlZW4gdHJpZ2dlcmVkICovXG4gICAgICAgIHB1YmxpYyBvbkFuaW1hdGlvbkVuZE9ic2VydmFibGUgPSBuZXcgQkFCWUxPTi5PYnNlcnZhYmxlPG51bWJlcj4oKTtcbiAgICAgICAgLyoqIFJlZ2lzdGVyIGhhbmRsZXIgdGhhdCBpcyB0cmlnZ2VyZWQgd2hlbiB0aGUgYW5pbWF0aW9uIGxvb3AgaGFzIGJlZW4gdHJpZ2dlcmVkICovXG4gICAgICAgIHB1YmxpYyBvbkFuaW1hdGlvbkxvb3BPYnNlcnZhYmxlID0gbmV3IEJBQllMT04uT2JzZXJ2YWJsZTxudW1iZXI+KCk7XG4gICAgICAgIC8qKiBSZWdpc3RlciBoYW5kbGVyIHRoYXQgaXMgdHJpZ2dlcmVkIHdoZW4gdGhlIGFuaW1hdGlvbiBldmVudCBoYXMgYmVlbiB0cmlnZ2VyZWQgKi9cbiAgICAgICAgcHVibGljIG9uQW5pbWF0aW9uRXZlbnRPYnNlcnZhYmxlID0gbmV3IEJBQllMT04uT2JzZXJ2YWJsZTxCQUJZTE9OLklBbmltYXRvckV2ZW50PigpO1xuICAgICAgICAvKiogUmVnaXN0ZXIgaGFuZGxlciB0aGF0IGlzIHRyaWdnZXJlZCB3aGVuIHRoZSBhbmltYXRpb24gZnJhbWUgaGFzIGJlZW4gdXBkYXRlZCAqL1xuICAgICAgICBwdWJsaWMgb25BbmltYXRpb25VcGRhdGVPYnNlcnZhYmxlID0gbmV3IEJBQllMT04uT2JzZXJ2YWJsZTxCQUJZTE9OLlRyYW5zZm9ybU5vZGU+KCk7XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAvLyBTdGF0ZSBNYWNoaW5lIEZ1bmN0aW9uc1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIFxuICAgICAgICBwdWJsaWMgcGxheUFuaW1hdGlvbihzdGF0ZTpzdHJpbmcsIHRyYW5zaXRpb25EdXJhdGlvbjpudW1iZXIgPSAwLCBhbmltYXRpb25MYXllcjpudW1iZXIgPSAwLCBmcmFtZVJhdGU6bnVtYmVyID0gbnVsbCk6Ym9vbGVhbiB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0OmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9tYWNoaW5lLmxheWVycyAhPSBudWxsICYmIHRoaXMuX21hY2hpbmUubGF5ZXJzLmxlbmd0aCA+IGFuaW1hdGlvbkxheWVyKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGF5ZXI6QkFCWUxPTi5JQW5pbWF0aW9uTGF5ZXIgPSB0aGlzLl9tYWNoaW5lLmxheWVyc1thbmltYXRpb25MYXllcl07XG4gICAgICAgICAgICAgICAgY29uc3QgYmxlbmRGcmFtZVJhdGU6bnVtYmVyID0gKGxheWVyLmFuaW1hdGlvblN0YXRlTWFjaGluZSAhPSBudWxsKSA/IChsYXllci5hbmltYXRpb25TdGF0ZU1hY2hpbmUucmF0ZSB8fCBCQUJZTE9OLkFuaW1hdGlvblN0YXRlLkZQUykgOiBCQUJZTE9OLkFuaW1hdGlvblN0YXRlLkZQUztcbiAgICAgICAgICAgICAgICBjb25zdCBibGVuZGluZ1NwZWVkOm51bWJlciA9ICh0cmFuc2l0aW9uRHVyYXRpb24gPiAwKSA/IEJBQllMT04uVXRpbGl0aWVzLkNvbXB1dGVCbGVuZGluZ1NwZWVkKGZyYW1lUmF0ZSB8fCBibGVuZEZyYW1lUmF0ZSwgdHJhbnNpdGlvbkR1cmF0aW9uKSA6IDA7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDdXJyZW50QW5pbWF0aW9uU3RhdGUobGF5ZXIsIHN0YXRlLCBibGVuZGluZ1NwZWVkKTtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xzLldhcm4oXCJObyBhbmltYXRpb24gc3RhdGUgbGF5ZXJzIG9uIFwiICsgdGhpcy50cmFuc2Zvcm0ubmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAvLyBTdGF0ZSBNYWNoaW5lIEZ1bmN0aW9uc1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgcHVibGljIGdldEJvb2wobmFtZTpzdHJpbmcpOmJvb2xlYW4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Jvb2xlYW5zLmdldChuYW1lKSB8fCBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBwdWJsaWMgc2V0Qm9vbChuYW1lOnN0cmluZywgdmFsdWU6Ym9vbGVhbik6dm9pZCB7XG4gICAgICAgICAgICB0aGlzLl9ib29sZWFucy5zZXQobmFtZSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHB1YmxpYyBnZXRGbG9hdChuYW1lOnN0cmluZyk6ZmxvYXQge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX251bWJlcnMuZ2V0KG5hbWUpIHx8IDA7XG4gICAgICAgIH1cbiAgICAgICAgcHVibGljIHNldEZsb2F0KG5hbWU6c3RyaW5nLCB2YWx1ZTpmbG9hdCk6dm9pZCB7XG4gICAgICAgICAgICB0aGlzLl9udW1iZXJzLnNldChuYW1lLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcHVibGljIGdldEludGVnZXIobmFtZTpzdHJpbmcpOmludCB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbnVtYmVycy5nZXQobmFtZSkgfHwgMDtcbiAgICAgICAgfVxuICAgICAgICBwdWJsaWMgc2V0SW50ZWdlcihuYW1lOnN0cmluZywgdmFsdWU6aW50KTp2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuX251bWJlcnMuc2V0KG5hbWUsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBwdWJsaWMgZ2V0VHJpZ2dlcihuYW1lOnN0cmluZyk6Ym9vbGVhbiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdHJpZ2dlcnMuZ2V0KG5hbWUpIHx8IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHB1YmxpYyBzZXRUcmlnZ2VyKG5hbWU6c3RyaW5nKTp2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuX3RyaWdnZXJzLnNldChuYW1lLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBwdWJsaWMgcmVzZXRUcmlnZ2VyKG5hbWU6c3RyaW5nKTp2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuX3RyaWdnZXJzLnNldChuYW1lLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgcHJpdmF0ZSBnZXRNYWNoaW5lU3RhdGUobmFtZTpzdHJpbmcpOkJBQllMT04uTWFjaGluZVN0YXRlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kYXRhLmdldChuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBwcml2YXRlIHNldE1hY2hpbmVTdGF0ZShuYW1lOnN0cmluZywgdmFsdWU6QkFCWUxPTi5NYWNoaW5lU3RhdGUpOnZvaWQge1xuICAgICAgICAgICAgdGhpcy5fZGF0YS5zZXQobmFtZSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHB1YmxpYyBnZXRDdXJyZW50U3RhdGUobGF5ZXI6bnVtYmVyKTpCQUJZTE9OLk1hY2hpbmVTdGF0ZSB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuX21hY2hpbmUubGF5ZXJzICE9IG51bGwgJiYgdGhpcy5fbWFjaGluZS5sYXllcnMubGVuZ3RoID4gbGF5ZXIpID8gdGhpcy5fbWFjaGluZS5sYXllcnNbbGF5ZXJdLmFuaW1hdGlvblN0YXRlTWFjaGluZSA6IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcHVibGljIGdldEFuaW1hdGlvbkdyb3VwKG5hbWU6c3RyaW5nKTpCQUJZTE9OLkFuaW1hdGlvbkdyb3VwIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hbmltcy5nZXQobmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgcHVibGljIGdldEFuaW1hdGlvbkdyb3VwcygpOk1hcDxzdHJpbmcsIEJBQllMT04uQW5pbWF0aW9uR3JvdXA+e1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FuaW1zO1xuICAgICAgICB9ICAgICAgICBcbiAgICAgICAgcHVibGljIHNldEFuaW1hdGlvbkdyb3Vwcyhncm91cHM6QkFCWUxPTi5BbmltYXRpb25Hcm91cFtdLCByZW1hcFRhcmdldHM6Ym9vbGVhbiA9IGZhbHNlKTp2b2lkIHtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBUT0RPIC0gSGFuZGxlIFJlbWFwIEFuaW1hdGlvbiBUYXJnZXRzXG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKGdyb3VwcyAhPSBudWxsICYmIGdyb3Vwcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYW5pbXMgPSBuZXcgTWFwPHN0cmluZywgQkFCWUxPTi5BbmltYXRpb25Hcm91cD4oKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fYW5pbWF0aW9uVGFyZ2V0cyA9IFtdO1xuICAgICAgICAgICAgICAgIHRoaXMubV9kZWZhdWx0R3JvdXAgPSBncm91cHNbMF07XG4gICAgICAgICAgICAgICAgZ3JvdXBzLmZvckVhY2goKGdyb3VwOkJBQllMT04uQW5pbWF0aW9uR3JvdXApID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWdyb3VwOmFueSA9IGdyb3VwO1xuICAgICAgICAgICAgICAgICAgICB0cnkgeyBncm91cC5zdG9wKCk7IH0gY2F0Y2gge31cbiAgICAgICAgICAgICAgICAgICAgaWYgKGdyb3VwLnRhcmdldGVkQW5pbWF0aW9ucyAhPSBudWxsICYmIGdyb3VwLnRhcmdldGVkQW5pbWF0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cC50YXJnZXRlZEFuaW1hdGlvbnMuZm9yRWFjaCgodGFyZ2V0ZWRBbmltYXRpb24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBOb3RlOiBGb3IgTG9vcCBGYXN0ZXIgVGhhbiBJbmRleE9mXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGluZGV4T2ZUYXJnZXQ6bnVtYmVyID0gLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm1fYW5pbWF0aW9uVGFyZ2V0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tX2FuaW1hdGlvblRhcmdldHNbaV0udGFyZ2V0ID09PSB0YXJnZXRlZEFuaW1hdGlvbi50YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4T2ZUYXJnZXQgPSBpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXhPZlRhcmdldCA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2FuaW1hdGlvblRhcmdldHMucHVzaCh0YXJnZXRlZEFuaW1hdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXRlZEFuaW1hdGlvbi50YXJnZXQubWV0YWRhdGEgPT0gbnVsbCkgdGFyZ2V0ZWRBbmltYXRpb24udGFyZ2V0Lm1ldGFkYXRhID0ge307XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldGVkQW5pbWF0aW9uLnRhcmdldCBpbnN0YW5jZW9mIEJBQllMT04uVHJhbnNmb3JtTm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5VdGlsaXRpZXMuVmFsaWRhdGVUcmFuc2Zvcm1RdWF0ZXJuaW9uKHRhcmdldGVkQW5pbWF0aW9uLnRhcmdldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXllck1peGVyczpCQUJZTE9OLkFuaW1hdGlvbk1peGVyW10gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLl9sYXllcmNvdW50OyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGF5ZXJNaXhlcjpCQUJZTE9OLkFuaW1hdGlvbk1peGVyID0gbmV3IEJBQllMT04uQW5pbWF0aW9uTWl4ZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllck1peGVyLnBvc2l0aW9uQnVmZmVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllck1peGVyLnJvdGF0aW9uQnVmZmVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllck1peGVyLnNjYWxpbmdCdWZmZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyTWl4ZXIub3JpZ2luYWxNYXRyaXggPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyTWl4ZXIuYmxlbmRpbmdGYWN0b3IgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyTWl4ZXIuYmxlbmRpbmdTcGVlZCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJNaXhlci5yb290UG9zaXRpb24gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyTWl4ZXIucm9vdFJvdGF0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllck1peGVycy5wdXNoKGxheWVyTWl4ZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0ZWRBbmltYXRpb24udGFyZ2V0Lm1ldGFkYXRhLm1peGVyID0gbGF5ZXJNaXhlcnM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFyZ2V0ZWRBbmltYXRpb24udGFyZ2V0IGluc3RhbmNlb2YgQkFCWUxPTi5Nb3JwaFRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9ycGhMYXllck1peGVyczpCQUJZTE9OLkFuaW1hdGlvbk1peGVyW10gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLl9sYXllcmNvdW50OyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9ycGhMYXllck1peGVyOkJBQllMT04uQW5pbWF0aW9uTWl4ZXIgPSBuZXcgQkFCWUxPTi5BbmltYXRpb25NaXhlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vcnBoTGF5ZXJNaXhlci5pbmZsdWVuY2VCdWZmZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vcnBoTGF5ZXJNaXhlcnMucHVzaChtb3JwaExheWVyTWl4ZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKDxhbnk+dGFyZ2V0ZWRBbmltYXRpb24udGFyZ2V0KS5tZXRhZGF0YS5taXhlciA9IG1vcnBoTGF5ZXJNaXhlcnM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoYWdyb3VwICE9IG51bGwgJiYgYWdyb3VwLm1ldGFkYXRhICE9IG51bGwgJiYgYWdyb3VwLm1ldGFkYXRhLnVuaXR5ICE9IG51bGwgJiYgYWdyb3VwLm1ldGFkYXRhLnVuaXR5LmNsaXAgIT0gbnVsbCAmJiBhZ3JvdXAubWV0YWRhdGEudW5pdHkuY2xpcCAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYW5pbXMuc2V0KGFncm91cC5tZXRhZGF0YS51bml0eS5jbGlwLCBncm91cCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwdWJsaWMgZ2V0Um9vdE1vdGlvbkFuZ2xlKCk6bnVtYmVyIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWx0YUFuZ2xlWTtcbiAgICAgICAgfVxuICAgICAgICBwdWJsaWMgZ2V0Um9vdE1vdGlvblNwZWVkKCk6bnVtYmVyIHtcbiAgICAgICAgICAgIGNvbnN0IGxlbmd0aDpudW1iZXIgPSB0aGlzLl9kZWx0YVBvc2l0aW9uLmxlbmd0aCgpO1xuICAgICAgICAgICAgcmV0dXJuIChsZW5ndGggPj0gQkFCWUxPTi5BbmltYXRpb25TdGF0ZS5NT1RJT04pID8gbGVuZ3RoIDogMDtcbiAgICAgICAgfVxuICAgICAgICBwdWJsaWMgZ2V0Rm9yd2FyZE1vdmVTcGVlZChhYnNvbHV0ZTpib29sZWFuID0gdHJ1ZSk6bnVtYmVyIHtcbiAgICAgICAgICAgIHJldHVybiBhYnNvbHV0ZSA/IE1hdGguYWJzKHRoaXMuX2RlbHRhUG9zaXRpb24ueikgOiB0aGlzLl9kZWx0YVBvc2l0aW9uLno7XG4gICAgICAgIH1cblxuICAgICAgICAvKiBBbmltYXRpb24gQ29udHJvbGxlciBTdGF0ZSBNYWNoaW5lIEZ1bmN0aW9ucyAqL1xuICAgICAgICBcbiAgICAgICAgcHJpdmF0ZSBhd2FrZVN0YXRlTWFjaGluZSgpOnZvaWQge1xuICAgICAgICAgICAgdGhpcy5tX2FuaW1hdGlvblRhcmdldHMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMubV9kZWZhdWx0R3JvdXAgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5tX2F2YXRhck1hc2sgPSBuZXcgTWFwPHN0cmluZywgbnVtYmVyPigpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIHRoaXMuX21hY2hpbmUgPSB0aGlzLmdldFByb3BlcnR5KFwibWFjaGluZVwiLCB0aGlzLl9tYWNoaW5lKTtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZW1vZGUgPSB0aGlzLmdldFByb3BlcnR5KFwidXBkYXRlbW9kZVwiLCB0aGlzLl91cGRhdGVtb2RlKTtcbiAgICAgICAgICAgIHRoaXMuX2hhc3Jvb3Rtb3Rpb24gPSB0aGlzLmdldFByb3BlcnR5KFwiaGFzcm9vdG1vdGlvblwiLCB0aGlzLl9oYXNyb290bW90aW9uKTtcbiAgICAgICAgICAgIHRoaXMuX3Byb2Nlc3Ntb3Rpb24gPSB0aGlzLmdldFByb3BlcnR5KFwicGFyc2Vyb290bW90aW9uXCIsIHRoaXMuX3Byb2Nlc3Ntb3Rpb24pO1xuICAgICAgICAgICAgdGhpcy5fcnVudGltZWNvbnRyb2xsZXIgPSB0aGlzLmdldFByb3BlcnR5KFwicnVudGltZWNvbnRyb2xsZXJcIiwgdGhpcy5fcnVudGltZWNvbnRyb2xsZXIpO1xuICAgICAgICAgICAgdGhpcy5faGFzdHJhbnNmb3JtaGllcmFyY2h5ID0gdGhpcy5nZXRQcm9wZXJ0eShcImhhc3RyYW5zZm9ybWhpZXJhcmNoeVwiLCB0aGlzLl9oYXN0cmFuc2Zvcm1oaWVyYXJjaHkpO1xuICAgICAgICAgICAgdGhpcy5fbGVmdGZlZXRib3R0b21oZWlnaHQgPSB0aGlzLmdldFByb3BlcnR5KFwibGVmdGZlZXRib3R0b21oZWlnaHRcIiwgdGhpcy5fbGVmdGZlZXRib3R0b21oZWlnaHQpO1xuICAgICAgICAgICAgdGhpcy5fcmlnaHRmZWV0Ym90dG9taGVpZ2h0ID0gdGhpcy5nZXRQcm9wZXJ0eShcInJpZ2h0ZmVldGJvdHRvbWhlaWdodFwiLCB0aGlzLl9yaWdodGZlZXRib3R0b21oZWlnaHQpO1xuICAgICAgICAgICAgdGhpcy5hcHBseVJvb3RNb3Rpb24gPSB0aGlzLmdldFByb3BlcnR5KFwiYXBwbHlyb290bW90aW9uXCIsIHRoaXMuYXBwbHlSb290TW90aW9uKTtcbiAgICAgICAgICAgIHRoaXMuX3NvdXJjZSA9ICh0aGlzLnRyYW5zZm9ybS5tZXRhZGF0YSAhPSBudWxsICYmIHRoaXMudHJhbnNmb3JtLm1ldGFkYXRhLnVuaXR5ICE9IG51bGwgJiYgdGhpcy50cmFuc2Zvcm0ubWV0YWRhdGEudW5pdHkuYW5pbWF0b3IgIT0gbnVsbCAmJiB0aGlzLnRyYW5zZm9ybS5tZXRhZGF0YS51bml0eS5hbmltYXRvciAhPT0gXCJcIikgPyB0aGlzLnRyYW5zZm9ybS5tZXRhZGF0YS51bml0eS5hbmltYXRvciA6IG51bGw7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKHRoaXMuX21hY2hpbmUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9tYWNoaW5lLnNwZWVkICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zcGVlZFJhdGlvID0gdGhpcy5fbWFjaGluZS5zcGVlZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX21hY2hpbmUucGFyYW1ldGVycyAhPSBudWxsICYmIHRoaXMuX21hY2hpbmUucGFyYW1ldGVycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBsaXN0OmFueVtdID0gdGhpcy5fbWFjaGluZS5wYXJhbWV0ZXJzO1xuICAgICAgICAgICAgICAgICAgICBwbGlzdC5mb3JFYWNoKChwYXJhbWV0ZXIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5hbWU6c3RyaW5nID0gcGFyYW1ldGVyLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0eXBlOkJBQllMT04uQW5pbWF0b3JQYXJhbWV0ZXJUeXBlID0gcGFyYW1ldGVyLnR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJ2ZTpib29sZWFuID0gcGFyYW1ldGVyLmN1cnZlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVmYXVsdEZsb2F0Om51bWJlciA9IHBhcmFtZXRlci5kZWZhdWx0RmxvYXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWZhdWx0Qm9vbDpib29sZWFuID0gcGFyYW1ldGVyLmRlZmF1bHRCb29sO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVmYXVsdEludDpudW1iZXIgPSBwYXJhbWV0ZXIuZGVmYXVsdEludDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3BhcmFtZXRlcnMuc2V0KG5hbWUsIHR5cGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IEJBQllMT04uQW5pbWF0b3JQYXJhbWV0ZXJUeXBlLkJvb2wpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEJvb2wobmFtZSwgZGVmYXVsdEJvb2wpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBCQUJZTE9OLkFuaW1hdG9yUGFyYW1ldGVyVHlwZS5GbG9hdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0RmxvYXQobmFtZSwgZGVmYXVsdEZsb2F0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gQkFCWUxPTi5BbmltYXRvclBhcmFtZXRlclR5cGUuSW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRJbnRlZ2VyKG5hbWUsIGRlZmF1bHRJbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBCQUJZTE9OLkFuaW1hdG9yUGFyYW1ldGVyVHlwZS5UcmlnZ2VyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNldFRyaWdnZXIobmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIFByb2Nlc3MgTWFjaGluZSBTdGF0ZSBMYXllcnNcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9tYWNoaW5lLmxheWVycyAhPSBudWxsICYmIHRoaXMuX21hY2hpbmUubGF5ZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbGF5ZXJjb3VudCA9IHRoaXMuX21hY2hpbmUubGF5ZXJzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgLy8gU29ydCBJbiBBc2NlbmRpbmcgT3JkZXJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWFjaGluZS5sYXllcnMuc29ydCgobGVmdCwgcmlnaHQpOiBudW1iZXIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxlZnQuaW5kZXggPCByaWdodC5pbmRleCkgcmV0dXJuIC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxlZnQuaW5kZXggPiByaWdodC5pbmRleCkgcmV0dXJuIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFBhcnNlIFNzdGF0ZSBNYWNoaW5lIExheWVyc1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9tYWNoaW5lLmxheWVycy5mb3JFYWNoKChsYXllcjpCQUJZTE9OLklBbmltYXRpb25MYXllcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2V0IExheWVyIEF2YXRhciBNYXNrIFRyYW5zZm9ybSBQYXRoXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGF5ZXIuYXZhdGFyTWFzayAhPSBudWxsICYmIGxheWVyLmF2YXRhck1hc2sudHJhbnNmb3JtUGF0aHMgIT0gbnVsbCAmJiBsYXllci5hdmF0YXJNYXNrLnRyYW5zZm9ybVBhdGhzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxheWVyLmF2YXRhck1hc2sudHJhbnNmb3JtUGF0aHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2F2YXRhck1hc2suc2V0KGxheWVyLmF2YXRhck1hc2sudHJhbnNmb3JtUGF0aHNbaV0sIGkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX3NvdXJjZSAhPSBudWxsICYmIHRoaXMuX3NvdXJjZSAhPT0gXCJcIiAmJiB0aGlzLnNjZW5lLmFuaW1hdGlvbkdyb3VwcyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbGV0IHNvdXJjZWFuaW1zOkJBQllMT04uQW5pbWF0aW9uR3JvdXBbXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBUT0RPIC0gT3B0aW1pemUgU2VhcmNoaW5nIEdsb2JhbCBBbmltYXRpb24gR3JvdXBzIC0gPz8/XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLmFuaW1hdGlvbkdyb3Vwcy5mb3JFYWNoKChncm91cDpCQUJZTE9OLkFuaW1hdGlvbkdyb3VwKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFncm91cDphbnkgPSBncm91cDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFncm91cCAhPSBudWxsICYmIGFncm91cC5tZXRhZGF0YSAhPSBudWxsICYmIGFncm91cC5tZXRhZGF0YS51bml0eSAhPSBudWxsICYmIGFncm91cC5tZXRhZGF0YS51bml0eS5zb3VyY2UgIT0gbnVsbCAmJiBhZ3JvdXAubWV0YWRhdGEudW5pdHkuc291cmNlICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWdyb3VwLm1ldGFkYXRhLnVuaXR5LnNvdXJjZSA9PT0gdGhpcy5fc291cmNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNvdXJjZWFuaW1zID09IG51bGwpIHNvdXJjZWFuaW1zID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlYW5pbXMucHVzaChncm91cCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoc291cmNlYW5pbXMgIT0gbnVsbCAmJiBzb3VyY2Vhbmltcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0QW5pbWF0aW9uR3JvdXBzKHNvdXJjZWFuaW1zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgLy8gTWFwIFN0YXRlIE1hY2hpbmUgVHJhY2tzIChBbmltYXRpb24gR3JvdXBzKVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmICh0aGlzLl9tYWNoaW5lICE9IG51bGwgJiYgdGhpcy5fbWFjaGluZS5zdGF0ZXMgIT0gbnVsbCAmJiB0aGlzLl9tYWNoaW5lLnN0YXRlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWFjaGluZS5zdGF0ZXMuZm9yRWFjaCgoc3RhdGU6QkFCWUxPTi5NYWNoaW5lU3RhdGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlICE9IG51bGwgJiYgc3RhdGUubmFtZSAhPSBudWxsICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXR1cFRyZWVCcmFuY2hlcyhzdGF0ZS5ibGVuZHRyZWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRNYWNoaW5lU3RhdGUoc3RhdGUubmFtZSwgc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBERUJVRzogRHVtcCBTdGF0ZSBNYWNoaW5lIERlYnVnIEluZm9ybWF0aW9uXG4gICAgICAgICAgICAvLyBjb25zb2xlLndhcm4oXCIqKiogQW5pbWF0aW9uIFN0YXRlIE1hY2hpbmU6IFwiICsgdGhpcy50cmFuc2Zvcm0ubmFtZSk7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgbGF0ZVN0YXRlTWFjaGluZShkZWx0YVRpbWU6bnVtYmVyID0gbnVsbCk6dm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZXhlY3V0ZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZXhlY3V0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9tYWNoaW5lLmxheWVycyAhPSBudWxsICYmIHRoaXMuX21hY2hpbmUubGF5ZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWFjaGluZS5sYXllcnMuZm9yRWFjaCgobGF5ZXI6QkFCWUxPTi5JQW5pbWF0aW9uTGF5ZXIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Q3VycmVudEFuaW1hdGlvblN0YXRlKGxheWVyLCBsYXllci5lbnRyeSwgMCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmVuYWJsZUFuaW1hdGlvbiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZyYW1lRGVsdGFUaW1lOm51bWJlciA9IGRlbHRhVGltZSB8fCB0aGlzLmdldERlbHRhU2Vjb25kcygpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQW5pbWF0aW9uU3RhdGUoZnJhbWVEZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQW5pbWF0aW9uQ3VydmVzKGZyYW1lRGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUFuaW1hdGlvblRhcmdldHMoZnJhbWVEZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9uQW5pbWF0aW9uVXBkYXRlT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uQW5pbWF0aW9uVXBkYXRlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcy50cmFuc2Zvcm0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcml2YXRlIGRlc3Ryb3lTdGF0ZU1hY2hpbmUoKTp2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuX2RhdGEgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fYW5pbXMgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fbnVtYmVycyA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9ib29sZWFucyA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl90cmlnZ2VycyA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9wYXJhbWV0ZXJzID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX2NoZWNrZXJzID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX21hY2hpbmUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5vbkFuaW1hdGlvbklLT2JzZXJ2YWJsZS5jbGVhcigpO1xuICAgICAgICAgICAgdGhpcy5vbkFuaW1hdGlvbklLT2JzZXJ2YWJsZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLm9uQW5pbWF0aW9uRW5kT2JzZXJ2YWJsZS5jbGVhcigpO1xuICAgICAgICAgICAgdGhpcy5vbkFuaW1hdGlvbkVuZE9ic2VydmFibGUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5vbkFuaW1hdGlvbkxvb3BPYnNlcnZhYmxlLmNsZWFyKCk7XG4gICAgICAgICAgICB0aGlzLm9uQW5pbWF0aW9uTG9vcE9ic2VydmFibGUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5vbkFuaW1hdGlvbkV2ZW50T2JzZXJ2YWJsZS5jbGVhcigpO1xuICAgICAgICAgICAgdGhpcy5vbkFuaW1hdGlvbkV2ZW50T2JzZXJ2YWJsZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLm9uQW5pbWF0aW9uVXBkYXRlT2JzZXJ2YWJsZS5jbGVhcigpO1xuICAgICAgICAgICAgdGhpcy5vbkFuaW1hdGlvblVwZGF0ZU9ic2VydmFibGUgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLyogQW5pbWF0aW9uIENvbnRyb2xsZXIgUHJpdmF0ZSBVcGRhdGUgRnVuY3Rpb25zICovXG5cbiAgICAgICAgcHJpdmF0ZSB1cGRhdGVBbmltYXRpb25TdGF0ZShkZWx0YVRpbWU6bnVtYmVyKTp2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9tYWNoaW5lLmxheWVycyAhPSBudWxsICYmIHRoaXMuX21hY2hpbmUubGF5ZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYWNoaW5lLmxheWVycy5mb3JFYWNoKChsYXllcjpCQUJZTE9OLklBbmltYXRpb25MYXllcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoZWNrU3RhdGVNYWNoaW5lKGxheWVyLCBkZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByaXZhdGUgdXBkYXRlQW5pbWF0aW9uQ3VydmVzKGRlbHRhVGltZTpudW1iZXIpOnZvaWQge1xuICAgICAgICAgICAgLy8gVE9ETyAtIFVwZGF0ZSBDdXN0b20gQW5pbWF0aW9uIEN1cnZlcyAoQW5pbWF0aW9uIEV2ZW50IERpc3BhdGNoZXIpXG4gICAgICAgIH1cbiAgICAgICAgcHJpdmF0ZSB1cGRhdGVBbmltYXRpb25UYXJnZXRzKGRlbHRhVGltZTpudW1iZXIpIDp2b2lkIHtcbiAgICAgICAgICAgIC8vdGhpcy5fYm9keU9yaWVudGF0aW9uQW5nbGVZID0gMDtcbiAgICAgICAgICAgIGlmICh0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vdGhpcy5fYm9keU9yaWVudGF0aW9uQW5nbGVZID0gdGhpcy50cmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uLnRvRXVsZXJBbmdsZXMoKS55OyAvLyBUT0RPIC0gT1BUSU1JWkUgVEhJU1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnRyYW5zZm9ybS5yb3RhdGlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy90aGlzLl9ib2R5T3JpZW50YXRpb25BbmdsZVkgPSB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvbi55O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX21hY2hpbmUubGF5ZXJzICE9IG51bGwgJiYgdGhpcy5fbWFjaGluZS5sYXllcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX21hY2hpbmUubGF5ZXJzLmZvckVhY2goKGxheWVyOkJBQllMT04uSUFuaW1hdGlvbkxheWVyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgICAgIGlmIChsYXllci5pbmRleCA9PT0gMCkgdGhpcy5fZnJhbWV0aW1lID0gbGF5ZXIuYW5pbWF0aW9uVGltZTsgICAvLyBOb3RlOiBVcGRhdGUgTWFzdGVyIEFuaW1hdGlvbiBGcmFtZSBUaW1lXG4gICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgICAgIGlmIChsYXllci5hbmltYXRpb25TdGF0ZU1hY2hpbmUgIT0gbnVsbCAmJiBsYXllci5hbmltYXRpb25TdGF0ZU1hY2hpbmUuYmxlbmR0cmVlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXllci5pS1Bhc3MgPT09IHRydWUgJiYgdGhpcy5vbkFuaW1hdGlvbklLT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25BbmltYXRpb25JS09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGxheWVyLmluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxheWVyU3RhdGU6QkFCWUxPTi5NYWNoaW5lU3RhdGUgPSBsYXllci5hbmltYXRpb25TdGF0ZU1hY2hpbmU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGF5ZXJTdGF0ZS50eXBlID09PSBCQUJZTE9OLk1vdGlvblR5cGUuQ2xpcCAmJiBsYXllclN0YXRlLnBsYXllZCAhPT0gLTEpIGxheWVyU3RhdGUucGxheWVkICs9IGRlbHRhVGltZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXllclN0YXRlLmJsZW5kdHJlZS5jaGlsZHJlbiAhPSBudWxsICYmIGxheWVyU3RhdGUuYmxlbmR0cmVlLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmltYXJ5QmxlbmRUcmVlOkJBQllMT04uSUJsZW5kVHJlZUNoaWxkID0gbGF5ZXJTdGF0ZS5ibGVuZHRyZWUuY2hpbGRyZW5bMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByaW1hcnlCbGVuZFRyZWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGF5ZXJTdGF0ZS5ibGVuZHRyZWUuYmxlbmRUeXBlID09IEJBQllMT04uQmxlbmRUcmVlVHlwZS5DbGlwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhbmltYXRpb25UcmFjazpCQUJZTE9OLkFuaW1hdGlvbkdyb3VwID0gcHJpbWFyeUJsZW5kVHJlZS50cmFjaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbmltYXRpb25UcmFjayAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZnJhbWVSYXRpbzpudW1iZXIgPSAoQkFCWUxPTi5BbmltYXRpb25TdGF0ZS5USU1FIC8gYW5pbWF0aW9uVHJhY2sudG8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1vdGlvbiBDbGlwIEFuaW1hdGlvbiBUaW1lbGluZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyLmFuaW1hdGlvbk5vcm1hbCA9IChsYXllci5hbmltYXRpb25UaW1lIC8gQkFCWUxPTi5BbmltYXRpb25TdGF0ZS5USU1FKTsgICAgICAgIC8vIE5vdGU6IE5vcm1hbGl6ZSBMYXllciBGcmFtZSBUaW1lXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWxpZGF0ZVRpbWU6bnVtYmVyID0gKGxheWVyLmFuaW1hdGlvbk5vcm1hbCA+IDAuOTkpID8gMSA6IGxheWVyLmFuaW1hdGlvbk5vcm1hbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmb3JtYXR0ZWRUaW1lOm51bWJlciA9IE1hdGgucm91bmQodmFsaWRhdGVUaW1lICogMTAwKSAvIDEwMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXllclN0YXRlLnNwZWVkIDwgMCkgbGF5ZXIuYW5pbWF0aW9uTm9ybWFsID0gKDEgLSBsYXllci5hbmltYXRpb25Ob3JtYWwpOyAgICAgIC8vIE5vdGU6IFJldmVyc2UgTm9ybWFsaXplZCBGcmFtZSBUaW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYW5pbWF0aW9uRnJhbWVUaW1lOm51bWJlciA9IChhbmltYXRpb25UcmFjay50byAqIGxheWVyLmFuaW1hdGlvbk5vcm1hbCk7ICAgICAgLy8gTm90ZTogRGVub3JtYWxpemUgQW5pbWF0aW9uIEZyYW1lIFRpbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBsZXQgYWRkaXRpdmVyZWZlcmVuY2Vwb3NlY2xpcDpudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxldCBhZGRpdGl2ZXJlZmVyZW5jZXBvc2V0aW1lOm51bWJlciA9IDAuMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBsZXQgaGFzYWRkaXRpdmVyZWZlcmVuY2Vwb3NlOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBsZXQgc3RhcnR0aW1lOm51bWJlciA9IDAuMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBsZXQgc3RvcHRpbWU6bnVtYmVyID0gMC4wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxldCBtaXJyb3I6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBsZXZlbDpudW1iZXIgPSAwLjA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGxvb3B0aW1lOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbG9vcGJsZW5kOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY3ljbGVvZmZzZXQ6bnVtYmVyID0gMC4wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBoZWlnaHRmcm9tZmVldDpib29sZWFuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG9yaWVudGF0aW9ub2Zmc2V0eTpudW1iZXIgPSAwLjA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGtlZXBvcmlnaW5hbG9yaWVudGF0aW9uOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQga2VlcG9yaWdpbmFscG9zaXRpb254ejpib29sZWFuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGtlZXBvcmlnaW5hbHBvc2l0aW9ueTpib29sZWFuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGxvb3BibGVuZG9yaWVudGF0aW9uOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbG9vcGJsZW5kcG9zaXRpb255OmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbG9vcGJsZW5kcG9zaXRpb254ejpib29sZWFuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWdyb3VwOmFueSA9IGFuaW1hdGlvblRyYWNrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhZ3JvdXAubWV0YWRhdGEgIT0gbnVsbCAmJiBhZ3JvdXAubWV0YWRhdGEudW5pdHkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWdyb3VwLm1ldGFkYXRhLnVuaXR5LnNldHRpbmdzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldmVsID0gKGFncm91cC5tZXRhZGF0YS51bml0eS5zZXR0aW5ncy5sZXZlbCAhPSBudWxsKSA/IGFncm91cC5tZXRhZGF0YS51bml0eS5zZXR0aW5ncy5sZXZlbCA6IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb29wdGltZSA9IChhZ3JvdXAubWV0YWRhdGEudW5pdHkuc2V0dGluZ3MubG9vcHRpbWUgIT0gbnVsbCkgPyBhZ3JvdXAubWV0YWRhdGEudW5pdHkuc2V0dGluZ3MubG9vcHRpbWUgOiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvb3BibGVuZCA9IChhZ3JvdXAubWV0YWRhdGEudW5pdHkuc2V0dGluZ3MubG9vcGJsZW5kICE9IG51bGwpID8gYWdyb3VwLm1ldGFkYXRhLnVuaXR5LnNldHRpbmdzLmxvb3BibGVuZCA6IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3ljbGVvZmZzZXQgPSAoYWdyb3VwLm1ldGFkYXRhLnVuaXR5LnNldHRpbmdzLmN5Y2xlb2Zmc2V0ICE9IG51bGwpID8gYWdyb3VwLm1ldGFkYXRhLnVuaXR5LnNldHRpbmdzLmN5Y2xlb2Zmc2V0IDogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodGZyb21mZWV0ID0gKGFncm91cC5tZXRhZGF0YS51bml0eS5zZXR0aW5ncy5oZWlnaHRmcm9tZmVldCAhPSBudWxsKSA/IGFncm91cC5tZXRhZGF0YS51bml0eS5zZXR0aW5ncy5oZWlnaHRmcm9tZmVldCA6IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZW50YXRpb25vZmZzZXR5ID0gKGFncm91cC5tZXRhZGF0YS51bml0eS5zZXR0aW5ncy5vcmllbnRhdGlvbm9mZnNldHkgIT0gbnVsbCkgPyBhZ3JvdXAubWV0YWRhdGEudW5pdHkuc2V0dGluZ3Mub3JpZW50YXRpb25vZmZzZXR5IDogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtlZXBvcmlnaW5hbG9yaWVudGF0aW9uID0gKGFncm91cC5tZXRhZGF0YS51bml0eS5zZXR0aW5ncy5rZWVwb3JpZ2luYWxvcmllbnRhdGlvbiAhPSBudWxsKSA/IGFncm91cC5tZXRhZGF0YS51bml0eS5zZXR0aW5ncy5rZWVwb3JpZ2luYWxvcmllbnRhdGlvbiA6IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2VlcG9yaWdpbmFscG9zaXRpb254eiA9IChhZ3JvdXAubWV0YWRhdGEudW5pdHkuc2V0dGluZ3Mua2VlcG9yaWdpbmFscG9zaXRpb254eiAhPSBudWxsKSA/IGFncm91cC5tZXRhZGF0YS51bml0eS5zZXR0aW5ncy5rZWVwb3JpZ2luYWxwb3NpdGlvbnh6IDogZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZWVwb3JpZ2luYWxwb3NpdGlvbnkgPSAoYWdyb3VwLm1ldGFkYXRhLnVuaXR5LnNldHRpbmdzLmtlZXBvcmlnaW5hbHBvc2l0aW9ueSAhPSBudWxsKSA/IGFncm91cC5tZXRhZGF0YS51bml0eS5zZXR0aW5ncy5rZWVwb3JpZ2luYWxwb3NpdGlvbnkgOiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvb3BibGVuZG9yaWVudGF0aW9uID0gKGFncm91cC5tZXRhZGF0YS51bml0eS5zZXR0aW5ncy5sb29wYmxlbmRvcmllbnRhdGlvbiAhPSBudWxsKSA/IGFncm91cC5tZXRhZGF0YS51bml0eS5zZXR0aW5ncy5sb29wYmxlbmRvcmllbnRhdGlvbiA6IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9vcGJsZW5kcG9zaXRpb255ID0gKGFncm91cC5tZXRhZGF0YS51bml0eS5zZXR0aW5ncy5sb29wYmxlbmRwb3NpdGlvbnkgIT0gbnVsbCkgPyBhZ3JvdXAubWV0YWRhdGEudW5pdHkuc2V0dGluZ3MubG9vcGJsZW5kcG9zaXRpb255IDogZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb29wYmxlbmRwb3NpdGlvbnh6ID0gKGFncm91cC5tZXRhZGF0YS51bml0eS5zZXR0aW5ncy5sb29wYmxlbmRwb3NpdGlvbnh6ICE9IG51bGwpID8gYWdyb3VwLm1ldGFkYXRhLnVuaXR5LnNldHRpbmdzLmxvb3BibGVuZHBvc2l0aW9ueHogOiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVbml0eSBJbnZlcnRzIFJvb3QgTW90aW9uIEFuaW1hdGlvbiBPZmZzZXRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZW50YXRpb25vZmZzZXR5ID0gQkFCWUxPTi5Ub29scy5Ub1JhZGlhbnMob3JpZW50YXRpb25vZmZzZXR5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmllbnRhdGlvbm9mZnNldHkgKj0gLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV2ZWwgKj0gLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxheWVyLmFuaW1hdGlvblRpbWUgPj0gQkFCWUxPTi5BbmltYXRpb25TdGF0ZS5USU1FKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyLmFuaW1hdGlvbkZpcnN0UnVuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyLmFuaW1hdGlvbkxvb3BGcmFtZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsb29wdGltZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub25BbmltYXRpb25Mb29wT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25BbmltYXRpb25Mb29wT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMobGF5ZXIuaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxheWVyLmFuaW1hdGlvbkVuZEZyYW1lID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyLmFuaW1hdGlvbkVuZEZyYW1lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vbkFuaW1hdGlvbkVuZE9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkFuaW1hdGlvbkVuZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGxheWVyLmluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxheWVyLmFuaW1hdGlvbkZpcnN0UnVuID09PSB0cnVlIHx8IGxvb3B0aW1lID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvblRyYWNrLnRhcmdldGVkQW5pbWF0aW9ucy5mb3JFYWNoKCh0YXJnZXRlZEFuaW06QkFCWUxPTi5UYXJnZXRlZEFuaW1hdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldGVkQW5pbS50YXJnZXQgaW5zdGFuY2VvZiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjbGlwVGFyZ2V0OkJBQllMT04uVHJhbnNmb3JtTm9kZSA9IHRhcmdldGVkQW5pbS50YXJnZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxheWVyLmluZGV4ID09PSAwIHx8IGxheWVyLmF2YXRhck1hc2sgPT0gbnVsbCB8fCB0aGlzLmZpbHRlclRhcmdldEF2YXRhck1hc2sobGF5ZXIsIGNsaXBUYXJnZXQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldFJvb3RCb25lOmJvb2xlYW4gPSAoY2xpcFRhcmdldC5tZXRhZGF0YSAhPSBudWxsICYmIGNsaXBUYXJnZXQubWV0YWRhdGEudW5pdHkgIT0gbnVsbCAmJiBjbGlwVGFyZ2V0Lm1ldGFkYXRhLnVuaXR5LnJvb3Rib25lICE9IG51bGwpID8gY2xpcFRhcmdldC5tZXRhZGF0YS51bml0eS5yb290Ym9uZSA6IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2xpcFRhcmdldC5tZXRhZGF0YSAhPSBudWxsICYmIGNsaXBUYXJnZXQubWV0YWRhdGEubWl4ZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2xpcFRhcmdldE1peGVyOkJBQllMT04uQW5pbWF0aW9uTWl4ZXIgPSBjbGlwVGFyZ2V0Lm1ldGFkYXRhLm1peGVyW2xheWVyLmluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjbGlwVGFyZ2V0TWl4ZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXRlZEFuaW0uYW5pbWF0aW9uLnRhcmdldFByb3BlcnR5ID09PSBcInBvc2l0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGFyZ2V0UG9zaXRpb24gPSBCQUJZTE9OLlV0aWxpdGllcy5TYW1wbGVBbmltYXRpb25WZWN0b3IzKHRhcmdldGVkQW5pbS5hbmltYXRpb24sIGFuaW1hdGlvbkZyYW1lVGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBSb290IE1vdGlvbiAoUG9zaXRpb24pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXRSb290Qm9uZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcG9zaXRpb25XZWlnaHQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uSG9sZGVyLnNldCgwLDAsMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9yb290Qm9uZVdlaWdodCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcm9vdEJvbmVIb2xkZXIuc2V0KDAsMCwwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBcHBseSBSb290IE1vdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFwcGx5Um9vdE1vdGlvbiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsb29wYmxlbmRwb3NpdGlvbnkgPT09IHRydWUgJiYgbG9vcGJsZW5kcG9zaXRpb254eiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9wb3NpdGlvbldlaWdodCA9IHRydWU7ICAgICAgICAvLyBCYWtlIFhZWiBJbnRvIFBvc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcG9zaXRpb25Ib2xkZXIuc2V0KHRoaXMuX3RhcmdldFBvc2l0aW9uLngsICh0aGlzLl90YXJnZXRQb3NpdGlvbi55ICsgbGV2ZWwpLCB0aGlzLl90YXJnZXRQb3NpdGlvbi56KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxvb3BibGVuZHBvc2l0aW9ueSA9PT0gZmFsc2UgJiYgbG9vcGJsZW5kcG9zaXRpb254eiA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcm9vdEJvbmVXZWlnaHQgPSB0cnVlOyAgICAgICAgLy8gVXNlIFhZWiBBcyBSb290IE1vdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9yb290Qm9uZUhvbGRlci5zZXQodGhpcy5fdGFyZ2V0UG9zaXRpb24ueCwgKHRoaXMuX3RhcmdldFBvc2l0aW9uLnkgKyBsZXZlbCksIHRoaXMuX3RhcmdldFBvc2l0aW9uLnopO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobG9vcGJsZW5kcG9zaXRpb255ID09PSB0cnVlICYmIGxvb3BibGVuZHBvc2l0aW9ueHogPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uV2VpZ2h0ID0gdHJ1ZTsgICAgICAgIC8vIEJha2UgWSBJbnRvIFBvc2UgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uSG9sZGVyLnNldCgwLCAodGhpcy5fdGFyZ2V0UG9zaXRpb24ueSArIGxldmVsKSwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3Jvb3RCb25lV2VpZ2h0ID0gdHJ1ZTsgICAgICAgIC8vIFVzZSBYWiBBcyBSb290IE1vdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9yb290Qm9uZUhvbGRlci5zZXQodGhpcy5fdGFyZ2V0UG9zaXRpb24ueCwgMCwgdGhpcy5fdGFyZ2V0UG9zaXRpb24ueik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsb29wYmxlbmRwb3NpdGlvbnh6ID09PSB0cnVlICYmIGxvb3BibGVuZHBvc2l0aW9ueSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcG9zaXRpb25XZWlnaHQgPSB0cnVlOyAgICAgICAgLy8gQmFrZSBYWiBJbnRvIFBvc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcG9zaXRpb25Ib2xkZXIuc2V0KHRoaXMuX3RhcmdldFBvc2l0aW9uLngsIDAsIHRoaXMuX3RhcmdldFBvc2l0aW9uLnopO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9yb290Qm9uZVdlaWdodCA9IHRydWU7ICAgICAgICAvLyBVc2UgWSBBcyBSb290IE1vdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9yb290Qm9uZUhvbGRlci5zZXQoMCwgKHRoaXMuX3RhcmdldFBvc2l0aW9uLnkgKyBsZXZlbCksIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3Byb2Nlc3Ntb3Rpb24gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcG9zaXRpb25XZWlnaHQgPSB0cnVlOyAgICAgICAgLy8gQmFrZSBZIEludG8gUG9zZSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcG9zaXRpb25Ib2xkZXIuc2V0KDAsICh0aGlzLl90YXJnZXRQb3NpdGlvbi55ICsgbGV2ZWwpLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcm9vdEJvbmVXZWlnaHQgPSB0cnVlOyAgICAgICAgLy8gWmVybyBYWiBJbi1QbGFjZSBNb3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcm9vdEJvbmVIb2xkZXIuc2V0KDAsIDAsIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uV2VpZ2h0ID0gdHJ1ZTsgICAgICAgIC8vIEJha2UgWFlaIE9yaWdpbmFsIE1vdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9wb3NpdGlvbkhvbGRlci5zZXQodGhpcy5fdGFyZ2V0UG9zaXRpb24ueCwgKHRoaXMuX3RhcmdldFBvc2l0aW9uLnkgKyBsZXZlbCksIHRoaXMuX3RhcmdldFBvc2l0aW9uLnopO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJha2UgUG9zaXRpb24gSG9sZGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fcG9zaXRpb25XZWlnaHQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2xpcFRhcmdldE1peGVyLnBvc2l0aW9uQnVmZmVyID09IG51bGwpIGNsaXBUYXJnZXRNaXhlci5wb3NpdGlvbkJ1ZmZlciA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVXRpbGl0aWVzLkJsZW5kVmVjdG9yM1ZhbHVlKGNsaXBUYXJnZXRNaXhlci5wb3NpdGlvbkJ1ZmZlciwgdGhpcy5fcG9zaXRpb25Ib2xkZXIsIDEuMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBCYWtlIFJvb3QgQm9uZSBIb2xkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9yb290Qm9uZVdlaWdodCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjbGlwVGFyZ2V0TWl4ZXIucm9vdFBvc2l0aW9uID09IG51bGwpIGNsaXBUYXJnZXRNaXhlci5yb290UG9zaXRpb24gPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlV0aWxpdGllcy5CbGVuZFZlY3RvcjNWYWx1ZShjbGlwVGFyZ2V0TWl4ZXIucm9vdFBvc2l0aW9uLCB0aGlzLl9yb290Qm9uZUhvbGRlciwgMS4wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJha2UgTm9ybWFsIFBvc2UgUG9zaXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjbGlwVGFyZ2V0TWl4ZXIucG9zaXRpb25CdWZmZXIgPT0gbnVsbCkgY2xpcFRhcmdldE1peGVyLnBvc2l0aW9uQnVmZmVyID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlV0aWxpdGllcy5CbGVuZFZlY3RvcjNWYWx1ZShjbGlwVGFyZ2V0TWl4ZXIucG9zaXRpb25CdWZmZXIsIHRoaXMuX3RhcmdldFBvc2l0aW9uLCAxLjApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0YXJnZXRlZEFuaW0uYW5pbWF0aW9uLnRhcmdldFByb3BlcnR5ID09PSBcInJvdGF0aW9uUXVhdGVybmlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3RhcmdldFJvdGF0aW9uID0gQkFCWUxPTi5VdGlsaXRpZXMuU2FtcGxlQW5pbWF0aW9uUXVhdGVybmlvbih0YXJnZXRlZEFuaW0uYW5pbWF0aW9uLCBhbmltYXRpb25GcmFtZVRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBIYW5kbGUgUm9vdCBNb3Rpb24gKFJvdGF0aW9uKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0Um9vdEJvbmUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3JvdGF0aW9uV2VpZ2h0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9yb3RhdGlvbkhvbGRlci5zZXQoMCwwLDAsMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9yb290UXVhdFdlaWdodCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcm9vdFF1YXRIb2xkZXIuc2V0KDAsMCwwLDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyAtIE9QVElNSVpFIFRPIEVVTEVSIEFOR0xFU1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXVsZXJBbmdsZTpCQUJZTE9OLlZlY3RvcjMgPSB0aGlzLl90YXJnZXRSb3RhdGlvbi50b0V1bGVyQW5nbGVzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvcmllbnRhdGlvbkFuZ2xlWTpudW1iZXIgPSBldWxlckFuZ2xlLnk7IC8vKGtlZXBvcmlnaW5hbG9yaWVudGF0aW9uID09PSB0cnVlKSA/IGV1bGVyQW5nbGUueSA6IHRoaXMuX2JvZHlPcmllbnRhdGlvbkFuZ2xlWTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBcHBseSBSb290IE1vdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFwcGx5Um9vdE1vdGlvbiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsb29wYmxlbmRvcmllbnRhdGlvbiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9yb3RhdGlvbldlaWdodCA9IHRydWU7ICAgICAgICAvLyBCYWtlIFhZWiBJbnRvIFBvc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5RdWF0ZXJuaW9uLkZyb21FdWxlckFuZ2xlc1RvUmVmKGV1bGVyQW5nbGUueCwgKG9yaWVudGF0aW9uQW5nbGVZICsgb3JpZW50YXRpb25vZmZzZXR5KSwgZXVsZXJBbmdsZS56LCB0aGlzLl9yb3RhdGlvbkhvbGRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcm90YXRpb25XZWlnaHQgPSB0cnVlOyAgICAgICAgLy8gQmFrZSBYWiBJbnRvIFBvc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5RdWF0ZXJuaW9uLkZyb21FdWxlckFuZ2xlc1RvUmVmKGV1bGVyQW5nbGUueCwgMCwgZXVsZXJBbmdsZS56LCB0aGlzLl9yb3RhdGlvbkhvbGRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3Jvb3RRdWF0V2VpZ2h0ID0gdHJ1ZTsgICAgICAgIC8vIFVzZSBZIEFzIFJvb3QgTW90aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uUXVhdGVybmlvbi5Gcm9tRXVsZXJBbmdsZXNUb1JlZigwLCAob3JpZW50YXRpb25BbmdsZVkgKyBvcmllbnRhdGlvbm9mZnNldHkpLCAwLCB0aGlzLl9yb290UXVhdEhvbGRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9yb3RhdGlvbldlaWdodCA9IHRydWU7ICAgICAgICAgICAgLy8gQmFrZSBYWVogSW50byBQb3NlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5RdWF0ZXJuaW9uLkZyb21FdWxlckFuZ2xlc1RvUmVmKGV1bGVyQW5nbGUueCwgKG9yaWVudGF0aW9uQW5nbGVZICsgb3JpZW50YXRpb25vZmZzZXR5KSwgZXVsZXJBbmdsZS56LCB0aGlzLl9yb3RhdGlvbkhvbGRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBCYWtlIFJvdGF0aW9uIEhvbGRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3JvdGF0aW9uV2VpZ2h0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNsaXBUYXJnZXRNaXhlci5yb3RhdGlvbkJ1ZmZlciA9PSBudWxsKSBjbGlwVGFyZ2V0TWl4ZXIucm90YXRpb25CdWZmZXIgPSBuZXcgQkFCWUxPTi5RdWF0ZXJuaW9uKDAsMCwwLDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVXRpbGl0aWVzLkJsZW5kUXVhdGVybmlvblZhbHVlKGNsaXBUYXJnZXRNaXhlci5yb3RhdGlvbkJ1ZmZlciwgdGhpcy5fcm90YXRpb25Ib2xkZXIsIDEuMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBCYWtlIFJvb3QgQm9uZSBSb3RhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3Jvb3RRdWF0V2VpZ2h0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNsaXBUYXJnZXRNaXhlci5yb290Um90YXRpb24gPT0gbnVsbCkgY2xpcFRhcmdldE1peGVyLnJvb3RSb3RhdGlvbiA9IG5ldyBCQUJZTE9OLlF1YXRlcm5pb24oMCwwLDAsMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5VdGlsaXRpZXMuQmxlbmRRdWF0ZXJuaW9uVmFsdWUoY2xpcFRhcmdldE1peGVyLnJvb3RSb3RhdGlvbiwgdGhpcy5fcm9vdFF1YXRIb2xkZXIsIDEuMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBCYWtlIE5vcm1hbCBQb3NlIFJvdGF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2xpcFRhcmdldE1peGVyLnJvdGF0aW9uQnVmZmVyID09IG51bGwpIGNsaXBUYXJnZXRNaXhlci5yb3RhdGlvbkJ1ZmZlciA9IG5ldyBCQUJZTE9OLlF1YXRlcm5pb24oMCwwLDAsMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlV0aWxpdGllcy5CbGVuZFF1YXRlcm5pb25WYWx1ZShjbGlwVGFyZ2V0TWl4ZXIucm90YXRpb25CdWZmZXIsIHRoaXMuX3RhcmdldFJvdGF0aW9uLCAxLjApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0YXJnZXRlZEFuaW0uYW5pbWF0aW9uLnRhcmdldFByb3BlcnR5ID09PSBcInNjYWxpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl90YXJnZXRTY2FsaW5nID0gQkFCWUxPTi5VdGlsaXRpZXMuU2FtcGxlQW5pbWF0aW9uVmVjdG9yMyh0YXJnZXRlZEFuaW0uYW5pbWF0aW9uLCBhbmltYXRpb25GcmFtZVRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2xpcFRhcmdldE1peGVyLnNjYWxpbmdCdWZmZXIgPT0gbnVsbCkgY2xpcFRhcmdldE1peGVyLnNjYWxpbmdCdWZmZXIgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDEsMSwxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5VdGlsaXRpZXMuQmxlbmRWZWN0b3IzVmFsdWUoY2xpcFRhcmdldE1peGVyLnNjYWxpbmdCdWZmZXIsIHRoaXMuX3RhcmdldFNjYWxpbmcsIDEuMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0YXJnZXRlZEFuaW0udGFyZ2V0IGluc3RhbmNlb2YgQkFCWUxPTi5Nb3JwaFRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vcnBoVGFyZ2V0OmFueSA9IHRhcmdldGVkQW5pbS50YXJnZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vcnBoVGFyZ2V0Lm1ldGFkYXRhICE9IG51bGwgJiYgbW9ycGhUYXJnZXQubWV0YWRhdGEubWl4ZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtb3JwaFRhcmdldE1peGVyOkJBQllMT04uQW5pbWF0aW9uTWl4ZXIgPSBtb3JwaFRhcmdldC5tZXRhZGF0YS5taXhlcltsYXllci5pbmRleF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXRlZEFuaW0uYW5pbWF0aW9uLnRhcmdldFByb3BlcnR5ID09PSBcImluZmx1ZW5jZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmbG9hdFZhbHVlID0gQkFCWUxPTi5VdGlsaXRpZXMuU2FtcGxlQW5pbWF0aW9uRmxvYXQodGFyZ2V0ZWRBbmltLmFuaW1hdGlvbiwgYW5pbWF0aW9uRnJhbWVUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb3JwaFRhcmdldE1peGVyLmluZmx1ZW5jZUJ1ZmZlciA9PSBudWxsKSBtb3JwaFRhcmdldE1peGVyLmluZmx1ZW5jZUJ1ZmZlciA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3JwaFRhcmdldE1peGVyLmluZmx1ZW5jZUJ1ZmZlciA9IEJBQllMT04uVXRpbGl0aWVzLkJsZW5kRmxvYXRWYWx1ZShtb3JwaFRhcmdldE1peGVyLmluZmx1ZW5jZUJ1ZmZlciwgZmxvYXRWYWx1ZSwgMS4wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFZhbGlkYXRlIExheWVyIEFuaW1hdGlvbiBFdmVudHMgKFRPRE8gLSBQYXNzIExheWVyIEluZGV4IFByb3BlcnRpZXMgVG8gT2JzZXJ2ZXJzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXllci5hbmltYXRpb25TdGF0ZU1hY2hpbmUuZXZlbnRzICE9IG51bGwgJiYgbGF5ZXIuYW5pbWF0aW9uU3RhdGVNYWNoaW5lLmV2ZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyLmFuaW1hdGlvblN0YXRlTWFjaGluZS5ldmVudHMuZm9yRWFjaCgoYW5pbWF0b3JFdmVudDpCQUJZTE9OLklBbmltYXRvckV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYW5pbWF0b3JFdmVudC50aW1lID09PSBmb3JtYXR0ZWRUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJNT1RJT04gQ0xJUCBBTklNIEVWRU5UOiBcIiArIGFuaW1hdG9yRXZlbnQuZnVuY3Rpb24gKyBcIiAtLT4gIEFUOiBcIiArIGZvcm1hdHRlZFRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gLSBFbnN1cmUgT25seSBGaXJlZCBPZmYgT25jZSBQZXIgTG9vcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZJWE1FIC0gY29uc29sZS5sb2coXCJNb3Rpb24gQ2xpcCBBbmltYXRpb24gRXZlbnQ6IFwiICsgYW5pbWF0b3JFdmVudC50aW1lICsgXCIgPj4gXCIgKyBhbmltYXRvckV2ZW50LmNsaXAgKyBcIiA+PiBcIiArIGFuaW1hdG9yRXZlbnQuZnVuY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9uQW5pbWF0aW9uRXZlbnRPYnNlcnZhYmxlLmhhc09ic2VydmVycygpID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25BbmltYXRpb25FdmVudE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGFuaW1hdG9yRXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN0ZXAgTW90aW9uIENsaXAgQW5pbWF0aW9uIFRpbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGF5ZXIuYW5pbWF0aW9uTG9vcEZyYW1lID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyLmFuaW1hdGlvblRpbWUgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllci5hbmltYXRpb25Ob3JtYWwgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllci5hbmltYXRpb25Mb29wRnJhbWUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllci5hbmltYXRpb25UaW1lICs9IChkZWx0YVRpbWUgKiBmcmFtZVJhdGlvICogTWF0aC5hYnMobGF5ZXJTdGF0ZS5zcGVlZCkgKiBNYXRoLmFicyh0aGlzLnNwZWVkUmF0aW8pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXIuYW5pbWF0aW9uVGltZSA9IEJBQllMT04uU2NhbGFyLkNsYW1wKGxheWVyLmFuaW1hdGlvblRpbWUsIDAsIEJBQllMT04uQW5pbWF0aW9uU3RhdGUuVElNRSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLndhcm4oXCI+Pj4gTm8gTW90aW9uIENsaXAgQW5pbWF0aW9uIFRyYWNrIEZvdW5kIEZvcjogXCIgKyB0aGlzLnRyYW5zZm9ybS5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuX2JsZW5kTWVzc2FnZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9ibGVuZFdlaWdodHMucHJpbWFyeSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9ibGVuZFdlaWdodHMuc2Vjb25kYXJ5ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNjYWxlZFdlaWdodExpc3Q6QkFCWUxPTi5JQmxlbmRUcmVlQ2hpbGRbXSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJpbWFyeUJsZW5kVHJlZTpCQUJZTE9OLklCbGVuZFRyZWUgPSBsYXllclN0YXRlLmJsZW5kdHJlZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFyc2VUcmVlQnJhbmNoZXMobGF5ZXIsIHByaW1hcnlCbGVuZFRyZWUsIDEuMCwgc2NhbGVkV2VpZ2h0TGlzdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmcmFtZVJhdGlvOm51bWJlciA9IHRoaXMuY29tcHV0ZVdlaWdodGVkRnJhbWVSYXRpbyhzY2FsZWRXZWlnaHRMaXN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQmxlbmQgVHJlZSBBbmltYXRpb24gVGltZWxpbmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXIuYW5pbWF0aW9uTm9ybWFsID0gKGxheWVyLmFuaW1hdGlvblRpbWUgLyBCQUJZTE9OLkFuaW1hdGlvblN0YXRlLlRJTUUpOyAgICAgICAgLy8gTm90ZTogTm9ybWFsaXplIExheWVyIEZyYW1lIFRpbWVcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsaWRhdGVUaW1lOm51bWJlciA9IChsYXllci5hbmltYXRpb25Ob3JtYWwgPiAwLjk5KSA/IDEgOiBsYXllci5hbmltYXRpb25Ob3JtYWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmb3JtYXR0ZWRUaW1lOm51bWJlciA9IE1hdGgucm91bmQodmFsaWRhdGVUaW1lICogMTAwKSAvIDEwMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxheWVyU3RhdGUuc3BlZWQgPCAwKSBsYXllci5hbmltYXRpb25Ob3JtYWwgPSAoMSAtIGxheWVyLmFuaW1hdGlvbk5vcm1hbCk7ICAgICAgLy8gTm90ZTogUmV2ZXJzZSBOb3JtYWxpemVkIEZyYW1lIFRpbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJsZW5kaW5nTm9ybWFsVGltZTpudW1iZXIgPSBsYXllci5hbmltYXRpb25Ob3JtYWw7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vdGU6IERlbm9ybWFsaXplIEFuaW1hdGlvbiBGcmFtZSBUaW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXllci5hbmltYXRpb25UaW1lID49IEJBQllMT04uQW5pbWF0aW9uU3RhdGUuVElNRSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyLmFuaW1hdGlvbkxvb3BGcmFtZSA9IHRydWU7IC8vIE5vdGU6IE5vIExvb3AgT3IgRW5kIEV2ZW50cyBGb3IgQmxlbmQgVHJlZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWFzdGVyQW5pbWF0aW9uVHJhY2s6QkFCWUxPTi5BbmltYXRpb25Hcm91cCA9IChzY2FsZWRXZWlnaHRMaXN0ICE9IG51bGwgJiYgc2NhbGVkV2VpZ2h0TGlzdC5sZW5ndGggPiAwICYmIHNjYWxlZFdlaWdodExpc3RbMF0udHJhY2sgIT0gbnVsbCkgPyBzY2FsZWRXZWlnaHRMaXN0WzBdLnRyYWNrIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXN0ZXJBbmltYXRpb25UcmFjayAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0Q291bnQ6bnVtYmVyID0gbWFzdGVyQW5pbWF0aW9uVHJhY2sudGFyZ2V0ZWRBbmltYXRpb25zLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCB0YXJnZXRJbmRleDpudW1iZXIgPSAwOyB0YXJnZXRJbmRleCA8IHRhcmdldENvdW50OyB0YXJnZXRJbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hc3RlckFuaW1pbWF0aW9uOkJBQllMT04uVGFyZ2V0ZWRBbmltYXRpb24gPSBtYXN0ZXJBbmltYXRpb25UcmFjay50YXJnZXRlZEFuaW1hdGlvbnNbdGFyZ2V0SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWFzdGVyQW5pbWltYXRpb24udGFyZ2V0IGluc3RhbmNlb2YgQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBibGVuZFRhcmdldDpCQUJZTE9OLlRyYW5zZm9ybU5vZGUgPSBtYXN0ZXJBbmltaW1hdGlvbi50YXJnZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGF5ZXIuaW5kZXggPT09IDAgfHwgbGF5ZXIuYXZhdGFyTWFzayA9PSBudWxsIHx8IHRoaXMuZmlsdGVyVGFyZ2V0QXZhdGFyTWFzayhsYXllciwgYmxlbmRUYXJnZXQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0Um9vdEJvbmU6Ym9vbGVhbiA9IChibGVuZFRhcmdldC5tZXRhZGF0YSAhPSBudWxsICYmIGJsZW5kVGFyZ2V0Lm1ldGFkYXRhLnVuaXR5ICE9IG51bGwgJiYgYmxlbmRUYXJnZXQubWV0YWRhdGEudW5pdHkucm9vdGJvbmUgIT0gbnVsbCkgPyBibGVuZFRhcmdldC5tZXRhZGF0YS51bml0eS5yb290Ym9uZSA6IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChibGVuZFRhcmdldC5tZXRhZGF0YSAhPSBudWxsICYmIGJsZW5kVGFyZ2V0Lm1ldGFkYXRhLm1peGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5pdGlhbHRhcmdldGJsZW5kaW5nID0gdHJ1ZTsgLy8gTm90ZTogUmVzZXQgRmlyc3QgVGFyZ2V0IEJsZW5kaW5nIEJ1ZmZlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBibGVuZFRhcmdldE1peGVyOkJBQllMT04uQW5pbWF0aW9uTWl4ZXIgPSBibGVuZFRhcmdldC5tZXRhZGF0YS5taXhlcltsYXllci5pbmRleF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQmxlbmRhYmxlVGFyZ2V0cyhkZWx0YVRpbWUsIGxheWVyLCBwcmltYXJ5QmxlbmRUcmVlLCBtYXN0ZXJBbmltaW1hdGlvbiwgdGFyZ2V0SW5kZXgsIGJsZW5kVGFyZ2V0TWl4ZXIsIGJsZW5kaW5nTm9ybWFsVGltZSwgdGFyZ2V0Um9vdEJvbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS53YXJuKFwiPj4+IE5vIEJsZW5kIFRyZWUgTWFzdGVyIEFuaW1hdGlvbiBUcmFjayBGb3VuZCBGb3I6IFwiICsgdGhpcy50cmFuc2Zvcm0ubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFZhbGlkYXRlIExheWVyIEFuaW1hdGlvbiBFdmVudHMgKFRPRE8gLSBQYXNzIExheWVyIEluZGV4IEFuZCBDbGlwIEJsZW5kZWQgV2VpZ2h0IFByb3BlcnRpZXMgVG8gT2JzZXJ2ZXJzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGF5ZXIuYW5pbWF0aW9uU3RhdGVNYWNoaW5lLmV2ZW50cyAhPSBudWxsICYmIGxheWVyLmFuaW1hdGlvblN0YXRlTWFjaGluZS5ldmVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyLmFuaW1hdGlvblN0YXRlTWFjaGluZS5ldmVudHMuZm9yRWFjaCgoYW5pbWF0b3JFdmVudDpCQUJZTE9OLklBbmltYXRvckV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbmltYXRvckV2ZW50LnRpbWUgPT09IGZvcm1hdHRlZFRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiQkxFTkQgVFJFRSBBTklNIEVWRU5UOiBcIiArIGFuaW1hdG9yRXZlbnQuZnVuY3Rpb24gKyBcIiAtLT4gIEFUOiBcIiArIGZvcm1hdHRlZFRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyAtIEVuc3VyZSBPbmx5IEZpcmVkIE9mZiBPbmNlIFBlciBMb29wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGSVhNRSAtIGNvbnNvbGUubG9nKFwiQmxlbmQgVHJlZSBBbmltYXRpb24gRXZlbnQ6IFwiICsgYW5pbWF0b3JFdmVudC50aW1lICsgXCIgPj4gXCIgKyBhbmltYXRvckV2ZW50LmNsaXAgKyBcIiA+PiBcIiArIGFuaW1hdG9yRXZlbnQuZnVuY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub25BbmltYXRpb25FdmVudE9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uQW5pbWF0aW9uRXZlbnRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhhbmltYXRvckV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdGVwIEJsZW5kIFRyZWUgQW5pbWF0aW9uIFRpbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxheWVyLmFuaW1hdGlvbkxvb3BGcmFtZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyLmFuaW1hdGlvblRpbWUgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyLmFuaW1hdGlvbk5vcm1hbCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXIuYW5pbWF0aW9uTG9vcEZyYW1lID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyLmFuaW1hdGlvblRpbWUgKz0gKGRlbHRhVGltZSAqIGZyYW1lUmF0aW8gKiBNYXRoLmFicyhsYXllclN0YXRlLnNwZWVkKSAqIE1hdGguYWJzKHRoaXMuc3BlZWRSYXRpbykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyLmFuaW1hdGlvblRpbWUgPSBCQUJZTE9OLlNjYWxhci5DbGFtcChsYXllci5hbmltYXRpb25UaW1lLCAwLCBCQUJZTE9OLkFuaW1hdGlvblN0YXRlLlRJTUUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZmluYWxpemVBbmltYXRpb25UYXJnZXRzKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBwcml2YXRlIF9ibGVuZE1lc3NhZ2U6c3RyaW5nID0gXCJcIjtcbiAgICAgICAgcHJpdmF0ZSB1cGRhdGVCbGVuZGFibGVUYXJnZXRzKGRlbHRhVGltZTpudW1iZXIsIGxheWVyOkJBQllMT04uSUFuaW1hdGlvbkxheWVyLCB0cmVlOkJBQllMT04uSUJsZW5kVHJlZSwgbWFzdGVyQW5pbWF0aW9uOkJBQllMT04uVGFyZ2V0ZWRBbmltYXRpb24sIHRhcmdldEluZGV4Om51bWJlciwgdGFyZ2V0TWl4ZXI6QkFCWUxPTi5BbmltYXRpb25NaXhlciwgbm9ybWFsaXplZEZyYW1lVGltZTpudW1iZXIsIHRhcmdldFJvb3RCb25lOmJvb2xlYW4pOnZvaWQge1xuICAgICAgICAgICAgaWYgKHRhcmdldE1peGVyICE9IG51bGwgJiYgdHJlZS5jaGlsZHJlbiAhPSBudWxsICYmIHRyZWUuY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0cmVlLmNoaWxkcmVuLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGlsZDpCQUJZTE9OLklCbGVuZFRyZWVDaGlsZCA9IHRyZWUuY2hpbGRyZW5baW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGQud2VpZ2h0ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkLnR5cGUgPT09IEJBQllMT04uTW90aW9uVHlwZS5DbGlwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkLnRyYWNrICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxldCBhZGRpdGl2ZXJlZmVyZW5jZXBvc2VjbGlwOm51bWJlciA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxldCBhZGRpdGl2ZXJlZmVyZW5jZXBvc2V0aW1lOm51bWJlciA9IDAuMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGV0IGhhc2FkZGl0aXZlcmVmZXJlbmNlcG9zZTpib29sZWFuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxldCBzdGFydHRpbWU6bnVtYmVyID0gMC4wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBsZXQgc3RvcHRpbWU6bnVtYmVyID0gMC4wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBsZXQgbWlycm9yOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxldCBsb29wdGltZTpib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBsZXZlbDpudW1iZXIgPSAwLjA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBsb29wYmxlbmQ6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY3ljbGVvZmZzZXQ6bnVtYmVyID0gMC4wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaGVpZ2h0ZnJvbWZlZXQ6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgb3JpZW50YXRpb25vZmZzZXR5Om51bWJlciA9IDAuMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGtlZXBvcmlnaW5hbG9yaWVudGF0aW9uOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGtlZXBvcmlnaW5hbHBvc2l0aW9ueHo6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQga2VlcG9yaWdpbmFscG9zaXRpb255OmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGxvb3BibGVuZG9yaWVudGF0aW9uOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGxvb3BibGVuZHBvc2l0aW9ueTpib29sZWFuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBsb29wYmxlbmRwb3NpdGlvbnh6OmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFncm91cDphbnkgPSBjaGlsZC50cmFjaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFncm91cC5tZXRhZGF0YSAhPSBudWxsICYmIGFncm91cC5tZXRhZGF0YS51bml0eSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWdyb3VwLm1ldGFkYXRhLnVuaXR5LnNldHRpbmdzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXZlbCA9IChhZ3JvdXAubWV0YWRhdGEudW5pdHkuc2V0dGluZ3MubGV2ZWwgIT0gbnVsbCkgPyBhZ3JvdXAubWV0YWRhdGEudW5pdHkuc2V0dGluZ3MubGV2ZWwgOiAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvb3BibGVuZCA9IChhZ3JvdXAubWV0YWRhdGEudW5pdHkuc2V0dGluZ3MubG9vcGJsZW5kICE9IG51bGwpID8gYWdyb3VwLm1ldGFkYXRhLnVuaXR5LnNldHRpbmdzLmxvb3BibGVuZCA6IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN5Y2xlb2Zmc2V0ID0gKGFncm91cC5tZXRhZGF0YS51bml0eS5zZXR0aW5ncy5jeWNsZW9mZnNldCAhPSBudWxsKSA/IGFncm91cC5tZXRhZGF0YS51bml0eS5zZXR0aW5ncy5jeWNsZW9mZnNldCA6IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ZnJvbWZlZXQgPSAoYWdyb3VwLm1ldGFkYXRhLnVuaXR5LnNldHRpbmdzLmhlaWdodGZyb21mZWV0ICE9IG51bGwpID8gYWdyb3VwLm1ldGFkYXRhLnVuaXR5LnNldHRpbmdzLmhlaWdodGZyb21mZWV0IDogZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZW50YXRpb25vZmZzZXR5ID0gKGFncm91cC5tZXRhZGF0YS51bml0eS5zZXR0aW5ncy5vcmllbnRhdGlvbm9mZnNldHkgIT0gbnVsbCkgPyBhZ3JvdXAubWV0YWRhdGEudW5pdHkuc2V0dGluZ3Mub3JpZW50YXRpb25vZmZzZXR5IDogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZWVwb3JpZ2luYWxvcmllbnRhdGlvbiA9IChhZ3JvdXAubWV0YWRhdGEudW5pdHkuc2V0dGluZ3Mua2VlcG9yaWdpbmFsb3JpZW50YXRpb24gIT0gbnVsbCkgPyBhZ3JvdXAubWV0YWRhdGEudW5pdHkuc2V0dGluZ3Mua2VlcG9yaWdpbmFsb3JpZW50YXRpb24gOiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZWVwb3JpZ2luYWxwb3NpdGlvbnh6ID0gKGFncm91cC5tZXRhZGF0YS51bml0eS5zZXR0aW5ncy5rZWVwb3JpZ2luYWxwb3NpdGlvbnh6ICE9IG51bGwpID8gYWdyb3VwLm1ldGFkYXRhLnVuaXR5LnNldHRpbmdzLmtlZXBvcmlnaW5hbHBvc2l0aW9ueHogOiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZWVwb3JpZ2luYWxwb3NpdGlvbnkgPSAoYWdyb3VwLm1ldGFkYXRhLnVuaXR5LnNldHRpbmdzLmtlZXBvcmlnaW5hbHBvc2l0aW9ueSAhPSBudWxsKSA/IGFncm91cC5tZXRhZGF0YS51bml0eS5zZXR0aW5ncy5rZWVwb3JpZ2luYWxwb3NpdGlvbnkgOiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb29wYmxlbmRvcmllbnRhdGlvbiA9IChhZ3JvdXAubWV0YWRhdGEudW5pdHkuc2V0dGluZ3MubG9vcGJsZW5kb3JpZW50YXRpb24gIT0gbnVsbCkgPyBhZ3JvdXAubWV0YWRhdGEudW5pdHkuc2V0dGluZ3MubG9vcGJsZW5kb3JpZW50YXRpb24gOiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb29wYmxlbmRwb3NpdGlvbnkgPSAoYWdyb3VwLm1ldGFkYXRhLnVuaXR5LnNldHRpbmdzLmxvb3BibGVuZHBvc2l0aW9ueSAhPSBudWxsKSA/IGFncm91cC5tZXRhZGF0YS51bml0eS5zZXR0aW5ncy5sb29wYmxlbmRwb3NpdGlvbnkgOiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb29wYmxlbmRwb3NpdGlvbnh6ID0gKGFncm91cC5tZXRhZGF0YS51bml0eS5zZXR0aW5ncy5sb29wYmxlbmRwb3NpdGlvbnh6ICE9IG51bGwpID8gYWdyb3VwLm1ldGFkYXRhLnVuaXR5LnNldHRpbmdzLmxvb3BibGVuZHBvc2l0aW9ueHogOiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVW5pdHkgSW52ZXJ0cyBSb290IE1vdGlvbiBBbmltYXRpb24gT2Zmc2V0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZW50YXRpb25vZmZzZXR5ID0gQkFCWUxPTi5Ub29scy5Ub1JhZGlhbnMob3JpZW50YXRpb25vZmZzZXR5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZW50YXRpb25vZmZzZXR5ICo9IC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXZlbCAqPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuX2JsZW5kTWVzc2FnZSArPSAoXCIgPj4+IFwiICsgY2hpbGQubW90aW9uICsgXCI6IFwiICsgY2hpbGQud2VpZ2h0LnRvRml4ZWQoMikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gLSBHZXQgYmxlbmRhYmxlIGFuaW1hdGlvbiBmcm9tIHRhcmdldCBtYXAgLSA/Pz9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYmxlbmRhYmxlQW5pbTpCQUJZTE9OLlRhcmdldGVkQW5pbWF0aW9uID0gY2hpbGQudHJhY2sudGFyZ2V0ZWRBbmltYXRpb25zW3RhcmdldEluZGV4XTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBibGVuZGFibGVXZWlnaHQ6bnVtYmVyID0gKHRoaXMuX2luaXRpYWx0YXJnZXRibGVuZGluZyA9PT0gdHJ1ZSkgPyAxLjAgOiBwYXJzZUZsb2F0KGNoaWxkLndlaWdodC50b0ZpeGVkKDIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5pdGlhbHRhcmdldGJsZW5kaW5nID0gZmFsc2U7IC8vIE5vdGU6IENsZWFyIEZpcnN0IFRhcmdldCBCbGVuZGluZyBCdWZmZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJsZW5kYWJsZUFuaW0udGFyZ2V0ID09PSBtYXN0ZXJBbmltYXRpb24udGFyZ2V0ICYmIGJsZW5kYWJsZUFuaW0uYW5pbWF0aW9uLnRhcmdldFByb3BlcnR5ID09PSBtYXN0ZXJBbmltYXRpb24uYW5pbWF0aW9uLnRhcmdldFByb3BlcnR5ICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGFkanVzdGVkRnJhbWVUaW1lOm51bWJlciA9IG5vcm1hbGl6ZWRGcmFtZVRpbWU7ICAgICAgICAgICAgICAgICAgICAgLy8gTm90ZTogQWRqdXN0IE5vcm1hbGl6ZWQgRnJhbWUgVGltZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkLnRpbWVzY2FsZSA8IDApIGFkanVzdGVkRnJhbWVUaW1lID0gKDEgLSBhZGp1c3RlZEZyYW1lVGltZSk7ICAgLy8gTm90ZTogUmV2ZXJzZSBOb3JtYWxpemVkIEZyYW1lIFRpbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFuaW1hdGlvbkZyYW1lVGltZTpudW1iZXIgPSAoY2hpbGQudHJhY2sudG8gKiBhZGp1c3RlZEZyYW1lVGltZSk7IC8vIE5vdGU6IERlbm9ybWFsaXplIEFuaW1hdGlvbiBGcmFtZSBUaW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnN0IGFuaW1hdGlvbkZyYW1lVGltZTpudW1iZXIgPSAoTWF0aC5yb3VuZCgoY2hpbGQudHJhY2sudG8gKiBhZGp1c3RlZEZyYW1lVGltZSkgKiAxMDApIC8gMTAwKTsgIC8vIE5vdGU6IERlbm9ybWFsaXplIEFuaW1hdGlvbiBGcmFtZSBUaW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWFzdGVyQW5pbWF0aW9uLmFuaW1hdGlvbi50YXJnZXRQcm9wZXJ0eSA9PT0gXCJwb3NpdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGFyZ2V0UG9zaXRpb24gPSBCQUJZTE9OLlV0aWxpdGllcy5TYW1wbGVBbmltYXRpb25WZWN0b3IzKGJsZW5kYWJsZUFuaW0uYW5pbWF0aW9uLCBhbmltYXRpb25GcmFtZVRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUm9vdCBUcmFuc2Zvcm0gUG9zaXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXRSb290Qm9uZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9wb3NpdGlvbldlaWdodCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9wb3NpdGlvbkhvbGRlci5zZXQoMCwwLDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9yb290Qm9uZVdlaWdodCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9yb290Qm9uZUhvbGRlci5zZXQoMCwwLDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBcHBseSBSb290IE1vdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hcHBseVJvb3RNb3Rpb24gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsb29wYmxlbmRwb3NpdGlvbnkgPT09IHRydWUgJiYgbG9vcGJsZW5kcG9zaXRpb254eiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uV2VpZ2h0ID0gdHJ1ZTsgICAgICAgIC8vIEJha2UgWFlaIEludG8gUG9zZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uSG9sZGVyLnNldCh0aGlzLl90YXJnZXRQb3NpdGlvbi54LCAodGhpcy5fdGFyZ2V0UG9zaXRpb24ueSArIGxldmVsKSwgdGhpcy5fdGFyZ2V0UG9zaXRpb24ueik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxvb3BibGVuZHBvc2l0aW9ueSA9PT0gZmFsc2UgJiYgbG9vcGJsZW5kcG9zaXRpb254eiA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9yb290Qm9uZVdlaWdodCA9IHRydWU7ICAgICAgICAvLyBVc2UgWFlaIEFzIFJvb3QgTW90aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcm9vdEJvbmVIb2xkZXIuc2V0KHRoaXMuX3RhcmdldFBvc2l0aW9uLngsICh0aGlzLl90YXJnZXRQb3NpdGlvbi55ICsgbGV2ZWwpLCB0aGlzLl90YXJnZXRQb3NpdGlvbi56KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobG9vcGJsZW5kcG9zaXRpb255ID09PSB0cnVlICYmIGxvb3BibGVuZHBvc2l0aW9ueHogPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcG9zaXRpb25XZWlnaHQgPSB0cnVlOyAgICAgICAgLy8gQmFrZSBZIEludG8gUG9zZSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9wb3NpdGlvbkhvbGRlci5zZXQoMCwgKHRoaXMuX3RhcmdldFBvc2l0aW9uLnkgKyBsZXZlbCksIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3Jvb3RCb25lV2VpZ2h0ID0gdHJ1ZTsgICAgICAgIC8vIFVzZSBYWiBBcyBSb290IE1vdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3Jvb3RCb25lSG9sZGVyLnNldCh0aGlzLl90YXJnZXRQb3NpdGlvbi54LCAwLCB0aGlzLl90YXJnZXRQb3NpdGlvbi56KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobG9vcGJsZW5kcG9zaXRpb254eiA9PT0gdHJ1ZSAmJiBsb29wYmxlbmRwb3NpdGlvbnkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcG9zaXRpb25XZWlnaHQgPSB0cnVlOyAgICAgICAgLy8gQmFrZSBYWiBJbnRvIFBvc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9wb3NpdGlvbkhvbGRlci5zZXQodGhpcy5fdGFyZ2V0UG9zaXRpb24ueCwgMCwgdGhpcy5fdGFyZ2V0UG9zaXRpb24ueik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcm9vdEJvbmVXZWlnaHQgPSB0cnVlOyAgICAgICAgLy8gVXNlIFkgQXMgUm9vdCBNb3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9yb290Qm9uZUhvbGRlci5zZXQoMCwgKHRoaXMuX3RhcmdldFBvc2l0aW9uLnkgKyBsZXZlbCksIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3Byb2Nlc3Ntb3Rpb24gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9wb3NpdGlvbldlaWdodCA9IHRydWU7ICAgICAgICAvLyBCYWtlIFkgSW50byBQb3NlIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uSG9sZGVyLnNldCgwLCAodGhpcy5fdGFyZ2V0UG9zaXRpb24ueSArIGxldmVsKSwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcm9vdEJvbmVXZWlnaHQgPSB0cnVlOyAgICAgICAgLy8gWmVybyBYWiBJbi1QbGFjZSBNb3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9yb290Qm9uZUhvbGRlci5zZXQoMCwgMCwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uV2VpZ2h0ID0gdHJ1ZTsgICAgICAgIC8vIEJha2UgWFlaIE9yaWdpbmFsIE1vdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uSG9sZGVyLnNldCh0aGlzLl90YXJnZXRQb3NpdGlvbi54LCAodGhpcy5fdGFyZ2V0UG9zaXRpb24ueSArIGxldmVsKSwgdGhpcy5fdGFyZ2V0UG9zaXRpb24ueik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQmFrZSBQb3NpdGlvbiBIb2xkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3Bvc2l0aW9uV2VpZ2h0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0TWl4ZXIucG9zaXRpb25CdWZmZXIgPT0gbnVsbCkgdGFyZ2V0TWl4ZXIucG9zaXRpb25CdWZmZXIgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVXRpbGl0aWVzLkJsZW5kVmVjdG9yM1ZhbHVlKHRhcmdldE1peGVyLnBvc2l0aW9uQnVmZmVyLCB0aGlzLl9wb3NpdGlvbkhvbGRlciwgYmxlbmRhYmxlV2VpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBCYWtlIFJvb3QgQm9uZSBIb2xkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3Jvb3RCb25lV2VpZ2h0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0TWl4ZXIucm9vdFBvc2l0aW9uID09IG51bGwpIHRhcmdldE1peGVyLnJvb3RQb3NpdGlvbiA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5VdGlsaXRpZXMuQmxlbmRWZWN0b3IzVmFsdWUodGFyZ2V0TWl4ZXIucm9vdFBvc2l0aW9uLCB0aGlzLl9yb290Qm9uZUhvbGRlciwgYmxlbmRhYmxlV2VpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJha2UgTm9ybWFsIFBvc2UgUG9zaXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldE1peGVyLnBvc2l0aW9uQnVmZmVyID09IG51bGwpIHRhcmdldE1peGVyLnBvc2l0aW9uQnVmZmVyID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVXRpbGl0aWVzLkJsZW5kVmVjdG9yM1ZhbHVlKHRhcmdldE1peGVyLnBvc2l0aW9uQnVmZmVyLCB0aGlzLl90YXJnZXRQb3NpdGlvbiwgYmxlbmRhYmxlV2VpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1hc3RlckFuaW1hdGlvbi5hbmltYXRpb24udGFyZ2V0UHJvcGVydHkgPT09IFwicm90YXRpb25RdWF0ZXJuaW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl90YXJnZXRSb3RhdGlvbiA9IEJBQllMT04uVXRpbGl0aWVzLlNhbXBsZUFuaW1hdGlvblF1YXRlcm5pb24oYmxlbmRhYmxlQW5pbS5hbmltYXRpb24sIGFuaW1hdGlvbkZyYW1lVGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSb290IFRyYW5zZm9ybSBSb3RhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldFJvb3RCb25lID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3JvdGF0aW9uV2VpZ2h0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3JvdGF0aW9uSG9sZGVyLnNldCgwLDAsMCwwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcm9vdFF1YXRXZWlnaHQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcm9vdFF1YXRIb2xkZXIuc2V0KDAsMCwwLDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBldWxlckFuZ2xlOkJBQllMT04uVmVjdG9yMyA9IHRoaXMuX3RhcmdldFJvdGF0aW9uLnRvRXVsZXJBbmdsZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3JpZW50YXRpb25BbmdsZVk6bnVtYmVyID0gZXVsZXJBbmdsZS55OyAvLyhrZWVwb3JpZ2luYWxvcmllbnRhdGlvbiA9PT0gdHJ1ZSkgPyBldWxlckFuZ2xlLnkgOiB0aGlzLl9ib2R5T3JpZW50YXRpb25BbmdsZVk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFwcGx5IFJvb3QgTW90aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFwcGx5Um9vdE1vdGlvbiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxvb3BibGVuZG9yaWVudGF0aW9uID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcm90YXRpb25XZWlnaHQgPSB0cnVlOyAgICAgICAgLy8gQmFrZSBYWVogSW50byBQb3NlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5RdWF0ZXJuaW9uLkZyb21FdWxlckFuZ2xlc1RvUmVmKGV1bGVyQW5nbGUueCwgKG9yaWVudGF0aW9uQW5nbGVZICsgb3JpZW50YXRpb25vZmZzZXR5KSwgZXVsZXJBbmdsZS56LCB0aGlzLl9yb3RhdGlvbkhvbGRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3JvdGF0aW9uV2VpZ2h0ID0gdHJ1ZTsgICAgICAgIC8vIEJha2UgWFogSW50byBQb3NlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5RdWF0ZXJuaW9uLkZyb21FdWxlckFuZ2xlc1RvUmVmKGV1bGVyQW5nbGUueCwgMCwgZXVsZXJBbmdsZS56LCB0aGlzLl9yb3RhdGlvbkhvbGRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcm9vdFF1YXRXZWlnaHQgPSB0cnVlOyAgICAgICAgLy8gVXNlIFkgQXMgUm9vdCBNb3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlF1YXRlcm5pb24uRnJvbUV1bGVyQW5nbGVzVG9SZWYoMCwgKG9yaWVudGF0aW9uQW5nbGVZICsgb3JpZW50YXRpb25vZmZzZXR5KSwgMCwgdGhpcy5fcm9vdFF1YXRIb2xkZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcm90YXRpb25XZWlnaHQgPSB0cnVlOyAgICAgICAgICAgIC8vIEJha2UgWFlaIEludG8gUG9zZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5RdWF0ZXJuaW9uLkZyb21FdWxlckFuZ2xlc1RvUmVmKGV1bGVyQW5nbGUueCwgKG9yaWVudGF0aW9uQW5nbGVZICsgb3JpZW50YXRpb25vZmZzZXR5KSwgZXVsZXJBbmdsZS56LCB0aGlzLl9yb3RhdGlvbkhvbGRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQmFrZSBSb3RhdGlvbiBIb2xkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3JvdGF0aW9uV2VpZ2h0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0TWl4ZXIucm90YXRpb25CdWZmZXIgPT0gbnVsbCkgdGFyZ2V0TWl4ZXIucm90YXRpb25CdWZmZXIgPSBuZXcgQkFCWUxPTi5RdWF0ZXJuaW9uKDAsMCwwLDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5VdGlsaXRpZXMuQmxlbmRRdWF0ZXJuaW9uVmFsdWUodGFyZ2V0TWl4ZXIucm90YXRpb25CdWZmZXIsIHRoaXMuX3JvdGF0aW9uSG9sZGVyLCBibGVuZGFibGVXZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJha2UgUm9vdCBCb25lIFJvdGF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9yb290UXVhdFdlaWdodCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldE1peGVyLnJvb3RSb3RhdGlvbiA9PSBudWxsKSB0YXJnZXRNaXhlci5yb290Um90YXRpb24gPSBuZXcgQkFCWUxPTi5RdWF0ZXJuaW9uKDAsMCwwLDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5VdGlsaXRpZXMuQmxlbmRRdWF0ZXJuaW9uVmFsdWUodGFyZ2V0TWl4ZXIucm9vdFJvdGF0aW9uLCB0aGlzLl9yb290UXVhdEhvbGRlciwgYmxlbmRhYmxlV2VpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJha2UgTm9ybWFsIFBvc2UgUm90YXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldE1peGVyLnJvdGF0aW9uQnVmZmVyID09IG51bGwpIHRhcmdldE1peGVyLnJvdGF0aW9uQnVmZmVyID0gbmV3IEJBQllMT04uUXVhdGVybmlvbigwLDAsMCwxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5VdGlsaXRpZXMuQmxlbmRRdWF0ZXJuaW9uVmFsdWUodGFyZ2V0TWl4ZXIucm90YXRpb25CdWZmZXIsIHRoaXMuX3RhcmdldFJvdGF0aW9uLCBibGVuZGFibGVXZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWFzdGVyQW5pbWF0aW9uLmFuaW1hdGlvbi50YXJnZXRQcm9wZXJ0eSA9PT0gXCJzY2FsaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl90YXJnZXRTY2FsaW5nID0gQkFCWUxPTi5VdGlsaXRpZXMuU2FtcGxlQW5pbWF0aW9uVmVjdG9yMyhibGVuZGFibGVBbmltLmFuaW1hdGlvbiwgYW5pbWF0aW9uRnJhbWVUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0TWl4ZXIuc2NhbGluZ0J1ZmZlciA9PSBudWxsKSB0YXJnZXRNaXhlci5zY2FsaW5nQnVmZmVyID0gbmV3IEJBQllMT04uVmVjdG9yMygxLDEsMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5VdGlsaXRpZXMuQmxlbmRWZWN0b3IzVmFsdWUodGFyZ2V0TWl4ZXIuc2NhbGluZ0J1ZmZlciwgdGhpcy5fdGFyZ2V0U2NhbGluZywgYmxlbmRhYmxlV2VpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbHMuV2Fybih0cmVlLm5hbWUgKyBcIiAtIFwiICsgY2hpbGQudHJhY2submFtZSAgKyBcIiBibGVuZCB0cmVlIG1pc21hdGNoIChcIiArIHRhcmdldEluZGV4ICsgXCIpOiBcIiArIG1hc3RlckFuaW1hdGlvbi50YXJnZXQubmFtZSArIFwiID4+PiBcIiArIGJsZW5kYWJsZUFuaW0udGFyZ2V0Lm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaGlsZC50eXBlID09PSBCQUJZTE9OLk1vdGlvblR5cGUuVHJlZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQmxlbmRhYmxlVGFyZ2V0cyhkZWx0YVRpbWUsIGxheWVyLCBjaGlsZC5zdWJ0cmVlLCBtYXN0ZXJBbmltYXRpb24sIHRhcmdldEluZGV4LCB0YXJnZXRNaXhlciwgbm9ybWFsaXplZEZyYW1lVGltZSwgdGFyZ2V0Um9vdEJvbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy9pZiAodGFyZ2V0SW5kZXggPT09IDApIEJBQllMT04uVXRpbGl0aWVzLlByaW50VG9TY3JlZW4odGhpcy5fYmxlbmRNZXNzYWdlLCBcInJlZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgZmluYWxpemVBbmltYXRpb25UYXJnZXRzKCk6dm9pZCB7XG4gICAgICAgICAgICB0aGlzLl9kZWx0YUFuZ2xlWSA9IDA7XG4gICAgICAgICAgICB0aGlzLl9kZWx0YVBvc2l0aW9uLnNldCgwLDAsMCk7XG4gICAgICAgICAgICB0aGlzLl9kZWx0YVJvdGF0aW9uLnNldCgwLDAsMCwxKTtcbiAgICAgICAgICAgIHRoaXMuX2RpcnR5TW90aW9uTWF0cml4ID0gbnVsbDtcbiAgICAgICAgICAgIGlmICh0aGlzLm1fYW5pbWF0aW9uVGFyZ2V0cyAhPSBudWxsICYmIHRoaXMubV9hbmltYXRpb25UYXJnZXRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1fYW5pbWF0aW9uVGFyZ2V0cy5mb3JFYWNoKCh0YXJnZXRlZEFuaW06QkFCWUxPTi5UYXJnZXRlZEFuaW1hdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhbmltYXRpb25UYXJnZXQ6YW55ID0gdGFyZ2V0ZWRBbmltLnRhcmdldDtcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIERpcmVjdCBUcmFuc2Zvcm0gVGFyZ2V0cyBGb3IgRWFjaCBMYXllclxuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICBpZiAoYW5pbWF0aW9uVGFyZ2V0Lm1ldGFkYXRhICE9IG51bGwgJiYgYW5pbWF0aW9uVGFyZ2V0Lm1ldGFkYXRhLm1peGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9tYWNoaW5lLmxheWVycyAhPSBudWxsICYmIHRoaXMuX21hY2hpbmUubGF5ZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9ibGVuZGVyTWF0cml4LnJlc2V0KCk7ICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGlydHlCbGVuZGVyTWF0cml4ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9tYWNoaW5lLmxheWVycy5mb3JFYWNoKChsYXllcjpCQUJZTE9OLklBbmltYXRpb25MYXllcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhbmltYXRpb25UYXJnZXRNaXhlcjpCQUJZTE9OLkFuaW1hdGlvbk1peGVyID0gYW5pbWF0aW9uVGFyZ2V0Lm1ldGFkYXRhLm1peGVyW2xheWVyLmluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFuaW1hdGlvblRhcmdldE1peGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbmltYXRpb25UYXJnZXQgaW5zdGFuY2VvZiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBEaXJ0eSBUcmFuc2Zvcm0gTWF0cml4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYW5pbWF0aW9uVGFyZ2V0TWl4ZXIucG9zaXRpb25CdWZmZXIgIT0gbnVsbCB8fCBhbmltYXRpb25UYXJnZXRNaXhlci5yb3RhdGlvbkJ1ZmZlciAhPSBudWxsIHx8IGFuaW1hdGlvblRhcmdldE1peGVyLnNjYWxpbmdCdWZmZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLk1hdHJpeC5Db21wb3NlVG9SZWYoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoYW5pbWF0aW9uVGFyZ2V0TWl4ZXIuc2NhbGluZ0J1ZmZlciB8fCBhbmltYXRpb25UYXJnZXQuc2NhbGluZyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoYW5pbWF0aW9uVGFyZ2V0TWl4ZXIucm90YXRpb25CdWZmZXIgfHwgYW5pbWF0aW9uVGFyZ2V0LnJvdGF0aW9uUXVhdGVybmlvbiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoYW5pbWF0aW9uVGFyZ2V0TWl4ZXIucG9zaXRpb25CdWZmZXIgfHwgYW5pbWF0aW9uVGFyZ2V0LnBvc2l0aW9uKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZU1hdHJpeFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYW5pbWF0aW9uVGFyZ2V0TWl4ZXIuYmxlbmRpbmdTcGVlZCA+IDAuMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFuaW1hdGlvblRhcmdldE1peGVyLmJsZW5kaW5nRmFjdG9yIDw9IDEuMCAmJiBhbmltYXRpb25UYXJnZXRNaXhlci5vcmlnaW5hbE1hdHJpeCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uVGFyZ2V0TWl4ZXIub3JpZ2luYWxNYXRyaXggPSBCQUJZTE9OLk1hdHJpeC5Db21wb3NlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoYW5pbWF0aW9uVGFyZ2V0LnNjYWxpbmcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoYW5pbWF0aW9uVGFyZ2V0LnJvdGF0aW9uUXVhdGVybmlvbiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChhbmltYXRpb25UYXJnZXQucG9zaXRpb24pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbmltYXRpb25UYXJnZXRNaXhlci5ibGVuZGluZ0ZhY3RvciA8PSAxLjAgJiYgYW5pbWF0aW9uVGFyZ2V0TWl4ZXIub3JpZ2luYWxNYXRyaXggIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVXRpbGl0aWVzLkZhc3RNYXRyaXhTbGVycChhbmltYXRpb25UYXJnZXRNaXhlci5vcmlnaW5hbE1hdHJpeCwgdGhpcy5fdXBkYXRlTWF0cml4LCBhbmltYXRpb25UYXJnZXRNaXhlci5ibGVuZGluZ0ZhY3RvciwgdGhpcy5fdXBkYXRlTWF0cml4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25UYXJnZXRNaXhlci5ibGVuZGluZ0ZhY3RvciArPSBhbmltYXRpb25UYXJnZXRNaXhlci5ibGVuZGluZ1NwZWVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVXRpbGl0aWVzLkZhc3RNYXRyaXhTbGVycCh0aGlzLl9ibGVuZGVyTWF0cml4LCB0aGlzLl91cGRhdGVNYXRyaXgsIGxheWVyLmRlZmF1bHRXZWlnaHQsIHRoaXMuX2JsZW5kZXJNYXRyaXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaXJ0eUJsZW5kZXJNYXRyaXggPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25UYXJnZXRNaXhlci5wb3NpdGlvbkJ1ZmZlciA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvblRhcmdldE1peGVyLnJvdGF0aW9uQnVmZmVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uVGFyZ2V0TWl4ZXIuc2NhbGluZ0J1ZmZlciA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIERpcnR5IFJvb3QgTW90aW9uIE1hdHJpeFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFuaW1hdGlvblRhcmdldE1peGVyLnJvb3RQb3NpdGlvbiAhPSBudWxsIHx8IGFuaW1hdGlvblRhcmdldE1peGVyLnJvb3RSb3RhdGlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uTWF0cml4LkNvbXBvc2VUb1JlZihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzLnRyYW5zZm9ybS5zY2FsaW5nKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChhbmltYXRpb25UYXJnZXRNaXhlci5yb290Um90YXRpb24gfHwgdGhpcy50cmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChhbmltYXRpb25UYXJnZXRNaXhlci5yb290UG9zaXRpb24gfHwgdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlTWF0cml4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gLSBNYXkgTmVlZCBTZXBlcmF0ZSBCbGVuZGluZyBTcGVlZCBQcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vdGU6IE1pZ2h0IEZpeCBMYXJnZSBSb290IE1vdGlvbiBEZWx0YSBJc3N1ZSAtID8/P1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYW5pbWF0aW9uVGFyZ2V0TWl4ZXIuYmxlbmRpbmdTcGVlZCA+IDAuMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFuaW1hdGlvblRhcmdldE1peGVyLmJsZW5kaW5nRmFjdG9yIDw9IDEuMCAmJiBhbmltYXRpb25UYXJnZXRNaXhlci5vcmlnaW5hbE1hdHJpeCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uVGFyZ2V0TWl4ZXIub3JpZ2luYWxNYXRyaXggPSBCQUJZTE9OLk1hdHJpeC5Db21wb3NlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAodGhpcy50cmFuc2Zvcm0uc2NhbGluZyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAodGhpcy50cmFuc2Zvcm0ucG9zaXRpb24pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbmltYXRpb25UYXJnZXRNaXhlci5ibGVuZGluZ0ZhY3RvciA8PSAxLjAgJiYgYW5pbWF0aW9uVGFyZ2V0TWl4ZXIub3JpZ2luYWxNYXRyaXggIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVXRpbGl0aWVzLkZhc3RNYXRyaXhTbGVycChhbmltYXRpb25UYXJnZXRNaXhlci5vcmlnaW5hbE1hdHJpeCwgdGhpcy5fdXBkYXRlTWF0cml4LCBhbmltYXRpb25UYXJnZXRNaXhlci5ibGVuZGluZ0ZhY3RvciwgdGhpcy5fdXBkYXRlTWF0cml4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25UYXJnZXRNaXhlci5ibGVuZGluZ0ZhY3RvciArPSBhbmltYXRpb25UYXJnZXRNaXhlci5ibGVuZGluZ1NwZWVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVXRpbGl0aWVzLkZhc3RNYXRyaXhTbGVycCh0aGlzLl9yb290TW90aW9uTWF0cml4LCB0aGlzLl91cGRhdGVNYXRyaXgsIGxheWVyLmRlZmF1bHRXZWlnaHQsIHRoaXMuX3Jvb3RNb3Rpb25NYXRyaXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaXJ0eU1vdGlvbk1hdHJpeCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvblRhcmdldE1peGVyLnJvb3RQb3NpdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvblRhcmdldE1peGVyLnJvb3RSb3RhdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhbmltYXRpb25UYXJnZXQgaW5zdGFuY2VvZiBCQUJZTE9OLk1vcnBoVGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFuaW1hdGlvblRhcmdldE1peGVyLmluZmx1ZW5jZUJ1ZmZlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvblRhcmdldC5pbmZsdWVuY2UgPSBCQUJZTE9OLlNjYWxhci5MZXJwKGFuaW1hdGlvblRhcmdldC5pbmZsdWVuY2UsIGFuaW1hdGlvblRhcmdldE1peGVyLmluZmx1ZW5jZUJ1ZmZlciwgbGF5ZXIuZGVmYXVsdFdlaWdodCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvblRhcmdldE1peGVyLmluZmx1ZW5jZUJ1ZmZlciA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2RpcnR5QmxlbmRlck1hdHJpeCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2JsZW5kZXJNYXRyaXguZGVjb21wb3NlKGFuaW1hdGlvblRhcmdldC5zY2FsaW5nLCBhbmltYXRpb25UYXJnZXQucm90YXRpb25RdWF0ZXJuaW9uLCBhbmltYXRpb25UYXJnZXQucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmICh0aGlzLl9kaXJ0eU1vdGlvbk1hdHJpeCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcm9vdE1vdGlvbk1hdHJpeC5kZWNvbXBvc2UodGhpcy5fcm9vdE1vdGlvblNjYWxpbmcsIHRoaXMuX3Jvb3RNb3Rpb25Sb3RhdGlvbiwgdGhpcy5fcm9vdE1vdGlvblBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fZnJhbWV0aW1lID09PSAwKSB7IFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sYXN0TW90aW9uUG9zaXRpb24uY29weUZyb20odGhpcy5fcm9vdE1vdGlvblBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbGFzdE1vdGlvblJvdGF0aW9uLmNvcHlGcm9tKHRoaXMuX3Jvb3RNb3Rpb25Sb3RhdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFwcGx5Um9vdE1vdGlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBDdXJyZW50IERlbHRhIFBvc2l0aW9uXG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Jvb3RNb3Rpb25Qb3NpdGlvbi5zdWJ0cmFjdFRvUmVmKHRoaXMuX2xhc3RNb3Rpb25Qb3NpdGlvbiwgdGhpcy5fZGVsdGFQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBDdXJyZW50IERlbHRhIFJvdGF0aW9uXG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIEJBQllMT04uVXRpbGl0aWVzLlF1YXRlcm5pb25EaWZmVG9SZWYodGhpcy5fbGFzdE1vdGlvblJvdGF0aW9uLCB0aGlzLl9yb290TW90aW9uUm90YXRpb24sIHRoaXMuX3F1YXRSb3RhdGlvbkRpZmYpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9xdWF0Um90YXRpb25EaWZmLnRvRXVsZXJBbmdsZXNUb1JlZih0aGlzLl9xdWF0Um90YXRlVmVjdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGVsdGFBbmdsZVkgPSB0aGlzLl9xdWF0Um90YXRlVmVjdG9yLnk7XG4gICAgICAgICAgICAgICAgICAgIEJBQllMT04uUXVhdGVybmlvbi5Gcm9tRXVsZXJBbmdsZXNUb1JlZigwLCB0aGlzLl9kZWx0YUFuZ2xlWSAsIDAsIHRoaXMuX2RlbHRhUm90YXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgTGFzdCBSb290IE1vdGlvbiBEZWx0YXNcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbGFzdE1vdGlvblBvc2l0aW9uLmFkZEluUGxhY2UodGhpcy5fZGVsdGFQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xhc3RNb3Rpb25Sb3RhdGlvbi5tdWx0aXBseUluUGxhY2UodGhpcy5fZGVsdGFSb3RhdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByaXZhdGUgY2hlY2tTdGF0ZU1hY2hpbmUobGF5ZXI6QkFCWUxPTi5JQW5pbWF0aW9uTGF5ZXIsIGRlbHRhVGltZTpudW1iZXIpOnZvaWQge1xuICAgICAgICAgICAgdGhpcy5fY2hlY2tlcnMucmVzdWx0ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX2NoZWNrZXJzLm9mZmVzdCA9IDA7XG4gICAgICAgICAgICB0aGlzLl9jaGVja2Vycy5ibGVuZGluZyA9IDA7XG4gICAgICAgICAgICB0aGlzLl9jaGVja2Vycy50cmlnZ2VyZWQgPSBbXTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBDaGVjayBBbmltYXRpb24gU3RhdGUgVHJhbnNpdGlvbnNcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICBpZiAobGF5ZXIuYW5pbWF0aW9uU3RhdGVNYWNoaW5lICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBMb2NhbCBUcmFuc2l0aW9uIENvbmRpdGlvbnNcbiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrU3RhdGVUcmFuc2l0aW9ucyhsYXllciwgbGF5ZXIuYW5pbWF0aW9uU3RhdGVNYWNoaW5lLnRyYW5zaXRpb25zLCBsYXllci5hbmltYXRpb25TdGF0ZU1hY2hpbmUudGltZSwgbGF5ZXIuYW5pbWF0aW9uU3RhdGVNYWNoaW5lLmxlbmd0aCwgbGF5ZXIuYW5pbWF0aW9uU3RhdGVNYWNoaW5lLnJhdGUpO1xuICAgICAgICAgICAgICAgIC8vIENoZWNrIEFueSBTdGF0ZSBUcmFuc2l0aW9uIENvbmRpdGlvbnNcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fY2hlY2tlcnMucmVzdWx0ID09IG51bGwgJiYgdGhpcy5fbWFjaGluZS50cmFuc2l0aW9ucyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tTdGF0ZVRyYW5zaXRpb25zKGxheWVyLCB0aGlzLl9tYWNoaW5lLnRyYW5zaXRpb25zLCBsYXllci5hbmltYXRpb25TdGF0ZU1hY2hpbmUudGltZSwgbGF5ZXIuYW5pbWF0aW9uU3RhdGVNYWNoaW5lLmxlbmd0aCwgbGF5ZXIuYW5pbWF0aW9uU3RhdGVNYWNoaW5lLnJhdGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBSZXNldCBUcmFuc2l0aW9uIENvbmRpdGlvbiBUcmlnZ2Vyc1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmICh0aGlzLl9jaGVja2Vycy50cmlnZ2VyZWQgIT0gbnVsbCAmJiB0aGlzLl9jaGVja2Vycy50cmlnZ2VyZWQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NoZWNrZXJzLnRyaWdnZXJlZC5mb3JFYWNoKCh0cmlnZ2VyKSA9PiB7IHRoaXMucmVzZXRUcmlnZ2VyKHRyaWdnZXIpOyB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGVja2Vycy50cmlnZ2VyZWQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIC8vIFNldCBDdXJyZW50IE1hY2hpbmUgU3RhdGUgUmVzdWx0XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKHRoaXMuX2NoZWNrZXJzLnJlc3VsdCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NoZWNrZXJzLm9mZmVzdCA+IDApIEJBQllMT04uU2NlbmVNYW5hZ2VyLlNldFRpbWVvdXQoKHRoaXMuX2NoZWNrZXJzLm9mZmVzdCAqIDEwMDApLCAoKT0+eyB0aGlzLnNldEN1cnJlbnRBbmltYXRpb25TdGF0ZShsYXllciwgdGhpcy5fY2hlY2tlcnMucmVzdWx0LCB0aGlzLl9jaGVja2Vycy5ibGVuZGluZyk7IH0pO1xuICAgICAgICAgICAgICAgIGVsc2UgdGhpcy5zZXRDdXJyZW50QW5pbWF0aW9uU3RhdGUobGF5ZXIsIHRoaXMuX2NoZWNrZXJzLnJlc3VsdCwgdGhpcy5fY2hlY2tlcnMuYmxlbmRpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByaXZhdGUgY2hlY2tTdGF0ZVRyYW5zaXRpb25zKGxheWVyOkJBQllMT04uSUFuaW1hdGlvbkxheWVyLCB0cmFuc2l0aW9uczpCQUJZTE9OLklUcmFuc2l0aW9uW10sIHRpbWU6bnVtYmVyLCBsZW5ndGg6bnVtYmVyLCByYXRlOm51bWJlcik6YW55IHtcbiAgICAgICAgICAgIGlmICh0cmFuc2l0aW9ucyAhPSBudWxsICYmIHRyYW5zaXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBsZXQgaTpudW1iZXIgPSAwOyBsZXQgaWk6bnVtYmVyID0gMDsgbGV0IHNvbG86bnVtYmVyID0gLTE7XG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAvLyBDaGVjayBIYXMgU29sbyBUcmFuc2l0aW9uc1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgZm9yKGkgPSAwOyBpIDwgdHJhbnNpdGlvbnMubGVuZ3RoOyBpKysgKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0cmFuc2l0aW9uc1tpXS5zb2xvID09PSB0cnVlICYmIHRyYW5zaXRpb25zW2ldLm11dGUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzb2xvID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgU3RhdGUgTWFjaGluZSBUcmFuc2l0aW9uc1xuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgZm9yKGkgPSAwOyBpIDwgdHJhbnNpdGlvbnMubGVuZ3RoOyBpKysgKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyYW5zaXRpb246QkFCWUxPTi5JVHJhbnNpdGlvbiA9IHRyYW5zaXRpb25zW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHJhbnNpdGlvbi5sYXllckluZGV4ICE9PSBsYXllci5pbmRleCkgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0cmFuc2l0aW9uLm11dGUgPT09IHRydWUpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc29sbyA+PSAwICYmIHNvbG8gIT09IGkpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICBsZXQgdHJhbnNpdGlvbk9rOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgSGFzIFRyYW5zaXRpb24gRXhpdCBUaW1lXG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4aXRUaW1lU2VjczpudW1iZXIgPSBCQUJZTE9OLlNjYWxhci5EZW5vcm1hbGl6ZSh0cmFuc2l0aW9uLmV4aXRUaW1lLCAwLCBsZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBleGl0VGltZUV4cGlyZWQ6Ym9vbGVhbiA9ICgoQkFCWUxPTi5TY2VuZU1hbmFnZXIuR2V0R2FtZVRpbWUoKSAtIHRpbWUpID49IGV4aXRUaW1lU2Vjcyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0cmFuc2l0aW9uLmhhc0V4aXRUaW1lID09PSB0cnVlICYmIHRyYW5zaXRpb24uaW50U291cmNlID09IEJBQllMT04uSW50ZXJydXB0aW9uU291cmNlLk5vbmUgJiYgZXhpdFRpbWVFeHBpcmVkID09PSBmYWxzZSkgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIEFsbCBUcmFuc2l0aW9uIENvbmRpdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRyYW5zaXRpb24uY29uZGl0aW9ucyAhPSBudWxsICYmIHRyYW5zaXRpb24uY29uZGl0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcGFzc2VkOm51bWJlciA9IDA7IGxldCBjaGVja3M6bnVtYmVyID0gdHJhbnNpdGlvbi5jb25kaXRpb25zLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb24uY29uZGl0aW9ucy5mb3JFYWNoKChjb25kaXRpb24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwdHlwZTpCQUJZTE9OLkFuaW1hdG9yUGFyYW1ldGVyVHlwZSA9IHRoaXMuX3BhcmFtZXRlcnMuZ2V0KGNvbmRpdGlvbi5wYXJhbWV0ZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwdHlwZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwdHlwZSA9PSBCQUJZTE9OLkFuaW1hdG9yUGFyYW1ldGVyVHlwZS5GbG9hdCB8fCBwdHlwZSA9PSBCQUJZTE9OLkFuaW1hdG9yUGFyYW1ldGVyVHlwZS5JbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG51bVZhbHVlOm51bWJlciA9IHBhcnNlRmxvYXQodGhpcy5nZXRGbG9hdChjb25kaXRpb24ucGFyYW1ldGVyKS50b0ZpeGVkKDIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb25kaXRpb24ubW9kZSA9PT0gQkFCWUxPTi5Db25kaXRpb25Nb2RlLkdyZWF0ZXIgJiYgbnVtVmFsdWUgPiBjb25kaXRpb24udGhyZXNob2xkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc2VkKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvbmRpdGlvbi5tb2RlID09PSBCQUJZTE9OLkNvbmRpdGlvbk1vZGUuTGVzcyAmJiBudW1WYWx1ZSA8IGNvbmRpdGlvbi50aHJlc2hvbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzZWQrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY29uZGl0aW9uLm1vZGUgPT09IEJBQllMT04uQ29uZGl0aW9uTW9kZS5FcXVhbHMgJiYgbnVtVmFsdWUgPT09IGNvbmRpdGlvbi50aHJlc2hvbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzZWQrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY29uZGl0aW9uLm1vZGUgPT09IEJBQllMT04uQ29uZGl0aW9uTW9kZS5Ob3RFcXVhbCAmJiBudW1WYWx1ZSAhPT0gY29uZGl0aW9uLnRocmVzaG9sZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3NlZCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHB0eXBlID09IEJBQllMT04uQW5pbWF0b3JQYXJhbWV0ZXJUeXBlLkJvb2wpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJvb2xWYWx1ZTpib29sZWFuID0gdGhpcy5nZXRCb29sKGNvbmRpdGlvbi5wYXJhbWV0ZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmRpdGlvbi5tb2RlID09PSBCQUJZTE9OLkNvbmRpdGlvbk1vZGUuSWYgJiYgYm9vbFZhbHVlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc2VkKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvbmRpdGlvbi5tb2RlID09PSBCQUJZTE9OLkNvbmRpdGlvbk1vZGUuSWZOb3QgJiYgYm9vbFZhbHVlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3NlZCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHB0eXBlID09IEJBQllMT04uQW5pbWF0b3JQYXJhbWV0ZXJUeXBlLlRyaWdnZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyaWdnZXJWYWx1ZTpib29sZWFuID0gdGhpcy5nZXRUcmlnZ2VyKGNvbmRpdGlvbi5wYXJhbWV0ZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyaWdnZXJWYWx1ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3NlZCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vdGU6IEZvciBMb29wIEZhc3RlciBUaGFuIEluZGV4T2ZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW5kZXhPZlRyaWdnZXI6bnVtYmVyID0gLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9jaGVja2Vycy50cmlnZ2VyZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NoZWNrZXJzLnRyaWdnZXJlZFtpXSA9PT0gY29uZGl0aW9uLnBhcmFtZXRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXhPZlRyaWdnZXIgPSBpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXhPZlRyaWdnZXIgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NoZWNrZXJzLnRyaWdnZXJlZC5wdXNoKGNvbmRpdGlvbi5wYXJhbWV0ZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyYW5zaXRpb24uaGFzRXhpdFRpbWUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gLSBDSEVDSyBUUkFOU0lUSU9OIElOVEVSVVBUSU9OIFNPVVJDRSBTVEFUVVNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFZhbGlkYXRlIFRyYW5zaXRpb24gSGFzIEV4aXQgVGltZSBBbmQgQWxsIENvbmRpdGlvbnMgUGFzc2VkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbk9rID0gKGV4aXRUaW1lRXhwaXJlZCA9PT0gdHJ1ZSAmJiBwYXNzZWQgPT09IGNoZWNrcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFZhbGlkYXRlIEFsbCBUcmFuc2l0aW9uIENvbmRpdGlvbnMgUGFzc2VkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbk9rID0gKHBhc3NlZCA9PT0gY2hlY2tzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFZhbGlkYXRlIFRyYW5zaXRpb24gSGFzIEV4cGlyZWQgRXhpdCBUaW1lIE9ubHlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb25PayA9ICh0cmFuc2l0aW9uLmhhc0V4aXRUaW1lID09PSB0cnVlICYmIGV4aXRUaW1lRXhwaXJlZCA9PT0gdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gVmFsaWRhdGUgQ3VycmVudCBUcmFuc2l0aW9uIERlc3RpbmF0aW9uIENoYW5nZVxuICAgICAgICAgICAgICAgICAgICBpZiAodHJhbnNpdGlvbk9rID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBibGVuZFNpemU6bnVtYmVyID0gKGxlbmd0aCA+IDApID8gbGVuZ3RoIDogMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJsZW5kUmF0ZTpudW1iZXIgPSAocmF0ZSA+IDApID8gcmF0ZSA6IEJBQllMT04uQW5pbWF0aW9uU3RhdGUuRlBTO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVzdFN0YXRlOnN0cmluZyA9ICh0cmFuc2l0aW9uLmlzRXhpdCA9PT0gZmFsc2UpID8gdHJhbnNpdGlvbi5kZXN0aW5hdGlvbiA6IEJBQllMT04uQW5pbWF0aW9uU3RhdGUuRVhJVDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9mZnNldFNlY3M6bnVtYmVyID0gKHRyYW5zaXRpb24uZml4ZWREdXJhdGlvbiA9PT0gdHJ1ZSkgPyB0cmFuc2l0aW9uLm9mZnNldCA6IEJBQllMT04uU2NhbGFyLkRlbm9ybWFsaXplKHRyYW5zaXRpb24ub2Zmc2V0LCAwLCBibGVuZFNpemUpXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkdXJhdGlvblNlY3M6bnVtYmVyID0gKHRyYW5zaXRpb24uZml4ZWREdXJhdGlvbiA9PT0gdHJ1ZSkgPyB0cmFuc2l0aW9uLmR1cmF0aW9uIDogQkFCWUxPTi5TY2FsYXIuRGVub3JtYWxpemUodHJhbnNpdGlvbi5kdXJhdGlvbiwgMCwgYmxlbmRTaXplKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJsZW5kaW5nU3BlZWQ6bnVtYmVyID0gQkFCWUxPTi5VdGlsaXRpZXMuQ29tcHV0ZUJsZW5kaW5nU3BlZWQoYmxlbmRSYXRlLCBkdXJhdGlvblNlY3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2hlY2tlcnMucmVzdWx0ID0gZGVzdFN0YXRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2hlY2tlcnMub2ZmZXN0ID0gb2Zmc2V0U2VjcztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NoZWNrZXJzLmJsZW5kaW5nID0gYmxlbmRpbmdTcGVlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByaXZhdGUgc2V0Q3VycmVudEFuaW1hdGlvblN0YXRlKGxheWVyOkJBQllMT04uSUFuaW1hdGlvbkxheWVyLCBuYW1lOnN0cmluZywgYmxlbmRpbmc6bnVtYmVyKTp2b2lkIHtcbiAgICAgICAgICAgIGlmIChuYW1lID09IG51bGwgfHwgbmFtZSA9PT0gXCJcIiB8fCBuYW1lID09PSBCQUJZTE9OLkFuaW1hdGlvblN0YXRlLkVYSVQpIHJldHVybjtcbiAgICAgICAgICAgIGlmIChsYXllci5hbmltYXRpb25TdGF0ZU1hY2hpbmUgIT0gbnVsbCAmJiBsYXllci5hbmltYXRpb25TdGF0ZU1hY2hpbmUubmFtZSA9PT0gbmFtZSkgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3Qgc3RhdGU6QkFCWUxPTi5NYWNoaW5lU3RhdGUgPSB0aGlzLmdldE1hY2hpbmVTdGF0ZShuYW1lKTtcbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBSZXNldCBBbmltYXRpb24gVGFyZ2V0IE1peGVyc1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmICh0aGlzLm1fYW5pbWF0aW9uVGFyZ2V0cyAhPSBudWxsICYmIHRoaXMubV9hbmltYXRpb25UYXJnZXRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1fYW5pbWF0aW9uVGFyZ2V0cy5mb3JFYWNoKCh0YXJnZXRlZEFuaW06QkFCWUxPTi5UYXJnZXRlZEFuaW1hdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhbmltYXRpb25UYXJnZXQ6YW55ID0gdGFyZ2V0ZWRBbmltLnRhcmdldDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFuaW1hdGlvblRhcmdldC5tZXRhZGF0YSAhPSBudWxsICYmIGFuaW1hdGlvblRhcmdldC5tZXRhZGF0YS5taXhlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhbmltYXRpb25UYXJnZXRNaXhlcjpCQUJZTE9OLkFuaW1hdGlvbk1peGVyID0gYW5pbWF0aW9uVGFyZ2V0Lm1ldGFkYXRhLm1peGVyW2xheWVyLmluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbmltYXRpb25UYXJnZXRNaXhlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uVGFyZ2V0TWl4ZXIub3JpZ2luYWxNYXRyaXggPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvblRhcmdldE1peGVyLmJsZW5kaW5nRmFjdG9yID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25UYXJnZXRNaXhlci5ibGVuZGluZ1NwZWVkID0gYmxlbmRpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAvLyBTZXR1cCBDdXJyZW50IExheWVyIEFuaW1hdGlvbiBTdGF0ZVxuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGlmIChzdGF0ZSAhPSBudWxsICYmIHN0YXRlLmxheWVySW5kZXggPT09IGxheWVyLmluZGV4KSB7XG4gICAgICAgICAgICAgICAgc3RhdGUudGltZSA9IDA7XG4gICAgICAgICAgICAgICAgc3RhdGUucGxheWVkID0gMDtcbiAgICAgICAgICAgICAgICBzdGF0ZS5pbnRlcnJ1cHRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGxheWVyLmFuaW1hdGlvblRpbWUgPSAwO1xuICAgICAgICAgICAgICAgIGxheWVyLmFuaW1hdGlvbk5vcm1hbCA9IDA7XG4gICAgICAgICAgICAgICAgbGF5ZXIuYW5pbWF0aW9uRmlyc3RSdW4gPSB0cnVlO1xuICAgICAgICAgICAgICAgIGxheWVyLmFuaW1hdGlvbkVuZEZyYW1lID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgbGF5ZXIuYW5pbWF0aW9uTG9vcEZyYW1lID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgbGF5ZXIuYW5pbWF0aW9uU3RhdGVNYWNoaW5lID0gc3RhdGU7XG4gICAgICAgICAgICAgICAgbGF5ZXIuYW5pbWF0aW9uU3RhdGVNYWNoaW5lLnRpbWUgPSBCQUJZTE9OLlNjZW5lTWFuYWdlci5HZXRHYW1lVGltZSgpO1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS53YXJuKFwiU2V0IEFuaW1hdGlvbiBTdGF0ZTogXCIgKyB0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIgLS0+IFwiICsgbmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHJpdmF0ZSBjaGVja0F2YXRhclRyYW5zZm9ybVBhdGgobGF5ZXI6QkFCWUxPTi5JQW5pbWF0aW9uTGF5ZXIsIHRyYW5zZm9ybVBhdGg6c3RyaW5nKTpib29sZWFuIHtcbiAgICAgICAgICAgIGxldCByZXN1bHQ6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHRoaXMubV9hdmF0YXJNYXNrICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0cmFuc2Zvcm1JbmRleDpudW1iZXIgPSB0aGlzLm1fYXZhdGFyTWFzay5nZXQodHJhbnNmb3JtUGF0aCk7XG4gICAgICAgICAgICAgICAgaWYgKHRyYW5zZm9ybUluZGV4ICE9IG51bGwgJiYgdHJhbnNmb3JtSW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgcHJpdmF0ZSBmaWx0ZXJUYXJnZXRBdmF0YXJNYXNrKGxheWVyOkJBQllMT04uSUFuaW1hdGlvbkxheWVyLCB0YXJnZXQ6QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlKTpib29sZWFuIHtcbiAgICAgICAgICAgIGxldCByZXN1bHQ6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHRhcmdldC5tZXRhZGF0YSAhPSBudWxsICYmIHRhcmdldC5tZXRhZGF0YS51bml0eSAhPSBudWxsICYmIHRhcmdldC5tZXRhZGF0YS51bml0eS5ib25lICE9IG51bGwgJiYgdGFyZ2V0Lm1ldGFkYXRhLnVuaXR5LmJvbmUgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0cmFuc2Zvcm1QYXRoOnN0cmluZyA9IHRhcmdldC5tZXRhZGF0YS51bml0eS5ib25lO1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuY2hlY2tBdmF0YXJUcmFuc2Zvcm1QYXRoKGxheWVyLCB0cmFuc2Zvcm1QYXRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgcHJpdmF0ZSBzb3J0V2VpZ2h0ZWRCbGVuZGluZ0xpc3Qod2VpZ2h0TGlzdDpCQUJZTE9OLklCbGVuZFRyZWVDaGlsZFtdKTp2b2lkIHtcbiAgICAgICAgICAgIGlmICh3ZWlnaHRMaXN0ICE9IG51bGwgJiYgd2VpZ2h0TGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8gU29ydCBJbiBEZXNjZW5kaW5nIE9yZGVyXG4gICAgICAgICAgICAgICAgd2VpZ2h0TGlzdC5zb3J0KChsZWZ0LCByaWdodCk6IG51bWJlciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsZWZ0LndlaWdodCA8IHJpZ2h0LndlaWdodCkgcmV0dXJuIDE7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsZWZ0LndlaWdodCA+IHJpZ2h0LndlaWdodCkgcmV0dXJuIC0xO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcml2YXRlIGNvbXB1dGVXZWlnaHRlZEZyYW1lUmF0aW8od2VpZ2h0TGlzdDpCQUJZTE9OLklCbGVuZFRyZWVDaGlsZFtdKTpudW1iZXIge1xuICAgICAgICAgICAgbGV0IHJlc3VsdDpudW1iZXIgPSAxLjA7XG4gICAgICAgICAgICBpZiAod2VpZ2h0TGlzdCAhPSBudWxsICYmIHdlaWdodExpc3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc29ydFdlaWdodGVkQmxlbmRpbmdMaXN0KHdlaWdodExpc3QpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2JsZW5kV2VpZ2h0cy5wcmltYXJ5ID0gd2VpZ2h0TGlzdFswXTtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmltYXJ5V2VpZ2h0Om51bWJlciA9IHRoaXMuX2JsZW5kV2VpZ2h0cy5wcmltYXJ5LndlaWdodDtcbiAgICAgICAgICAgICAgICBpZiAocHJpbWFyeVdlaWdodCA8IDEuMCAmJiB3ZWlnaHRMaXN0Lmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYmxlbmRXZWlnaHRzLnNlY29uZGFyeSA9IHdlaWdodExpc3RbMV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2JsZW5kV2VpZ2h0cy5wcmltYXJ5ICE9IG51bGwgJiYgdGhpcy5fYmxlbmRXZWlnaHRzLnNlY29uZGFyeSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZyYW1lV2VpZ2h0RGVsdGE6bnVtYmVyID0gQkFCWUxPTi5TY2FsYXIuQ2xhbXAodGhpcy5fYmxlbmRXZWlnaHRzLnByaW1hcnkud2VpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gQkFCWUxPTi5TY2FsYXIuTGVycCh0aGlzLl9ibGVuZFdlaWdodHMuc2Vjb25kYXJ5LnJhdGlvLCB0aGlzLl9ibGVuZFdlaWdodHMucHJpbWFyeS5yYXRpbywgZnJhbWVXZWlnaHREZWx0YSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9ibGVuZFdlaWdodHMucHJpbWFyeSAhPSBudWxsICYmIHRoaXMuX2JsZW5kV2VpZ2h0cy5zZWNvbmRhcnkgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLl9ibGVuZFdlaWdodHMucHJpbWFyeS5yYXRpbztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gQmxlbmQgVHJlZSBCcmFuY2hlcyAtICBIZWxwZXIgRnVuY3Rpb25zXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgcHJpdmF0ZSBzZXR1cFRyZWVCcmFuY2hlcyh0cmVlOkJBQllMT04uSUJsZW5kVHJlZSk6dm9pZCB7XG4gICAgICAgICAgICBpZiAodHJlZSAhPSBudWxsICYmIHRyZWUuY2hpbGRyZW4gIT0gbnVsbCAmJiB0cmVlLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB0cmVlLmNoaWxkcmVuLmZvckVhY2goKGNoaWxkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZC50eXBlID09PSBCQUJZTE9OLk1vdGlvblR5cGUuVHJlZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXR1cFRyZWVCcmFuY2hlcyhjaGlsZC5zdWJ0cmVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaGlsZC50eXBlID09PSBCQUJZTE9OLk1vdGlvblR5cGUuQ2xpcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkLm1vdGlvbiAhPSBudWxsICYmIGNoaWxkLm1vdGlvbiAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkLndlaWdodCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQucmF0aW8gPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkLnRyYWNrID0gdGhpcy5nZXRBbmltYXRpb25Hcm91cChjaGlsZC5tb3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZC50cmFjayAhPSBudWxsKSBjaGlsZC5yYXRpbyA9IChCQUJZTE9OLkFuaW1hdGlvblN0YXRlLlRJTUUgLyBjaGlsZC50cmFjay50byk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcml2YXRlIHBhcnNlVHJlZUJyYW5jaGVzKGxheWVyOkJBQllMT04uSUFuaW1hdGlvbkxheWVyLCB0cmVlOkJBQllMT04uSUJsZW5kVHJlZSwgcGFyZW50V2VpZ2h0Om51bWJlciwgd2VpZ2h0TGlzdDpCQUJZTE9OLklCbGVuZFRyZWVDaGlsZFtdKTp2b2lkIHtcbiAgICAgICAgICAgIGlmICh0cmVlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0cmVlLnZhbHVlUGFyYW1ldGVyWCA9ICh0cmVlLmJsZW5kUGFyYW1ldGVyWCAhPSBudWxsKSA/IHBhcnNlRmxvYXQodGhpcy5nZXRGbG9hdCh0cmVlLmJsZW5kUGFyYW1ldGVyWCkudG9GaXhlZCgyKSkgOiAwO1xuICAgICAgICAgICAgICAgIHRyZWUudmFsdWVQYXJhbWV0ZXJZID0gKHRyZWUuYmxlbmRQYXJhbWV0ZXJZICE9IG51bGwpID8gcGFyc2VGbG9hdCh0aGlzLmdldEZsb2F0KHRyZWUuYmxlbmRQYXJhbWV0ZXJZKS50b0ZpeGVkKDIpKSA6IDA7XG4gICAgICAgICAgICAgICAgc3dpdGNoKHRyZWUuYmxlbmRUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQkFCWUxPTi5CbGVuZFRyZWVUeXBlLlNpbXBsZTFEOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJzZTFEU2ltcGxlVHJlZUJyYW5jaGVzKGxheWVyLCB0cmVlLCBwYXJlbnRXZWlnaHQsIHdlaWdodExpc3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQkFCWUxPTi5CbGVuZFRyZWVUeXBlLlNpbXBsZURpcmVjdGlvbmFsMkQ6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcnNlMkRTaW1wbGVEaXJlY3Rpb25hbFRyZWVCcmFuY2hlcyhsYXllciwgdHJlZSwgcGFyZW50V2VpZ2h0LCB3ZWlnaHRMaXN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIEJBQllMT04uQmxlbmRUcmVlVHlwZS5GcmVlZm9ybURpcmVjdGlvbmFsMkQ6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcnNlMkRGcmVlZm9ybURpcmVjdGlvbmFsVHJlZUJyYW5jaGVzKGxheWVyLCB0cmVlLCBwYXJlbnRXZWlnaHQsIHdlaWdodExpc3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQkFCWUxPTi5CbGVuZFRyZWVUeXBlLkZyZWVmb3JtQ2FydGVzaWFuMkQ6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcnNlMkRGcmVlZm9ybUNhcnRlc2lhblRyZWVCcmFuY2hlcyhsYXllciwgdHJlZSwgcGFyZW50V2VpZ2h0LCB3ZWlnaHRMaXN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcml2YXRlIHBhcnNlMURTaW1wbGVUcmVlQnJhbmNoZXMobGF5ZXI6QkFCWUxPTi5JQW5pbWF0aW9uTGF5ZXIsIHRyZWU6QkFCWUxPTi5JQmxlbmRUcmVlLCBwYXJlbnRXZWlnaHQ6bnVtYmVyLCB3ZWlnaHRMaXN0OkJBQllMT04uSUJsZW5kVHJlZUNoaWxkW10pOnZvaWQge1xuICAgICAgICAgICAgaWYgKHRyZWUgIT0gbnVsbCAmJiB0cmVlLmNoaWxkcmVuICE9IG51bGwgJiYgdHJlZS5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYmxlbmRUcmVlQXJyYXkgOiBCQUJZTE9OLkJsZW5kVHJlZVZhbHVlW10gPSBbXTtcbiAgICAgICAgICAgICAgICB0cmVlLmNoaWxkcmVuLmZvckVhY2goKGNoaWxkOkJBQllMT04uSUJsZW5kVHJlZUNoaWxkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLndlaWdodCA9IDA7IC8vIE5vdGU6IFJlc2V0IFdlaWdodCBWYWx1ZVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlOiBjaGlsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdGlvbjogY2hpbGQubW90aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zWDogY2hpbGQudGhyZXNob2xkLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zWTogY2hpbGQudGhyZXNob2xkLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2VpZ2h0OiBjaGlsZC53ZWlnaHRcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgYmxlbmRUcmVlQXJyYXkucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLkJsZW5kVHJlZVN5c3RlbS5DYWxjdWxhdGUxRFNpbXBsZUJsZW5kVHJlZSh0cmVlLnZhbHVlUGFyYW1ldGVyWCwgYmxlbmRUcmVlQXJyYXkpO1xuICAgICAgICAgICAgICAgIGJsZW5kVHJlZUFycmF5LmZvckVhY2goKGVsZW1lbnQ6QkFCWUxPTi5CbGVuZFRyZWVWYWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5zb3VyY2UgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zb3VyY2Uud2VpZ2h0ID0gZWxlbWVudC53ZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0cmVlLmNoaWxkcmVuLmZvckVhY2goKGNoaWxkOkJBQllMT04uSUJsZW5kVHJlZUNoaWxkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLndlaWdodCAqPSBwYXJlbnRXZWlnaHQ7IC8vIE5vdGU6IFNjYWxlIFdlaWdodCBWYWx1ZVxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGQudHlwZSA9PT0gQkFCWUxPTi5Nb3Rpb25UeXBlLkNsaXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZC53ZWlnaHQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2VpZ2h0TGlzdC5wdXNoKGNoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGQudHlwZSA9PT0gQkFCWUxPTi5Nb3Rpb25UeXBlLlRyZWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFyc2VUcmVlQnJhbmNoZXMobGF5ZXIsIGNoaWxkLnN1YnRyZWUsIGNoaWxkLndlaWdodCwgd2VpZ2h0TGlzdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcml2YXRlIHBhcnNlMkRTaW1wbGVEaXJlY3Rpb25hbFRyZWVCcmFuY2hlcyhsYXllcjpCQUJZTE9OLklBbmltYXRpb25MYXllciwgdHJlZTpCQUJZTE9OLklCbGVuZFRyZWUsIHBhcmVudFdlaWdodDpudW1iZXIsIHdlaWdodExpc3Q6QkFCWUxPTi5JQmxlbmRUcmVlQ2hpbGRbXSk6dm9pZCB7XG4gICAgICAgICAgICBpZiAodHJlZSAhPSBudWxsICYmIHRyZWUuY2hpbGRyZW4gIT0gbnVsbCAmJiB0cmVlLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBibGVuZFRyZWVBcnJheSA6IEJBQllMT04uQmxlbmRUcmVlVmFsdWVbXSA9IFtdO1xuICAgICAgICAgICAgICAgIHRyZWUuY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQ6QkFCWUxPTi5JQmxlbmRUcmVlQ2hpbGQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGQud2VpZ2h0ID0gMDsgLy8gTm90ZTogUmVzZXQgV2VpZ2h0IFZhbHVlXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2U6IGNoaWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgbW90aW9uOiBjaGlsZC5tb3Rpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NYOiBjaGlsZC5wb3NpdGlvblgsXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NZOiBjaGlsZC5wb3NpdGlvblksXG4gICAgICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IGNoaWxkLndlaWdodFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBibGVuZFRyZWVBcnJheS5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIEJBQllMT04uQmxlbmRUcmVlU3lzdGVtLkNhbGN1bGF0ZTJERnJlZWZvcm1EaXJlY3Rpb25hbCh0cmVlLnZhbHVlUGFyYW1ldGVyWCwgdHJlZS52YWx1ZVBhcmFtZXRlclksIGJsZW5kVHJlZUFycmF5KTtcbiAgICAgICAgICAgICAgICBibGVuZFRyZWVBcnJheS5mb3JFYWNoKChlbGVtZW50OkJBQllMT04uQmxlbmRUcmVlVmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuc291cmNlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc291cmNlLndlaWdodCA9IGVsZW1lbnQud2VpZ2h0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdHJlZS5jaGlsZHJlbi5mb3JFYWNoKChjaGlsZDpCQUJZTE9OLklCbGVuZFRyZWVDaGlsZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjaGlsZC53ZWlnaHQgKj0gcGFyZW50V2VpZ2h0OyAvLyBOb3RlOiBTY2FsZSBXZWlnaHQgVmFsdWVcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkLnR5cGUgPT09IEJBQllMT04uTW90aW9uVHlwZS5DbGlwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGQud2VpZ2h0ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdlaWdodExpc3QucHVzaChjaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkLnR5cGUgPT09IEJBQllMT04uTW90aW9uVHlwZS5UcmVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcnNlVHJlZUJyYW5jaGVzKGxheWVyLCBjaGlsZC5zdWJ0cmVlLCBjaGlsZC53ZWlnaHQsIHdlaWdodExpc3QpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHJpdmF0ZSBwYXJzZTJERnJlZWZvcm1EaXJlY3Rpb25hbFRyZWVCcmFuY2hlcyhsYXllcjpCQUJZTE9OLklBbmltYXRpb25MYXllciwgdHJlZTpCQUJZTE9OLklCbGVuZFRyZWUsIHBhcmVudFdlaWdodDpudW1iZXIsIHdlaWdodExpc3Q6QkFCWUxPTi5JQmxlbmRUcmVlQ2hpbGRbXSk6dm9pZCB7XG4gICAgICAgICAgICBpZiAodHJlZSAhPSBudWxsICYmIHRyZWUuY2hpbGRyZW4gIT0gbnVsbCAmJiB0cmVlLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBibGVuZFRyZWVBcnJheSA6IEJBQllMT04uQmxlbmRUcmVlVmFsdWVbXSA9IFtdO1xuICAgICAgICAgICAgICAgIHRyZWUuY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQ6QkFCWUxPTi5JQmxlbmRUcmVlQ2hpbGQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGQud2VpZ2h0ID0gMDsgLy8gTm90ZTogUmVzZXQgV2VpZ2h0IFZhbHVlXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2U6IGNoaWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgbW90aW9uOiBjaGlsZC5tb3Rpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NYOiBjaGlsZC5wb3NpdGlvblgsXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NZOiBjaGlsZC5wb3NpdGlvblksXG4gICAgICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IGNoaWxkLndlaWdodFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBibGVuZFRyZWVBcnJheS5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIEJBQllMT04uQmxlbmRUcmVlU3lzdGVtLkNhbGN1bGF0ZTJERnJlZWZvcm1EaXJlY3Rpb25hbCh0cmVlLnZhbHVlUGFyYW1ldGVyWCwgdHJlZS52YWx1ZVBhcmFtZXRlclksIGJsZW5kVHJlZUFycmF5KTtcbiAgICAgICAgICAgICAgICBibGVuZFRyZWVBcnJheS5mb3JFYWNoKChlbGVtZW50OkJBQllMT04uQmxlbmRUcmVlVmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuc291cmNlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc291cmNlLndlaWdodCA9IGVsZW1lbnQud2VpZ2h0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdHJlZS5jaGlsZHJlbi5mb3JFYWNoKChjaGlsZDpCQUJZTE9OLklCbGVuZFRyZWVDaGlsZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjaGlsZC53ZWlnaHQgKj0gcGFyZW50V2VpZ2h0OyAvLyBOb3RlOiBTY2FsZSBXZWlnaHQgVmFsdWVcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkLnR5cGUgPT09IEJBQllMT04uTW90aW9uVHlwZS5DbGlwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGQud2VpZ2h0ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdlaWdodExpc3QucHVzaChjaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkLnR5cGUgPT09IEJBQllMT04uTW90aW9uVHlwZS5UcmVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcnNlVHJlZUJyYW5jaGVzKGxheWVyLCBjaGlsZC5zdWJ0cmVlLCBjaGlsZC53ZWlnaHQsIHdlaWdodExpc3QpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHJpdmF0ZSBwYXJzZTJERnJlZWZvcm1DYXJ0ZXNpYW5UcmVlQnJhbmNoZXMobGF5ZXI6QkFCWUxPTi5JQW5pbWF0aW9uTGF5ZXIsIHRyZWU6QkFCWUxPTi5JQmxlbmRUcmVlLCBwYXJlbnRXZWlnaHQ6bnVtYmVyLCB3ZWlnaHRMaXN0OkJBQllMT04uSUJsZW5kVHJlZUNoaWxkW10pOnZvaWQge1xuICAgICAgICAgICAgaWYgKHRyZWUgIT0gbnVsbCAmJiB0cmVlLmNoaWxkcmVuICE9IG51bGwgJiYgdHJlZS5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYmxlbmRUcmVlQXJyYXkgOiBCQUJZTE9OLkJsZW5kVHJlZVZhbHVlW10gPSBbXTtcbiAgICAgICAgICAgICAgICB0cmVlLmNoaWxkcmVuLmZvckVhY2goKGNoaWxkOkJBQllMT04uSUJsZW5kVHJlZUNoaWxkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLndlaWdodCA9IDA7IC8vIE5vdGU6IFJlc2V0IFdlaWdodCBWYWx1ZVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlOiBjaGlsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdGlvbjogY2hpbGQubW90aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zWDogY2hpbGQucG9zaXRpb25YLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zWTogY2hpbGQucG9zaXRpb25ZLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2VpZ2h0OiBjaGlsZC53ZWlnaHRcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgYmxlbmRUcmVlQXJyYXkucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLkJsZW5kVHJlZVN5c3RlbS5DYWxjdWxhdGUyREZyZWVmb3JtQ2FydGVzaWFuKHRyZWUudmFsdWVQYXJhbWV0ZXJYLCB0cmVlLnZhbHVlUGFyYW1ldGVyWSwgYmxlbmRUcmVlQXJyYXkpO1xuICAgICAgICAgICAgICAgIGJsZW5kVHJlZUFycmF5LmZvckVhY2goKGVsZW1lbnQ6QkFCWUxPTi5CbGVuZFRyZWVWYWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5zb3VyY2UgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zb3VyY2Uud2VpZ2h0ID0gZWxlbWVudC53ZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0cmVlLmNoaWxkcmVuLmZvckVhY2goKGNoaWxkOkJBQllMT04uSUJsZW5kVHJlZUNoaWxkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLndlaWdodCAqPSBwYXJlbnRXZWlnaHQ7IC8vIE5vdGU6IFNjYWxlIFdlaWdodCBWYWx1ZVxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGQudHlwZSA9PT0gQkFCWUxPTi5Nb3Rpb25UeXBlLkNsaXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZC53ZWlnaHQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2VpZ2h0TGlzdC5wdXNoKGNoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGQudHlwZSA9PT0gQkFCWUxPTi5Nb3Rpb25UeXBlLlRyZWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFyc2VUcmVlQnJhbmNoZXMobGF5ZXIsIGNoaWxkLnN1YnRyZWUsIGNoaWxkLndlaWdodCwgd2VpZ2h0TGlzdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAvLyBTdXBwb3J0IENsYXNzZXMsIEJsZW5kIFRyZWUgVXRpbGl0aWVzXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgZXhwb3J0IGNsYXNzIEJsZW5kVHJlZVZhbHVlIHtcbiAgICAgICAgcHVibGljIHNvdXJjZTpCQUJZTE9OLklCbGVuZFRyZWVDaGlsZDtcbiAgICAgICAgcHVibGljIG1vdGlvbjogc3RyaW5nO1xuICAgICAgICBwdWJsaWMgcG9zWDogbnVtYmVyO1xuICAgICAgICBwdWJsaWMgcG9zWTogbnVtYmVyO1xuICAgICAgICBwdWJsaWMgd2VpZ2h0OiBudW1iZXI7XG4gICAgICAgIGNvbnN0cnVjdG9yKGNvbmZpZzogeyBzb3VyY2U6IEJBQllMT04uSUJsZW5kVHJlZUNoaWxkLCBtb3Rpb246IHN0cmluZywgcG9zWD86IG51bWJlciwgcG9zWT86IG51bWJlciwgd2VpZ2h0PzogbnVtYmVyIH0pIHtcbiAgICAgICAgICAgIHRoaXMuc291cmNlID0gY29uZmlnLnNvdXJjZTtcbiAgICAgICAgICAgIHRoaXMubW90aW9uID0gY29uZmlnLm1vdGlvbjtcbiAgICAgICAgICAgIHRoaXMucG9zWCA9IGNvbmZpZy5wb3NYIHx8IDA7XG4gICAgICAgICAgICB0aGlzLnBvc1kgPSBjb25maWcucG9zWSB8fCAwO1xuICAgICAgICAgICAgdGhpcy53ZWlnaHQgPSBjb25maWcud2VpZ2h0IHx8IDA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZXhwb3J0IGNsYXNzIEJsZW5kVHJlZVV0aWxzIHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBDbGFtcFZhbHVlKG51bTogbnVtYmVyLCBtaW46IG51bWJlciwgbWF4OiBudW1iZXIpOm51bWJlciB7XG4gICAgICAgICAgICByZXR1cm4gbnVtIDw9IG1pbiA/IG1pbiA6IG51bSA+PSBtYXggPyBtYXggOiBudW07XG4gICAgICAgIH1cbiAgICAgICAgcHVibGljIHN0YXRpYyBHZXRTaWduZWRBbmdsZShhOiBCQUJZTE9OLlZlY3RvcjIsIGI6IEJBQllMT04uVmVjdG9yMik6bnVtYmVyIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmF0YW4yKGEueCAqIGIueSAtIGEueSAqIGIueCwgYS54ICogYi54ICsgYS55ICogYi55KTtcbiAgICAgICAgfVxuICAgICAgICBwdWJsaWMgc3RhdGljIEdldExpbmVhckludGVycG9sYXRpb24oeDA6IG51bWJlciwgeTA6IG51bWJlciwgeDE6IG51bWJlciwgeTE6IG51bWJlciwgeDogbnVtYmVyKTpudW1iZXIge1xuICAgICAgICAgICAgcmV0dXJuIHkwICsgKHggLSB4MCkgKiAoKHkxIC0geTApIC8gKHgxIC0geDApKTtcbiAgICAgICAgfVxuICAgICAgICBwdWJsaWMgc3RhdGljIEdldFJpZ2h0TmVpZ2hib3VySW5kZXgoaW5wdXRYOiBudW1iZXIsIGJsZW5kVHJlZUFycmF5OiBCQUJZTE9OLkJsZW5kVHJlZVZhbHVlW10pOiBudW1iZXIge1xuICAgICAgICAgICAgYmxlbmRUcmVlQXJyYXkuc29ydCgoYTogQkFCWUxPTi5CbGVuZFRyZWVWYWx1ZSwgYjogQkFCWUxPTi5CbGVuZFRyZWVWYWx1ZSkgPT4geyByZXR1cm4gKGEucG9zWCAtIGIucG9zWCk7IH0pO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBibGVuZFRyZWVBcnJheS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIGlmIChibGVuZFRyZWVBcnJheVtpXS5wb3NYID4gaW5wdXRYKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBleHBvcnQgY2xhc3MgQmxlbmRUcmVlU3lzdGVtIHtcbiAgICAgICAgcHVibGljIHN0YXRpYyBDYWxjdWxhdGUxRFNpbXBsZUJsZW5kVHJlZShpbnB1dFg6IG51bWJlciwgYmxlbmRUcmVlQXJyYXk6IEJBQllMT04uQmxlbmRUcmVlVmFsdWVbXSk6dm9pZCB7XG4gICAgICAgICAgICBjb25zdCBmaXJzdEJsZW5kVHJlZTpCQUJZTE9OLkJsZW5kVHJlZVZhbHVlID0gYmxlbmRUcmVlQXJyYXlbMF07XG4gICAgICAgICAgICBjb25zdCBsYXN0QmxlbmRUcmVlOkJBQllMT04uQmxlbmRUcmVlVmFsdWUgPSBibGVuZFRyZWVBcnJheVtibGVuZFRyZWVBcnJheS5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGlmIChpbnB1dFggPD0gZmlyc3RCbGVuZFRyZWUucG9zWCkge1xuICAgICAgICAgICAgICAgIGZpcnN0QmxlbmRUcmVlLndlaWdodCA9IDE7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlucHV0WCA+PSBsYXN0QmxlbmRUcmVlLnBvc1gpIHtcbiAgICAgICAgICAgICAgICBsYXN0QmxlbmRUcmVlLndlaWdodCA9IDE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJpZ2h0TmVpZ2hib3VyQmxlbmRUcmVlSW5kZXg6bnVtYmVyID0gQkFCWUxPTi5CbGVuZFRyZWVVdGlscy5HZXRSaWdodE5laWdoYm91ckluZGV4KGlucHV0WCwgYmxlbmRUcmVlQXJyYXkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxlZnROZWlnaGJvdXI6QkFCWUxPTi5CbGVuZFRyZWVWYWx1ZSA9IGJsZW5kVHJlZUFycmF5W3JpZ2h0TmVpZ2hib3VyQmxlbmRUcmVlSW5kZXggLSAxXTtcbiAgICAgICAgICAgICAgICBjb25zdCByaWdodE5laWdoYm91cjpCQUJZTE9OLkJsZW5kVHJlZVZhbHVlID0gYmxlbmRUcmVlQXJyYXlbcmlnaHROZWlnaGJvdXJCbGVuZFRyZWVJbmRleF07XG4gICAgICAgICAgICAgICAgY29uc3QgaW50ZXJwb2xhdGVkVmFsdWU6bnVtYmVyID0gQkFCWUxPTi5CbGVuZFRyZWVVdGlscy5HZXRMaW5lYXJJbnRlcnBvbGF0aW9uKGxlZnROZWlnaGJvdXIucG9zWCwgMSwgcmlnaHROZWlnaGJvdXIucG9zWCwgMCwgaW5wdXRYKTtcbiAgICAgICAgICAgICAgICBsZWZ0TmVpZ2hib3VyLndlaWdodCA9IGludGVycG9sYXRlZFZhbHVlO1xuICAgICAgICAgICAgICAgIHJpZ2h0TmVpZ2hib3VyLndlaWdodCA9IDEgLSBsZWZ0TmVpZ2hib3VyLndlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwdWJsaWMgc3RhdGljIENhbGN1bGF0ZTJERnJlZWZvcm1EaXJlY3Rpb25hbChpbnB1dFg6IG51bWJlciwgaW5wdXRZOiBudW1iZXIsIGJsZW5kVHJlZUFycmF5OiBCQUJZTE9OLkJsZW5kVHJlZVZhbHVlW10pOnZvaWQge1xuICAgICAgICAgICAgQkFCWUxPTi5CbGVuZFRyZWVTeXN0ZW0uVGVtcFZlY3RvcjJfSVAuc2V0KGlucHV0WCwgaW5wdXRZKTtcbiAgICAgICAgICAgIEJBQllMT04uQmxlbmRUcmVlU3lzdGVtLlRlbXBWZWN0b3IyX1BPU0kuc2V0KDAsMCk7XG4gICAgICAgICAgICBCQUJZTE9OLkJsZW5kVHJlZVN5c3RlbS5UZW1wVmVjdG9yMl9QT1NKLnNldCgwLDApO1xuICAgICAgICAgICAgQkFCWUxPTi5CbGVuZFRyZWVTeXN0ZW0uVGVtcFZlY3RvcjJfUE9TSVAuc2V0KDAsMCk7XG4gICAgICAgICAgICBCQUJZTE9OLkJsZW5kVHJlZVN5c3RlbS5UZW1wVmVjdG9yMl9QT1NJSi5zZXQoMCwwKTtcbiAgICAgICAgICAgIGNvbnN0IGtEaXJTY2FsZTpudW1iZXIgPSAyO1xuICAgICAgICAgICAgbGV0IHRvdGFsV2VpZ2h0Om51bWJlciA9IDA7XG4gICAgICAgICAgICBsZXQgaW5wdXRMZW5ndGg6bnVtYmVyID0gQkFCWUxPTi5CbGVuZFRyZWVTeXN0ZW0uVGVtcFZlY3RvcjJfSVAubGVuZ3RoKCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJsZW5kVHJlZUFycmF5Lmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYmxlbmRUcmVlOkJBQllMT04uQmxlbmRUcmVlVmFsdWUgPSBibGVuZFRyZWVBcnJheVtpXTtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLkJsZW5kVHJlZVN5c3RlbS5UZW1wVmVjdG9yMl9QT1NJLnNldChibGVuZFRyZWUucG9zWCwgYmxlbmRUcmVlLnBvc1kpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvc0lMZW5ndGg6bnVtYmVyID0gQkFCWUxPTi5CbGVuZFRyZWVTeXN0ZW0uVGVtcFZlY3RvcjJfUE9TSS5sZW5ndGgoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpbnB1dFRvUG9zSUxlbmd0aDpudW1iZXIgPSAoaW5wdXRMZW5ndGggLSBwb3NJTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwb3NJVG9JbnB1dEFuZ2xlOm51bWJlciA9IEJBQllMT04uQmxlbmRUcmVlVXRpbHMuR2V0U2lnbmVkQW5nbGUoQkFCWUxPTi5CbGVuZFRyZWVTeXN0ZW0uVGVtcFZlY3RvcjJfUE9TSSwgQkFCWUxPTi5CbGVuZFRyZWVTeXN0ZW0uVGVtcFZlY3RvcjJfSVApO1xuICAgICAgICAgICAgICAgIGxldCB3ZWlnaHQ6bnVtYmVyID0gMTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGJsZW5kVHJlZUFycmF5Lmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChqID09PSBpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uQmxlbmRUcmVlU3lzdGVtLlRlbXBWZWN0b3IyX1BPU0ouc2V0KGJsZW5kVHJlZUFycmF5W2pdLnBvc1gsIGJsZW5kVHJlZUFycmF5W2pdLnBvc1kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9zSkxlbmd0aDpudW1iZXIgPSBCQUJZTE9OLkJsZW5kVHJlZVN5c3RlbS5UZW1wVmVjdG9yMl9QT1NKLmxlbmd0aCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXZlcmFnZUxlbmd0aE9mSUo6bnVtYmVyID0gKHBvc0lMZW5ndGggKyBwb3NKTGVuZ3RoKSAvIDI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtYWdPZlBvc0lUb0lucHV0UG9zOm51bWJlciA9IChpbnB1dFRvUG9zSUxlbmd0aCAvIGF2ZXJhZ2VMZW5ndGhPZklKKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hZ09mSUo6bnVtYmVyID0gKHBvc0pMZW5ndGggLSBwb3NJTGVuZ3RoKSAvIGF2ZXJhZ2VMZW5ndGhPZklKO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYW5nbGVJSjpudW1iZXIgPSBCQUJZTE9OLkJsZW5kVHJlZVV0aWxzLkdldFNpZ25lZEFuZ2xlKEJBQllMT04uQmxlbmRUcmVlU3lzdGVtLlRlbXBWZWN0b3IyX1BPU0ksIEJBQllMT04uQmxlbmRUcmVlU3lzdGVtLlRlbXBWZWN0b3IyX1BPU0opO1xuICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5CbGVuZFRyZWVTeXN0ZW0uVGVtcFZlY3RvcjJfUE9TSVAuc2V0KG1hZ09mUG9zSVRvSW5wdXRQb3MsIHBvc0lUb0lucHV0QW5nbGUgKiBrRGlyU2NhbGUpOyAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5CbGVuZFRyZWVTeXN0ZW0uVGVtcFZlY3RvcjJfUE9TSUouc2V0KG1hZ09mSUosIGFuZ2xlSUogKiBrRGlyU2NhbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGVuU3FJSjpudW1iZXIgPSBCQUJZTE9OLkJsZW5kVHJlZVN5c3RlbS5UZW1wVmVjdG9yMl9QT1NJSi5sZW5ndGhTcXVhcmVkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmV3V2VpZ2h0Om51bWJlciA9IEJBQllMT04uVmVjdG9yMi5Eb3QoQkFCWUxPTi5CbGVuZFRyZWVTeXN0ZW0uVGVtcFZlY3RvcjJfUE9TSVAsIEJBQllMT04uQmxlbmRUcmVlU3lzdGVtLlRlbXBWZWN0b3IyX1BPU0lKKSAvIGxlblNxSUo7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdXZWlnaHQgPSAxIC0gbmV3V2VpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3V2VpZ2h0ID0gQkFCWUxPTi5CbGVuZFRyZWVVdGlscy5DbGFtcFZhbHVlKG5ld1dlaWdodCwgMCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB3ZWlnaHQgPSBNYXRoLm1pbihuZXdXZWlnaHQsIHdlaWdodCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYmxlbmRUcmVlLndlaWdodCA9IHdlaWdodDtcbiAgICAgICAgICAgICAgICB0b3RhbFdlaWdodCArPSB3ZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGJsZW5kVHJlZSBvZiBibGVuZFRyZWVBcnJheSkge1xuICAgICAgICAgICAgICAgIGJsZW5kVHJlZS53ZWlnaHQgLz0gdG90YWxXZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHVibGljIHN0YXRpYyBDYWxjdWxhdGUyREZyZWVmb3JtQ2FydGVzaWFuKGlucHV0WDogbnVtYmVyLCBpbnB1dFk6IG51bWJlciwgYmxlbmRUcmVlQXJyYXk6IEJBQllMT04uQmxlbmRUcmVlVmFsdWVbXSk6dm9pZCB7XG4gICAgICAgICAgICBCQUJZTE9OLkJsZW5kVHJlZVN5c3RlbS5UZW1wVmVjdG9yMl9JUC5zZXQoaW5wdXRYLCBpbnB1dFkpO1xuICAgICAgICAgICAgQkFCWUxPTi5CbGVuZFRyZWVTeXN0ZW0uVGVtcFZlY3RvcjJfUE9TSS5zZXQoMCwwKTtcbiAgICAgICAgICAgIEJBQllMT04uQmxlbmRUcmVlU3lzdGVtLlRlbXBWZWN0b3IyX1BPU0ouc2V0KDAsMCk7XG4gICAgICAgICAgICBCQUJZTE9OLkJsZW5kVHJlZVN5c3RlbS5UZW1wVmVjdG9yMl9QT1NJUC5zZXQoMCwwKTtcbiAgICAgICAgICAgIEJBQllMT04uQmxlbmRUcmVlU3lzdGVtLlRlbXBWZWN0b3IyX1BPU0lKLnNldCgwLDApO1xuICAgICAgICAgICAgbGV0IHRvdGFsV2VpZ2h0Om51bWJlciA9IDA7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJsZW5kVHJlZUFycmF5Lmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYmxlbmRUcmVlOkJBQllMT04uQmxlbmRUcmVlVmFsdWUgPSBibGVuZFRyZWVBcnJheVtpXTtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLkJsZW5kVHJlZVN5c3RlbS5UZW1wVmVjdG9yMl9QT1NJLnNldChibGVuZFRyZWUucG9zWCwgYmxlbmRUcmVlLnBvc1kpO1xuICAgICAgICAgICAgICAgIEJBQllMT04uQmxlbmRUcmVlU3lzdGVtLlRlbXBWZWN0b3IyX0lQLnN1YnRyYWN0VG9SZWYoQkFCWUxPTi5CbGVuZFRyZWVTeXN0ZW0uVGVtcFZlY3RvcjJfUE9TSSwgQkFCWUxPTi5CbGVuZFRyZWVTeXN0ZW0uVGVtcFZlY3RvcjJfUE9TSVApO1xuICAgICAgICAgICAgICAgIGxldCB3ZWlnaHQ6bnVtYmVyID0gMTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGJsZW5kVHJlZUFycmF5Lmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChqID09PSBpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uQmxlbmRUcmVlU3lzdGVtLlRlbXBWZWN0b3IyX1BPU0ouc2V0KGJsZW5kVHJlZUFycmF5W2pdLnBvc1gsIGJsZW5kVHJlZUFycmF5W2pdLnBvc1kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5CbGVuZFRyZWVTeXN0ZW0uVGVtcFZlY3RvcjJfUE9TSi5zdWJ0cmFjdFRvUmVmKEJBQllMT04uQmxlbmRUcmVlU3lzdGVtLlRlbXBWZWN0b3IyX1BPU0ksIEJBQllMT04uQmxlbmRUcmVlU3lzdGVtLlRlbXBWZWN0b3IyX1BPU0lKKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxlblNxSUo6bnVtYmVyID0gQkFCWUxPTi5CbGVuZFRyZWVTeXN0ZW0uVGVtcFZlY3RvcjJfUE9TSUoubGVuZ3RoU3F1YXJlZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5ld1dlaWdodDpudW1iZXIgPSBCQUJZTE9OLlZlY3RvcjIuRG90KEJBQllMT04uQmxlbmRUcmVlU3lzdGVtLlRlbXBWZWN0b3IyX1BPU0lQLCBCQUJZTE9OLkJsZW5kVHJlZVN5c3RlbS5UZW1wVmVjdG9yMl9QT1NJSikgLyBsZW5TcUlKO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3V2VpZ2h0ID0gMSAtIG5ld1dlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1dlaWdodCA9IEJBQllMT04uQmxlbmRUcmVlVXRpbHMuQ2xhbXBWYWx1ZShuZXdXZWlnaHQsIDAsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2VpZ2h0ID0gTWF0aC5taW4od2VpZ2h0LCBuZXdXZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJsZW5kVHJlZS53ZWlnaHQgPSB3ZWlnaHQ7XG4gICAgICAgICAgICAgICAgdG90YWxXZWlnaHQgKz0gd2VpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBibGVuZFRyZWUgb2YgYmxlbmRUcmVlQXJyYXkpIHtcbiAgICAgICAgICAgICAgICBibGVuZFRyZWUud2VpZ2h0IC89IHRvdGFsV2VpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByaXZhdGUgc3RhdGljIFRlbXBWZWN0b3IyX0lQOkJBQllMT04uVmVjdG9yMiA9IG5ldyBCQUJZTE9OLlZlY3RvcjIoMCwwKTtcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgVGVtcFZlY3RvcjJfUE9TSTpCQUJZTE9OLlZlY3RvcjIgPSBuZXcgQkFCWUxPTi5WZWN0b3IyKDAsMCk7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIFRlbXBWZWN0b3IyX1BPU0o6QkFCWUxPTi5WZWN0b3IyID0gbmV3IEJBQllMT04uVmVjdG9yMigwLDApO1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBUZW1wVmVjdG9yMl9QT1NJUDpCQUJZTE9OLlZlY3RvcjIgPSBuZXcgQkFCWUxPTi5WZWN0b3IyKDAsMCk7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIFRlbXBWZWN0b3IyX1BPU0lKOkJBQllMT04uVmVjdG9yMiA9IG5ldyBCQUJZTE9OLlZlY3RvcjIoMCwwKTtcbiAgICB9XG5cbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgLy8gU3VwcG9ydCBDbGFzc2VzLCBFbnVtcyBBbmQgSW50ZXJmYWNlc1xuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgIGV4cG9ydCBjbGFzcyBNYWNoaW5lU3RhdGUge1xuICAgICAgICBwdWJsaWMgaGFzaDpudW1iZXI7XG4gICAgICAgIHB1YmxpYyBuYW1lOnN0cmluZztcbiAgICAgICAgcHVibGljIHRhZzpzdHJpbmc7XG4gICAgICAgIHB1YmxpYyB0aW1lOm51bWJlcjtcbiAgICAgICAgcHVibGljIHR5cGU6QkFCWUxPTi5Nb3Rpb25UeXBlO1xuICAgICAgICBwdWJsaWMgcmF0ZTpudW1iZXI7XG4gICAgICAgIHB1YmxpYyBsZW5ndGg6bnVtYmVyO1xuICAgICAgICBwdWJsaWMgbGF5ZXI6c3RyaW5nO1xuICAgICAgICBwdWJsaWMgbGF5ZXJJbmRleDpudW1iZXI7XG4gICAgICAgIHB1YmxpYyBwbGF5ZWQ6bnVtYmVyO1xuICAgICAgICBwdWJsaWMgbWFjaGluZTpzdHJpbmc7XG4gICAgICAgIHB1YmxpYyBtb3Rpb25pZDpudW1iZXI7XG4gICAgICAgIHB1YmxpYyBpbnRlcnJ1cHRlZDpib29sZWFuO1xuICAgICAgICBwdWJsaWMgYXBwYXJlbnRTcGVlZDpudW1iZXI7XG4gICAgICAgIHB1YmxpYyBhdmVyYWdlQW5ndWxhclNwZWVkOm51bWJlcjtcbiAgICAgICAgcHVibGljIGF2ZXJhZ2VEdXJhdGlvbjpudW1iZXI7XG4gICAgICAgIHB1YmxpYyBhdmVyYWdlU3BlZWQ6bnVtYmVyW107XG4gICAgICAgIHB1YmxpYyBjeWNsZU9mZnNldDpudW1iZXI7XG4gICAgICAgIHB1YmxpYyBjeWNsZU9mZnNldFBhcmFtZXRlcjpzdHJpbmc7XG4gICAgICAgIHB1YmxpYyBjeWNsZU9mZnNldFBhcmFtZXRlckFjdGl2ZTpib29sZWFuO1xuICAgICAgICBwdWJsaWMgaUtPbkZlZXQ6Ym9vbGVhbjtcbiAgICAgICAgcHVibGljIG1pcnJvcjpib29sZWFuO1xuICAgICAgICBwdWJsaWMgbWlycm9yUGFyYW1ldGVyOnN0cmluZztcbiAgICAgICAgcHVibGljIGlycm9yUGFyYW1ldGVyQWN0aXZlOmJvb2xlYW47XG4gICAgICAgIHB1YmxpYyBzcGVlZDpudW1iZXI7XG4gICAgICAgIHB1YmxpYyBzcGVlZFBhcmFtZXRlcjpzdHJpbmc7XG4gICAgICAgIHB1YmxpYyBzcGVlZFBhcmFtZXRlckFjdGl2ZTpib29sZWFuO1xuICAgICAgICBwdWJsaWMgYmxlbmR0cmVlOkJBQllMT04uSUJsZW5kVHJlZTtcbiAgICAgICAgcHVibGljIHRyYW5zaXRpb25zOkJBQllMT04uSVRyYW5zaXRpb25bXTtcbiAgICAgICAgcHVibGljIGJlaGF2aW91cnM6QkFCWUxPTi5JQmVoYXZpb3VyW107XG4gICAgICAgIHB1YmxpYyBldmVudHM6QkFCWUxPTi5JQW5pbWF0b3JFdmVudFtdO1xuICAgICAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7fVxuICAgIH1cbiAgICBleHBvcnQgY2xhc3MgVHJhbnNpdGlvbkNoZWNrIHtcbiAgICAgICAgcHVibGljIHJlc3VsdDpzdHJpbmc7XG4gICAgICAgIHB1YmxpYyBvZmZlc3Q6bnVtYmVyO1xuICAgICAgICBwdWJsaWMgYmxlbmRpbmc6bnVtYmVyO1xuICAgICAgICBwdWJsaWMgdHJpZ2dlcmVkOnN0cmluZ1tdO1xuICAgIH1cbiAgICBleHBvcnQgY2xhc3MgQW5pbWF0aW9uTWl4ZXIge1xuICAgICAgICBwdWJsaWMgaW5mbHVlbmNlQnVmZmVyOm51bWJlcjtcbiAgICAgICAgcHVibGljIHBvc2l0aW9uQnVmZmVyOkJBQllMT04uVmVjdG9yMztcbiAgICAgICAgcHVibGljIHJvdGF0aW9uQnVmZmVyOkJBQllMT04uUXVhdGVybmlvbjtcbiAgICAgICAgcHVibGljIHNjYWxpbmdCdWZmZXI6QkFCWUxPTi5WZWN0b3IzO1xuICAgICAgICBwdWJsaWMgb3JpZ2luYWxNYXRyaXg6QkFCWUxPTi5NYXRyaXg7XG4gICAgICAgIHB1YmxpYyBibGVuZGluZ0ZhY3RvcjpudW1iZXI7XG4gICAgICAgIHB1YmxpYyBibGVuZGluZ1NwZWVkOm51bWJlcjtcbiAgICAgICAgcHVibGljIHJvb3RQb3NpdGlvbjpCQUJZTE9OLlZlY3RvcjM7XG4gICAgICAgIHB1YmxpYyByb290Um90YXRpb246QkFCWUxPTi5RdWF0ZXJuaW9uO1xuICAgIH1cbiAgICBleHBvcnQgY2xhc3MgQmxlbmRpbmdXZWlnaHRzIHtcbiAgICAgICAgcHVibGljIHByaW1hcnk6QkFCWUxPTi5JQmxlbmRUcmVlQ2hpbGQ7XG4gICAgICAgIHB1YmxpYyBzZWNvbmRhcnk6QkFCWUxPTi5JQmxlbmRUcmVlQ2hpbGQ7XG4gICAgfVxuICAgIGV4cG9ydCBlbnVtIE1vdGlvblR5cGUge1xuICAgICAgICBDbGlwID0gMCxcbiAgICAgICAgVHJlZSA9IDFcbiAgICB9XG4gICAgZXhwb3J0IGVudW0gQ29uZGl0aW9uTW9kZSB7XG4gICAgICAgIElmID0gMSxcbiAgICAgICAgSWZOb3QgPSAyLFxuICAgICAgICBHcmVhdGVyID0gMyxcbiAgICAgICAgTGVzcyA9IDQsXG4gICAgICAgIEVxdWFscyA9IDYsXG4gICAgICAgIE5vdEVxdWFsID0gN1xuICAgIH1cbiAgICBleHBvcnQgZW51bSBJbnRlcnJ1cHRpb25Tb3VyY2Uge1xuICAgICAgICBOb25lID0gMCxcbiAgICAgICAgU291cmNlID0gMSxcbiAgICAgICAgRGVzdGluYXRpb24gPSAyLFxuICAgICAgICBTb3VyY2VUaGVuRGVzdGluYXRpb24gPSAzLFxuICAgICAgICBEZXN0aW5hdGlvblRoZW5Tb3VyY2UgPSA0XG4gICAgfVxuICAgIGV4cG9ydCBlbnVtIEJsZW5kVHJlZVR5cGUge1xuICAgICAgICBTaW1wbGUxRCA9IDAsXG4gICAgICAgIFNpbXBsZURpcmVjdGlvbmFsMkQgPSAxLFxuICAgICAgICBGcmVlZm9ybURpcmVjdGlvbmFsMkQgPSAyLFxuICAgICAgICBGcmVlZm9ybUNhcnRlc2lhbjJEID0gMyxcbiAgICAgICAgRGlyZWN0ID0gNCxcbiAgICAgICAgQ2xpcCA9IDVcbiAgICB9XG4gICAgZXhwb3J0IGVudW0gQmxlbmRUcmVlUG9zaXRpb24ge1xuICAgICAgICBMb3dlciA9IDAsXG4gICAgICAgIFVwcGVyID0gMSxcbiAgICB9XG4gICAgZXhwb3J0IGVudW0gQW5pbWF0b3JQYXJhbWV0ZXJUeXBlIHtcbiAgICAgICAgRmxvYXQgPSAxLFxuICAgICAgICBJbnQgPSAzLFxuICAgICAgICBCb29sID0gNCxcbiAgICAgICAgVHJpZ2dlciA9IDlcbiAgICB9XG4gICAgZXhwb3J0IGludGVyZmFjZSBJQW5pbWF0b3JFdmVudCB7XG4gICAgICAgIGlkOiBudW1iZXI7XG4gICAgICAgIGNsaXA6IHN0cmluZztcbiAgICAgICAgdGltZTogbnVtYmVyO1xuICAgICAgICBmdW5jdGlvbjogc3RyaW5nO1xuICAgICAgICBpbnRQYXJhbWV0ZXI6IG51bWJlcjtcbiAgICAgICAgZmxvYXRQYXJhbWV0ZXI6IG51bWJlcjtcbiAgICAgICAgc3RyaW5nUGFyYW1ldGVyOiBzdHJpbmc7XG4gICAgICAgIG9iamVjdElkUGFyYW1ldGVyOiBzdHJpbmc7XG4gICAgICAgIG9iamVjdE5hbWVQYXJhbWV0ZXI6IHN0cmluZztcbiAgICB9ICAgIFxuICAgIGV4cG9ydCBpbnRlcmZhY2UgSUF2YXRhck1hc2sge1xuICAgICAgICBoYXNoOm51bWJlcjtcbiAgICAgICAgbWFza05hbWU6c3RyaW5nO1xuICAgICAgICBtYXNrVHlwZTpzdHJpbmc7XG4gICAgICAgIHRyYW5zZm9ybUNvdW50Om51bWJlcjtcbiAgICAgICAgdHJhbnNmb3JtUGF0aHM6c3RyaW5nW107XG4gICAgfVxuICAgIGV4cG9ydCBpbnRlcmZhY2UgSUFuaW1hdGlvbkxheWVyIHtcbiAgICAgICAgaGFzaDpudW1iZXI7XG4gICAgICAgIG5hbWU6c3RyaW5nO1xuICAgICAgICBpbmRleDpudW1iZXI7XG4gICAgICAgIGVudHJ5OnN0cmluZztcbiAgICAgICAgbWFjaGluZTpzdHJpbmc7XG4gICAgICAgIGlLUGFzczpib29sZWFuO1xuICAgICAgICBhdmF0YXJNYXNrOkJBQllMT04uSUF2YXRhck1hc2s7XG4gICAgICAgIGJsZW5kaW5nTW9kZTpudW1iZXI7XG4gICAgICAgIGRlZmF1bHRXZWlnaHQ6bnVtYmVyO1xuICAgICAgICBzeW5jZWRMYXllckluZGV4Om51bWJlcjtcbiAgICAgICAgc3luY2VkTGF5ZXJBZmZlY3RzVGltaW5nOmJvb2xlYW47XG4gICAgICAgIGFuaW1hdGlvblRpbWU6bnVtYmVyO1xuICAgICAgICBhbmltYXRpb25Ob3JtYWw6bnVtYmVyO1xuICAgICAgICBhbmltYXRpb25GaXJzdFJ1bjpib29sZWFuO1xuICAgICAgICBhbmltYXRpb25FbmRGcmFtZTpib29sZWFuO1xuICAgICAgICBhbmltYXRpb25Mb29wRnJhbWU6Ym9vbGVhbjtcbiAgICAgICAgYW5pbWF0aW9uU3RhdGVNYWNoaW5lOkJBQllMT04uTWFjaGluZVN0YXRlO1xuICAgIH1cbiAgICBleHBvcnQgaW50ZXJmYWNlIElBbmltYXRpb25DdXJ2ZSB7XG4gICAgICAgIGxlbmd0aDpudW1iZXI7XG4gICAgICAgIHByZVdyYXBNb2RlOnN0cmluZztcbiAgICAgICAgcG9zdFdyYXBNb2RlOnN0cmluZztcbiAgICAgICAga2V5ZnJhbWVzOkJBQllMT04uSUFuaW1hdGlvbktleWZyYW1lW107XG4gICAgfVxuICAgIGV4cG9ydCBpbnRlcmZhY2UgSUFuaW1hdGlvbktleWZyYW1lIHtcbiAgICAgICAgdGltZTpudW1iZXI7XG4gICAgICAgIHZhbHVlOm51bWJlcjtcbiAgICAgICAgaW5UYW5nZW50Om51bWJlcjtcbiAgICAgICAgb3V0VGFuZ2VudDpudW1iZXI7XG4gICAgICAgIHRhbmdlbnRNb2RlOm51bWJlcjtcbiAgICB9XG4gICAgZXhwb3J0IGludGVyZmFjZSBJQmVoYXZpb3VyIHtcbiAgICAgICAgaGFzaDpudW1iZXI7XG4gICAgICAgIG5hbWU6c3RyaW5nO1xuICAgICAgICBsYXllckluZGV4Om51bWJlcjtcbiAgICAgICAgcHJvcGVydGllczphbnk7XG4gICAgfVxuICAgIGV4cG9ydCBpbnRlcmZhY2UgSVRyYW5zaXRpb24ge1xuICAgICAgICBoYXNoOm51bWJlcjtcbiAgICAgICAgYW55U3RhdGU6Ym9vbGVhbjtcbiAgICAgICAgbGF5ZXJJbmRleDpudW1iZXI7XG4gICAgICAgIG1hY2hpbmVMYXllcjpzdHJpbmc7ICAgICAgICBcbiAgICAgICAgbWFjaGluZU5hbWU6c3RyaW5nOyAgICAgICAgXG4gICAgICAgIGNhblRyYW5zaXRpb25Ub1NlbGY6Ym9vbGVhbjtcbiAgICAgICAgZGVzdGluYXRpb246c3RyaW5nO1xuICAgICAgICBkdXJhdGlvbjpudW1iZXI7XG4gICAgICAgIGV4aXRUaW1lOm51bWJlcjtcbiAgICAgICAgaGFzRXhpdFRpbWU6Ym9vbGVhbjtcbiAgICAgICAgZml4ZWREdXJhdGlvbjpib29sZWFuO1xuICAgICAgICBpbnRTb3VyY2U6QkFCWUxPTi5JbnRlcnJ1cHRpb25Tb3VyY2U7XG4gICAgICAgIGlzRXhpdDpib29sZWFuO1xuICAgICAgICBtdXRlOmJvb2xlYW47XG4gICAgICAgIG5hbWU6c3RyaW5nO1xuICAgICAgICBvZmZzZXQ6bnVtYmVyO1xuICAgICAgICBvcmRlcmVkSW50OmJvb2xlYW47XG4gICAgICAgIHNvbG86Ym9vbGVhbjtcbiAgICAgICAgY29uZGl0aW9uczpCQUJZTE9OLklDb25kaXRpb25bXTtcbiAgICB9XG4gICAgZXhwb3J0IGludGVyZmFjZSBJQ29uZGl0aW9uIHtcbiAgICAgICAgaGFzaDpudW1iZXI7XG4gICAgICAgIG1vZGU6QkFCWUxPTi5Db25kaXRpb25Nb2RlO1xuICAgICAgICBwYXJhbWV0ZXI6c3RyaW5nO1xuICAgICAgICB0aHJlc2hvbGQ6bnVtYmVyO1xuICAgIH1cbiAgICBleHBvcnQgaW50ZXJmYWNlIElCbGVuZFRyZWUge1xuICAgICAgICBoYXNoOm51bWJlcjtcbiAgICAgICAgbmFtZTpzdHJpbmc7XG4gICAgICAgIHN0YXRlOnN0cmluZztcbiAgICAgICAgY2hpbGRyZW46QkFCWUxPTi5JQmxlbmRUcmVlQ2hpbGRbXTtcbiAgICAgICAgbGF5ZXJJbmRleDpudW1iZXI7XG4gICAgICAgIGFwcGFyZW50U3BlZWQ6bnVtYmVyO1xuICAgICAgICBhdmVyYWdlQW5ndWxhclNwZWVkOm51bWJlcjtcbiAgICAgICAgYXZlcmFnZUR1cmF0aW9uOm51bWJlcjtcbiAgICAgICAgYXZlcmFnZVNwZWVkOm51bWJlcltdO1xuICAgICAgICBibGVuZFBhcmFtZXRlclg6c3RyaW5nO1xuICAgICAgICBibGVuZFBhcmFtZXRlclk6c3RyaW5nO1xuICAgICAgICBibGVuZFR5cGU6QkFCWUxPTi5CbGVuZFRyZWVUeXBlO1xuICAgICAgICBpc0FuaW1hdG9yTW90aW9uOmJvb2xlYW47XG4gICAgICAgIGlzSHVtYW5Nb3Rpb246Ym9vbGVhbjtcbiAgICAgICAgaXNMb29waW5nOmJvb2xlYW47XG4gICAgICAgIG1pblRocmVzaG9sZDpudW1iZXI7XG4gICAgICAgIG1heFRocmVzaG9sZDpudW1iZXI7XG4gICAgICAgIHVzZUF1dG9tYXRpY1RocmVzaG9sZHM6Ym9vbGVhbjtcbiAgICAgICAgdmFsdWVQYXJhbWV0ZXJYOm51bWJlcjtcbiAgICAgICAgdmFsdWVQYXJhbWV0ZXJZOm51bWJlcjtcbiAgICB9XG4gICAgZXhwb3J0IGludGVyZmFjZSBJQmxlbmRUcmVlQ2hpbGQge1xuICAgICAgICBoYXNoOm51bWJlcjtcbiAgICAgICAgbGF5ZXJJbmRleDpudW1iZXI7XG4gICAgICAgIGN5Y2xlT2Zmc2V0Om51bWJlcjtcbiAgICAgICAgZGlyZWN0QmxlbmRQYXJhbWV0ZXI6c3RyaW5nO1xuICAgICAgICBhcHBhcmVudFNwZWVkOm51bWJlcjtcbiAgICAgICAgYXZlcmFnZUFuZ3VsYXJTcGVlZDpudW1iZXI7XG4gICAgICAgIGF2ZXJhZ2VEdXJhdGlvbjpudW1iZXI7XG4gICAgICAgIGF2ZXJhZ2VTcGVlZDpudW1iZXJbXTtcbiAgICAgICAgbWlycm9yOmJvb2xlYW47XG4gICAgICAgIHR5cGU6QkFCWUxPTi5Nb3Rpb25UeXBlO1xuICAgICAgICBtb3Rpb246c3RyaW5nO1xuICAgICAgICBwb3NpdGlvblg6bnVtYmVyO1xuICAgICAgICBwb3NpdGlvblk6bnVtYmVyO1xuICAgICAgICB0aHJlc2hvbGQ6bnVtYmVyO1xuICAgICAgICB0aW1lc2NhbGU6bnVtYmVyO1xuICAgICAgICBzdWJ0cmVlOiBCQUJZTE9OLklCbGVuZFRyZWU7XG4gICAgICAgIHdlaWdodDpudW1iZXI7XG4gICAgICAgIHJhdGlvOm51bWJlcjtcbiAgICAgICAgdHJhY2s6QkFCWUxPTi5BbmltYXRpb25Hcm91cDtcbiAgICB9XG59IiwibW9kdWxlIEJBQllMT04ge1xuICAgIC8qKlxuICAgICAqIEJhYnlsb24gYXVkaW8gc291cmNlIG1hbmFnZXIgcHJvIGNsYXNzXG4gICAgICogQGNsYXNzIEF1ZGlvU291cmNlIC0gQWxsIHJpZ2h0cyByZXNlcnZlZCAoYykgMjAyMCBNYWNrZXkgS2luYXJkXG4gICAgICovXG4gICAgZXhwb3J0IGNsYXNzIEF1ZGlvU291cmNlIGV4dGVuZHMgQkFCWUxPTi5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwcml2YXRlIF9hdWRpbzpCQUJZTE9OLlNvdW5kID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfbmFtZTpzdHJpbmcgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF9maWxlOnN0cmluZyA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX2xvb3A6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIF9tdXRlOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBfdm9sdW1lOm51bWJlciA9IDE7XG4gICAgICAgIHByaXZhdGUgX3BpdGNoOm51bWJlciA9IDE7XG4gICAgICAgIHByaXZhdGUgX3ByaW9yaXR5Om51bWJlciA9IDEyODtcbiAgICAgICAgcHJpdmF0ZSBfcGFuc3RlcmVvOm51bWJlciA9IDA7XG4gICAgICAgIHByaXZhdGUgX21pbmRpc3RhbmNlOm51bWJlciA9IDE7XG4gICAgICAgIHByaXZhdGUgX21heGRpc3RhbmNlOm51bWJlciA9IDUwO1xuICAgICAgICBwcml2YXRlIF9yb2xsb2ZmbW9kZTpzdHJpbmcgPSBcImxpbmVhclwiO1xuICAgICAgICBwcml2YXRlIF9yb2xsb2ZmZmFjdG9yOm51bWJlciA9IDE7XG4gICAgICAgIHByaXZhdGUgX3BsYXlvbmF3YWtlOmJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBwcml2YXRlIF9zcGF0aWFsYmxlbmQ6bnVtYmVyID0gMDtcbiAgICAgICAgcHJpdmF0ZSBfcmV2ZXJiem9uZW1peDpudW1iZXIgPSAxO1xuICAgICAgICBwcml2YXRlIF9sYXN0bXV0ZWR2b2x1bWU6bnVtYmVyID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfYnlwYXNzZWZmZWN0czpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgX2J5cGFzc3JldmVyYnpvbmVzOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBfYnlwYXNzbGlzdGVuZXJlZmZlY3RzOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBfaW5pdGlhbGl6ZWRSZWFkeUluc3RhbmNlOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHVibGljIGdldFNvdW5kQ2xpcCgpOkJBQllMT04uU291bmQgeyByZXR1cm4gdGhpcy5fYXVkaW87IH1cbiAgICAgICAgcHVibGljIGdldEF1ZGlvRWxlbWVudCgpOkhUTUxBdWRpb0VsZW1lbnQgeyByZXR1cm4gKHRoaXMuX2F1ZGlvICE9IG51bGwpID8gKDxhbnk+dGhpcy5fYXVkaW8pLl9odG1sQXVkaW9FbGVtZW50IDogbnVsbCB9XG5cbiAgICAgICAgLyoqIFJlZ2lzdGVyIGhhbmRsZXIgdGhhdCBpcyB0cmlnZ2VyZWQgd2hlbiB0aGUgYXVkaW8gY2xpcCBpcyByZWFkeSAqL1xuICAgICAgICBwdWJsaWMgb25SZWFkeU9ic2VydmFibGUgPSBuZXcgQkFCWUxPTi5PYnNlcnZhYmxlPEJBQllMT04uU291bmQ+KCk7XG5cbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlKCk6dm9pZCB7IHRoaXMuYXdha2VBdWRpb1NvdXJjZSgpOyB9XG4gICAgICAgIHByb3RlY3RlZCBkZXN0cm95KCk6IHZvaWQgeyB0aGlzLmRlc3Ryb3lBdWRpb1NvdXJjZSgpOyB9XG4gICAgICAgIFxuICAgICAgICBwcm90ZWN0ZWQgYXdha2VBdWRpb1NvdXJjZSgpOnZvaWQge1xuICAgICAgICAgICAgdGhpcy5fbmFtZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJuYW1lXCIsIHRoaXMuX25hbWUpO1xuICAgICAgICAgICAgdGhpcy5fZmlsZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJmaWxlXCIsIHRoaXMuX2ZpbGUpO1xuICAgICAgICAgICAgdGhpcy5fbG9vcCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJsb29wXCIsIHRoaXMuX2xvb3ApO1xuICAgICAgICAgICAgdGhpcy5fbXV0ZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtdXRlXCIsIHRoaXMuX211dGUpO1xuICAgICAgICAgICAgdGhpcy5fdm9sdW1lID0gdGhpcy5nZXRQcm9wZXJ0eShcInZvbHVtZVwiLCB0aGlzLl92b2x1bWUpO1xuICAgICAgICAgICAgdGhpcy5fcGl0Y2ggPSB0aGlzLmdldFByb3BlcnR5KFwicGl0Y2hcIiwgdGhpcy5fcGl0Y2gpO1xuICAgICAgICAgICAgdGhpcy5fcHJpb3JpdHkgPSB0aGlzLmdldFByb3BlcnR5KFwicHJpb3JpdHlcIiwgdGhpcy5fcHJpb3JpdHkpO1xuICAgICAgICAgICAgdGhpcy5fcGFuc3RlcmVvID0gdGhpcy5nZXRQcm9wZXJ0eShcInBhbnN0ZXJlb1wiLCB0aGlzLl9wYW5zdGVyZW8pO1xuICAgICAgICAgICAgdGhpcy5fcGxheW9uYXdha2UgPSB0aGlzLmdldFByb3BlcnR5KFwicGxheW9uYXdha2VcIiwgdGhpcy5fcGxheW9uYXdha2UpO1xuICAgICAgICAgICAgdGhpcy5fbWluZGlzdGFuY2UgPSB0aGlzLmdldFByb3BlcnR5KFwibWluZGlzdGFuY2VcIiwgdGhpcy5fbWluZGlzdGFuY2UpO1xuICAgICAgICAgICAgdGhpcy5fbWF4ZGlzdGFuY2UgPSB0aGlzLmdldFByb3BlcnR5KFwibWF4ZGlzdGFuY2VcIiwgdGhpcy5fbWF4ZGlzdGFuY2UpO1xuICAgICAgICAgICAgdGhpcy5fcm9sbG9mZm1vZGUgPSB0aGlzLmdldFByb3BlcnR5KFwicm9sbG9mZm1vZGVcIiwgdGhpcy5fcm9sbG9mZm1vZGUpO1xuICAgICAgICAgICAgdGhpcy5fcm9sbG9mZmZhY3RvciA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyb2xsb2ZmZmFjdG9yXCIsIHRoaXMuX3JvbGxvZmZmYWN0b3IpO1xuICAgICAgICAgICAgdGhpcy5fc3BhdGlhbGJsZW5kID0gdGhpcy5nZXRQcm9wZXJ0eShcInNwYXRpYWxibGVuZFwiLCB0aGlzLl9zcGF0aWFsYmxlbmQpO1xuICAgICAgICAgICAgdGhpcy5fcmV2ZXJiem9uZW1peCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyZXZlcmJ6b25lbWl4XCIsIHRoaXMuX3JldmVyYnpvbmVtaXgpO1xuICAgICAgICAgICAgdGhpcy5fYnlwYXNzZWZmZWN0cyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJieXBhc3NlZmZlY3RzXCIsIHRoaXMuX2J5cGFzc2VmZmVjdHMpO1xuICAgICAgICAgICAgdGhpcy5fYnlwYXNzcmV2ZXJiem9uZXMgPSB0aGlzLmdldFByb3BlcnR5KFwiYnlwYXNzcmV2ZXJiem9uZXNcIiwgdGhpcy5fYnlwYXNzcmV2ZXJiem9uZXMpO1xuICAgICAgICAgICAgdGhpcy5fYnlwYXNzbGlzdGVuZXJlZmZlY3RzID0gdGhpcy5nZXRQcm9wZXJ0eShcImJ5cGFzc2xpc3RlbmVyZWZmZWN0c1wiLCB0aGlzLl9ieXBhc3NsaXN0ZW5lcmVmZmVjdHMpO1xuICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgIGNvbnN0IGh0bWxBdWRpb0VsZW1lbnRSZXF1aXJlZDpib29sZWFuID0gKHRoaXMudHJhbnNmb3JtLm1ldGFkYXRhICE9IG51bGwgJiYgdGhpcy50cmFuc2Zvcm0ubWV0YWRhdGEudnR0ICE9IG51bGwgJiYgdGhpcy50cmFuc2Zvcm0ubWV0YWRhdGEudnR0ID09PSB0cnVlKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9uYW1lID09IG51bGwgfHwgdGhpcy5fbmFtZSA9PT0gXCJcIikgdGhpcy5fbmFtZSA9IFwiVW5rbm93blwiOyAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHRoaXMuX2ZpbGUgIT0gbnVsbCAmJiB0aGlzLl9maWxlICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgcm9vdFVybDpzdHJpbmcgPSBCQUJZTE9OLlNjZW5lTWFuYWdlci5HZXRSb290VXJsKHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNwYXRpYWxCbGVuZDpib29sZWFuID0gKHRoaXMuX3NwYXRpYWxibGVuZCA+PSAwLjEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlTW9kZWw6c3RyaW5nID0gKHRoaXMuX3JvbGxvZmZtb2RlID09PSBcImxvZ2FyaXRobWljXCIpID8gXCJleHBvbmVudGlhbFwiIDogXCJsaW5lYXJcIjtcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIFRPRE8gLSBVc2UgQ3VzdG9tIExvYWRlciBGb3IgUHJvZ3Jlc3MgLSA/Pz9cbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIHRoaXMuX2F1ZGlvID0gbmV3IEJBQllMT04uU291bmQodGhpcy5fbmFtZSwgKHJvb3RVcmwgKyB0aGlzLl9maWxlKSwgdGhpcy5zY2VuZSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fbXV0ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbGFzdG11dGVkdm9sdW1lID0gdGhpcy5fdm9sdW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYXVkaW8uc2V0Vm9sdW1lKDApO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYXVkaW8uc2V0Vm9sdW1lKHRoaXMuX3ZvbHVtZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYXVkaW8uc2V0Vm9sdW1lKCh0aGlzLl9tdXRlID09PSB0cnVlKSA/IDAgOiB0aGlzLl92b2x1bWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hdWRpby5zZXRQbGF5YmFja1JhdGUodGhpcy5fcGl0Y2gpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplZFJlYWR5SW5zdGFuY2UgPSB0cnVlOyAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9uUmVhZHlPYnNlcnZhYmxlLmhhc09ic2VydmVycygpID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uUmVhZHlPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLl9hdWRpbyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCB7IFxuICAgICAgICAgICAgICAgICAgICBsb29wOiB0aGlzLl9sb29wLCBcbiAgICAgICAgICAgICAgICAgICAgYXV0b3BsYXk6IHRoaXMuX3BsYXlvbmF3YWtlLCBcbiAgICAgICAgICAgICAgICAgICAgcmVmRGlzdGFuY2U6IHRoaXMuX21pbmRpc3RhbmNlLCBcbiAgICAgICAgICAgICAgICAgICAgbWF4RGlzdGFuY2U6IHRoaXMuX21heGRpc3RhbmNlLFxuICAgICAgICAgICAgICAgICAgICByb2xsb2ZmRmFjdG9yOiB0aGlzLl9yb2xsb2ZmZmFjdG9yLFxuICAgICAgICAgICAgICAgICAgICBzcGF0aWFsU291bmQ6IHNwYXRpYWxCbGVuZCxcbiAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2VNb2RlbDogZGlzdGFuY2VNb2RlbCxcbiAgICAgICAgICAgICAgICAgICAgc3RyZWFtaW5nOiBodG1sQXVkaW9FbGVtZW50UmVxdWlyZWRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLl9hdWRpby5zZXRQb3NpdGlvbih0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi5jbG9uZSgpKTtcbiAgICAgICAgICAgICAgICBpZiAoc3BhdGlhbEJsZW5kID09PSB0cnVlKSB0aGlzLl9hdWRpby5hdHRhY2hUb01lc2godGhpcy50cmFuc2Zvcm0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByb3RlY3RlZCBkZXN0cm95QXVkaW9Tb3VyY2UoKTp2b2lkIHtcbiAgICAgICAgICAgIHRoaXMub25SZWFkeU9ic2VydmFibGUuY2xlYXIoKTtcbiAgICAgICAgICAgIHRoaXMub25SZWFkeU9ic2VydmFibGUgPSBudWxsO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2F1ZGlvICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hdWRpby5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fYXVkaW8gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXRzIHRoZSByZWFkeSBzdGF0dXMgZm9yIHRyYWNrXG4gICAgICAgICAqL1xuICAgICAgICBwdWJsaWMgaXNSZWFkeSgpOiBib29sZWFuIHtcbiAgICAgICAgICAgIGxldCByZXN1bHQ6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2F1ZGlvICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLl9hdWRpby5pc1JlYWR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXRzIHRoZSBwbGF5aW5nIHN0YXR1cyBmb3IgdHJhY2tcbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyBpc1BsYXlpbmcoKTogYm9vbGVhbiB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0OmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9hdWRpbyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5fYXVkaW8uaXNQbGF5aW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogR2V0cyB0aGUgcGF1c2VkIHN0YXR1cyBmb3IgdHJhY2tcbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyBpc1BhdXNlZCgpOiBib29sZWFuIHtcbiAgICAgICAgICAgIGxldCByZXN1bHQ6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2F1ZGlvICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLl9hdWRpby5pc1BhdXNlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBsYXkgdGhlIHNvdW5kIHRyYWNrXG4gICAgICAgICAqIEBwYXJhbSB0aW1lIChvcHRpb25hbCkgU3RhcnQgdGhlIHNvdW5kIGFmdGVyIFggc2Vjb25kcy4gU3RhcnQgaW1tZWRpYXRlbHkgKDApIGJ5IGRlZmF1bHQuXG4gICAgICAgICAqIEBwYXJhbSBvZmZzZXQgKG9wdGlvbmFsKSBTdGFydCB0aGUgc291bmQgYXQgYSBzcGVjaWZpYyB0aW1lIGluIHNlY29uZHNcbiAgICAgICAgICogQHBhcmFtIGxlbmd0aCAob3B0aW9uYWwpIFNvdW5kIGR1cmF0aW9uIChpbiBzZWNvbmRzKVxuICAgICAgICAgKi9cbiAgICAgICAgcHVibGljIHBsYXkodGltZT86IG51bWJlciwgb2Zmc2V0PzogbnVtYmVyLCBsZW5ndGg/OiBudW1iZXIpOmJvb2xlYW4ge1xuICAgICAgICAgICAgbGV0IHJlc3VsdDpib29sZWFuID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAodGhpcy5fYXVkaW8gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pbml0aWFsaXplZFJlYWR5SW5zdGFuY2UgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYXVkaW8ucGxheSh0aW1lLCBvZmZzZXQsIGxlbmd0aCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vblJlYWR5T2JzZXJ2YWJsZS5hZGRPbmNlKCgpPT57IHRoaXMuX2F1ZGlvLnBsYXkodGltZSwgb2Zmc2V0LCBsZW5ndGgpOyB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBhdXNlIHRoZSBzb3VuZCB0cmFja1xuICAgICAgICAgKi9cbiAgICAgICAgcHVibGljIHBhdXNlKCk6Ym9vbGVhbiB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0OmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9hdWRpbyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYXVkaW8ucGF1c2UoKTtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogU3RvcCB0aGUgc291bmQgdHJhY2tcbiAgICAgICAgICogQHBhcmFtIHRpbWUgKG9wdGlvbmFsKSBTdGFydCB0aGUgc291bmQgYWZ0ZXIgWCBzZWNvbmRzLiBTdGFydCBpbW1lZGlhdGVseSAoMCkgYnkgZGVmYXVsdC5cbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyBzdG9wKHRpbWU/OiBudW1iZXIpOmJvb2xlYW4ge1xuICAgICAgICAgICAgbGV0IHJlc3VsdDpib29sZWFuID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAodGhpcy5fYXVkaW8gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2F1ZGlvLnN0b3AodGltZSk7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE11dGUgdGhlIHNvdW5kIHRyYWNrXG4gICAgICAgICAqIEBwYXJhbSB0aW1lIChvcHRpb25hbCkgTXV0ZSB0aGUgc291bmQgYWZ0ZXIgWCBzZWNvbmRzLiBTdGFydCBpbW1lZGlhdGVseSAoMCkgYnkgZGVmYXVsdC5cbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyBtdXRlKHRpbWU/OiBudW1iZXIpOmJvb2xlYW4ge1xuICAgICAgICAgICAgbGV0IHJlc3VsdDpib29sZWFuID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAodGhpcy5fYXVkaW8gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xhc3RtdXRlZHZvbHVtZSA9IHRoaXMuX2F1ZGlvLmdldFZvbHVtZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2F1ZGlvLnNldFZvbHVtZSgwLCB0aW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVubXV0ZSB0aGUgc291bmQgdHJhY2tcbiAgICAgICAgICogQHBhcmFtIHRpbWUgKG9wdGlvbmFsKSBVbm11dGUgdGhlIHNvdW5kIGFmdGVyIFggc2Vjb25kcy4gU3RhcnQgaW1tZWRpYXRlbHkgKDApIGJ5IGRlZmF1bHQuXG4gICAgICAgICAqL1xuICAgICAgICBwdWJsaWMgdW5tdXRlKHRpbWU/OiBudW1iZXIpOmJvb2xlYW4ge1xuICAgICAgICAgICAgbGV0IHJlc3VsdDpib29sZWFuID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAodGhpcy5fYXVkaW8gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9sYXN0bXV0ZWR2b2x1bWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hdWRpby5zZXRWb2x1bWUodGhpcy5fbGFzdG11dGVkdm9sdW1lLCB0aW1lKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbGFzdG11dGVkdm9sdW1lID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXRzIHRoZSB2b2x1bWUgb2YgdGhlIHRyYWNrXG4gICAgICAgICAqL1xuICAgICAgICBwdWJsaWMgZ2V0Vm9sdW1lKCk6IG51bWJlciB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0Om51bWJlciA9IDA7XG4gICAgICAgICAgICBpZiAodGhpcy5fYXVkaW8gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuX2F1ZGlvLmdldFZvbHVtZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyB0aGUgdm9sdW1lIG9mIHRoZSB0cmFja1xuICAgICAgICAgKiBAcGFyYW0gdm9sdW1lIERlZmluZSB0aGUgbmV3IHZvbHVtZSBvZiB0aGUgc291bmRcbiAgICAgICAgICogQHBhcmFtIHRpbWUgRGVmaW5lIHRpbWUgZm9yIGdyYWR1YWwgY2hhbmdlIHRvIG5ldyB2b2x1bWVcbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyBzZXRWb2x1bWUodm9sdW1lOiBudW1iZXIsIHRpbWU/OiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgICAgIGxldCByZXN1bHQ6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2F1ZGlvICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hdWRpby5zZXRWb2x1bWUodm9sdW1lLCB0aW1lKTtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogR2V0cyB0aGUgc3BhdGlhbCBzb3VuZCBvcHRpb24gb2YgdGhlIHRyYWNrXG4gICAgICAgICAqL1xuICAgICAgICBwdWJsaWMgZ2V0U3BhdGlhbFNvdW5kKCk6IGJvb2xlYW4ge1xuICAgICAgICAgICAgbGV0IHJlc3VsdDpib29sZWFuID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAodGhpcy5fYXVkaW8gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuX2F1ZGlvLnNwYXRpYWxTb3VuZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldHMgdGhlIHNwYXRpYWwgc291bmQgb3B0aW9uIG9mIHRoZSB0cmFja1xuICAgICAgICAgKiBAcGFyYW0gdmFsdWUgRGVmaW5lIHRoZSB2YWx1ZSBvZiB0aGUgc3BhdGlhbCBzb3VuZFxuICAgICAgICAgKi9cbiAgICAgICAgcHVibGljIHNldFNwYXRpYWxTb3VuZCh2YWx1ZTpib29sZWFuKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5fYXVkaW8gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2F1ZGlvLnNwYXRpYWxTb3VuZCA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIHRoZSBzb3VuZCB0cmFjayBwbGF5YmFjayBzcGVlZFxuICAgICAgICAgKiBAcGFyYW0gcmF0ZSB0aGUgYXVkaW8gcGxheWJhY2sgcmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgcHVibGljIHNldFBsYXliYWNrU3BlZWQocmF0ZTogbnVtYmVyKTp2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9hdWRpbyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYXVkaW8uc2V0UGxheWJhY2tSYXRlKHJhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXRzIHRoZSBjdXJyZW50IHRpbWUgb2YgdGhlIHRyYWNrXG4gICAgICAgICAqL1xuICAgICAgICBwdWJsaWMgZ2V0Q3VycmVudFRyYWNrVGltZSgpOiBudW1iZXIge1xuICAgICAgICAgICAgbGV0IHJlc3VsdDpudW1iZXIgPSAwO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2F1ZGlvICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLl9hdWRpby5jdXJyZW50VGltZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICB9XG59IiwibW9kdWxlIEJBQllMT04ge1xuICAgIC8qKlxuICAgICAqIEJhYnlsb24ga2luZW1hdGljIGNoYXJhY3RlciBjb250cm9sbGVyIHBybyBjbGFzcyAoTmF0aXZlIEJ1bGxldCBQaHlzaWNzIDIuODIpXG4gICAgICogQGNsYXNzIENoYXJhY3RlckNvbnRyb2xsZXIgLSBBbGwgcmlnaHRzIHJlc2VydmVkIChjKSAyMDIwIE1hY2tleSBLaW5hcmRcbiAgICAgKi9cbiAgICBleHBvcnQgY2xhc3MgQ2hhcmFjdGVyQ29udHJvbGxlciBleHRlbmRzIEJBQllMT04uU2NyaXB0Q29tcG9uZW50IHtcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgTUFSR0lOX0ZBQ1RPUjpudW1iZXIgPSAtMC4wNDtcbiAgICAgICAgcHJpdmF0ZSBfYWJzdHJhY3RNZXNoOkJBQllMT04uQWJzdHJhY3RNZXNoID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBfYXZhdGFyUmFkaXVzOm51bWJlciA9IDAuNTtcbiAgICAgICAgcHJpdmF0ZSBfYXZhdGFySGVpZ2h0Om51bWJlciA9IDI7XG4gICAgICAgIHByaXZhdGUgX2NlbnRlck9mZnNldDpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgcHJpdmF0ZSBfc2tpbldpZHRoOm51bWJlciA9IDAuMDg7XG4gICAgICAgIHByaXZhdGUgX3N0ZXBPZmZzZXQ6bnVtYmVyID0gMC4zO1xuICAgICAgICBwcml2YXRlIF9zbG9wZUxpbWl0Om51bWJlciA9IDQ1O1xuICAgICAgICBwcml2YXRlIF9jYXBzdWxlU2VnbWVudHM6bnVtYmVyID0gMTY7XG4gICAgICAgIHByaXZhdGUgX21pbk1vdmVEaXN0YW5jZTpudW1iZXIgPSAwLjAwMTtcbiAgICAgICAgcHJpdmF0ZSBfaXNQaHlzaWNzUmVhZHk6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwcml2YXRlIF9tYXhDb2xsaXNpb25zOm51bWJlciA9IDQ7XG4gICAgICAgIHByaXZhdGUgX3VzZUdob3N0U3dlZXBUZXN0OmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBfdG1wQ29sbGlzaW9uQ29udGFjdHM6Q29sbGlzaW9uQ29udGFjdEluZm9bXSA9IG51bGw7XG5cbiAgICAgICAgcHVibGljIHVwZGF0ZVBvc2l0aW9uOmJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBwdWJsaWMgZ2V0SW50ZXJuYWxDaGFyYWN0ZXIoKTphbnkgeyByZXR1cm4gdGhpcy5tX2NoYXJhY3RlcjsgfVxuICAgICAgICBwdWJsaWMgZ2V0QXZhdGFyUmFkaXVzKCk6bnVtYmVyIHsgcmV0dXJuIHRoaXMuX2F2YXRhclJhZGl1czsgfVxuICAgICAgICBwdWJsaWMgZ2V0QXZhdGFySGVpZ2h0KCk6bnVtYmVyIHsgcmV0dXJuIHRoaXMuX2F2YXRhckhlaWdodDsgfVxuICAgICAgICBwdWJsaWMgZ2V0U2tpbldpZHRoKCk6bnVtYmVyIHsgcmV0dXJuIHRoaXMuX3NraW5XaWR0aDsgfVxuICAgICAgICBwdWJsaWMgZ2V0U3RlcE9mZnNldCgpOm51bWJlciB7IHJldHVybiB0aGlzLl9zdGVwT2Zmc2V0OyB9XG4gICAgICAgIHB1YmxpYyBnZXRVc2VTd2VlcFRlc3QoKTphbnkgeyByZXR1cm4gdGhpcy5fdXNlR2hvc3RTd2VlcFRlc3Q7IH1cbiAgICAgICAgcHVibGljIGdldE1pbk1vdmVEaXN0YW5jZSgpOm51bWJlciB7IHJldHVybiB0aGlzLl9taW5Nb3ZlRGlzdGFuY2U7IH1cbiAgICAgICAgcHVibGljIHNldE1pbk1vdmVEaXN0YW5jZShkaXN0YW5jZTpudW1iZXIpOnZvaWQgeyB0aGlzLl9taW5Nb3ZlRGlzdGFuY2UgPSBkaXN0YW5jZTsgfVxuICAgICAgICBwdWJsaWMgZ2V0VmVydGljYWxWZWxvY2l0eSgpOm51bWJlciB7IHJldHVybiAodGhpcy5tX2NoYXJhY3RlciAhPSBudWxsICYmIHRoaXMubV9jaGFyYWN0ZXIuZ2V0VmVydGljYWxWZWxvY2l0eSkgPyB0aGlzLm1fY2hhcmFjdGVyLmdldFZlcnRpY2FsVmVsb2NpdHkoKSA6IDA7IH0gLy8gTm90ZTogVG9vbGtpdCBBZGRvbiBGdW5jdGlvblxuICAgICAgICBwdWJsaWMgZ2V0QWRkZWRNYXJnaW4oKTpudW1iZXIgeyByZXR1cm4gKHRoaXMubV9jaGFyYWN0ZXIgIT0gbnVsbCAmJiB0aGlzLm1fY2hhcmFjdGVyLmdldEFkZGVkTWFyZ2luKSA/IHRoaXMubV9jaGFyYWN0ZXIuZ2V0QWRkZWRNYXJnaW4oKSA6IDA7IH0gLy8gTm90ZTogVG9vbGtpdCBBZGRvbiBGdW5jdGlvblxuICAgICAgICBwdWJsaWMgc2V0QWRkZWRNYXJnaW4obWFyZ2luOm51bWJlcik6dm9pZCB7IGlmICh0aGlzLm1fY2hhcmFjdGVyICE9IG51bGwgJiYgdGhpcy5tX2NoYXJhY3Rlci5nZXRBZGRlZE1hcmdpbikgdGhpcy5tX2NoYXJhY3Rlci5zZXRBZGRlZE1hcmdpbihtYXJnaW4pOyB9IC8vIE5vdGU6IFRvb2xraXQgQWRkb24gRnVuY3Rpb25cbiAgICAgICAgcHVibGljIHNldE1heEp1bXBIZWlnaHQobWF4SnVtcEhlaWdodDpudW1iZXIpOnZvaWQgeyBpZiAodGhpcy5tX2NoYXJhY3RlciAhPSBudWxsKSB0aGlzLm1fY2hhcmFjdGVyLnNldE1heEp1bXBIZWlnaHQobWF4SnVtcEhlaWdodCk7IH1cbiAgICAgICAgcHVibGljIHNldEZhbGxpbmdTcGVlZChmYWxsU3BlZWQ6bnVtYmVyKTp2b2lkIHsgaWYgKHRoaXMubV9jaGFyYWN0ZXIgIT0gbnVsbCkgdGhpcy5tX2NoYXJhY3Rlci5zZXRGYWxsU3BlZWQoZmFsbFNwZWVkKTsgfVxuICAgICAgICBwdWJsaWMgZ2V0U2xvcGVMaW1pdCgpOm51bWJlciB7IHJldHVybiAodGhpcy5tX2NoYXJhY3RlciAhPSBudWxsKSA/IHRoaXMubV9jaGFyYWN0ZXIuZ2V0TWF4U2xvcGUoKSA6IDA7IH1cbiAgICAgICAgcHVibGljIHNldFNsb3BlTGltaXQoc2xvcGVSYWRpYW5zOm51bWJlcik6dm9pZCB7IGlmICh0aGlzLm1fY2hhcmFjdGVyICE9IG51bGwpIHRoaXMubV9jaGFyYWN0ZXIuc2V0TWF4U2xvcGUoc2xvcGVSYWRpYW5zKTsgfVxuICAgICAgICBwdWJsaWMgc2V0VXBBeGlzKGF4aXM6bnVtYmVyKTp2b2lkIHsgaWYgKHRoaXMubV9jaGFyYWN0ZXIgIT0gbnVsbCkgdGhpcy5tX2NoYXJhY3Rlci5zZXRVcEF4aXMoYXhpcyk7IH1cbiAgICAgICAgcHVibGljIGdldEdyYXZpdHkoKTpudW1iZXIgeyByZXR1cm4gKHRoaXMubV9jaGFyYWN0ZXIgIT0gbnVsbCkgPyB0aGlzLm1fY2hhcmFjdGVyLmdldEdyYXZpdHkoKSA6IDA7IH1cbiAgICAgICAgcHVibGljIHNldEdyYXZpdHkoZ3Jhdml0eTpudW1iZXIpOnZvaWQgeyBpZiAodGhpcy5tX2NoYXJhY3RlciAhPSBudWxsKSB0aGlzLm1fY2hhcmFjdGVyLnNldEdyYXZpdHkoZ3Jhdml0eSk7IH1cbiAgICAgICAgcHVibGljIGlzR3JvdW5kZWQoKTpib29sZWFuIHsgcmV0dXJuICh0aGlzLm1fY2hhcmFjdGVyICE9IG51bGwpID8gdGhpcy5tX2NoYXJhY3Rlci5vbkdyb3VuZCgpIDogZmFsc2U7IH1cbiAgICAgICAgcHVibGljIGlzUmVhZHkoKTpib29sZWFuIHsgcmV0dXJuICh0aGlzLm1fY2hhcmFjdGVyICE9IG51bGwpOyB9XG4gICAgICAgIHB1YmxpYyBjYW5KdW1wKCk6Ym9vbGVhbiB7IHJldHVybiAodGhpcy5tX2NoYXJhY3RlciAhPSBudWxsKSA/IHRoaXMubV9jaGFyYWN0ZXIuY2FuSnVtcCgpIDogZmFsc2U7IH1cblxuICAgICAgICBwcm90ZWN0ZWQgbV9jaGFyYWN0ZXI6YW55ID0gbnVsbDtcbiAgICAgICAgcHJvdGVjdGVkIG1fZ2hvc3RTaGFwZTphbnkgPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgbV9naG9zdE9iamVjdDphbnkgPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgbV9naG9zdENvbGxpc2lvbjphbnkgPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgbV9naG9zdFRyYW5zZm9ybTphbnkgPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgbV9naG9zdFBvc2l0aW9uOmFueSA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBtX3N0YXJ0UG9zaXRpb246YW55ID0gbnVsbDtcbiAgICAgICAgcHJvdGVjdGVkIG1fc3RhcnRUcmFuc2Zvcm06YW55ID0gbnVsbDtcbiAgICAgICAgcHJvdGVjdGVkIG1fd2Fsa0RpcmVjdGlvbjphbnkgPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgbV93YXJwUG9zaXRpb246YW55ID0gbnVsbDtcbiAgICAgICAgcHJvdGVjdGVkIG1fdHVybmluZ1JhdGU6bnVtYmVyID0gMDtcbiAgICAgICAgcHJvdGVjdGVkIG1fbW92ZURlbHRhWDpudW1iZXIgPSAwO1xuICAgICAgICBwcm90ZWN0ZWQgbV9tb3ZlRGVsdGFaOm51bWJlciA9IDA7XG4gICAgICAgIHByb3RlY3RlZCBtX3BoeXNpY3NFbmdpbmU6QkFCWUxPTi5JUGh5c2ljc0VuZ2luZSA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBtX2NvbGxpc2lvblBvc2l0aW9uOkJBQllMT04uVmVjdG9yMyA9IEJBQllMT04uVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIHByb3RlY3RlZCBpbnRlcm5hbFdhcnAocG9zaXRpb246YW55KTp2b2lkIHsgaWYgKHRoaXMubV9jaGFyYWN0ZXIgIT0gbnVsbCkgdGhpcy5tX2NoYXJhY3Rlci53YXJwKHBvc2l0aW9uKTsgfSAvLyBQb3NpdGlvbjogQW1tby5idFZlY3RvcjNcbiAgICAgICAgcHJvdGVjdGVkIGludGVybmFsSnVtcCgpOnZvaWQgeyBpZiAodGhpcy5tX2NoYXJhY3RlciAhPSBudWxsKSB0aGlzLm1fY2hhcmFjdGVyLmp1bXAoKTsgfVxuICAgICAgICBwcm90ZWN0ZWQgaW50ZXJuYWxTZXRKdW1wU3BlZWQoc3BlZWQ6bnVtYmVyKTp2b2lkIHsgaWYgKHRoaXMubV9jaGFyYWN0ZXIgIT0gbnVsbCkgdGhpcy5tX2NoYXJhY3Rlci5zZXRKdW1wU3BlZWQoc3BlZWQpOyB9XG4gICAgICAgIHByb3RlY3RlZCBpbnRlcm5hbFNldFdhbGtEaXJlY3Rpb24oZGlyZWN0aW9uOmFueSk6dm9pZCB7IGlmICh0aGlzLm1fY2hhcmFjdGVyICE9IG51bGwpIHRoaXMubV9jaGFyYWN0ZXIuc2V0V2Fsa0RpcmVjdGlvbihkaXJlY3Rpb24pOyB9IC8vIERpcmVjdGlvbjogQW1tby5idFZlY3RvcjNcbiAgICAgICAgcHJvdGVjdGVkIGludGVybmFsU2V0VmVsb2NpdHlGb3JUaW1lSW50ZXJ2YWwodmVsb2NpdHk6YW55LCBpbnRlcnZhbDpudW1iZXIpOiB2b2lkIHsgaWYgKHRoaXMubV9jaGFyYWN0ZXIgIT0gbnVsbCkgdGhpcy5tX2NoYXJhY3Rlci5zZXRWZWxvY2l0eUZvclRpbWVJbnRlcnZhbCh2ZWxvY2l0eSwgaW50ZXJ2YWwpOyB9IC8vIFZlbG9jaXR5OiBBbW1vLmJ0VmVjdG9yM1xuXG4gICAgICAgIHByb3RlY3RlZCBhd2FrZSgpOnZvaWQgeyB0aGlzLmF3YWtlTW92ZW1lbnRTdGF0ZSgpOyB9XG4gICAgICAgIHByb3RlY3RlZCBzdGFydCgpOnZvaWQgeyB0aGlzLnN0YXJ0TW92ZW1lbnRTdGF0ZSgpOyB9XG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGUoKSA6dm9pZCB7ICB0aGlzLnVwZGF0ZU1vdmVtZW50U3RhdGUoKTsgfVxuICAgICAgICBwcm90ZWN0ZWQgZGVzdHJveSgpOiB2b2lkIHsgdGhpcy5kZXN0cm95TW92ZW1lbnRTdGF0ZSgpOyB9XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gUHJvdGVjdGVkIENoYXJhY3RlciBNb3ZlbWVudCBTdGF0ZSBGdW5jdGlvbnMgLy9cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlTW92ZW1lbnRTdGF0ZSgpOnZvaWQge1xuICAgICAgICAgICAgdGhpcy5fYWJzdHJhY3RNZXNoID0gdGhpcy5nZXRBYnN0cmFjdE1lc2goKTtcbiAgICAgICAgICAgIHRoaXMuX2F2YXRhclJhZGl1cyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJhdmF0YXJSYWRpdXNcIiwgdGhpcy5fYXZhdGFyUmFkaXVzKTtcbiAgICAgICAgICAgIHRoaXMuX2F2YXRhckhlaWdodCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJhdmF0YXJIZWlnaHRcIiwgdGhpcy5fYXZhdGFySGVpZ2h0KTtcbiAgICAgICAgICAgIHRoaXMuX3NraW5XaWR0aCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJza2luV2lkdGhcIiwgdGhpcy5fc2tpbldpZHRoKTtcbiAgICAgICAgICAgIHRoaXMuX3Nsb3BlTGltaXQgPSB0aGlzLmdldFByb3BlcnR5KFwic2xvcGVMaW1pdFwiLCB0aGlzLl9zbG9wZUxpbWl0KTtcbiAgICAgICAgICAgIHRoaXMuX3N0ZXBPZmZzZXQgPSB0aGlzLmdldFByb3BlcnR5KFwic3RlcE9mZnNldFwiLCB0aGlzLl9zdGVwT2Zmc2V0KTtcbiAgICAgICAgICAgIHRoaXMuX21pbk1vdmVEaXN0YW5jZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtaW5Nb3ZlRGlzdGFuY2VcIiwgdGhpcy5fbWluTW92ZURpc3RhbmNlKTtcbiAgICAgICAgICAgIHRoaXMuX2NhcHN1bGVTZWdtZW50cyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJjYXBzdWxlU2VnbWVudHNcIiwgdGhpcy5fY2Fwc3VsZVNlZ21lbnRzKTtcbiAgICAgICAgICAgIHRoaXMuX3VzZUdob3N0U3dlZXBUZXN0ID0gdGhpcy5nZXRQcm9wZXJ0eShcInVzZUdob3N0U3dlZXBUZXN0XCIsIHRoaXMuX3VzZUdob3N0U3dlZXBUZXN0KTtcbiAgICAgICAgICAgIHRoaXMubV93YXJwUG9zaXRpb24gPSBuZXcgQW1tby5idFZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgICAgICB0aGlzLm1fd2Fsa0RpcmVjdGlvbiA9IG5ldyBBbW1vLmJ0VmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgICAgIHRoaXMubV9waHlzaWNzRW5naW5lID0gQkFCWUxPTi5TY2VuZU1hbmFnZXIuR2V0UGh5c2ljc0VuZ2luZSh0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICBjb25zdCBjZW50ZXJPZmZzZXREYXRhOkJBQllMT04uSVVuaXR5VmVjdG9yMyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJjZW50ZXJPZmZzZXRcIik7XG4gICAgICAgICAgICBpZiAoY2VudGVyT2Zmc2V0RGF0YSAhPSBudWxsKSB0aGlzLl9jZW50ZXJPZmZzZXQgPSBCQUJZTE9OLlV0aWxpdGllcy5QYXJzZVZlY3RvcjMoY2VudGVyT2Zmc2V0RGF0YSk7XG4gICAgICAgICAgICAvLyBjb25zb2xlLndhcm4oXCJTdGFydGluZyBDaGFyYWN0ZXIgQ29udHJvbGxlciBGb3I6IFwiICsgdGhpcy50cmFuc2Zvcm0ubmFtZSk7XG4gICAgICAgICAgICB0aGlzLnNldE1heE5vdGlmaWNhdGlvbnModGhpcy5fbWF4Q29sbGlzaW9ucyk7XG4gICAgICAgICAgICBjb25zdCB3b3JsZDphbnkgPSBCQUJZTE9OLlNjZW5lTWFuYWdlci5HZXRQaHlzaWNzV29ybGQodGhpcy5zY2VuZSk7XG4gICAgICAgICAgICBpZiAod29ybGQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0aW5nUG9zOkJBQllMT04uVmVjdG9yMyA9IEJBQllMT04uVXRpbGl0aWVzLkdldEFic29sdXRlUG9zaXRpb24odGhpcy50cmFuc2Zvcm0sIHRoaXMuX2NlbnRlck9mZnNldCk7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3N0YXJ0UG9zaXRpb24gPSBuZXcgQW1tby5idFZlY3RvcjMoc3RhcnRpbmdQb3MueCwgc3RhcnRpbmdQb3MueSwgc3RhcnRpbmdQb3Mueik7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3N0YXJ0VHJhbnNmb3JtID0gbmV3IEFtbW8uYnRUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fc3RhcnRUcmFuc2Zvcm0uc2V0SWRlbnRpdHkoKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fc3RhcnRUcmFuc2Zvcm0uc2V0T3JpZ2luKHRoaXMubV9zdGFydFBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBhIGRlYnVnIGNvbGxpc2lvbiBzaGFwZVxuICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgY29uc3Qgc2hvd0RlYnVnQ29sbGlkZXJzOmJvb2xlYW4gPSBCQUJZTE9OLlV0aWxpdGllcy5TaG93RGVidWdDb2xsaWRlcnMoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb2xsaWRlclZpc2liaWxpdHk6bnVtYmVyID0gQkFCWUxPTi5VdGlsaXRpZXMuQ29sbGlkZXJWaXNpYmlsaXR5KCk7XG4gICAgICAgICAgICAgICAgaWYgKHNob3dEZWJ1Z0NvbGxpZGVycyA9PT0gdHJ1ZSAmJiAoPGFueT50aGlzLnRyYW5zZm9ybSkuX2RlYnVnQ29sbGlkZXIgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYXBzdWxlU2l6ZTpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKHRoaXMuX2F2YXRhclJhZGl1cywgdGhpcy5fYXZhdGFySGVpZ2h0LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgY2Fwc3VsZVNpemUueCAqPSBNYXRoLm1heChNYXRoLmFicyh0aGlzLnRyYW5zZm9ybS5zY2FsaW5nLngpLCBNYXRoLmFicyh0aGlzLnRyYW5zZm9ybS5zY2FsaW5nLnopKTtcbiAgICAgICAgICAgICAgICAgICAgY2Fwc3VsZVNpemUueSAqPSB0aGlzLnRyYW5zZm9ybS5zY2FsaW5nLnk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlYnVnTmFtZTpzdHJpbmcgPSB0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCIuRGVidWdcIlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWJ1Z0NhcHN1bGU6QkFCWUxPTi5NZXNoID0gQkFCWUxPTi5NZXNoQnVpbGRlci5DcmVhdGVDYXBzdWxlKGRlYnVnTmFtZSwgeyB0ZXNzZWxsYXRpb246dGhpcy5fY2Fwc3VsZVNlZ21lbnRzLCBzdWJkaXZpc2lvbnM6IDgsIGNhcFN1YmRpdmlzaW9uczogMTYsIGhlaWdodDogY2Fwc3VsZVNpemUueSwgcmFkaXVzOiBjYXBzdWxlU2l6ZS54IH0sIHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICBkZWJ1Z0NhcHN1bGUucG9zaXRpb24uc2V0KDAsMCwwKTtcbiAgICAgICAgICAgICAgICAgICAgZGVidWdDYXBzdWxlLnJvdGF0aW9uUXVhdGVybmlvbiA9IHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbi5jbG9uZSgpO1xuICAgICAgICAgICAgICAgICAgICBkZWJ1Z0NhcHN1bGUuc2V0UGFyZW50KHRoaXMudHJhbnNmb3JtKTtcbiAgICAgICAgICAgICAgICAgICAgZGVidWdDYXBzdWxlLnBvc2l0aW9uLmNvcHlGcm9tKHRoaXMuX2NlbnRlck9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgIGRlYnVnQ2Fwc3VsZS52aXNpYmlsaXR5ID0gY29sbGlkZXJWaXNpYmlsaXR5O1xuICAgICAgICAgICAgICAgICAgICBkZWJ1Z0NhcHN1bGUubWF0ZXJpYWwgPSBCQUJZTE9OLlV0aWxpdGllcy5HZXRDb2xsaWRlck1hdGVyaWFsKHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgICAgICAgICBkZWJ1Z0NhcHN1bGUuY2hlY2tDb2xsaXNpb25zID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGRlYnVnQ2Fwc3VsZS5pc1BpY2thYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICg8YW55PnRoaXMudHJhbnNmb3JtKS5fZGVidWdDb2xsaWRlciA9IGRlYnVnQ2Fwc3VsZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgZ2hvc3QgY29sbGlzaW9uIHNoYXBlXG4gICAgICAgICAgICAgICAgdGhpcy5tX2dob3N0U2hhcGUgPSBuZXcgQW1tby5idENhcHN1bGVTaGFwZSh0aGlzLl9hdmF0YXJSYWRpdXMsIHRoaXMuX2F2YXRhckhlaWdodCAvIDIpO1xuICAgICAgICAgICAgICAgIHRoaXMubV9naG9zdFNoYXBlLnNldE1hcmdpbigodGhpcy5fc2tpbldpZHRoICsgQkFCWUxPTi5DaGFyYWN0ZXJDb250cm9sbGVyLk1BUkdJTl9GQUNUT1IpKTtcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYSBnaG9zdCBjb2xsaXNpb24gb2JqZWN0XG4gICAgICAgICAgICAgICAgdGhpcy5tX2dob3N0T2JqZWN0ID0gbmV3IEFtbW8uYnRQYWlyQ2FjaGluZ0dob3N0T2JqZWN0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5tX2dob3N0T2JqZWN0LnNldFdvcmxkVHJhbnNmb3JtKHRoaXMubV9zdGFydFRyYW5zZm9ybSk7XG4gICAgICAgICAgICAgICAgdGhpcy5tX2dob3N0T2JqZWN0LnNldENvbGxpc2lvblNoYXBlKHRoaXMubV9naG9zdFNoYXBlKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fZ2hvc3RPYmplY3Quc2V0Q29sbGlzaW9uRmxhZ3MoQkFCWUxPTi5Db2xsaXNpb25GbGFncy5DRl9DSEFSQUNURVJfT0JKRUNUKTtcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYSBnaG9zdCBjb2xsaXNpb24gY2FzdGluZ1xuICAgICAgICAgICAgICAgIHRoaXMubV9naG9zdENvbGxpc2lvbiA9IEFtbW8uY2FzdE9iamVjdCh0aGlzLm1fZ2hvc3RPYmplY3QsIEFtbW8uYnRDb2xsaXNpb25PYmplY3QpO1xuICAgICAgICAgICAgICAgIC8vIERFUFJFQ0lBVEVEOiB0aGlzLm1fZ2hvc3RDb2xsaXNpb24uc2V0Q29udGFjdFByb2Nlc3NpbmdUaHJlc2hvbGQoMCk7XG4gICAgICAgICAgICAgICAgdGhpcy5tX2dob3N0Q29sbGlzaW9uLmVudGl0eSA9IHRoaXMuX2Fic3RyYWN0TWVzaDtcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGUga2luZW1hdGljIGNoYXJhY3RlciBjb250cm9sbGVyXG4gICAgICAgICAgICAgICAgdGhpcy5tX2NoYXJhY3RlciA9IG5ldyBBbW1vLmJ0S2luZW1hdGljQ2hhcmFjdGVyQ29udHJvbGxlcih0aGlzLm1fZ2hvc3RPYmplY3QsIHRoaXMubV9naG9zdFNoYXBlLCB0aGlzLl9zdGVwT2Zmc2V0KTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fY2hhcmFjdGVyLnNldFVzZUdob3N0U3dlZXBUZXN0KHRoaXMuX3VzZUdob3N0U3dlZXBUZXN0KTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fY2hhcmFjdGVyLnNldFVwSW50ZXJwb2xhdGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5tX2NoYXJhY3Rlci5zZXRNYXhTbG9wZShCQUJZTE9OLlRvb2xzLlRvUmFkaWFucyh0aGlzLl9zbG9wZUxpbWl0KSk7XG4gICAgICAgICAgICAgICAgdGhpcy5tX2NoYXJhY3Rlci5zZXRHcmF2aXR5KEJBQllMT04uU3lzdGVtLkdyYXZpdHkzRyk7XG4gICAgICAgICAgICAgICAgLy8gQWRkIGdob3N0IG9iamVjdCBhbmQgY2hhcmFjdGVyIHRvIHdvcmxkXG4gICAgICAgICAgICAgICAgd29ybGQuYWRkQ29sbGlzaW9uT2JqZWN0KHRoaXMubV9naG9zdE9iamVjdCwgQkFCWUxPTi5Db2xsaXNpb25GaWx0ZXJzLkNoYXJhY3RlckZpbHRlciwgQkFCWUxPTi5Db2xsaXNpb25GaWx0ZXJzLlN0YXRpY0ZpbHRlciB8IEJBQllMT04uQ29sbGlzaW9uRmlsdGVycy5EZWZhdWx0RmlsdGVyIHwgQkFCWUxPTi5Db2xsaXNpb25GaWx0ZXJzLkNoYXJhY3RlckZpbHRlcik7XG4gICAgICAgICAgICAgICAgd29ybGQuYWRkQWN0aW9uKHRoaXMubV9jaGFyYWN0ZXIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xzLldhcm4oXCJOdWxsIHBoeXNpY3Mgd29ybGQgZGV0ZWN0ZWQuIEZhaWxlZCB0byBjcmVhdGUgY2hhcmFjdGVyIGNvbnRyb2xsZXI6IFwiICsgdGhpcy50cmFuc2Zvcm0ubmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9pc1BoeXNpY3NSZWFkeSA9ICh0aGlzLm1fcGh5c2ljc0VuZ2luZSAhPSBudWxsICYmIHRoaXMuX3RtcENvbGxpc2lvbkNvbnRhY3RzICE9IG51bGwgJiYgdGhpcy5tX2dob3N0T2JqZWN0ICE9IG51bGwgJiYgdGhpcy5fYWJzdHJhY3RNZXNoICE9IG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIHByb3RlY3RlZCBzdGFydE1vdmVtZW50U3RhdGUoKTp2b2lkIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlTW92ZW1lbnRTdGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHByb3RlY3RlZCBzeW5jTW92ZW1lbnRTdGF0ZSgpOnZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2lzUGh5c2ljc1JlYWR5ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tX2dob3N0VHJhbnNmb3JtID0gdGhpcy5tX2dob3N0T2JqZWN0LmdldFdvcmxkVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubV9naG9zdFRyYW5zZm9ybSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9naG9zdFBvc2l0aW9uID0gdGhpcy5tX2dob3N0VHJhbnNmb3JtLmdldE9yaWdpbigpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9naG9zdFBvc2l0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHJvdGVjdGVkIHVwZGF0ZU1vdmVtZW50U3RhdGUoKTp2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuc3luY01vdmVtZW50U3RhdGUoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pc1BoeXNpY3NSZWFkeSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1fZ2hvc3RQb3NpdGlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVwZGF0ZVBvc2l0aW9uID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBERVBSRUNJQVRFRDogdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24uc2V0KHRoaXMubV9naG9zdFBvc2l0aW9uLngoKSwgdGhpcy5tX2dob3N0UG9zaXRpb24ueSgpLCB0aGlzLm1fZ2hvc3RQb3NpdGlvbi56KCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2NvbGxpc2lvblBvc2l0aW9uLnNldCh0aGlzLm1fZ2hvc3RQb3NpdGlvbi54KCksIHRoaXMubV9naG9zdFBvc2l0aW9uLnkoKSwgdGhpcy5tX2dob3N0UG9zaXRpb24ueigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jZW50ZXJPZmZzZXQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vdGU6IFN1YnRyYWN0IENoYXJhY3RlciBDb250cm9sbGVyIENlbnRlciBPZmZzZXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fY29sbGlzaW9uUG9zaXRpb24uc3VidHJhY3RJblBsYWNlKHRoaXMuX2NlbnRlck9mZnNldCk7IFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24uY29weUZyb20odGhpcy5tX2NvbGxpc2lvblBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0R2hvc3RXb3JsZFBvc2l0aW9uKHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vblVwZGF0ZVBvc2l0aW9uT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vblVwZGF0ZVBvc2l0aW9uT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcy50cmFuc2Zvcm0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5wYXJzZUdob3N0Q29sbGlzaW9uQ29udGFjdHMoKTtcbiAgICAgICAgfVxuICAgICAgICBwcm90ZWN0ZWQgcGFyc2VHaG9zdENvbGxpc2lvbkNvbnRhY3RzKCk6dm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5faXNQaHlzaWNzUmVhZHkgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBoYXNFbnRlck9ic2VydmVyczpib29sZWFuID0gdGhpcy5vbkNvbGxpc2lvbkVudGVyT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBoYXNTdGF5T2JzZXJ2ZXJzOmJvb2xlYW4gPSB0aGlzLm9uQ29sbGlzaW9uU3RheU9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgaGFzRXhpdE9ic2VydmVyczpib29sZWFuID0gdGhpcy5vbkNvbGxpc2lvbkV4aXRPYnNlcnZhYmxlLmhhc09ic2VydmVycygpO1xuICAgICAgICAgICAgICAgIGlmIChoYXNFbnRlck9ic2VydmVycyB8fCBoYXNTdGF5T2JzZXJ2ZXJzIHx8IGhhc0V4aXRPYnNlcnZlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gMDsgLy8gTm90ZTogRmxhZyBBbGwgQ29sbGlzaW9uIExpc3QgSXRlbXMgRm9yIEVuZCBDb250YWN0IFN0YXRlXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IHRoaXMuX3RtcENvbGxpc2lvbkNvbnRhY3RzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdG1wQ29sbGlzaW9uQ29udGFjdHNbaW5kZXhdLnJlc2V0ID0gdHJ1ZTsgXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgLy8gUGFyc2UgT3ZlcmxhcHBpbmcgR2hvc3QgQ29udGFjdCBPYmplY3RzXG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIGxldCBjb250YWN0czpudW1iZXIgPSB0aGlzLm1fZ2hvc3RPYmplY3QuZ2V0TnVtT3ZlcmxhcHBpbmdPYmplY3RzKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250YWN0cyA+IHRoaXMuX21heENvbGxpc2lvbnMpIGNvbnRhY3RzID0gdGhpcy5fbWF4Q29sbGlzaW9ucztcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhY3RzID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpbmRleCA9IDA7IGluZGV4IDwgY29udGFjdHM7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250YWN0T2JqZWN0OmFueSA9IHRoaXMubV9naG9zdE9iamVjdC5nZXRPdmVybGFwcGluZ09iamVjdChpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhY3RPYmplY3QgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250YWN0Qm9keTphbnkgPSBBbW1vLmNhc3RPYmplY3QoY29udGFjdE9iamVjdCwgQW1tby5idENvbGxpc2lvbk9iamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250YWN0Qm9keSAhPSBudWxsICYmIGNvbnRhY3RCb2R5LmVudGl0eSAhPSBudWxsICYmIGNvbnRhY3RCb2R5LmlzQWN0aXZlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmb3VuZGluZGV4Om51bWJlciA9IC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGFjdE1lc2g6QkFCWUxPTi5BYnN0cmFjdE1lc2ggPSBjb250YWN0Qm9keS5lbnRpdHkgYXMgQkFCWUxPTi5BYnN0cmFjdE1lc2g7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLl90bXBDb2xsaXNpb25Db250YWN0cy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGVjazpCQUJZTE9OLkNvbGxpc2lvbkNvbnRhY3RJbmZvID0gdGhpcy5fdG1wQ29sbGlzaW9uQ29udGFjdHNbaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGVjay5tZXNoICE9IG51bGwgJiYgY2hlY2subWVzaCA9PT0gY29udGFjdE1lc2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2suc3RhdGUgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVjay5yZXNldCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3VuZGluZGV4ID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb3VuZGluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IHRoaXMuX3RtcENvbGxpc2lvbkNvbnRhY3RzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnNlcnQ6QkFCWUxPTi5Db2xsaXNpb25Db250YWN0SW5mbyA9IHRoaXMuX3RtcENvbGxpc2lvbkNvbnRhY3RzW2luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluc2VydC5tZXNoID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydC5tZXNoID0gY29udGFjdE1lc2g7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnQuc3RhdGUgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zZXJ0LnJlc2V0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAvLyBEaXNwYXRjaCBHaG9zdCBDb2xsaXNpb24gQ29udGFjdCBTdGF0ZVxuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLl90bXBDb2xsaXNpb25Db250YWN0cy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZm86QkFCWUxPTi5Db2xsaXNpb25Db250YWN0SW5mbyA9IHRoaXMuX3RtcENvbGxpc2lvbkNvbnRhY3RzW2luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmZvLnJlc2V0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRGlzcGF0Y2ggT24gQ29sbGlzaW9uIEV4aXQgRXZlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFzRXhpdE9ic2VydmVycyAmJiBpbmZvLm1lc2ggIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uQ29sbGlzaW9uRXhpdE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGluZm8ubWVzaCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlc2V0IENvbGxpc2lvbiBDb250YWN0IEluZm8gSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZm8ubWVzaCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5mby5zdGF0ZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5mby5yZXNldCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5mby5zdGF0ZSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEaXNwYXRjaCBPbiBDb2xsaXNpb24gRW50ZXIgRXZlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhhc0VudGVyT2JzZXJ2ZXJzICYmIGluZm8ubWVzaCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uQ29sbGlzaW9uRW50ZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhpbmZvLm1lc2gpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRGlzcGF0Y2ggT24gQ29sbGlzaW9uIFN0YXkgRXZlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhhc1N0YXlPYnNlcnZlcnMgJiYgaW5mby5tZXNoICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25Db2xsaXNpb25TdGF5T2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoaW5mby5tZXNoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcm90ZWN0ZWQgZGVzdHJveU1vdmVtZW50U3RhdGUoKTp2b2lkIHtcbiAgICAgICAgICAgIHRoaXMubV9waHlzaWNzRW5naW5lID0gbnVsbDtcbiAgICAgICAgICAgIGlmICh0aGlzLm1fY2hhcmFjdGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBBbW1vLmRlc3Ryb3kodGhpcy5tX2NoYXJhY3Rlcik7XG4gICAgICAgICAgICAgICAgdGhpcy5tX2NoYXJhY3RlciA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5tX2dob3N0T2JqZWN0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBBbW1vLmRlc3Ryb3kodGhpcy5tX2dob3N0T2JqZWN0KTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fZ2hvc3RPYmplY3QgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMubV9naG9zdFNoYXBlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBBbW1vLmRlc3Ryb3kodGhpcy5tX2dob3N0U2hhcGUpO1xuICAgICAgICAgICAgICAgIHRoaXMubV9naG9zdFNoYXBlID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLm1fZ2hvc3RDb2xsaXNpb24gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIEFtbW8uZGVzdHJveSh0aGlzLm1fZ2hvc3RDb2xsaXNpb24pOyAvLyA/Pz9cbiAgICAgICAgICAgICAgICB0aGlzLm1fZ2hvc3RDb2xsaXNpb24gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMubV9naG9zdFBvc2l0aW9uICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBBbW1vLmRlc3Ryb3kodGhpcy5tX2dob3N0UG9zaXRpb24pOyAvLyA/Pz9cbiAgICAgICAgICAgICAgICB0aGlzLm1fZ2hvc3RQb3NpdGlvbiA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5tX2dob3N0VHJhbnNmb3JtICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBBbW1vLmRlc3Ryb3kodGhpcy5tX2dob3N0VHJhbnNmb3JtKTsgLy8gPz8/XG4gICAgICAgICAgICAgICAgdGhpcy5tX2dob3N0VHJhbnNmb3JtID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLm1fc3RhcnRQb3NpdGlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgQW1tby5kZXN0cm95KHRoaXMubV9zdGFydFBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fc3RhcnRQb3NpdGlvbiA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5tX3N0YXJ0VHJhbnNmb3JtICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBBbW1vLmRlc3Ryb3kodGhpcy5tX3N0YXJ0VHJhbnNmb3JtKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fc3RhcnRUcmFuc2Zvcm0gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMubV93YXJwUG9zaXRpb24gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIEFtbW8uZGVzdHJveSh0aGlzLm1fd2FycFBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fd2FycFBvc2l0aW9uID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLm1fd2Fsa0RpcmVjdGlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgQW1tby5kZXN0cm95KHRoaXMubV93YWxrRGlyZWN0aW9uKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fd2Fsa0RpcmVjdGlvbiA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm9uVXBkYXRlUG9zaXRpb25PYnNlcnZhYmxlLmNsZWFyKCk7XG4gICAgICAgICAgICB0aGlzLm9uVXBkYXRlUG9zaXRpb25PYnNlcnZhYmxlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMub25Db2xsaXNpb25FbnRlck9ic2VydmFibGUuY2xlYXIoKTtcbiAgICAgICAgICAgIHRoaXMub25Db2xsaXNpb25FbnRlck9ic2VydmFibGUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5vbkNvbGxpc2lvblN0YXlPYnNlcnZhYmxlLmNsZWFyKCk7XG4gICAgICAgICAgICB0aGlzLm9uQ29sbGlzaW9uU3RheU9ic2VydmFibGUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5vbkNvbGxpc2lvbkV4aXRPYnNlcnZhYmxlLmNsZWFyKCk7XG4gICAgICAgICAgICB0aGlzLm9uQ29sbGlzaW9uRXhpdE9ic2VydmFibGUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fdG1wQ29sbGlzaW9uQ29udGFjdHMgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fYWJzdHJhY3RNZXNoID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAvLyBDaGFyYWN0ZXIgQ29udHJvbGxlciBPYnNlcnZlciBFdmVudCBGdW5jdGlvbnMgLy9cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgLyoqIFJlZ2lzdGVyIGhhbmRsZXIgdGhhdCBpcyB0cmlnZ2VyZWQgd2hlbiB0aGUgdHJhbnNmb3JtIHBvc2l0aW9uIGhhcyBiZWVuIHVwZGF0ZWQgKi9cbiAgICAgICAgcHVibGljIG9uVXBkYXRlUG9zaXRpb25PYnNlcnZhYmxlID0gbmV3IEJBQllMT04uT2JzZXJ2YWJsZTxCQUJZTE9OLlRyYW5zZm9ybU5vZGU+KCk7XG4gICAgICAgIC8qKiBSZWdpc3RlciBoYW5kbGVyIHRoYXQgaXMgdHJpZ2dlcmVkIHdoZW4gdGhlIGEgY29sbGlzaW9uIGNvbnRhY3QgaGFzIGVudGVyZWQgKi9cbiAgICAgICAgcHVibGljIG9uQ29sbGlzaW9uRW50ZXJPYnNlcnZhYmxlID0gbmV3IEJBQllMT04uT2JzZXJ2YWJsZTxCQUJZTE9OLkFic3RyYWN0TWVzaD4oKTtcbiAgICAgICAgLyoqIFJlZ2lzdGVyIGhhbmRsZXIgdGhhdCBpcyB0cmlnZ2VyZWQgd2hlbiB0aGUgYSBjb2xsaXNpb24gY29udGFjdCBpcyBhY3RpdmUgKi9cbiAgICAgICAgcHVibGljIG9uQ29sbGlzaW9uU3RheU9ic2VydmFibGUgPSBuZXcgQkFCWUxPTi5PYnNlcnZhYmxlPEJBQllMT04uQWJzdHJhY3RNZXNoPigpO1xuICAgICAgICAvKiogUmVnaXN0ZXIgaGFuZGxlciB0aGF0IGlzIHRyaWdnZXJlZCB3aGVuIHRoZSBhIGNvbGxpc2lvbiBjb250YWN0IGhhcyBleGl0ZWQgKi9cbiAgICAgICAgcHVibGljIG9uQ29sbGlzaW9uRXhpdE9ic2VydmFibGUgPSBuZXcgQkFCWUxPTi5PYnNlcnZhYmxlPEJBQllMT04uQWJzdHJhY3RNZXNoPigpO1xuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gQ2hhcmFjdGVyIENvbnRyb2xsZXIgQWR2YW5jZWQgSGVscGVyIEZ1bmN0aW9ucyAvL1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgLyoqIFNldHMgdGhlIG1heGltdW0gbnVtYmVyIG9mIHNpbXVsdGFuZW91cyBjb250YWN0IG5vdGZpY2F0aW9ucyB0byBkaXNwYXRjaCBwZXIgZnJhbWUuIERlZmF1bHRzIHZhbHVlIGlzIDQuIChBZHZhbnZlZCBVc2UgT25seSkgKi9cbiAgICAgICAgcHVibGljIHNldE1heE5vdGlmaWNhdGlvbnMobWF4Om51bWJlcik6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5fbWF4Q29sbGlzaW9ucyA9IG1heDtcbiAgICAgICAgICAgIHRoaXMuX3RtcENvbGxpc2lvbkNvbnRhY3RzID0gW107ICAgICAgICAgICAgXG4gICAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5fbWF4Q29sbGlzaW9uczsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RtcENvbGxpc2lvbkNvbnRhY3RzLnB1c2gobmV3IENvbGxpc2lvbkNvbnRhY3RJbmZvKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKiBTZXRzIGNoYXJhY3RlciBjb2xsaXNpb24gYWN0aXZhdGlvbiBzdGF0ZSB1c2luZyBwaHlzaWNzIGdob3N0IG9iamVjdC4gKEFkdmFudmVkIFVzZSBPbmx5KSAqL1xuICAgICAgICBwdWJsaWMgc2V0QWN0aXZhdGlvblN0YXRlKHN0YXRlOm51bWJlcik6dm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5tX2dob3N0Q29sbGlzaW9uICE9IG51bGwgJiYgdGhpcy5tX2dob3N0Q29sbGlzaW9uLnNldEFjdGl2YXRpb25TdGF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMubV9naG9zdENvbGxpc2lvbi5zZXRBY3RpdmF0aW9uU3RhdGUoc3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKiBHZXRzIGNoYXJhY3RlciBjb2xsaXNpb24gZ3JvdXAgZmlsdGVyIHVzaW5nIHBoeXNpY3MgZ2hvc3Qgb2JqZWN0LiAoQWR2YW52ZWQgVXNlIE9ubHkpICovXG4gICAgICAgIHB1YmxpYyBnZXRDb2xsaXNpb25GaWx0ZXJHcm91cCgpOm51bWJlciB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0Om51bWJlciA9IC0xO1xuICAgICAgICAgICAgaWYgKHRoaXMubV9naG9zdENvbGxpc2lvbiAhPSBudWxsICYmIHRoaXMubV9naG9zdENvbGxpc2lvbi5nZXRCcm9hZHBoYXNlSGFuZGxlKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5tX2dob3N0Q29sbGlzaW9uLmdldEJyb2FkcGhhc2VIYW5kbGUoKS5nZXRfbV9jb2xsaXNpb25GaWx0ZXJHcm91cCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICAvKiogU2V0cyBjaGFyYWN0ZXIgY29sbGlzaW9uIGdyb3VwIGZpbHRlciB1c2luZyBwaHlzaWNzIGdob3N0IG9iamVjdC4gKEFkdmFudmVkIFVzZSBPbmx5KSAqL1xuICAgICAgICBwdWJsaWMgc2V0Q29sbGlzaW9uRmlsdGVyR3JvdXAoZ3JvdXA6bnVtYmVyKTp2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1fZ2hvc3RDb2xsaXNpb24gIT0gbnVsbCAmJiB0aGlzLm1fZ2hvc3RDb2xsaXNpb24uZ2V0QnJvYWRwaGFzZUhhbmRsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMubV9naG9zdENvbGxpc2lvbi5nZXRCcm9hZHBoYXNlSGFuZGxlKCkuc2V0X21fY29sbGlzaW9uRmlsdGVyR3JvdXAoZ3JvdXApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKiBHZXRzIGNoYXJhY3RlciBjb2xsaXNpb24gbWFzayBmaWx0ZXIgdXNpbmcgcGh5c2ljcyBnaG9zdCBvYmplY3QuIChBZHZhbnZlZCBVc2UgT25seSkgKi9cbiAgICAgICAgcHVibGljIGdldENvbGxpc2lvbkZpbHRlck1hc2soKTpudW1iZXIge1xuICAgICAgICAgICAgbGV0IHJlc3VsdDpudW1iZXIgPSAtMTtcbiAgICAgICAgICAgIGlmICh0aGlzLm1fZ2hvc3RDb2xsaXNpb24gIT0gbnVsbCAmJiB0aGlzLm1fZ2hvc3RDb2xsaXNpb24uZ2V0QnJvYWRwaGFzZUhhbmRsZSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMubV9naG9zdENvbGxpc2lvbi5nZXRCcm9hZHBoYXNlSGFuZGxlKCkuZ2V0X21fY29sbGlzaW9uRmlsdGVyTWFzaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICAvKiogU2V0cyB0aGUgY2hhcmFjdGVyIGNvbGxpc2lvbiBtYXNrIGZpbHRlciB1c2luZyBwaHlzaWNzIGdob3N0IG9iamVjdC4gKEFkdmFudmVkIFVzZSBPbmx5KSAqL1xuICAgICAgICBwdWJsaWMgc2V0Q29sbGlzaW9uRmlsdGVyTWFzayhtYXNrOm51bWJlcik6dm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5tX2dob3N0Q29sbGlzaW9uICE9IG51bGwgJiYgdGhpcy5tX2dob3N0Q29sbGlzaW9uLmdldEJyb2FkcGhhc2VIYW5kbGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1fZ2hvc3RDb2xsaXNpb24uZ2V0QnJvYWRwaGFzZUhhbmRsZSgpLnNldF9tX2NvbGxpc2lvbkZpbHRlck1hc2sobWFzayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqIEdldHMgdGhlIGNocmFjdGVyIGNvbnRhY3QgcHJvY2Vzc2luZyB0aHJlc2hvbGQgdXNpbmcgcGh5c2ljcyBnaG9zdCBvYmplY3QuIChBZHZhbnZlZCBVc2UgT25seSkgKi9cbiAgICAgICAgcHVibGljIGdldENvbnRhY3RQcm9jZXNzaW5nVGhyZXNob2xkKCk6bnVtYmVyIHtcbiAgICAgICAgICAgIGxldCByZXN1bHQ6bnVtYmVyID0gLTE7XG4gICAgICAgICAgICBpZiAodGhpcy5tX2dob3N0Q29sbGlzaW9uICE9IG51bGwgJiYgdGhpcy5tX2dob3N0Q29sbGlzaW9uLmdldENvbnRhY3RQcm9jZXNzaW5nVGhyZXNob2xkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tX2dob3N0Q29sbGlzaW9uLmdldENvbnRhY3RQcm9jZXNzaW5nVGhyZXNob2xkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIC8qKiBTZXRzIGNoYXJhY3RlciBjb250YWN0IHByb2Nlc3NpbmcgdGhyZXNob2xkIHVzaW5nIHBoeXNpY3MgZ2hvc3Qgb2JqZWN0LiAoQWR2YW52ZWQgVXNlIE9ubHkpICovXG4gICAgICAgIHB1YmxpYyBzZXRDb250YWN0UHJvY2Vzc2luZ1RocmVzaG9sZCh0aHJlc2hvbGQ6bnVtYmVyKTp2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1fZ2hvc3RDb2xsaXNpb24gIT0gbnVsbCAmJiB0aGlzLm1fZ2hvc3RDb2xsaXNpb24uc2V0Q29udGFjdFByb2Nlc3NpbmdUaHJlc2hvbGQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1fZ2hvc3RDb2xsaXNpb24uc2V0Q29udGFjdFByb2Nlc3NpbmdUaHJlc2hvbGQodGhyZXNob2xkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKiogTWFudWFsbHkgc2V0IHRoZSBwb3NpdGlvbiBvZiB0aGUgcGh5c2ljcyBnaG9zdCBvYmplY3Qgd29ybGQgdHJhbnNmb3JtLiAoQWR2YW52ZWQgVXNlIE9ubHkpICovXG4gICAgICAgIHB1YmxpYyBzZXRHaG9zdFdvcmxkUG9zaXRpb24ocG9zaXRpb246QkFCWUxPTi5OdWxsYWJsZTxCQUJZTE9OLlZlY3RvcjM+KTp2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1fZ2hvc3RPYmplY3QgIT0gbnVsbCAmJiB0aGlzLm1fZ2hvc3RUcmFuc2Zvcm0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1fZ2hvc3RQb3NpdGlvbiAhPSBudWxsICYmIHBvc2l0aW9uICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2dob3N0UG9zaXRpb24uc2V0VmFsdWUocG9zaXRpb24ueCwgcG9zaXRpb24ueSwgcG9zaXRpb24ueik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9naG9zdFRyYW5zZm9ybS5zZXRPcmlnaW4odGhpcy5tX2dob3N0UG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLm1fZ2hvc3RPYmplY3Quc2V0V29ybGRUcmFuc2Zvcm0odGhpcy5tX2dob3N0VHJhbnNmb3JtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gUHVibGljIENoYXJhY3RlciBDb250cm9sbGVyIE1vdmVtZW50IEZ1bmN0aW9ucyAvL1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgLyoqIFRyYW5zbGF0ZXMgdGhlIGtpbmVtYXRpYyBjaGFyYWN0ZXIgd2l0aCB0aGUgc3BlY2ZpZWQgbW92ZW1lbnQgdmVsb2NpdHkuICovXG4gICAgICAgIHB1YmxpYyBtb3ZlKHZlbG9jaXR5OkJBQllMT04uVmVjdG9yMyk6dm9pZCB7XG4gICAgICAgICAgICBpZiAodmVsb2NpdHkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMubV9tb3ZlRGVsdGFYID0gdmVsb2NpdHkueDtcbiAgICAgICAgICAgICAgICB0aGlzLm1fbW92ZURlbHRhWiA9IHZlbG9jaXR5Lno7XG4gICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKHZlbG9jaXR5LngpIDwgdGhpcy5fbWluTW92ZURpc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2ZWxvY2l0eS54ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX21vdmVEZWx0YVggPSB0aGlzLl9taW5Nb3ZlRGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodmVsb2NpdHkueCA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9tb3ZlRGVsdGFYID0gLXRoaXMuX21pbk1vdmVEaXN0YW5jZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnModmVsb2NpdHkueikgPCB0aGlzLl9taW5Nb3ZlRGlzdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZlbG9jaXR5LnogPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fbW92ZURlbHRhWiA9IHRoaXMuX21pbk1vdmVEaXN0YW5jZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh2ZWxvY2l0eS56IDwgMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX21vdmVEZWx0YVogPSAtdGhpcy5fbWluTW92ZURpc3RhbmNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1fd2Fsa0RpcmVjdGlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV93YWxrRGlyZWN0aW9uLnNldFZhbHVlKHRoaXMubV9tb3ZlRGVsdGFYLCAwLCB0aGlzLm1fbW92ZURlbHRhWik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJuYWxTZXRXYWxrRGlyZWN0aW9uKHRoaXMubV93YWxrRGlyZWN0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqIEp1bXBzIHRoZSBraW5lbWF0aWMgY2hhY3JhY3RlciB3aXRoIHRoZSBzcGVjaWZpZWQganVtcCBzcGVlZC4gKi9cbiAgICAgICAgcHVibGljIGp1bXAoc3BlZWQ6bnVtYmVyKTp2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJuYWxTZXRKdW1wU3BlZWQoc3BlZWQpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcm5hbEp1bXAoKTtcbiAgICAgICAgfVxuICAgICAgICAvKiogV2FycHMgdGhlIGtpbmVtYXRpYyBjaGFjcmFjdGVyIHRvIHRoZSBzcGVjaWZpZWQgd2FycCBwb3NpdGlvbi4gKi9cbiAgICAgICAgcHVibGljIHdhcnAocG9zaXRpb246QkFCWUxPTi5WZWN0b3IzKTp2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1fd2FycFBvc2l0aW9uICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1fd2FycFBvc2l0aW9uLnNldFZhbHVlKHBvc2l0aW9uLngsIHBvc2l0aW9uLnksIHBvc2l0aW9uLnopO1xuICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJuYWxXYXJwKHRoaXMubV93YXJwUG9zaXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSBCQUJZTE9OIHtcbiAgICAvKipcbiAgICAgKiBCYWJ5bG9uIG5hdmlnYXRpb24gYWdlbnQgcHJvIGNsYXNzIChVbml0eSBTdHlsZSBOYXZpZ2F0aW9uIEFnZW50IFN5c3RlbSlcbiAgICAgKiBAY2xhc3MgTmF2aWdhdGlvbkFnZW50IC0gQWxsIHJpZ2h0cyByZXNlcnZlZCAoYykgMjAyMCBNYWNrZXkgS2luYXJkXG4gICAgICovXG4gICAgZXhwb3J0IGNsYXNzIE5hdmlnYXRpb25BZ2VudCBleHRlbmRzIEJBQllMT04uU2NyaXB0Q29tcG9uZW50IHtcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgVEFSR0VUX0FOR0xFX0ZBQ1RPUjpudW1iZXIgPSAoTWF0aC5QSSAqIDAuNSk7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIEFOR1VMQVJfU1BFRURfUkFUSU86bnVtYmVyID0gMC4xO1xuICAgICAgICBwcml2YXRlIHR5cGU6IG51bWJlcjtcbiAgICAgICAgcHJpdmF0ZSBzcGVlZDogbnVtYmVyO1xuICAgICAgICBwcml2YXRlIGJhc2VPZmZzZXQ6IG51bWJlcjtcbiAgICAgICAgcHJpdmF0ZSBhdm9pZFJhZGl1czogbnVtYmVyO1xuICAgICAgICBwcml2YXRlIGF2b2lkSGVpZ2h0OiBudW1iZXI7XG4gICAgICAgIHByaXZhdGUgYWNjZWxlcmF0aW9uOiBudW1iZXI7XG4gICAgICAgIHByaXZhdGUgYXJlYU1hc2s6IG51bWJlcjtcbiAgICAgICAgcHJpdmF0ZSBhdXRvUmVwYXRoOiBib29sZWFuO1xuICAgICAgICBwcml2YXRlIGF1dG9CcmFraW5nOiBib29sZWFuO1xuICAgICAgICBwcml2YXRlIGF1dG9UcmF2ZXJzZU9mZk1lc2hMaW5rOiBib29sZWFuO1xuICAgICAgICBwcml2YXRlIGF2b2lkYW5jZVByaW9yaXR5OiBudW1iZXI7XG4gICAgICAgIHByaXZhdGUgb2JzdGFjbGVBdm9pZGFuY2VUeXBlOiBudW1iZXI7XG4gICAgICAgIHByaXZhdGUgZGlzdGFuY2VUb1RhcmdldDpudW1iZXIgPSAwO1xuICAgICAgICBwcml2YXRlIG1vdmVEaXJlY3Rpb246QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLjAsIDAuMCwgMC4wKTtcbiAgICAgICAgcHJpdmF0ZSByZXNldFBvc2l0aW9uOkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMC4wLCAwLjAsIDAuMCk7XG4gICAgICAgIHByaXZhdGUgbGFzdFBvc2l0aW9uOkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMC4wLCAwLjAsIDAuMCk7XG4gICAgICAgIHByaXZhdGUgY3VycmVudFBvc2l0aW9uOkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMC4wLCAwLjAsIDAuMCk7XG4gICAgICAgIHByaXZhdGUgY3VycmVudFZlbG9jaXR5OkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMC4wLCAwLjAsIDAuMCk7XG4gICAgICAgIHByaXZhdGUgY3VycmVudFdheXBvaW50OkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMC4wLCAwLjAsIDAuMCk7XG4gICAgICAgIFxuICAgICAgICBwdWJsaWMgaGVpZ2h0T2Zmc2V0Om51bWJlciA9IDA7XG4gICAgICAgIHB1YmxpYyBhbmd1bGFyU3BlZWQ6IG51bWJlciA9IDA7XG4gICAgICAgIHB1YmxpYyB1cGRhdGVQb3NpdGlvbjpib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgcHVibGljIGRpc3RhbmNlRXBzaWxvbjpudW1iZXIgPSAwLjE7XG4gICAgICAgIHB1YmxpYyB2ZWxvY2l0eUVwc2lsb246bnVtYmVyID0gMS4wO1xuICAgICAgICBwdWJsaWMgc3RvcHBpbmdEaXN0YW5jZTogbnVtYmVyID0gMDtcbiAgICAgICAgcHVibGljIGlzTmF2aWdhdGluZygpOmJvb2xlYW4geyByZXR1cm4gKHRoaXMubV9hZ2VudERlc3RpbmF0aW9uICE9IG51bGwpOyB9XG4gICAgICAgIHB1YmxpYyBnZXRBZ2VudFR5cGUoKTpudW1iZXIgeyByZXR1cm4gdGhpcy50eXBlOyB9XG4gICAgICAgIHB1YmxpYyBnZXRBZ2VudFN0YXRlKCk6bnVtYmVyIHsgcmV0dXJuIHRoaXMubV9hZ2VudFN0YXRlOyB9XG4gICAgICAgIHB1YmxpYyBnZXRBZ2VudEluZGV4KCk6bnVtYmVyIHsgcmV0dXJuIHRoaXMubV9hZ2VudEluZGV4OyB9XG4gICAgICAgIHB1YmxpYyBnZXRBZ2VudFJhZGl1cygpOm51bWJlciB7IHJldHVybiB0aGlzLmF2b2lkUmFkaXVzOyB9XG4gICAgICAgIHB1YmxpYyBnZXRBZ2VudEhlaWdodCgpOm51bWJlciB7IHJldHVybiB0aGlzLmF2b2lkSGVpZ2h0OyB9XG4gICAgICAgIHB1YmxpYyBnZXRBZ2VudFNwZWVkKCk6bnVtYmVyIHsgcmV0dXJuIHRoaXMuc3BlZWQ7IH1cbiAgICAgICAgcHVibGljIGdldEFnZW50T2Zmc2V0KCk6bnVtYmVyIHsgcmV0dXJuIHRoaXMuYmFzZU9mZnNldDsgfVxuICAgICAgICBwdWJsaWMgZ2V0VGFyZ2V0RGlzdGFuY2UoKTpudW1iZXIgeyByZXR1cm4gdGhpcy5kaXN0YW5jZVRvVGFyZ2V0OyB9XG5cbiAgICAgICAgcHJvdGVjdGVkIG1fYWdlbnRTdGF0ZTpudW1iZXIgPSAwO1xuICAgICAgICBwcm90ZWN0ZWQgbV9hZ2VudEluZGV4Om51bWJlciA9IC0xO1xuICAgICAgICBwcm90ZWN0ZWQgbV9hZ2VudFRyYW5zOkJBQllMT04uVHJhbnNmb3JtTm9kZSA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBtX2FnZW50UGFyYW1zOkJBQllMT04uSUFnZW50UGFyYW1ldGVycyA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBtX2FnZW50Um90YXRpb246QkFCWUxPTi5RdWF0ZXJuaW9uID0gbmV3IEJBQllMT04uUXVhdGVybmlvbigwLjAsIDAuMCwgMC4wLCAxLjApO1xuICAgICAgICBwcm90ZWN0ZWQgbV9hZ2VudE1vdmVtZW50OkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMC4wLCAwLjAsIDAuMCk7XG4gICAgICAgIHByb3RlY3RlZCBtX2FnZW50RGlyZWN0aW9uOkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMC4wLCAwLjAsIDEuMCk7XG4gICAgICAgIHByb3RlY3RlZCBtX2FnZW50UXVhdGVybmlvbjpCQUJZTE9OLlF1YXRlcm5pb24gPSBuZXcgQkFCWUxPTi5RdWF0ZXJuaW9uKDAuMCwgMC4wLCAwLjAsIDEuMCk7XG4gICAgICAgIHByb3RlY3RlZCBtX2FnZW50RGVzdGluYXRpb246QkFCWUxPTi5WZWN0b3IzID0gbnVsbDtcbiAgICAgICAgXG4gICAgICAgIHByb3RlY3RlZCBhd2FrZSgpOiB2b2lkIHsgdGhpcy5hd2FrZU5hdmlnYXRpb25BZ2VudCgpOyB9XG4gICAgICAgIHByb3RlY3RlZCBsYXRlKCk6IHZvaWQgeyB0aGlzLnVwZGF0ZU5hdmlnYXRpb25BZ2VudCgpOyB9XG4gICAgICAgIHByb3RlY3RlZCBkZXN0cm95KCk6IHZvaWQgeyB0aGlzLmRlc3Ryb3lOYXZpZ2F0aW9uQWdlbnQoKTsgfVxuXG4gICAgICAgIC8qKiBSZWdpc3RlciBoYW5kbGVyIHRoYXQgaXMgdHJpZ2dlcmVkIGJlZm9yZSB0aGUgbmF2aWdhdGlvbiB1cGRhdGUgKi9cbiAgICAgICAgcHVibGljIG9uUHJlVXBkYXRlT2JzZXJ2YWJsZSA9IG5ldyBCQUJZTE9OLk9ic2VydmFibGU8QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlPigpO1xuICAgICAgICAvKiogUmVnaXN0ZXIgaGFuZGxlciB0aGF0IGlzIHRyaWdnZXJlZCBhZnRlciB0aGUgbmF2aWdhdGlvbiB1cGRhdGUgKi9cbiAgICAgICAgcHVibGljIG9uUG9zdFVwZGF0ZU9ic2VydmFibGUgPSBuZXcgQkFCWUxPTi5PYnNlcnZhYmxlPEJBQllMT04uVHJhbnNmb3JtTm9kZT4oKTtcbiAgICAgICAgLyoqIFJlZ2lzdGVyIGhhbmRsZXIgdGhhdCBpcyB0cmlnZ2VyZWQgd2hlbiB0aGUgbmF2aWdhdGlvbiBpcyBjb21wbGV0ZSAqL1xuICAgICAgICBwdWJsaWMgb25OYXZDb21wbGV0ZU9ic2VydmFibGUgPSBuZXcgQkFCWUxPTi5PYnNlcnZhYmxlPEJBQllMT04uVHJhbnNmb3JtTm9kZT4oKTtcblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gTmF2aWdhdGlvbiBQcml2YXRlIEZ1bmN0aW9ucyAgICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIHByaXZhdGUgYXdha2VOYXZpZ2F0aW9uQWdlbnQoKTp2b2lkIHtcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJ0eXBlXCIsIHRoaXMudHlwZSk7XG4gICAgICAgICAgICB0aGlzLnNwZWVkID0gdGhpcy5nZXRQcm9wZXJ0eShcInNwZWVkXCIsIHRoaXMuc3BlZWQpO1xuICAgICAgICAgICAgdGhpcy5iYXNlT2Zmc2V0ID0gdGhpcy5nZXRQcm9wZXJ0eShcIm9mZnNldFwiLCB0aGlzLmJhc2VPZmZzZXQpO1xuICAgICAgICAgICAgdGhpcy5hbmd1bGFyU3BlZWQgPSB0aGlzLmdldFByb3BlcnR5KFwiYW5ndWxhcnNwZWVkXCIsIHRoaXMuYW5ndWxhclNwZWVkKTtcbiAgICAgICAgICAgIHRoaXMuYWNjZWxlcmF0aW9uID0gdGhpcy5nZXRQcm9wZXJ0eShcImFjY2VsZXJhdGlvblwiLCB0aGlzLmFjY2VsZXJhdGlvbik7XG4gICAgICAgICAgICB0aGlzLnN0b3BwaW5nRGlzdGFuY2UgPSB0aGlzLmdldFByb3BlcnR5KFwic3RvcHBpbmdkaXN0YW5jZVwiLCB0aGlzLnN0b3BwaW5nRGlzdGFuY2UpO1xuICAgICAgICAgICAgdGhpcy5hdXRvQnJha2luZyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJhdXRvYnJha2luZ1wiLCB0aGlzLmF1dG9CcmFraW5nKTtcbiAgICAgICAgICAgIHRoaXMuYXZvaWRSYWRpdXMgPSB0aGlzLmdldFByb3BlcnR5KFwiYXZvaWRyYWRpdXNcIiwgdGhpcy5hdm9pZFJhZGl1cyk7XG4gICAgICAgICAgICB0aGlzLmF2b2lkSGVpZ2h0ID0gdGhpcy5nZXRQcm9wZXJ0eShcImF2b2lkaGVpZ2h0XCIsIHRoaXMuYXZvaWRIZWlnaHQpO1xuICAgICAgICAgICAgdGhpcy5vYnN0YWNsZUF2b2lkYW5jZVR5cGUgPSB0aGlzLmdldFByb3BlcnR5KFwiYXZvaWRxdWFsaXR5XCIsIHRoaXMub2JzdGFjbGVBdm9pZGFuY2VUeXBlKTtcbiAgICAgICAgICAgIHRoaXMuYXZvaWRhbmNlUHJpb3JpdHkgPSB0aGlzLmdldFByb3BlcnR5KFwiYXZvaWRwcmlvcml0eVwiLCB0aGlzLmF2b2lkYW5jZVByaW9yaXR5KTtcbiAgICAgICAgICAgIHRoaXMuYXV0b1RyYXZlcnNlT2ZmTWVzaExpbmsgPSB0aGlzLmdldFByb3BlcnR5KFwiYXV0b3RyYXZlcnNlXCIsIHRoaXMuYXV0b1RyYXZlcnNlT2ZmTWVzaExpbmspO1xuICAgICAgICAgICAgdGhpcy5hdXRvUmVwYXRoID0gdGhpcy5nZXRQcm9wZXJ0eShcImF1dG9wZXBhdGhcIiwgdGhpcy5hdXRvUmVwYXRoKTtcbiAgICAgICAgICAgIHRoaXMuYXJlYU1hc2sgPSB0aGlzLmdldFByb3BlcnR5KFwiYXJlYW1hc2tcIiwgdGhpcy5hcmVhTWFzayk7XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgQkFCWUxPTi5VdGlsaXRpZXMuVmFsaWRhdGVUcmFuc2Zvcm1RdWF0ZXJuaW9uKHRoaXMudHJhbnNmb3JtKTtcbiAgICAgICAgICAgIC8vdGhpcy5tX2FnZW50VHJhbnMgPSBCQUJZTE9OLk1lc2guQ3JlYXRlQm94KCh0aGlzLnRyYW5zZm9ybS5uYW1lICsgXCJBZ2VudFwiKSwgMSwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICB0aGlzLm1fYWdlbnRUcmFucyA9IG5ldyBCQUJZTE9OLlRyYW5zZm9ybU5vZGUoKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5BZ2VudFwiKSwgdGhpcy5zY2VuZSk7XG4gICAgICAgICAgICB0aGlzLm1fYWdlbnRUcmFucy5wb3NpdGlvbiA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMC4wLCAwLjAsIDAuMCk7XG4gICAgICAgICAgICB0aGlzLm1fYWdlbnRUcmFucy5yb3RhdGlvbiA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMC4wLCAwLjAsIDAuMCk7XG4gICAgICAgICAgICBCQUJZTE9OLlV0aWxpdGllcy5WYWxpZGF0ZVRyYW5zZm9ybVF1YXRlcm5pb24odGhpcy5tX2FnZW50VHJhbnMpO1xuICAgICAgICAgICAgdGhpcy5sYXN0UG9zaXRpb24uY29weUZyb20odGhpcy50cmFuc2Zvcm0ucG9zaXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHByaXZhdGUgdXBkYXRlTmF2aWdhdGlvbkFnZW50KCk6dm9pZCB7XG4gICAgICAgICAgICBjb25zdCBjcm93ZDpCQUJZTE9OLklDcm93ZCA9IEJBQllMT04uU2NlbmVNYW5hZ2VyLkdldENyb3dkSW50ZXJmYWNlKHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgaWYgKGNyb3dkID09IG51bGwpIHJldHVybjsgLy8gTm90ZTogTm8gRGV0b3VyIE5hdmlnYXRpb24gTWVzaCBBdmFpbGFibGUgWWV0XG4gICAgICAgICAgICBpZiAodGhpcy5tX2FnZW50SW5kZXggPCAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tX2FnZW50UGFyYW1zID0ge1xuICAgICAgICAgICAgICAgICAgICByYWRpdXM6IHRoaXMuYXZvaWRSYWRpdXMsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogdGhpcy5hdm9pZEhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgbWF4U3BlZWQ6IHRoaXMuc3BlZWQsXG4gICAgICAgICAgICAgICAgICAgIG1heEFjY2VsZXJhdGlvbjogdGhpcy5hY2NlbGVyYXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGNvbGxpc2lvblF1ZXJ5UmFuZ2U6IDAuNSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aE9wdGltaXphdGlvblJhbmdlOiAwLjAsXG4gICAgICAgICAgICAgICAgICAgIHNlcGFyYXRpb25XZWlnaHQ6IDEuMFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5VdGlsaXRpZXMuR2V0QWJzb2x1dGVQb3NpdGlvblRvUmVmKHRoaXMudHJhbnNmb3JtLCB0aGlzLnJlc2V0UG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIHRoaXMubV9hZ2VudEluZGV4ID0gY3Jvd2QuYWRkQWdlbnQodGhpcy5yZXNldFBvc2l0aW9uLCB0aGlzLm1fYWdlbnRQYXJhbXMsIHRoaXMubV9hZ2VudFRyYW5zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICB0aGlzLm1fYWdlbnRTdGF0ZSA9IGNyb3dkLmdldEFnZW50U3RhdGUodGhpcy5tX2FnZW50SW5kZXgpO1xuICAgICAgICAgICAgdGhpcy5nZXRBZ2VudFdheXBvaW50VG9SZWYodGhpcy5jdXJyZW50V2F5cG9pbnQpO1xuICAgICAgICAgICAgdGhpcy5nZXRBZ2VudFBvc2l0aW9uVG9SZWYodGhpcy5jdXJyZW50UG9zaXRpb24pO1xuICAgICAgICAgICAgaWYgKHRoaXMubV9hZ2VudFN0YXRlID09PSBCQUJZTE9OLkNyb3dkQWdlbnRTdGF0ZS5EVF9DUk9XREFHRU5UX1NUQVRFX09GRk1FU0gpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQb3NpdGlvbi5zdWJ0cmFjdFRvUmVmKHRoaXMubGFzdFBvc2l0aW9uLCB0aGlzLmN1cnJlbnRWZWxvY2l0eSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VmVsb2NpdHkuc2NhbGVJblBsYWNlKHRoaXMuc3BlZWQgKiAxLjUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdldEFnZW50VmVsb2NpdHlUb1JlZih0aGlzLmN1cnJlbnRWZWxvY2l0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgaWYgKHRoaXMubV9hZ2VudERlc3RpbmF0aW9uICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3RhbmNlVG9UYXJnZXQgPSBCQUJZTE9OLlZlY3RvcjMuRGlzdGFuY2UodGhpcy5jdXJyZW50UG9zaXRpb24sIHRoaXMubV9hZ2VudERlc3RpbmF0aW9uKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy51cGRhdGVQb3NpdGlvbiA9PT0gdHJ1ZSB8fCB0aGlzLmFuZ3VsYXJTcGVlZCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub25QcmVVcGRhdGVPYnNlcnZhYmxlLmhhc09ic2VydmVycygpID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uUHJlVXBkYXRlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcy50cmFuc2Zvcm0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFuZ3VsYXJTcGVlZCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRWZWxvY2l0eS5sZW5ndGgoKSA+PSB0aGlzLnZlbG9jaXR5RXBzaWxvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFZlbG9jaXR5Lm5vcm1hbGl6ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJvdGF0ZUZhY3RvcjpudW1iZXIgPSAodGhpcy5hbmd1bGFyU3BlZWQgKiBCQUJZTE9OLk5hdmlnYXRpb25BZ2VudC5BTkdVTEFSX1NQRUVEX1JBVElPICogdGhpcy5nZXREZWx0YVNlY29uZHMoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubV9hZ2VudFN0YXRlID09PSBCQUJZTE9OLkNyb3dkQWdlbnRTdGF0ZS5EVF9DUk9XREFHRU5UX1NUQVRFX09GRk1FU0gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUm90YXRlIFRvd2FyZCBWZWxvY2l0eSBEaXJlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3ZlRGlyZWN0aW9uLmNvcHlGcm9tKHRoaXMubV9hZ2VudERpcmVjdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9hZ2VudERpcmVjdGlvbi5zZXQoKHRoaXMubW92ZURpcmVjdGlvbi54ICsgKHRoaXMuY3VycmVudFZlbG9jaXR5LnggLSB0aGlzLm1vdmVEaXJlY3Rpb24ueCkpLCAodGhpcy5tb3ZlRGlyZWN0aW9uLnkgKyAodGhpcy5jdXJyZW50VmVsb2NpdHkueSAtIHRoaXMubW92ZURpcmVjdGlvbi55KSksICh0aGlzLm1vdmVEaXJlY3Rpb24ueiArICh0aGlzLmN1cnJlbnRWZWxvY2l0eS56IC0gdGhpcy5tb3ZlRGlyZWN0aW9uLnopKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9hZ2VudERpcmVjdGlvbi5ub3JtYWxpemUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0QW5nbGU6bnVtYmVyID0gKEJBQllMT04uTmF2aWdhdGlvbkFnZW50LlRBUkdFVF9BTkdMRV9GQUNUT1IgLSBNYXRoLmF0YW4yKHRoaXMubV9hZ2VudERpcmVjdGlvbi56LCB0aGlzLm1fYWdlbnREaXJlY3Rpb24ueCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlF1YXRlcm5pb24uRnJvbUV1bGVyQW5nbGVzVG9SZWYoMC4wLCB0YXJnZXRBbmdsZSwgMC4wLCB0aGlzLm1fYWdlbnRSb3RhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uUXVhdGVybmlvbi5TbGVycFRvUmVmKHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uUXVhdGVybmlvbiwgdGhpcy5tX2FnZW50Um90YXRpb24sIHJvdGF0ZUZhY3RvciwgdGhpcy50cmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSb3RhdGUgVG93YXJkIE5leHQgVGFyZ2V0IFdheXBvaW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9hZ2VudFF1YXRlcm5pb24uY29weUZyb20odGhpcy50cmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ubG9va0F0KHRoaXMuY3VycmVudFdheXBvaW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29ycmVjdCBUcmFuc2Zvcm0gTG9vayBBdCBSb3RhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvblF1YXRlcm5pb24udG9FdWxlckFuZ2xlc1RvUmVmKHRoaXMubV9hZ2VudERpcmVjdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uUXVhdGVybmlvbi5Gcm9tRXVsZXJBbmdsZXNUb1JlZigwLjAsIHRoaXMubV9hZ2VudERpcmVjdGlvbi55LCAwLjAsIHRoaXMubV9hZ2VudFJvdGF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5RdWF0ZXJuaW9uLlNsZXJwVG9SZWYodGhpcy5tX2FnZW50UXVhdGVybmlvbiwgdGhpcy5tX2FnZW50Um90YXRpb24sIHJvdGF0ZUZhY3RvciwgdGhpcy50cmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudXBkYXRlUG9zaXRpb24gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLnNldCh0aGlzLmN1cnJlbnRQb3NpdGlvbi54LCAodGhpcy5jdXJyZW50UG9zaXRpb24ueSArIHRoaXMuYmFzZU9mZnNldCArIHRoaXMuaGVpZ2h0T2Zmc2V0KSwgdGhpcy5jdXJyZW50UG9zaXRpb24ueik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub25Qb3N0VXBkYXRlT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vblBvc3RVcGRhdGVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLnRyYW5zZm9ybSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGlzdGFuY2VUb1RhcmdldCA8PSBNYXRoLm1heCh0aGlzLmRpc3RhbmNlRXBzaWxvbiwgdGhpcy5zdG9wcGluZ0Rpc3RhbmNlKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbmNlbE5hdmlnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub25OYXZDb21wbGV0ZU9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25OYXZDb21wbGV0ZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMudHJhbnNmb3JtKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXN0YW5jZVRvVGFyZ2V0ID0gMDsgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmxhc3RQb3NpdGlvbi5jb3B5RnJvbSh0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgcHJpdmF0ZSBkZXN0cm95TmF2aWdhdGlvbkFnZW50KCk6dm9pZCB7XG4gICAgICAgICAgICB0aGlzLm1fYWdlbnRJbmRleCA9IC0xO1xuICAgICAgICAgICAgdGhpcy5tX2FnZW50Um90YXRpb24gPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5tX2FnZW50TW92ZW1lbnQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5tX2FnZW50RGlyZWN0aW9uID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMubV9hZ2VudERlc3RpbmF0aW9uID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMubW92ZURpcmVjdGlvbiA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnJlc2V0UG9zaXRpb24gPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5sYXN0UG9zaXRpb24gPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50UG9zaXRpb24gPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50VmVsb2NpdHkgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50V2F5cG9pbnQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5vblByZVVwZGF0ZU9ic2VydmFibGUuY2xlYXIoKTtcbiAgICAgICAgICAgIHRoaXMub25QcmVVcGRhdGVPYnNlcnZhYmxlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMub25Qb3N0VXBkYXRlT2JzZXJ2YWJsZS5jbGVhcigpO1xuICAgICAgICAgICAgdGhpcy5vblBvc3RVcGRhdGVPYnNlcnZhYmxlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMub25OYXZDb21wbGV0ZU9ic2VydmFibGUuY2xlYXIoKTtcbiAgICAgICAgICAgIHRoaXMub25OYXZDb21wbGV0ZU9ic2VydmFibGUgPSBudWxsO1xuICAgICAgICAgICAgaWYgKHRoaXMubV9hZ2VudFRyYW5zICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1fYWdlbnRUcmFucy5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5tX2FnZW50VHJhbnMgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vIE5hdmlnYXRpb24gUHVibGljIEZ1bmN0aW9ucyAgICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICAvKiogTW92ZSBhZ2VudCByZWxhdGl2ZSB0byBjdXJyZW50IHBvc2l0aW9uLiAqL1xuICAgICAgICBwdWJsaWMgbW92ZShvZmZzZXQ6IEJBQllMT04uVmVjdG9yMywgY2xvc2V0UG9pbnQ6Ym9vbGVhbiA9IHRydWUpOiB2b2lkIHtcbiAgICAgICAgICAgIGNvbnN0IHBsdWdpbjpCQUJZTE9OLlJlY2FzdEpTUGx1Z2luID0gQkFCWUxPTi5TY2VuZU1hbmFnZXIuR2V0TmF2aWdhdGlvblRvb2xzKCk7XG4gICAgICAgICAgICBjb25zdCBjcm93ZDpCQUJZTE9OLklDcm93ZCA9IEJBQllMT04uU2NlbmVNYW5hZ2VyLkdldENyb3dkSW50ZXJmYWNlKHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgaWYgKHBsdWdpbiAhPSBudWxsICYmIGNyb3dkICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjcm93ZC5nZXRBZ2VudFBvc2l0aW9uKHRoaXMubV9hZ2VudEluZGV4KS5hZGRUb1JlZihvZmZzZXQsIHRoaXMubV9hZ2VudE1vdmVtZW50KTtcbiAgICAgICAgICAgICAgICBpZiAoY2xvc2V0UG9pbnQgPT09IHRydWUpIHRoaXMubV9hZ2VudERlc3RpbmF0aW9uID0gcGx1Z2luLmdldENsb3Nlc3RQb2ludCh0aGlzLm1fYWdlbnRNb3ZlbWVudCk7XG4gICAgICAgICAgICAgICAgZWxzZSB0aGlzLm1fYWdlbnREZXN0aW5hdGlvbiA9IHRoaXMubV9hZ2VudE1vdmVtZW50LmNsb25lKCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubV9hZ2VudEluZGV4ID49IDApIGNyb3dkLmFnZW50R290byh0aGlzLm1fYWdlbnRJbmRleCwgdGhpcy5tX2FnZW50RGVzdGluYXRpb24pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xzLldhcm4oXCJObyByZWNhc3QgbmF2aWdhdGlvbiBtZXNoIG9yIGNyb3dkIGludGVyZmFjZSBkYXRhIGF2YWlsYWJsZSFcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqIFRlbGVwb3J0IGFnZW50IHRvIGRlc3RpbmF0aW9uIHBvaW50LiAqL1xuICAgICAgICBwdWJsaWMgdGVsZXBvcnQoZGVzdGluYXRpb246IEJBQllMT04uVmVjdG9yMywgY2xvc2V0UG9pbnQ6Ym9vbGVhbiA9IHRydWUpOiB2b2lkIHtcbiAgICAgICAgICAgIGNvbnN0IHBsdWdpbjpCQUJZTE9OLlJlY2FzdEpTUGx1Z2luID0gQkFCWUxPTi5TY2VuZU1hbmFnZXIuR2V0TmF2aWdhdGlvblRvb2xzKCk7XG4gICAgICAgICAgICBjb25zdCBjcm93ZDpCQUJZTE9OLklDcm93ZCA9IEJBQllMT04uU2NlbmVNYW5hZ2VyLkdldENyb3dkSW50ZXJmYWNlKHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgaWYgKHBsdWdpbiAhPSBudWxsICYmIGNyb3dkICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2xvc2V0UG9pbnQgPT09IHRydWUpIHRoaXMubV9hZ2VudERlc3RpbmF0aW9uID0gcGx1Z2luLmdldENsb3Nlc3RQb2ludChkZXN0aW5hdGlvbik7XG4gICAgICAgICAgICAgICAgZWxzZSB0aGlzLm1fYWdlbnREZXN0aW5hdGlvbiA9IGRlc3RpbmF0aW9uLmNsb25lKCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubV9hZ2VudEluZGV4ID49IDApIGNyb3dkLmFnZW50VGVsZXBvcnQodGhpcy5tX2FnZW50SW5kZXgsIHRoaXMubV9hZ2VudERlc3RpbmF0aW9uKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29scy5XYXJuKFwiTm8gcmVjYXN0IG5hdmlnYXRpb24gbWVzaCBvciBjcm93ZCBpbnRlcmZhY2UgZGF0YSBhdmFpbGFibGUhXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKiBTZXRzIGFnZW50IGN1cnJlbnQgZGVzdGluYXRpb24gcG9pbnQuICovXG4gICAgICAgIHB1YmxpYyBzZXREZXN0aW5hdGlvbihkZXN0aW5hdGlvbjogQkFCWUxPTi5WZWN0b3IzLCBjbG9zZXRQb2ludDpib29sZWFuID0gdHJ1ZSwgcmVzZXRBZ2VudDpib29sZWFuID0gdHJ1ZSk6IHZvaWQge1xuICAgICAgICAgICAgY29uc3QgcGx1Z2luOkJBQllMT04uUmVjYXN0SlNQbHVnaW4gPSBCQUJZTE9OLlNjZW5lTWFuYWdlci5HZXROYXZpZ2F0aW9uVG9vbHMoKTtcbiAgICAgICAgICAgIGNvbnN0IGNyb3dkOkJBQllMT04uSUNyb3dkID0gQkFCWUxPTi5TY2VuZU1hbmFnZXIuR2V0Q3Jvd2RJbnRlcmZhY2UodGhpcy5zY2VuZSk7XG4gICAgICAgICAgICBpZiAocGx1Z2luICE9IG51bGwgJiYgY3Jvd2QgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmIChyZXNldEFnZW50ID09PSB0cnVlKSB0aGlzLnJlc2V0QWdlbnRQb3NpdGlvbigpO1xuICAgICAgICAgICAgICAgIGlmIChjbG9zZXRQb2ludCA9PT0gdHJ1ZSkgdGhpcy5tX2FnZW50RGVzdGluYXRpb24gPSBwbHVnaW4uZ2V0Q2xvc2VzdFBvaW50KGRlc3RpbmF0aW9uKTtcbiAgICAgICAgICAgICAgICBlbHNlIHRoaXMubV9hZ2VudERlc3RpbmF0aW9uID0gZGVzdGluYXRpb24uY2xvbmUoKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tX2FnZW50SW5kZXggPj0gMCkgY3Jvd2QuYWdlbnRHb3RvKHRoaXMubV9hZ2VudEluZGV4LCB0aGlzLm1fYWdlbnREZXN0aW5hdGlvbik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbHMuV2FybihcIk5vIHJlY2FzdCBuYXZpZ2F0aW9uIG1lc2ggb3IgY3Jvd2QgaW50ZXJmYWNlIGRhdGEgYXZhaWxhYmxlIVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKiogR2V0cyBhZ2VudCBjdXJyZW50IHdvcmxkIHNwYWNlIHZlbG9jaXR5LiAqL1xuICAgICAgICBwdWJsaWMgZ2V0QWdlbnRWZWxvY2l0eSgpOiBCQUJZTE9OLlZlY3RvcjMge1xuICAgICAgICAgICAgY29uc3QgY3Jvd2Q6QkFCWUxPTi5JQ3Jvd2QgPSBCQUJZTE9OLlNjZW5lTWFuYWdlci5HZXRDcm93ZEludGVyZmFjZSh0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgIHJldHVybiAoY3Jvd2QgIT0gbnVsbCAmJiB0aGlzLm1fYWdlbnRJbmRleCA+PSAwKSA/IGNyb3dkLmdldEFnZW50VmVsb2NpdHkodGhpcy5tX2FnZW50SW5kZXgpIDogbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvKiogR2V0cyBhZ2VudCBjdXJyZW50IHdvcmxkIHNwYWNlIHZlbG9jaXR5LiAqL1xuICAgICAgICBwdWJsaWMgZ2V0QWdlbnRWZWxvY2l0eVRvUmVmKHJlc3VsdDpCQUJZTE9OLlZlY3RvcjMpOiB2b2lkIHtcbiAgICAgICAgICAgIGNvbnN0IGNyb3dkOkJBQllMT04uSUNyb3dkID0gQkFCWUxPTi5TY2VuZU1hbmFnZXIuR2V0Q3Jvd2RJbnRlcmZhY2UodGhpcy5zY2VuZSk7XG4gICAgICAgICAgICBpZiAoY3Jvd2QgIT0gbnVsbCAmJiB0aGlzLm1fYWdlbnRJbmRleCA+PSAwKSBjcm93ZC5nZXRBZ2VudFZlbG9jaXR5VG9SZWYodGhpcy5tX2FnZW50SW5kZXgsIHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIEdldHMgYWdlbnQgY3VycmVudCB3b3JsZCBzcGFjZSBwb3NpdGlvbi4gKi9cbiAgICAgICAgcHVibGljIGdldEFnZW50UG9zaXRpb24oKTogQkFCWUxPTi5WZWN0b3IzIHtcbiAgICAgICAgICAgIGNvbnN0IGNyb3dkOkJBQllMT04uSUNyb3dkID0gQkFCWUxPTi5TY2VuZU1hbmFnZXIuR2V0Q3Jvd2RJbnRlcmZhY2UodGhpcy5zY2VuZSk7XG4gICAgICAgICAgICByZXR1cm4gKGNyb3dkICE9IG51bGwgJiYgdGhpcy5tX2FnZW50SW5kZXggPj0gMCkgPyBjcm93ZC5nZXRBZ2VudFBvc2l0aW9uKHRoaXMubV9hZ2VudEluZGV4KSA6IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIEdldHMgYWdlbnQgY3VycmVudCB3b3JsZCBzcGFjZSBwb3NpdGlvbi4gKi9cbiAgICAgICAgcHVibGljIGdldEFnZW50UG9zaXRpb25Ub1JlZihyZXN1bHQ6QkFCWUxPTi5WZWN0b3IzKTogdm9pZCB7XG4gICAgICAgICAgICBjb25zdCBjcm93ZDpCQUJZTE9OLklDcm93ZCA9IEJBQllMT04uU2NlbmVNYW5hZ2VyLkdldENyb3dkSW50ZXJmYWNlKHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgaWYgKGNyb3dkICE9IG51bGwgJiYgdGhpcy5tX2FnZW50SW5kZXggPj0gMCkgY3Jvd2QuZ2V0QWdlbnRQb3NpdGlvblRvUmVmKHRoaXMubV9hZ2VudEluZGV4LCByZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgIC8qKiBHZXRzIGFnZW50IGN1cnJlbnQgd2F5cG9pbnQgcG9zaXRpb24uICovXG4gICAgICAgIHB1YmxpYyBnZXRBZ2VudFdheXBvaW50KCk6IEJBQllMT04uVmVjdG9yMyB7XG4gICAgICAgICAgICBjb25zdCBjcm93ZDpCQUJZTE9OLklDcm93ZCA9IEJBQllMT04uU2NlbmVNYW5hZ2VyLkdldENyb3dkSW50ZXJmYWNlKHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgcmV0dXJuIChjcm93ZCAhPSBudWxsICYmIHRoaXMubV9hZ2VudEluZGV4ID49IDApID8gY3Jvd2QuZ2V0QWdlbnROZXh0VGFyZ2V0UGF0aCh0aGlzLm1fYWdlbnRJbmRleCkgOiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8qKiBHZXRzIGFnZW50IGN1cnJlbnQgd2F5cG9pbnQgcG9zaXRpb24uICovXG4gICAgICAgIHB1YmxpYyBnZXRBZ2VudFdheXBvaW50VG9SZWYocmVzdWx0OkJBQllMT04uVmVjdG9yMyk6IHZvaWQge1xuICAgICAgICAgICAgY29uc3QgY3Jvd2Q6QkFCWUxPTi5JQ3Jvd2QgPSBCQUJZTE9OLlNjZW5lTWFuYWdlci5HZXRDcm93ZEludGVyZmFjZSh0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgIGlmIChjcm93ZCAhPSBudWxsICYmIHRoaXMubV9hZ2VudEluZGV4ID49IDApIGNyb3dkLmdldEFnZW50TmV4dFRhcmdldFBhdGhUb1JlZih0aGlzLm1fYWdlbnRJbmRleCwgcmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICAvKiogUmVzZXQgdGhlIGFnZW50IHRvIHRyYW5zZm9ybSB3b3JsZCBzcGFjZSBwb3NpdGlvbi4gKi9cbiAgICAgICAgcHVibGljIHJlc2V0QWdlbnRQb3NpdGlvbigpOnZvaWQge1xuICAgICAgICAgICAgdGhpcy5tX2FnZW50RGVzdGluYXRpb24gPSBudWxsOyAvLyBOb3RlOiBEaXNhYmxlIEF1dG8gUG9zaXRpb24gVXBkYXRlXG4gICAgICAgICAgICBCQUJZTE9OLlV0aWxpdGllcy5HZXRBYnNvbHV0ZVBvc2l0aW9uVG9SZWYodGhpcy50cmFuc2Zvcm0sIHRoaXMucmVzZXRQb3NpdGlvbik7XG4gICAgICAgICAgICBjb25zdCBjcm93ZDpCQUJZTE9OLklDcm93ZCA9IEJBQllMT04uU2NlbmVNYW5hZ2VyLkdldENyb3dkSW50ZXJmYWNlKHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgaWYgKGNyb3dkICE9IG51bGwgJiYgdGhpcy5tX2FnZW50SW5kZXggPj0gMCkgY3Jvd2QuYWdlbnRUZWxlcG9ydCh0aGlzLm1fYWdlbnRJbmRleCwgdGhpcy5yZXNldFBvc2l0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICAvKiogQ2FuY2VsIGN1cnJlbnQgd2F5cG9pbnQgcGF0aCBuYXZpZ2F0aW9uLiAqL1xuICAgICAgICBwdWJsaWMgY2FuY2VsTmF2aWdhdGlvbigpOnZvaWQge1xuICAgICAgICAgICAgdGhpcy5tX2FnZW50RGVzdGluYXRpb24gPSBudWxsOyAvLyBOb3RlOiBEaXNhYmxlIEF1dG8gUG9zaXRpb24gVXBkYXRlXG4gICAgICAgICAgICBjb25zdCBjcm93ZDpCQUJZTE9OLklDcm93ZCA9IEJBQllMT04uU2NlbmVNYW5hZ2VyLkdldENyb3dkSW50ZXJmYWNlKHRoaXMuc2NlbmUpO1xuICAgICAgICAgICAgY29uc3QgcG9zaXRpb246QkFCWUxPTi5WZWN0b3IzID0gdGhpcy5nZXRBZ2VudFBvc2l0aW9uKCk7XG4gICAgICAgICAgICBpZiAocG9zaXRpb24gIT0gbnVsbCAmJiBjcm93ZCAhPSBudWxsICYmIHRoaXMubV9hZ2VudEluZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgICBjcm93ZC5hZ2VudFRlbGVwb3J0KHRoaXMubV9hZ2VudEluZGV4LCBwb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgcG9zaXRpb24ueSArPSAodGhpcy5iYXNlT2Zmc2V0ICsgdGhpcy5oZWlnaHRPZmZzZXQpO1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLmNvcHlGcm9tKHBvc2l0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiAgUmVjYXN0IERldG91ciBDcm93ZCBBZ2VudCBTdGF0ZXNcbiAgICAgKi9cbiAgICBleHBvcnQgZW51bSBDcm93ZEFnZW50U3RhdGUge1xuICAgICAgICBEVF9DUk9XREFHRU5UX1NUQVRFX0lOVkFMSUQgPSAwLFx0XHQvLy88IFRoZSBhZ2VudCBpcyBub3QgaW4gYSB2YWxpZCBzdGF0ZS5cbiAgICAgICAgRFRfQ1JPV0RBR0VOVF9TVEFURV9XQUxLSU5HID0gMSxcdFx0Ly8vPCBUaGUgYWdlbnQgaXMgdHJhdmVyc2luZyBhIG5vcm1hbCBuYXZpZ2F0aW9uIG1lc2ggcG9seWdvbi5cbiAgICAgICAgRFRfQ1JPV0RBR0VOVF9TVEFURV9PRkZNRVNIID0gMixcdFx0Ly8vPCBUaGUgYWdlbnQgaXMgdHJhdmVyc2luZyBhbiBvZmYtbWVzaCBjb25uZWN0aW9uLlxuICAgIH07XG59IiwibW9kdWxlIEJBQllMT04ge1xuICAgIC8qKlxuICAgICAqIEJhYnlsb24gcmF5Y2FzdCB2ZWhpY2xlIGNvbnRyb2xsZXIgcHJvIGNsYXNzIChOYXRpdmUgQnVsbGV0IFBoeXNpY3MgMi44MilcbiAgICAgKiBAY2xhc3MgUmF5Y2FzdFZlaGljbGUgLSBBbGwgcmlnaHRzIHJlc2VydmVkIChjKSAyMDIwIE1hY2tleSBLaW5hcmRcbiAgICAgKi9cbiAgICBleHBvcnQgY2xhc3MgUmF5Y2FzdFZlaGljbGUge1xuICAgICAgICBwcml2YXRlIF9jZW50ZXJNYXNzOkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICBwcml2YXRlIF9jaGFzc2lzTWVzaDpCQUJZTE9OLkFic3RyYWN0TWVzaCA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX3RlbXBWZWN0b3JQb3M6QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG5cbiAgICAgICAgcHVibGljIGxvY2tlZFdoZWVsSW5kZXhlczpudW1iZXJbXSA9IG51bGw7XG4gICAgICAgIHB1YmxpYyBnZXRJbnRlcm5hbFZlaGljbGUoKTphbnkgeyByZXR1cm4gdGhpcy5tX3ZlaGljbGU7IH1cbiAgICAgICAgcHVibGljIGdldFVwQXhpcygpOm51bWJlciB7IGlmICh0aGlzLm1fdmVoaWNsZSAhPSBudWxsKSByZXR1cm4gdGhpcy5tX3ZlaGljbGUuZ2V0VXBBeGlzKCk7IH1cbiAgICAgICAgcHVibGljIGdldFJpZ2h0QXhpcygpOm51bWJlciB7IGlmICh0aGlzLm1fdmVoaWNsZSAhPSBudWxsKSByZXR1cm4gdGhpcy5tX3ZlaGljbGUuZ2V0UmlnaHRBeGlzKCk7IH1cbiAgICAgICAgcHVibGljIGdldEZvcndhcmRBeGlzKCk6bnVtYmVyIHsgaWYgKHRoaXMubV92ZWhpY2xlICE9IG51bGwpIHJldHVybiB0aGlzLm1fdmVoaWNsZS5nZXRGb3J3YXJkQXhpcygpOyB9XG4gICAgICAgIHB1YmxpYyBnZXRGb3J3YXJkVmVjdG9yKCk6YW55IHsgaWYgKHRoaXMubV92ZWhpY2xlICE9IG51bGwpIHJldHVybiB0aGlzLm1fdmVoaWNsZS5nZXRGb3J3YXJkVmVjdG9yKCk7IH1cbiAgICAgICAgcHVibGljIGdldE51bVdoZWVscygpOm51bWJlciB7IGlmICh0aGlzLm1fdmVoaWNsZSAhPSBudWxsKSByZXR1cm4gdGhpcy5tX3ZlaGljbGUuZ2V0TnVtV2hlZWxzKCk7IH1cbiAgICAgICAgcHVibGljIGdldFdoZWVsSW5mbyh3aGVlbDpudW1iZXIpOmFueSB7IGlmICh0aGlzLm1fdmVoaWNsZSAhPSBudWxsKSByZXR1cm4gdGhpcy5tX3ZlaGljbGUuZ2V0V2hlZWxJbmZvKHdoZWVsKTsgfSAvLyBBbW1vLmJ0V2hlZWxJbmZvXG4gICAgICAgIHB1YmxpYyByZXNldFN1c3BlbnNpb24oKTp2b2lkIHsgaWYgKHRoaXMubV92ZWhpY2xlICE9IG51bGwpIHRoaXMubV92ZWhpY2xlLnJlc2V0U3VzcGVuc2lvbigpOyB9XG4gICAgICAgIHB1YmxpYyBzZXRQaXRjaENvbnRyb2wocGl0Y2g6bnVtYmVyKTp2b2lkIHsgaWYgKHRoaXMubV92ZWhpY2xlICE9IG51bGwpIHRoaXMubV92ZWhpY2xlLnNldFBpdGNoQ29udHJvbChwaXRjaCk7IH1cbiAgICAgICAgcHVibGljIHNldEVuZ2luZUZvcmNlKHBvd2VyOm51bWJlciwgd2hlZWw6bnVtYmVyKTp2b2lkIHsgaWYgKHRoaXMubV92ZWhpY2xlICE9IG51bGwpIHRoaXMubV92ZWhpY2xlLmFwcGx5RW5naW5lRm9yY2UocG93ZXIsIHdoZWVsKTsgfVxuICAgICAgICBwdWJsaWMgc2V0QnJha2luZ0ZvcmNlKGJyYWtlOm51bWJlciwgd2hlZWw6bnVtYmVyKTp2b2lkIHsgaWYgKHRoaXMubV92ZWhpY2xlICE9IG51bGwpIHRoaXMubV92ZWhpY2xlLnNldEJyYWtlKGJyYWtlLCB3aGVlbCk7IH1cbiAgICAgICAgcHVibGljIGdldFdoZWVsVHJhbnNmb3JtKHdoZWVsOm51bWJlcik6YW55IHsgaWYgKHRoaXMubV92ZWhpY2xlICE9IG51bGwpIHJldHVybiB0aGlzLm1fdmVoaWNsZS5nZXRXaGVlbFRyYW5zZm9ybVdTKHdoZWVsKTsgfSAvLyBBbW1vLmJ0VHJhbnNmb3JtXG4gICAgICAgIHB1YmxpYyB1cGRhdGVXaGVlbFRyYW5zZm9ybSh3aGVlbDpudW1iZXIsIGludGVycG9sYXRlOmJvb2xlYW4pOnZvaWQgeyBpZiAodGhpcy5tX3ZlaGljbGUgIT0gbnVsbCkgdGhpcy5tX3ZlaGljbGUudXBkYXRlV2hlZWxUcmFuc2Zvcm0od2hlZWwsIGludGVycG9sYXRlKTsgfVxuICAgICAgICBwdWJsaWMgZ2V0VXNlckNvbnN0cmFpbnRUeXBlKCk6bnVtYmVyIHsgaWYgKHRoaXMubV92ZWhpY2xlICE9IG51bGwpIHJldHVybiB0aGlzLm1fdmVoaWNsZS5nZXRVc2VyQ29uc3RyYWludFR5cGUoKTsgfVxuICAgICAgICBwdWJsaWMgc2V0VXNlckNvbnN0cmFpbnRUeXBlKHVzZXJDb25zdHJhaW50VHlwZTpudW1iZXIpOnZvaWQgeyBpZiAodGhpcy5tX3ZlaGljbGUgIT0gbnVsbCkgdGhpcy5tX3ZlaGljbGUuc2V0VXNlckNvbnN0cmFpbnRUeXBlKHVzZXJDb25zdHJhaW50VHlwZSk7IH1cbiAgICAgICAgcHVibGljIHNldFVzZXJDb25zdHJhaW50SWQodWlkOm51bWJlcik6dm9pZCB7IGlmICh0aGlzLm1fdmVoaWNsZSAhPSBudWxsKSB0aGlzLm1fdmVoaWNsZS5zZXRVc2VyQ29uc3RyYWludElkKHVpZCk7IH1cbiAgICAgICAgcHVibGljIGdldFVzZXJDb25zdHJhaW50SWQoKTpudW1iZXIgeyBpZiAodGhpcy5tX3ZlaGljbGUgIT0gbnVsbCkgcmV0dXJuIHRoaXMubV92ZWhpY2xlLmdldFVzZXJDb25zdHJhaW50SWQoKTsgfVxuICAgICAgICBwdWJsaWMgZ2V0UmF3Q3VycmVudFNwZWVkS3BoKCk6bnVtYmVyIHsgaWYgKHRoaXMubV92ZWhpY2xlICE9IG51bGwpIHJldHVybiB0aGlzLm1fdmVoaWNsZS5nZXRDdXJyZW50U3BlZWRLbUhvdXIoKTsgfVxuICAgICAgICBwdWJsaWMgZ2V0UmF3Q3VycmVudFNwZWVkTXBoKCk6bnVtYmVyIHsgaWYgKHRoaXMubV92ZWhpY2xlICE9IG51bGwpIHJldHVybiB0aGlzLm1fdmVoaWNsZS5nZXRDdXJyZW50U3BlZWRLbUhvdXIoKSAqIEJBQllMT04uU3lzdGVtLktwaDJNcGg7IH1cbiAgICAgICAgcHVibGljIGdldEFic0N1cnJlbnRTcGVlZEtwaCgpOm51bWJlciB7IGlmICh0aGlzLm1fdmVoaWNsZSAhPSBudWxsKSByZXR1cm4gTWF0aC5hYnModGhpcy5tX3ZlaGljbGUuZ2V0Q3VycmVudFNwZWVkS21Ib3VyKCkpOyB9XG4gICAgICAgIHB1YmxpYyBnZXRBYnNDdXJyZW50U3BlZWRNcGgoKTpudW1iZXIgeyBpZiAodGhpcy5tX3ZlaGljbGUgIT0gbnVsbCkgcmV0dXJuIE1hdGguYWJzKHRoaXMubV92ZWhpY2xlLmdldEN1cnJlbnRTcGVlZEttSG91cigpKSAqIEJBQllMT04uU3lzdGVtLktwaDJNcGg7IH1cbiAgICAgICAgcHVibGljIGdldFZlaGljbGVUdW5pbmdTeXN0ZW0oKTphbnkgeyByZXR1cm4gdGhpcy5tX3ZlaGljbGVUdW5pbmc7IH0gLy8gQW1tby5idFZlaGljbGVUdW5pbmdcbiAgICAgICAgcHVibGljIGdldENoYXNzaXNXb3JsZFRyYW5zZm9ybSgpOmFueSB7IGlmICh0aGlzLm1fdmVoaWNsZSAhPSBudWxsKSByZXR1cm4gdGhpcy5tX3ZlaGljbGUuZ2V0Q2hhc3Npc1dvcmxkVHJhbnNmb3JtKCk7IH0gLy8gQW1tby5idFRyYW5zZm9ybVxuXG4gICAgICAgIHByb3RlY3RlZCBtX3ZlaGljbGU6YW55ID0gbnVsbDtcbiAgICAgICAgcHJvdGVjdGVkIG1fdmVoaWNsZVR1bmluZzphbnkgPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgbV92ZWhpY2xlUmF5Y2FzdGVyOmFueSA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBtX3ZlaGljbGVDb2xsaWRlcnM6YW55W10gPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgbV90ZW1wVHJhbnNmb3JtOmFueSA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBtX3RlbXBQb3NpdGlvbjphbnkgPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgbV93aGVlbERpcmVjdGlvbkNTMDphbnkgPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgbV93aGVlbEF4bGVDUzphbnkgPSBudWxsO1xuICAgICAgICBwdWJsaWMgY29uc3RydWN0b3IoZW50aXR5OkJBQllMT04uQWJzdHJhY3RNZXNoLCB3b3JsZDphbnksIGNlbnRlcjpCQUJZTE9OLlZlY3RvcjMsIGRlZmF1bHRBbmd1bGFyRmFjdG9yOkJBQllMT04uVmVjdG9yMyA9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2NoYXNzaXNNZXNoID0gZW50aXR5O1xuICAgICAgICAgICAgdGhpcy5fY2VudGVyTWFzcyA9IGNlbnRlcjtcbiAgICAgICAgICAgIHRoaXMubV92ZWhpY2xlVHVuaW5nID0gbmV3IEFtbW8uYnRWZWhpY2xlVHVuaW5nKCk7XG4gICAgICAgICAgICB0aGlzLm1fdmVoaWNsZVJheWNhc3RlciA9IChBbW1vLmJ0U21vb3RoVmVoaWNsZVJheWNhc3RlciAhPSBudWxsKSA/IG5ldyBBbW1vLmJ0U21vb3RoVmVoaWNsZVJheWNhc3Rlcih3b3JsZCkgOiBuZXcgQW1tby5idERlZmF1bHRWZWhpY2xlUmF5Y2FzdGVyKHdvcmxkKTtcbiAgICAgICAgICAgIHRoaXMubV92ZWhpY2xlQ29sbGlkZXJzID0gICh0aGlzLl9jaGFzc2lzTWVzaC5tZXRhZGF0YSAhPSBudWxsICYmIHRoaXMuX2NoYXNzaXNNZXNoLm1ldGFkYXRhLnVuaXR5ICE9IG51bGwgJiYgdGhpcy5fY2hhc3Npc01lc2gubWV0YWRhdGEudW5pdHkud2hlZWxzICE9IG51bGwpID8gdGhpcy5fY2hhc3Npc01lc2gubWV0YWRhdGEudW5pdHkud2hlZWxzIDogbnVsbDtcbiAgICAgICAgICAgIHRoaXMubV92ZWhpY2xlID0gbmV3IEFtbW8uYnRSYXljYXN0VmVoaWNsZSh0aGlzLm1fdmVoaWNsZVR1bmluZywgdGhpcy5fY2hhc3Npc01lc2gucGh5c2ljc0ltcG9zdG9yLnBoeXNpY3NCb2R5LCB0aGlzLm1fdmVoaWNsZVJheWNhc3Rlcik7XG4gICAgICAgICAgICB0aGlzLm1fdmVoaWNsZS5zZXRDb29yZGluYXRlU3lzdGVtKDAsIDEsIDIpOyAgICAgICAgICAgICAgICAvLyBZLVVQLUFYSVNcbiAgICAgICAgICAgIHRoaXMubV93aGVlbERpcmVjdGlvbkNTMCA9IG5ldyBBbW1vLmJ0VmVjdG9yMygwLCAtMSwgMCk7ICAgIC8vIFktVVAtQVhJU1xuICAgICAgICAgICAgdGhpcy5tX3doZWVsQXhsZUNTID0gbmV3IEFtbW8uYnRWZWN0b3IzKC0xLCAwLCAwKTsgICAgICAgICAgLy8gWS1VUC1BWElTXG4gICAgICAgICAgICB0aGlzLm1fdGVtcFBvc2l0aW9uID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMubV90ZW1wVHJhbnNmb3JtID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuc2V0dXBXaGVlbEluZm9ybWF0aW9uKGRlZmF1bHRBbmd1bGFyRmFjdG9yKTtcbiAgICAgICAgICAgIHdvcmxkLmFkZEFjdGlvbih0aGlzLm1fdmVoaWNsZSk7XG4gICAgICAgICAgICBpZiAoQW1tby5idFNtb290aFZlaGljbGVSYXljYXN0ZXIgPT0gbnVsbCkgQkFCWUxPTi5Ub29scy5XYXJuKFwiVXNpbmcgRGVmYXVsdCBWZWhpY2xlIFJheWNhc3RlciBGb3I6XCIgKyBlbnRpdHkubmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgcHVibGljIGRpc3Bvc2UoKTp2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuZGVsZXRlV2hlZWxJbmZvcm1hdGlvbigpO1xuICAgICAgICAgICAgaWYgKHRoaXMubV92ZWhpY2xlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBBbW1vLmRlc3Ryb3kodGhpcy5tX3ZlaGljbGUpO1xuICAgICAgICAgICAgICAgIHRoaXMubV92ZWhpY2xlID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLm1fdmVoaWNsZVR1bmluZyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgQW1tby5kZXN0cm95KHRoaXMubV92ZWhpY2xlVHVuaW5nKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fdmVoaWNsZVR1bmluZyA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5tX3ZlaGljbGVSYXljYXN0ZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIEFtbW8uZGVzdHJveSh0aGlzLm1fdmVoaWNsZVJheWNhc3Rlcik7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3ZlaGljbGVSYXljYXN0ZXIgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMubV93aGVlbERpcmVjdGlvbkNTMCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgQW1tby5kZXN0cm95KHRoaXMubV93aGVlbERpcmVjdGlvbkNTMCk7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3doZWVsRGlyZWN0aW9uQ1MwID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLm1fd2hlZWxBeGxlQ1MgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIEFtbW8uZGVzdHJveSh0aGlzLm1fd2hlZWxBeGxlQ1MpO1xuICAgICAgICAgICAgICAgIHRoaXMubV93aGVlbEF4bGVDUyA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5tX3RlbXBQb3NpdGlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgQW1tby5kZXN0cm95KHRoaXMubV90ZW1wUG9zaXRpb24pOyAvLyA/Pz9cbiAgICAgICAgICAgICAgICB0aGlzLm1fdGVtcFBvc2l0aW9uID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLm1fdGVtcFRyYW5zZm9ybSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgQW1tby5kZXN0cm95KHRoaXMubV90ZW1wVHJhbnNmb3JtKTsgLy8gPz8/XG4gICAgICAgICAgICAgICAgdGhpcy5tX3RlbXBUcmFuc2Zvcm0gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5tX3ZlaGljbGVDb2xsaWRlcnMgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAvLyBTdGF0aWMgUmF5Y2FzdCBWZWhpY2xlIEluc3RhbmNlIEhlbHBlciBGdW5jdGlvbnNcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIC8qKiBHZXRzIHRoZSByaWdpZGJvZHkgcmF5Y2FzdCB2ZWhpY2xlIGNvbnRyb2xsZXIgZm9yIHRoZSBlbnRpdHkuIE5vdGU6IFdoZWVsIGNvbGxpZGVyIG1ldGFkYXRhIGluZm9ybWFpb24gaXMgcmVxdWlyZWQgZm9yIHJheWNhc3QgdmVoaWNsZSBjb250cm9sLiAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIEdldEluc3RhbmNlKHNjZW5lOkJBQllMT04uU2NlbmUsIHJpZ2lkYm9keTpCQUJZTE9OLlJpZ2lkYm9keVBoeXNpY3MsIGRlZmF1bHRBbmd1bGFyRmFjdG9yOkJBQllMT04uVmVjdG9yMyA9IG51bGwpOkJBQllMT04uUmF5Y2FzdFZlaGljbGUge1xuICAgICAgICAgICAgY29uc3QgYW55Ym9keTphbnkgPSByaWdpZGJvZHk7XG4gICAgICAgICAgICBpZiAoYW55Ym9keS5tX3JheWNhc3RWZWhpY2xlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAocmlnaWRib2R5Lmhhc1doZWVsQ29sbGlkZXJzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmlnaHRIYW5kZWQ6Ym9vbGVhbiA9IEJBQllMT04uU2NlbmVNYW5hZ2VyLkdldFJpZ2h0SGFuZGVkKHNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJpZ2h0SGFuZGVkID09PSB0cnVlKSBCQUJZTE9OLlRvb2xzLldhcm4oXCJSYXljYXN0IHZlaGljbGUgbm90IHN1cHBvcnRlZCBmb3IgcmlnaHQgaGFuZGVkIHNjZW5lOiBcIiArIGFueWJvZHkuX2Fic3RyYWN0TWVzaC5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgYW55Ym9keS5tX3JheWNhc3RWZWhpY2xlID0gbmV3IEJBQllMT04uUmF5Y2FzdFZlaGljbGUoYW55Ym9keS5fYWJzdHJhY3RNZXNoLCBhbnlib2R5Lm1fcGh5c2ljc1dvcmxkLCBhbnlib2R5Ll9jZW50ZXJPZk1hc3MsIGRlZmF1bHRBbmd1bGFyRmFjdG9yKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xzLldhcm4oXCJObyB3aGVlbCBjb2xsaWRlciBtZXRhZGF0YSBmb3VuZCBmb3I6IFwiICsgYW55Ym9keS5fYWJzdHJhY3RNZXNoLm5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhbnlib2R5Lm1fcmF5Y2FzdFZlaGljbGU7XG4gICAgICAgIH1cblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vIFNtb290aCBSYXljYXN0IFZlaGljbGUgQWR2YW5jZWQgSGVscGVyIEZ1bmN0aW9uc1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgLyoqIEdldHMgdmVoaWNsZSBlbmFibGUgbXVsdGkgcmF5Y2FzdCBmbGFnIHVzaW5nIHBoeXNpY3MgdmVoaWNsZSBvYmplY3QuIChBZHZhbnZlZCBVc2UgT25seSkgKi9cbiAgICAgICAgcHVibGljIGdldEVuYWJsZU11bHRpUmF5Y2FzdCgpOmJvb2xlYW4ge1xuICAgICAgICAgICAgbGV0IHJlc3VsdDpib29sZWFuID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAodGhpcy5tX3ZlaGljbGUgIT0gbnVsbCAmJiB0aGlzLm1fdmVoaWNsZS5nZXRfbV9lbmFibGVNdWx0aVJheWNhc3QpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLm1fdmVoaWNsZS5nZXRfbV9lbmFibGVNdWx0aVJheWNhc3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIFNldHMgdmVoaWNsZSBlbmFibGUgbXVsdGkgcmF5Y2FzdCBmbGFnIHVzaW5nIHBoeXNpY3MgdmVoaWNsZSBvYmplY3QuIChBZHZhbnZlZCBVc2UgT25seSkgKi9cbiAgICAgICAgcHVibGljIHNldEVuYWJsZU11bHRpUmF5Y2FzdChmbGFnOmJvb2xlYW4pOnZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMubV92ZWhpY2xlICE9IG51bGwgJiYgdGhpcy5tX3ZlaGljbGUuc2V0X21fZW5hYmxlTXVsdGlSYXljYXN0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3ZlaGljbGUuc2V0X21fZW5hYmxlTXVsdGlSYXljYXN0KGZsYWcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKiBHZXRzIHZlaGljbGUgc3RhYmxlIGZvcmNlIHVzaW5nIHBoeXNpY3MgdmVoaWNsZSBvYmplY3QuIChBZHZhbnZlZCBVc2UgT25seSkgKi9cbiAgICAgICAgcHVibGljIGdldFN0YWJpbGl6aW5nRm9yY2UoKTpudW1iZXIge1xuICAgICAgICAgICAgbGV0IHJlc3VsdDpudW1iZXIgPSAtMTtcbiAgICAgICAgICAgIGlmICh0aGlzLm1fdmVoaWNsZSAhPSBudWxsICYmIHRoaXMubV92ZWhpY2xlLmdldF9tX3N0YWJpbGl6aW5nRm9yY2UpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLm1fdmVoaWNsZS5nZXRfbV9zdGFiaWxpemluZ0ZvcmNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIC8qKiBTZXRzIHZlaGljbGUgc3RhYmxlIGZvcmNlIHVzaW5nIHBoeXNpY3MgdmVoaWNsZSBvYmplY3QuIChBZHZhbnZlZCBVc2UgT25seSkgKi9cbiAgICAgICAgcHVibGljIHNldFN0YWJpbGl6aW5nRm9yY2UoZm9yY2U6bnVtYmVyKTp2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1fdmVoaWNsZSAhPSBudWxsICYmIHRoaXMubV92ZWhpY2xlLnNldF9tX3N0YWJpbGl6aW5nRm9yY2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1fdmVoaWNsZS5zZXRfbV9zdGFiaWxpemluZ0ZvcmNlKGZvcmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKiogR2V0cyB2ZWhpY2xlIHNtb290aCBmbHlpbmcgaW1wdWxzZSBmb3JjZSB1c2luZyBwaHlzaWNzIHZlaGljbGUgb2JqZWN0LiAoQWR2YW52ZWQgVXNlIE9ubHkpICovXG4gICAgICAgIHB1YmxpYyBnZXRTbW9vdGhGbHlpbmdJbXB1bHNlKCk6bnVtYmVyIHtcbiAgICAgICAgICAgIGxldCByZXN1bHQ6bnVtYmVyID0gLTE7XG4gICAgICAgICAgICBpZiAodGhpcy5tX3ZlaGljbGUgIT0gbnVsbCAmJiB0aGlzLm1fdmVoaWNsZS5nZXRfbV9zbW9vdGhGbHlpbmdJbXB1bHNlKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5tX3ZlaGljbGUuZ2V0X21fc21vb3RoRmx5aW5nSW1wdWxzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICAvKiogU2V0cyB2ZWhpY2xlIHNtb290aCBmbHlpbmcgaW1wdWxzZSB1c2luZyBwaHlzaWNzIHZlaGljbGUgb2JqZWN0LiAoQWR2YW52ZWQgVXNlIE9ubHkpICovXG4gICAgICAgIHB1YmxpYyBzZXRTbW9vdGhGbHlpbmdJbXB1bHNlKGltcHVsc2U6bnVtYmVyKTp2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1fdmVoaWNsZSAhPSBudWxsICYmIHRoaXMubV92ZWhpY2xlLnNldF9tX3Ntb290aEZseWluZ0ltcHVsc2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1fdmVoaWNsZS5zZXRfbV9zbW9vdGhGbHlpbmdJbXB1bHNlKGltcHVsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKiBHZXRzIHZlaGljbGUgdHJhY2sgY29ubmVjdGlvbiBhY2NlbCBmb3JjZSB1c2luZyBwaHlzaWNzIHZlaGljbGUgb2JqZWN0LiAoQWR2YW52ZWQgVXNlIE9ubHkpICovXG4gICAgICAgIHB1YmxpYyBnZXRUcmFja0Nvbm5lY3Rpb25BY2NlbCgpOm51bWJlciB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0Om51bWJlciA9IC0xO1xuICAgICAgICAgICAgaWYgKHRoaXMubV92ZWhpY2xlICE9IG51bGwgJiYgdGhpcy5tX3ZlaGljbGUuZ2V0X21fdHJhY2tDb25uZWN0aW9uQWNjZWwpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLm1fdmVoaWNsZS5nZXRfbV90cmFja0Nvbm5lY3Rpb25BY2NlbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICAvKiogU2V0cyB2ZWhpY2xlIHRyYWNrIGNvbm5lY3Rpb24gYWNjZWwgZm9yY2UgdXNpbmcgcGh5c2ljcyB2ZWhpY2xlIG9iamVjdC4gKEFkdmFudmVkIFVzZSBPbmx5KSAqL1xuICAgICAgICBwdWJsaWMgc2V0VHJhY2tDb25uZWN0aW9uQWNjZWwoZm9yY2U6bnVtYmVyKTp2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1fdmVoaWNsZSAhPSBudWxsICYmIHRoaXMubV92ZWhpY2xlLnNldF9tX3RyYWNrQ29ubmVjdGlvbkFjY2VsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3ZlaGljbGUuc2V0X21fdHJhY2tDb25uZWN0aW9uQWNjZWwoZm9yY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKiBHZXRzIHZlaGljbGUgbWluIHdoZWVsIGNvbnRhY3QgY291bnQgdXNpbmcgcGh5c2ljcyB2ZWhpY2xlIG9iamVjdC4gKEFkdmFudmVkIFVzZSBPbmx5KSAqL1xuICAgICAgICBwdWJsaWMgZ2V0TWluaW11bVdoZWVsQ29udGFjdHMoKTpudW1iZXIge1xuICAgICAgICAgICAgbGV0IHJlc3VsdDpudW1iZXIgPSAtMTtcbiAgICAgICAgICAgIGlmICh0aGlzLm1fdmVoaWNsZSAhPSBudWxsICYmIHRoaXMubV92ZWhpY2xlLmdldF9tX21pbmltdW1XaGVlbENvbnRhY3RzKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5tX3ZlaGljbGUuZ2V0X21fbWluaW11bVdoZWVsQ29udGFjdHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIFNldHMgdmVoaWNsZSBtaW4gd2hlZWwgY29udGFjdCBjb3VudCB1c2luZyBwaHlzaWNzIHZlaGljbGUgb2JqZWN0LiAoQWR2YW52ZWQgVXNlIE9ubHkpICovXG4gICAgICAgIHB1YmxpYyBzZXRNaW5pbXVtV2hlZWxDb250YWN0cyhmb3JjZTpudW1iZXIpOnZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMubV92ZWhpY2xlICE9IG51bGwgJiYgdGhpcy5tX3ZlaGljbGUuc2V0X21fbWluaW11bVdoZWVsQ29udGFjdHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1fdmVoaWNsZS5zZXRfbV9taW5pbXVtV2hlZWxDb250YWN0cyhmb3JjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqIEdldHMgdmVoaWNsZSBpbnRlcnBvbGF0ZSBtZXNoIG5vcm1hbHMgZmxhZyB1c2luZyBwaHlzaWNzIHJheWNhc3RlciBvYmplY3QuIChBZHZhbnZlZCBVc2UgT25seSkgKi9cbiAgICAgICAgcHVibGljIGdldEludGVycG9sYXRlTm9ybWFscygpOmJvb2xlYW4ge1xuICAgICAgICAgICAgbGV0IHJlc3VsdDpib29sZWFuID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAodGhpcy5tX3ZlaGljbGVSYXljYXN0ZXIgIT0gbnVsbCAmJiB0aGlzLm1fdmVoaWNsZVJheWNhc3Rlci5nZXRfbV9pbnRlcnBvbGF0ZU5vcm1hbHMpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLm1fdmVoaWNsZVJheWNhc3Rlci5nZXRfbV9pbnRlcnBvbGF0ZU5vcm1hbHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIFNldHMgdGhlIHZlaGljbGUgaW50ZXJwb2xhdGUgbWVzaCBub3JtYWxzIHVzaW5nIHBoeXNpY3MgcmF5Y2FzdGVyIG9iamVjdC4gKEFkdmFudmVkIFVzZSBPbmx5KSAqL1xuICAgICAgICBwdWJsaWMgc2V0SW50ZXJwb2xhdGVOb3JtYWxzKGZsYWc6Ym9vbGVhbik6dm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5tX3ZlaGljbGVSYXljYXN0ZXIgIT0gbnVsbCAmJiB0aGlzLm1fdmVoaWNsZVJheWNhc3Rlci5zZXRfbV9pbnRlcnBvbGF0ZU5vcm1hbHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1fdmVoaWNsZVJheWNhc3Rlci5zZXRfbV9pbnRlcnBvbGF0ZU5vcm1hbHMoZmxhZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqIEdldHMgdmVoaWNsZSBzaGFwZSB0ZXN0aW5nIG1vZGUgdXNpbmcgcGh5c2ljcyByYXljYXN0ZXIgb2JqZWN0LiAoQWR2YW52ZWQgVXNlIE9ubHkpICovXG4gICAgICAgIHB1YmxpYyBnZXRTaGFwZVRlc3RpbmdNb2RlKCk6Ym9vbGVhbiB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0OmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0aGlzLm1fdmVoaWNsZVJheWNhc3RlciAhPSBudWxsICYmIHRoaXMubV92ZWhpY2xlUmF5Y2FzdGVyLmdldF9tX3NoYXBlVGVzdGluZ01vZGUpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLm1fdmVoaWNsZVJheWNhc3Rlci5nZXRfbV9zaGFwZVRlc3RpbmdNb2RlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIC8qKiBTZXRzIHRoZSB2ZWhpY2xlIHNoYXBlIHRlc3RpbmcgbW9kZSB1c2luZyBwaHlzaWNzIHJheWNhc3RlciBvYmplY3QuIChBZHZhbnZlZCBVc2UgT25seSkgKi9cbiAgICAgICAgcHVibGljIHNldFNoYXBlVGVzdGluZ01vZGUobW9kZTpib29sZWFuKTp2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1fdmVoaWNsZVJheWNhc3RlciAhPSBudWxsICYmIHRoaXMubV92ZWhpY2xlUmF5Y2FzdGVyLnNldF9tX3NoYXBlVGVzdGluZ01vZGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1fdmVoaWNsZVJheWNhc3Rlci5zZXRfbV9zaGFwZVRlc3RpbmdNb2RlKG1vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKiBHZXRzIHZlaGljbGUgc2hhcGUgdGVzdGluZyBzaXplIHVzaW5nIHBoeXNpY3MgcmF5Y2FzdGVyIG9iamVjdC4gKEFkdmFudmVkIFVzZSBPbmx5KSAqL1xuICAgICAgICBwdWJsaWMgZ2V0U2hhcGVUZXN0aW5nU2l6ZSgpOmZsb2F0IHtcbiAgICAgICAgICAgIGxldCByZXN1bHQ6bnVtYmVyID0gMDtcbiAgICAgICAgICAgIGlmICh0aGlzLm1fdmVoaWNsZVJheWNhc3RlciAhPSBudWxsICYmIHRoaXMubV92ZWhpY2xlUmF5Y2FzdGVyLmdldF9tX3NoYXBlVGVzdGluZ1NpemUpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLm1fdmVoaWNsZVJheWNhc3Rlci5nZXRfbV9zaGFwZVRlc3RpbmdTaXplKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIC8qKiBTZXRzIHRoZSB2ZWhpY2xlIHNoYXBlIHRlc3RpbmcgbW9kZSB1c2luZyBwaHlzaWNzIHJheWNhc3RlciBvYmplY3QuIChBZHZhbnZlZCBVc2UgT25seSkgKi9cbiAgICAgICAgcHVibGljIHNldFNoYXBlVGVzdGluZ1NpemUoc2l6ZTpmbG9hdCk6dm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5tX3ZlaGljbGVSYXljYXN0ZXIgIT0gbnVsbCAmJiB0aGlzLm1fdmVoaWNsZVJheWNhc3Rlci5zZXRfbV9zaGFwZVRlc3RpbmdTaXplKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3ZlaGljbGVSYXljYXN0ZXIuc2V0X21fc2hhcGVUZXN0aW5nU2l6ZShzaXplKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKiogR2V0cyB2ZWhpY2xlIHNoYXBlIHRlc3QgcG9pbnQgY291bnQgdXNpbmcgcGh5c2ljcyByYXljYXN0ZXIgb2JqZWN0LiAoQWR2YW52ZWQgVXNlIE9ubHkpICovXG4gICAgICAgIHB1YmxpYyBnZXRTaGFwZVRlc3RpbmdDb3VudCgpOmZsb2F0IHtcbiAgICAgICAgICAgIGxldCByZXN1bHQ6bnVtYmVyID0gMDtcbiAgICAgICAgICAgIGlmICh0aGlzLm1fdmVoaWNsZVJheWNhc3RlciAhPSBudWxsICYmIHRoaXMubV92ZWhpY2xlUmF5Y2FzdGVyLmdldF9tX3Rlc3RQb2ludENvdW50KSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5tX3ZlaGljbGVSYXljYXN0ZXIuZ2V0X21fdGVzdFBvaW50Q291bnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIFNldHMgdGhlIHZlaGljbGUgc2hhcGUgdGVzdCBwb2ludCBjb3VudCB1c2luZyBwaHlzaWNzIHJheWNhc3RlciBvYmplY3QuIChBZHZhbnZlZCBVc2UgT25seSkgKi9cbiAgICAgICAgcHVibGljIHNldFNoYXBlVGVzdGluZ0NvdW50KGNvdW50OmZsb2F0KTp2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1fdmVoaWNsZVJheWNhc3RlciAhPSBudWxsICYmIHRoaXMubV92ZWhpY2xlUmF5Y2FzdGVyLnNldF9tX3Rlc3RQb2ludENvdW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3ZlaGljbGVSYXljYXN0ZXIuc2V0X21fdGVzdFBvaW50Q291bnQoY291bnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKiBHZXRzIHZlaGljbGUgc3dlZXAgcGVuZXRyYXRpb24gYW1vdW50IHVzaW5nIHBoeXNpY3MgcmF5Y2FzdGVyIG9iamVjdC4gKEFkdmFudmVkIFVzZSBPbmx5KSAqL1xuICAgICAgICBwdWJsaWMgZ2V0U3dlZXBQZW5ldHJhdGlvbigpOmZsb2F0IHtcbiAgICAgICAgICAgIGxldCByZXN1bHQ6bnVtYmVyID0gMDtcbiAgICAgICAgICAgIGlmICh0aGlzLm1fdmVoaWNsZVJheWNhc3RlciAhPSBudWxsICYmIHRoaXMubV92ZWhpY2xlUmF5Y2FzdGVyLmdldF9tX3N3ZWVwUGVuZXRyYXRpb24pIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLm1fdmVoaWNsZVJheWNhc3Rlci5nZXRfbV9zd2VlcFBlbmV0cmF0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIC8qKiBTZXRzIHRoZSB2ZWhpY2xlIHN3ZWVwIHBlbmV0cmF0aW9uIGFtb3VudCB1c2luZyBwaHlzaWNzIHJheWNhc3RlciBvYmplY3QuIChBZHZhbnZlZCBVc2UgT25seSkgKi9cbiAgICAgICAgcHVibGljIHNldFN3ZWVwUGVuZXRyYXRpb24oYW1vdW50OmZsb2F0KTp2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1fdmVoaWNsZVJheWNhc3RlciAhPSBudWxsICYmIHRoaXMubV92ZWhpY2xlUmF5Y2FzdGVyLnNldF9tX3N3ZWVwUGVuZXRyYXRpb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1fdmVoaWNsZVJheWNhc3Rlci5zZXRfbV9zd2VlcFBlbmV0cmF0aW9uKGFtb3VudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vIFNtb290aCBSYXljYXN0IFZlaGljbGUgQWR2YW5jZWQgQ29sbGlzaW9uIEZ1bmN0aW9uc1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgLyoqIEdldHMgdmVoaWNsZSBjb2xsaXNpb24gZ3JvdXAgZmlsdGVyIHVzaW5nIHBoeXNpY3MgcmF5Y2FzdGVyIG9iamVjdC4gKEFkdmFudmVkIFVzZSBPbmx5KSAqL1xuICAgICAgICBwdWJsaWMgZ2V0Q29sbGlzaW9uRmlsdGVyR3JvdXAoKTpudW1iZXIge1xuICAgICAgICAgICAgbGV0IHJlc3VsdDpudW1iZXIgPSAtMTtcbiAgICAgICAgICAgIGlmICh0aGlzLm1fdmVoaWNsZVJheWNhc3RlciAhPSBudWxsICYmIHRoaXMubV92ZWhpY2xlUmF5Y2FzdGVyLmdldF9tX2NvbGxpc2lvbkZpbHRlckdyb3VwKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5tX3ZlaGljbGVSYXljYXN0ZXIuZ2V0X21fY29sbGlzaW9uRmlsdGVyR3JvdXAoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIFNldHMgdmVoaWNsZSBjb2xsaXNpb24gZ3JvdXAgZmlsdGVyIHVzaW5nIHBoeXNpY3MgcmF5Y2FzdGVyIG9iamVjdC4gKEFkdmFudmVkIFVzZSBPbmx5KSAqL1xuICAgICAgICBwdWJsaWMgc2V0Q29sbGlzaW9uRmlsdGVyR3JvdXAoZ3JvdXA6bnVtYmVyKTp2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1fdmVoaWNsZVJheWNhc3RlciAhPSBudWxsICYmIHRoaXMubV92ZWhpY2xlUmF5Y2FzdGVyLnNldF9tX2NvbGxpc2lvbkZpbHRlckdyb3VwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3ZlaGljbGVSYXljYXN0ZXIuc2V0X21fY29sbGlzaW9uRmlsdGVyR3JvdXAoZ3JvdXApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKiBHZXRzIHZlaGljbGUgY29sbGlzaW9uIG1hc2sgZmlsdGVyIHVzaW5nIHBoeXNpY3MgcmF5Y2FzdGVyIG9iamVjdC4gKEFkdmFudmVkIFVzZSBPbmx5KSAqL1xuICAgICAgICBwdWJsaWMgZ2V0Q29sbGlzaW9uRmlsdGVyTWFzaygpOm51bWJlciB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0Om51bWJlciA9IC0xO1xuICAgICAgICAgICAgaWYgKHRoaXMubV92ZWhpY2xlUmF5Y2FzdGVyICE9IG51bGwgJiYgdGhpcy5tX3ZlaGljbGVSYXljYXN0ZXIuZ2V0X21fY29sbGlzaW9uRmlsdGVyTWFzaykge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMubV92ZWhpY2xlUmF5Y2FzdGVyLmdldF9tX2NvbGxpc2lvbkZpbHRlck1hc2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIFNldHMgdGhlIHZlaGljbGUgY29sbGlzaW9uIG1hc2sgZmlsdGVyIHVzaW5nIHBoeXNpY3MgcmF5Y2FzdGVyIG9iamVjdC4gKEFkdmFudmVkIFVzZSBPbmx5KSAqL1xuICAgICAgICBwdWJsaWMgc2V0Q29sbGlzaW9uRmlsdGVyTWFzayhtYXNrOm51bWJlcik6dm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5tX3ZlaGljbGVSYXljYXN0ZXIgIT0gbnVsbCAmJiB0aGlzLm1fdmVoaWNsZVJheWNhc3Rlci5zZXRfbV9jb2xsaXNpb25GaWx0ZXJNYXNrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3ZlaGljbGVSYXljYXN0ZXIuc2V0X21fY29sbGlzaW9uRmlsdGVyTWFzayhtYXNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gUmF5Y2FzdCBWZWhpY2xlIFdoZWVsIEluZm9ybWF0aW9uIEhlbHBlciBGdW50aW9uc1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgLyoqIEdldHMgdGhlIGludGVybmFsIHdoZWVsIGluZGV4IGJ5IGlkIHN0cmluZy4gKi9cbiAgICAgICAgcHVibGljIGdldFdoZWVsSW5kZXhCeUlEKGlkOnN0cmluZyk6bnVtYmVyIHtcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSAtMTtcbiAgICAgICAgICAgIGlmICh0aGlzLm1fdmVoaWNsZUNvbGxpZGVycyAhPSBudWxsICYmIHRoaXMubV92ZWhpY2xlQ29sbGlkZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5tX3ZlaGljbGVDb2xsaWRlcnMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHdoZWVsOmFueSA9IHRoaXMubV92ZWhpY2xlQ29sbGlkZXJzW2luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlkLnRvTG93ZXJDYXNlKCkgPT09IHdoZWVsLmlkLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGluZGV4O1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIC8qKiBHZXRzIHRoZSBpbnRlcm5hbCB3aGVlbCBpbmRleCBieSBuYW1lIHN0cmluZy4gKi9cbiAgICAgICAgcHVibGljIGdldFdoZWVsSW5kZXhCeU5hbWUobmFtZTpzdHJpbmcpOm51bWJlciB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gLTE7XG4gICAgICAgICAgICBpZiAodGhpcy5tX3ZlaGljbGVDb2xsaWRlcnMgIT0gbnVsbCAmJiB0aGlzLm1fdmVoaWNsZUNvbGxpZGVycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMubV92ZWhpY2xlQ29sbGlkZXJzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB3aGVlbDphbnkgPSB0aGlzLm1fdmVoaWNsZUNvbGxpZGVyc1tpbmRleF07XG5cblxuICAgICAgICAgICAgICAgICAgICBpZiAobmFtZS50b0xvd2VyQ2FzZSgpID09PSB3aGVlbC5uYW1lLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGluZGV4O1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIC8qKiBHZXRzIHRoZSBpbnRlcm5hbCB3aGVlbCBjb2xsaWRlciBpbmZvcm1hdGlvbi4gKi9cbiAgICAgICAgcHVibGljIGdldFdoZWVsQ29sbGlkZXJJbmZvKHdoZWVsOm51bWJlcik6bnVtYmVyIHtcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSAtMTtcbiAgICAgICAgICAgIGlmICh0aGlzLm1fdmVoaWNsZUNvbGxpZGVycyAhPSBudWxsICYmIHRoaXMubV92ZWhpY2xlQ29sbGlkZXJzLmxlbmd0aCA+IDAgJiYgdGhpcy5tX3ZlaGljbGVDb2xsaWRlcnMubGVuZ3RoID4gd2hlZWwpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLm1fdmVoaWNsZUNvbGxpZGVyc1t3aGVlbF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIC8qKiBTZXRzIHRoZSBpbnRlcm5hbCB3aGVlbCBodWIgdHJhbnNmb3JtIG1lc2ggYnkgaW5kZXguIFVzZWQgdG8gcm90YXRlIGFuZCBib3VuY2Ugd2hlZWxzLiAqL1xuICAgICAgICBwdWJsaWMgc2V0V2hlZWxUcmFuc2Zvcm1NZXNoKHdoZWVsOm51bWJlciwgdHJhbnNmb3JtOkJBQllMT04uVHJhbnNmb3JtTm9kZSk6dm9pZCB7XG4gICAgICAgICAgICBpZiAodHJhbnNmb3JtID09IG51bGwpIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IHdoZWVsaW5mbzphbnkgPSB0aGlzLmdldFdoZWVsSW5mbyh3aGVlbCk7XG4gICAgICAgICAgICBpZiAod2hlZWxpbmZvICE9IG51bGwpIHdoZWVsaW5mby50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgICAgIH1cblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vIFNtb290aCBSYXljYXN0IFZlaGljbGUgU2VlcmluZyBIZWxwZXIgRnVuY3Rpb25zXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBwdWJsaWMgZ2V0VmlzdWFsU3RlZXJpbmdBbmdsZSh3aGVlbDpudW1iZXIpOm51bWJlciB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0Om51bWJlciA9IDA7XG4gICAgICAgICAgICBjb25zdCB3aGVlbGluZm86YW55ID0gdGhpcy5nZXRXaGVlbEluZm8od2hlZWwpO1xuICAgICAgICAgICAgaWYgKHdoZWVsaW5mbyAhPSBudWxsICYmIHdoZWVsaW5mby5zdGVlcmluZ0FuZ2xlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB3aGVlbGluZm8uc3RlZXJpbmdBbmdsZTsgXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIHB1YmxpYyBzZXRWaXN1YWxTdGVlcmluZ0FuZ2xlKGFuZ2xlOm51bWJlciwgd2hlZWw6bnVtYmVyKTp2b2lkIHtcbiAgICAgICAgICAgIGNvbnN0IHdoZWVsaW5mbzphbnkgPSB0aGlzLmdldFdoZWVsSW5mbyh3aGVlbCk7XG4gICAgICAgICAgICBpZiAod2hlZWxpbmZvICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB3aGVlbGluZm8uc3RlZXJpbmdBbmdsZSA9IGFuZ2xlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHB1YmxpYyBnZXRQaHlzaWNzU3RlZXJpbmdBbmdsZSh3aGVlbDpudW1iZXIpOm51bWJlciB7XG4gICAgICAgICAgICBpZiAodGhpcy5tX3ZlaGljbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLmFicyh0aGlzLm1fdmVoaWNsZS5nZXRTdGVlcmluZ1ZhbHVlKHdoZWVsKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHVibGljIHNldFBoeXNpY3NTdGVlcmluZ0FuZ2xlKGFuZ2xlOm51bWJlciwgd2hlZWw6bnVtYmVyKTp2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1fdmVoaWNsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3ZlaGljbGUuc2V0U3RlZXJpbmdWYWx1ZShhbmdsZSwgd2hlZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vIFNldHVwIFdoZWVsIEluZm9ybWF0aW9uIEhlbHBlciBGdW50aW9ucyAvL1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBwcm90ZWN0ZWQgc2V0dXBXaGVlbEluZm9ybWF0aW9uKGRlZmF1bHRBbmd1bGFyRmFjdG9yOkJBQllMT04uVmVjdG9yMyA9IG51bGwpOnZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2NoYXNzaXNNZXNoICE9IG51bGwgJiYgdGhpcy5fY2hhc3Npc01lc2gucGh5c2ljc0ltcG9zdG9yICE9IG51bGwgJiYgdGhpcy5fY2hhc3Npc01lc2gucGh5c2ljc0ltcG9zdG9yLnBoeXNpY3NCb2R5ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGVmYXVsdEFuZ3VsYXJGYWN0b3IgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBodHRwczovL3B5YnVsbGV0Lm9yZy9CdWxsZXQvcGhwQkIzL3ZpZXd0b3BpYy5waHA/dD04MTUzXG4gICAgICAgICAgICAgICAgICAgIC8vIHByZXZlbnQgdmVoaWNsZSBmcm9tIGZsaXAgb3ZlciwgYnkgbGltaXQgdGhlIHJvdGF0aW9uICBvbiBmb3J3YXJkIGF4aXMgb3IgbGltaXQgYW5nbGVzIGZvciB2ZWhpY2xlIHN0YWJsaXphdGlvblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jaGFzc2lzTWVzaC5waHlzaWNzSW1wb3N0b3IucGh5c2ljc0JvZHkuc2V0QW5ndWxhckZhY3RvcihuZXcgQW1tby5idFZlY3RvcjMoZGVmYXVsdEFuZ3VsYXJGYWN0b3IueCwgZGVmYXVsdEFuZ3VsYXJGYWN0b3IueSwgZGVmYXVsdEFuZ3VsYXJGYWN0b3IueikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9jaGFzc2lzTWVzaC5waHlzaWNzSW1wb3N0b3IucGh5c2ljc0JvZHkuc2V0QWN0aXZhdGlvblN0YXRlKEJBQllMT04uQ29sbGlzaW9uU3RhdGUuRElTQUJMRV9ERUFDVElWQVRJT04pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMubV92ZWhpY2xlICE9IG51bGwgJiYgdGhpcy5tX3ZlaGljbGVDb2xsaWRlcnMgIT0gbnVsbCAmJiB0aGlzLm1fdmVoaWNsZUNvbGxpZGVycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gLTE7XG4gICAgICAgICAgICAgICAgZm9yIChpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5tX3ZlaGljbGVDb2xsaWRlcnMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHdoZWVsOmFueSA9IHRoaXMubV92ZWhpY2xlQ29sbGlkZXJzW2luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd2hlZWxOYW1lOnN0cmluZyA9ICh3aGVlbC5uYW1lICE9IG51bGwpID8gd2hlZWwubmFtZSA6IFwiVW5rbm93blwiO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB3aGVlbFJhZGl1czpudW1iZXIgPSAod2hlZWwucmFkaXVzICE9IG51bGwpID8gd2hlZWwucmFkaXVzIDogMC4zNTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd2hlZWxIYWxmVHJhY2s6bnVtYmVyID0gKHdoZWVsLnBvc2l0aW9uICE9IG51bGwgJiYgd2hlZWwucG9zaXRpb24ubGVuZ3RoID49IDMpID8gd2hlZWwucG9zaXRpb25bMF0gOiAxO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB3aGVlbEF4aXNQb3NpdGlvbjpudW1iZXIgPSAod2hlZWwucG9zaXRpb24gIT0gbnVsbCAmJiB3aGVlbC5wb3NpdGlvbi5sZW5ndGggPj0gMykgPyB3aGVlbC5wb3NpdGlvblsyXSA6IC0xO1xuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAvLyBSYXljYXN0IFdoZWVsIFNjcmlwdCBQcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHdoZWVsQ29ubmVjdGlvblBvaW50Om51bWJlciA9ICh3aGVlbC53aGVlbGNvbm5lY3Rpb25wb2ludCAhPSBudWxsKSA/IHdoZWVsLndoZWVsY29ubmVjdGlvbnBvaW50IDogMC41O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdXNwZW5zaW9uUmVzdExlbmd0aDpudW1iZXIgPSAod2hlZWwuc3VzcGVuc2lvbnJlc3RsZW5ndGggIT0gbnVsbCkgPyB3aGVlbC5zdXNwZW5zaW9ucmVzdGxlbmd0aCA6IDAuMztcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNmcm9udHdoZWVsOmJvb2xlYW4gPSAod2hlZWwuZnJvbnR3aGVlbCAhPSBudWxsKSA/IHRydWUgOiAod2hlZWxOYW1lLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcImZyb250XCIpID49IDApO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB3aGVlbHBvc2l0aW9uOm51bWJlciA9IHdoZWVsQXhpc1Bvc2l0aW9uO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB3aGVlbHRyYWNraW5nOm51bWJlciA9IHdoZWVsSGFsZlRyYWNrO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjZW50ZXJtYXNzeDpudW1iZXIgPSAtdGhpcy5fY2VudGVyTWFzcy54O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjZW50ZXJtYXNzejpudW1iZXIgPSAtdGhpcy5fY2VudGVyTWFzcy56O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fdmVoaWNsZS5hZGRXaGVlbChuZXcgQW1tby5idFZlY3RvcjMoKHdoZWVsdHJhY2tpbmcgKyBjZW50ZXJtYXNzeCksIHdoZWVsQ29ubmVjdGlvblBvaW50LCAod2hlZWxwb3NpdGlvbiArIGNlbnRlcm1hc3N6KSksIHRoaXMubV93aGVlbERpcmVjdGlvbkNTMCwgdGhpcy5tX3doZWVsQXhsZUNTLCBzdXNwZW5zaW9uUmVzdExlbmd0aCwgd2hlZWxSYWRpdXMsIHRoaXMubV92ZWhpY2xlVHVuaW5nLCBpc2Zyb250d2hlZWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tX3ZlaGljbGUuZ2V0TnVtV2hlZWxzKCkgPT09IHRoaXMubV92ZWhpY2xlQ29sbGlkZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLm1fdmVoaWNsZUNvbGxpZGVycy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHdoZWVsOmFueSA9IHRoaXMubV92ZWhpY2xlQ29sbGlkZXJzW2luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRGb3JjZTpudW1iZXIgPSAod2hlZWwudG90YWxzdXNwZW5zaW9uZm9yY2VzICE9IG51bGwpID8gd2hlZWwudG90YWxzdXNwZW5zaW9uZm9yY2VzIDogMTAwMDAwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRUcmF2ZWw6bnVtYmVyID0gKHdoZWVsLnN1c3BlbnNpb250cmF2ZWxjbSAhPSBudWxsKSA/IHdoZWVsLnN1c3BlbnNpb250cmF2ZWxjbSA6IDI1O1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVmYXVsdFJvbGxpbmc6bnVtYmVyID0gKHdoZWVsLnJvbGxpbmZsdWVuY2UgIT0gbnVsbCkgPyB3aGVlbC5yb2xsaW5mbHVlbmNlIDogMC4yO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVmYXVsdEZyaWN0aW9uOm51bWJlciA9ICh3aGVlbC5mcmljdGlvbnNsaXAgIT0gbnVsbCkgPyB3aGVlbC5mcmljdGlvbnNsaXAgOiAxMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN1c3BlbnNpb25TdGlmZm5lc3M6bnVtYmVyID0gKHdoZWVsLnN1c3BlbnNpb25zdGlmZm5lc3MgIT0gbnVsbCkgPyB3aGVlbC5zdXNwZW5zaW9uc3RpZmZuZXNzIDogNTA7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdXNwZW5zaW9uQ29tcHJlc3Npb246bnVtYmVyID0gKHdoZWVsLmRhbXBpbmdjb21wcmVzc2lvbiAhPSBudWxsKSA/IHdoZWVsLmRhbXBpbmdjb21wcmVzc2lvbiA6IDMuNTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN1c3BlbnNpb25EYW1waW5nOm51bWJlciA9ICh3aGVlbC5kYW1waW5ncmVsYXhhdGlvbiAhPSBudWxsKSA/IHdoZWVsLmRhbXBpbmdyZWxheGF0aW9uIDogNC41O1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgd2hlZWxpbmZvOmFueSA9IHRoaXMubV92ZWhpY2xlLmdldFdoZWVsSW5mbyhpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod2hlZWxpbmZvICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGVlbGluZm8uc3RlZXJpbmdBbmdsZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hlZWxpbmZvLnJvdGF0aW9uQm9vc3QgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoZWVsaW5mby5kZWZhdWx0RnJpY3Rpb24gPSBkZWZhdWx0RnJpY3Rpb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hlZWxpbmZvLnNldF9tX2ZyaWN0aW9uU2xpcChkZWZhdWx0RnJpY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoZWVsaW5mby5zZXRfbV9yb2xsSW5mbHVlbmNlKGRlZmF1bHRSb2xsaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGVlbGluZm8uc2V0X21fbWF4U3VzcGVuc2lvbkZvcmNlKGRlZmF1bHRGb3JjZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hlZWxpbmZvLnNldF9tX21heFN1c3BlbnNpb25UcmF2ZWxDbShkZWZhdWx0VHJhdmVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGVlbGluZm8uc2V0X21fc3VzcGVuc2lvblN0aWZmbmVzcyhzdXNwZW5zaW9uU3RpZmZuZXNzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGVlbGluZm8uc2V0X21fd2hlZWxzRGFtcGluZ0NvbXByZXNzaW9uKHN1c3BlbnNpb25Db21wcmVzc2lvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hlZWxpbmZvLnNldF9tX3doZWVsc0RhbXBpbmdSZWxheGF0aW9uKHN1c3BlbnNpb25EYW1waW5nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbHMuV2FybihcIkZhaWxlZCB0byBjcmVhdGUgcHJvcGVyIG51bWJlciBvZiB3aGVlbHMgZm9yOiBcIiArIHRoaXMuX2NoYXNzaXNNZXNoLm5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcm90ZWN0ZWQgdXBkYXRlV2hlZWxJbmZvcm1hdGlvbigpOnZvaWQge1xuICAgICAgICAgICAgY29uc3Qgd2hlZWxzOm51bWJlciA9IHRoaXMuZ2V0TnVtV2hlZWxzKCk7XG4gICAgICAgICAgICBpZiAod2hlZWxzID4gMCkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGluZGV4Om51bWJlciA9IDA7IGluZGV4IDwgd2hlZWxzOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHdoZWVsaW5mbzphbnkgPSB0aGlzLmdldFdoZWVsSW5mbyhpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh3aGVlbGluZm8gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbG9ja2VkOmJvb2xlYW4gPSB0aGlzLmxvY2tlZFdoZWVsSW5mb3JtYXRpb24oaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVXaGVlbFRyYW5zZm9ybShpbmRleCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIFdoZWVsIEluZm9ybWF0aW9uIEludGVybmFsc1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX3RlbXBUcmFuc2Zvcm0gPSB0aGlzLmdldFdoZWVsVHJhbnNmb3JtKGluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV90ZW1wUG9zaXRpb24gPSB0aGlzLm1fdGVtcFRyYW5zZm9ybS5nZXRPcmlnaW4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN5bmMgV2hlZWwgSHViIFRyYW5zZm9ybSBUbyBSYXljYXN0IFdoZWVsXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod2hlZWxpbmZvLnRyYW5zZm9ybSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJhbnNmb3JtOkJBQllMT04uVHJhbnNmb3JtTm9kZSA9IHdoZWVsaW5mby50cmFuc2Zvcm0gYXMgQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmFuc2Zvcm0ucGFyZW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIFdoZWVsIEh1YiBQb3NpdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlV0aWxpdGllcy5Db252ZXJ0QW1tb1ZlY3RvcjNUb1JlZih0aGlzLm1fdGVtcFBvc2l0aW9uLCB0aGlzLl90ZW1wVmVjdG9yUG9zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5VdGlsaXRpZXMuSW52ZXJzZVRyYW5zZm9ybVBvaW50VG9SZWYodHJhbnNmb3JtLnBhcmVudCBhcyBCQUJZTE9OLlRyYW5zZm9ybU5vZGUsIHRoaXMuX3RlbXBWZWN0b3JQb3MsIHRoaXMuX3RlbXBWZWN0b3JQb3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm0ucG9zaXRpb24ueSA9IHRoaXMuX3RlbXBWZWN0b3JQb3MueTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIFdoZWVsIEh1YiBTdGVlcmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3RlZXJpbmdBbmdsZTpudW1iZXIgPSAod2hlZWxpbmZvLnN0ZWVyaW5nQW5nbGUgIT0gbnVsbCkgPyB3aGVlbGluZm8uc3RlZXJpbmdBbmdsZSA6IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uUXVhdGVybmlvbi5Gcm9tRXVsZXJBbmdsZXNUb1JlZigwLCBzdGVlcmluZ0FuZ2xlLCAwLCB0cmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIFdoZWVsIFNwaW5uZXIgUm90YXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdoZWVsaW5mby5zcGlubmVyICE9IG51bGwgJiYgd2hlZWxpbmZvLnNwaW5uZXIuYWRkUm90YXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsb2NrZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHdoZWVscm90YXRpb246bnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGVsdGFSb3RhdGlvbjpudW1iZXIgPSAod2hlZWxpbmZvLmdldF9tX2RlbHRhUm90YXRpb24gIT0gbnVsbCkgPyB3aGVlbGluZm8uZ2V0X21fZGVsdGFSb3RhdGlvbigpIDogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcm90YXRpb25Cb29zdDpudW1iZXIgPSAod2hlZWxpbmZvLnJvdGF0aW9uQm9vc3QgIT0gbnVsbCkgPyB3aGVlbGluZm8ucm90YXRpb25Cb29zdCA6IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlbHRhUm90YXRpb24gPCAwKSB3aGVlbHJvdGF0aW9uID0gKGRlbHRhUm90YXRpb24gKyAtcm90YXRpb25Cb29zdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB3aGVlbHJvdGF0aW9uID0gKGRlbHRhUm90YXRpb24gKyByb3RhdGlvbkJvb3N0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGVlbGluZm8uc3Bpbm5lci5hZGRSb3RhdGlvbih3aGVlbHJvdGF0aW9uLCAwLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcm90ZWN0ZWQgbG9ja2VkV2hlZWxJbmZvcm1hdGlvbih3aGVlbDpudW1iZXIpOmJvb2xlYW4ge1xuICAgICAgICAgICAgbGV0IHJlc3VsdDpib29sZWFuID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAodGhpcy5sb2NrZWRXaGVlbEluZGV4ZXMgIT0gbnVsbCAmJiB0aGlzLmxvY2tlZFdoZWVsSW5kZXhlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMubG9ja2VkV2hlZWxJbmRleGVzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5sb2NrZWRXaGVlbEluZGV4ZXNbaW5kZXhdID09PSB3aGVlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBwcm90ZWN0ZWQgZGVsZXRlV2hlZWxJbmZvcm1hdGlvbigpOnZvaWQge1xuICAgICAgICAgICAgY29uc3Qgd2hlZWxzOm51bWJlciA9IHRoaXMuZ2V0TnVtV2hlZWxzKCk7XG4gICAgICAgICAgICBpZiAod2hlZWxzID4gMCkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGluZGV4Om51bWJlciA9IDA7IGluZGV4IDwgd2hlZWxzOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZm86YW55ID0gdGhpcy5nZXRXaGVlbEluZm8oaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5mbyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5mby50cmFuc2Zvcm0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBpbmZvLnRyYW5zZm9ybTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmZvLnNwaW5uZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBpbmZvLnNwaW5uZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5mby5zdGVlcmluZ0FuZ2xlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgaW5mby5zdGVlcmluZ0FuZ2xlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZm8ucm90YXRpb25Cb29zdCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGluZm8ucm90YXRpb25Cb29zdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmZvLmRlZmF1bHRGcmljdGlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGluZm8uZGVmYXVsdEZyaWN0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSBCQUJZTE9OIHtcbiAgICAvKipcbiAgICAgKiBCYWJ5bG9uIHJlYWx0aW1lIHJlZmxlY3Rpb24gc3lzdGVtIHBybyBjbGFzcyAoVW5pdHkgU3R5bGUgUmVhbHRpbWUgUmVmbGVjdGlvbiBQcm9iZXMpXG4gICAgICogQGNsYXNzIFJlYWx0aW1lUmVmbGVjdGlvbiAtIEFsbCByaWdodHMgcmVzZXJ2ZWQgKGMpIDIwMjAgTWFja2V5IEtpbmFyZFxuICAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBSZWFsdGltZVJlZmxlY3Rpb24gZXh0ZW5kcyBCQUJZTE9OLlNjcmlwdENvbXBvbmVudCB7XG4gICAgICAgIHByb3RlY3RlZCBhd2FrZSgpOiB2b2lkIHsgLyogQXdha2UgY29tcG9uZW50IGZ1bmN0aW9uICovIH1cbiAgICAgICAgcHJvdGVjdGVkIHN0YXJ0KCk6IHZvaWQgeyAvKiBTdGFydCByZW5kZXIgbG9vcCBmdW5jdGlvbiAqLyB9XG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGUoKTogdm9pZCB7IC8qIFVwZGF0ZSByZW5kZXIgbG9vcCBmdW5jdGlvbiAqLyB9XG4gICAgICAgIHByb3RlY3RlZCBsYXRlKCk6IHZvaWQgeyAvKiBMYXRlIHVwZGF0ZSByZW5kZXIgbG9vcCBmdW5jdGlvbiAqLyB9XG4gICAgICAgIHByb3RlY3RlZCBhZnRlcigpOiB2b2lkIHsgLyogQWZ0ZXIgcmVuZGVyIGxvb3AgZnVuY3Rpb24gKi8gfVxuICAgICAgICBwcm90ZWN0ZWQgZGVzdHJveSgpOiB2b2lkIHsgLyogRGVzdHJveSBjb21wb25lbnQgZnVuY3Rpb24gKi8gfVxuICAgIH1cbn0iLCJtb2R1bGUgQkFCWUxPTiB7XG4gICAgLyoqXG4gICAgICogQmFieWxvbiBmdWxsIHJpZ2lkYm9keSBwaHlzaWNzIHBybyBjbGFzcyAoTmF0aXZlIEJ1bGxldCBQaHlzaWNzIDIuODIpXG4gICAgICogQGNsYXNzIFJpZ2lkYm9keVBoeXNpY3MgLSBBbGwgcmlnaHRzIHJlc2VydmVkIChjKSAyMDIwIE1hY2tleSBLaW5hcmRcbiAgICAgKi9cbiAgICBleHBvcnQgY2xhc3MgUmlnaWRib2R5UGh5c2ljcyBleHRlbmRzIEJBQllMT04uU2NyaXB0Q29tcG9uZW50IHtcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgVGVtcEFtbW9WZWN0b3IgPSBudWxsO1xuICAgICAgICBwcml2YXRlIHN0YXRpYyBUZW1wQW1tb1ZlY3RvckF1eCA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgc3RhdGljIFRlbXBDZW50ZXJUcmFuc2Zvcm0gPSBudWxsO1xuXG4gICAgICAgIHByaXZhdGUgX2Fic3RyYWN0TWVzaDpCQUJZTE9OLkFic3RyYWN0TWVzaCA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgX2lzS2luZW1hdGljOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSBfbWF4Q29sbGlzaW9uczpudW1iZXIgPSA0O1xuICAgICAgICBwcml2YXRlIF9pc1BoeXNpY3NSZWFkeTpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgX2NlbnRlck9mTWFzczpCQUJZTE9OLlZlY3RvcjMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsMCwwKTtcbiAgICAgICAgcHJpdmF0ZSBfdG1wTGluZWFyRmFjdG9yOkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICBwcml2YXRlIF90bXBBbmd1bGFyRmFjdG9yOkJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICBwcml2YXRlIF90bXBDZW50ZXJPZk1hc3M6QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgIHByaXZhdGUgX3RtcEdyYXZpdHlWZWN0b3IgPSBudWxsO1xuICAgICAgICBwcml2YXRlIF90bXBDb2xsaXNpb25Db250YWN0czpDb2xsaXNpb25Db250YWN0SW5mb1tdID0gbnVsbDtcbiAgICAgICAgcHVibGljIGdldCBpc0tpbmVtYXRpYygpOmJvb2xlYW4geyByZXR1cm4gdGhpcy5faXNLaW5lbWF0aWM7IH1cbiAgICAgICAgcHVibGljIGdldCBjZW50ZXJPZk1hc3MoKTpCQUJZTE9OLlZlY3RvcjMgeyByZXR1cm4gdGhpcy5fY2VudGVyT2ZNYXNzOyB9XG5cbiAgICAgICAgcHJvdGVjdGVkIG1fcGh5c2ljc1dvcmxkOmFueSA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBtX3BoeXNpY3NFbmdpbmU6QkFCWUxPTi5JUGh5c2ljc0VuZ2luZSA9IG51bGw7XG4gICAgICAgIHByb3RlY3RlZCBtX3JheWNhc3RWZWhpY2xlOmFueSA9IG51bGw7XG5cbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlKCk6IHZvaWQgeyB0aGlzLmF3YWtlUmlnaWRib2R5U3RhdGUoKTsgfVxuICAgICAgICBwcm90ZWN0ZWQgdXBkYXRlKCkgOnZvaWQgeyAgdGhpcy51cGRhdGVSaWdpZGJvZHlTdGF0ZSgpOyB9XG4gICAgICAgIHByb3RlY3RlZCBhZnRlcigpIDp2b2lkIHsgIHRoaXMuYWZ0ZXJSaWdpZGJvZHlTdGF0ZSgpOyB9XG4gICAgICAgIHByb3RlY3RlZCBkZXN0cm95KCk6IHZvaWQgeyB0aGlzLmRlc3Ryb3lSaWdpZGJvZHlTdGF0ZSgpOyB9XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAvLyBQcm90ZWN0ZWQgUmlnaWRib2R5IFBoeXNpY3MgU3RhdGUgRnVuY3Rpb25zIC8vXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBwcm90ZWN0ZWQgYXdha2VSaWdpZGJvZHlTdGF0ZSgpOnZvaWQge1xuICAgICAgICAgICAgdGhpcy5fYWJzdHJhY3RNZXNoID0gdGhpcy5nZXRBYnN0cmFjdE1lc2goKTtcbiAgICAgICAgICAgIHRoaXMuX2lzS2luZW1hdGljID0gdGhpcy5nZXRQcm9wZXJ0eShcImlzS2luZW1hdGljXCIsIHRoaXMuX2lzS2luZW1hdGljKTtcbiAgICAgICAgICAgIHRoaXMubV9waHlzaWNzV29ybGQgPSBCQUJZTE9OLlNjZW5lTWFuYWdlci5HZXRQaHlzaWNzV29ybGQodGhpcy5zY2VuZSk7XG4gICAgICAgICAgICB0aGlzLm1fcGh5c2ljc0VuZ2luZSA9IEJBQllMT04uU2NlbmVNYW5hZ2VyLkdldFBoeXNpY3NFbmdpbmUodGhpcy5zY2VuZSk7XG4gICAgICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0ubWV0YWRhdGEgIT0gbnVsbCAmJiB0aGlzLnRyYW5zZm9ybS5tZXRhZGF0YS51bml0eSAhPSBudWxsICYmIHRoaXMudHJhbnNmb3JtLm1ldGFkYXRhLnVuaXR5LnBoeXNpY3MgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NlbnRlck9mTWFzcyA9ICh0aGlzLnRyYW5zZm9ybS5tZXRhZGF0YS51bml0eS5waHlzaWNzLmNlbnRlciAhPSBudWxsKSA/IEJBQllMT04uVXRpbGl0aWVzLlBhcnNlVmVjdG9yMyh0aGlzLnRyYW5zZm9ybS5tZXRhZGF0YS51bml0eS5waHlzaWNzLmNlbnRlciwgdGhpcy5fY2VudGVyT2ZNYXNzKSA6IHRoaXMuX2NlbnRlck9mTWFzcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vY29uc29sZS53YXJuKFwiU3RhcnRpbmcgUmlnaWRib2R5IFBoeXNpY3MgRm9yOiBcIiArIHRoaXMudHJhbnNmb3JtLm5hbWUpO1xuICAgICAgICAgICAgdGhpcy5zZXRNYXhOb3RpZmljYXRpb25zKHRoaXMuX21heENvbGxpc2lvbnMpO1xuICAgICAgICAgICAgQkFCWUxPTi5VdGlsaXRpZXMuVmFsaWRhdGVUcmFuc2Zvcm1RdWF0ZXJuaW9uKHRoaXMudHJhbnNmb3JtKTtcbiAgICAgICAgICAgIHRoaXMuX2lzUGh5c2ljc1JlYWR5ID0gKHRoaXMubV9waHlzaWNzRW5naW5lICE9IG51bGwgJiYgdGhpcy5fdG1wQ29sbGlzaW9uQ29udGFjdHMgIT0gbnVsbCAmJiB0aGlzLl9hYnN0cmFjdE1lc2ggIT0gbnVsbCAmJiB0aGlzLl9hYnN0cmFjdE1lc2gucGh5c2ljc0ltcG9zdG9yICE9IG51bGwgJiYgdGhpcy5fYWJzdHJhY3RNZXNoLnBoeXNpY3NJbXBvc3Rvci5waHlzaWNzQm9keSAhPSBudWxsKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbGxpc2lvbkdyb3VwOm51bWJlciA9ICh0aGlzLl9pc0tpbmVtYXRpYyA9PT0gdHJ1ZSkgPyBCQUJZTE9OLkNvbGxpc2lvbkZpbHRlcnMuU3RhdGljRmlsdGVyIDogQkFCWUxPTi5Db2xsaXNpb25GaWx0ZXJzLkRlZmF1bHRGaWx0ZXI7XG4gICAgICAgICAgICBjb25zdCBjb2xsaXNpb25NYXNrOm51bWJlciA9ICh0aGlzLl9pc0tpbmVtYXRpYyA9PT0gdHJ1ZSkgPyBCQUJZTE9OLkNvbGxpc2lvbkZpbHRlcnMuQWxsRmlsdGVyIF4gQkFCWUxPTi5Db2xsaXNpb25GaWx0ZXJzLlN0YXRpY0ZpbHRlciA6IEJBQllMT04uQ29sbGlzaW9uRmlsdGVycy5BbGxGaWx0ZXI7XG4gICAgICAgICAgICAvLyBERVBSRUNJQVRFRDogdGhpcy5zZXRDb250YWN0UHJvY2Vzc2luZ1RocmVzaG9sZCgwKTtcbiAgICAgICAgICAgIHRoaXMuc2V0Q29sbGlzaW9uRmlsdGVyR3JvdXAoY29sbGlzaW9uR3JvdXApO1xuICAgICAgICAgICAgdGhpcy5zZXRDb2xsaXNpb25GaWx0ZXJNYXNrKGNvbGxpc2lvbk1hc2spO1xuICAgICAgICAgICAgdGhpcy5yZXNldEJvZHlDb2xsaXNpb25Db250YWN0cygpO1xuICAgICAgICB9XG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGVSaWdpZGJvZHlTdGF0ZSgpOnZvaWQge1xuICAgICAgICAgICAgdGhpcy5zeW5jcm9uaXplVmVoaWNsZUNvbnRyb2xsZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBwcm90ZWN0ZWQgYWZ0ZXJSaWdpZGJvZHlTdGF0ZSgpOnZvaWQge1xuICAgICAgICAgICAgdGhpcy5wYXJzZUJvZHlDb2xsaXNpb25Db250YWN0cygpO1xuICAgICAgICAgICAgdGhpcy5yZXNldEJvZHlDb2xsaXNpb25Db250YWN0cygpO1xuICAgICAgICB9XG4gICAgICAgIHByb3RlY3RlZCBkZXN0cm95UmlnaWRib2R5U3RhdGUoKTp2b2lkIHtcbiAgICAgICAgICAgIHRoaXMubV9waHlzaWNzV29ybGQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5tX3BoeXNpY3NFbmdpbmUgPSBudWxsO1xuICAgICAgICAgICAgaWYgKHRoaXMubV9yYXljYXN0VmVoaWNsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubV9yYXljYXN0VmVoaWNsZS5kaXNwb3NlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9yYXljYXN0VmVoaWNsZS5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMubV9yYXljYXN0VmVoaWNsZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fdG1wR3Jhdml0eVZlY3RvciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgQW1tby5kZXN0cm95KHRoaXMuX3RtcEdyYXZpdHlWZWN0b3IpOyAvLyA/Pz9cbiAgICAgICAgICAgICAgICB0aGlzLl90bXBHcmF2aXR5VmVjdG9yID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMub25Db2xsaXNpb25FbnRlck9ic2VydmFibGUuY2xlYXIoKTtcbiAgICAgICAgICAgIHRoaXMub25Db2xsaXNpb25FbnRlck9ic2VydmFibGUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5vbkNvbGxpc2lvblN0YXlPYnNlcnZhYmxlLmNsZWFyKCk7XG4gICAgICAgICAgICB0aGlzLm9uQ29sbGlzaW9uU3RheU9ic2VydmFibGUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5vbkNvbGxpc2lvbkV4aXRPYnNlcnZhYmxlLmNsZWFyKCk7XG4gICAgICAgICAgICB0aGlzLm9uQ29sbGlzaW9uRXhpdE9ic2VydmFibGUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fdG1wQ29sbGlzaW9uQ29udGFjdHMgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fYWJzdHJhY3RNZXNoID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vIFJpZ2lkYm9keSBQaHlzaWNzIExpZmUgQ3ljbGUgRXZlbnQgRnVuY3Rpb25zIC8vXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgcHJvdGVjdGVkIHN5bmNyb25pemVWZWhpY2xlQ29udHJvbGxlcigpOnZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMubV9yYXljYXN0VmVoaWNsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubV9yYXljYXN0VmVoaWNsZS51cGRhdGVXaGVlbEluZm9ybWF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9yYXljYXN0VmVoaWNsZS51cGRhdGVXaGVlbEluZm9ybWF0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByb3RlY3RlZCBwYXJzZUJvZHlDb2xsaXNpb25Db250YWN0cygpOnZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2lzUGh5c2ljc1JlYWR5ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaGFzRW50ZXJPYnNlcnZlcnM6Ym9vbGVhbiA9IHRoaXMub25Db2xsaXNpb25FbnRlck9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgaGFzU3RheU9ic2VydmVyczpib29sZWFuID0gdGhpcy5vbkNvbGxpc2lvblN0YXlPYnNlcnZhYmxlLmhhc09ic2VydmVycygpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGhhc0V4aXRPYnNlcnZlcnM6Ym9vbGVhbiA9IHRoaXMub25Db2xsaXNpb25FeGl0T2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKTtcbiAgICAgICAgICAgICAgICBpZiAoaGFzRW50ZXJPYnNlcnZlcnMgfHwgaGFzU3RheU9ic2VydmVycyB8fCBoYXNFeGl0T2JzZXJ2ZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IDA7IC8vIE5vdGU6IEZsYWcgQWxsIENvbGxpc2lvbiBMaXN0IEl0ZW1zIEZvciBFbmQgQ29udGFjdCBTdGF0ZVxuICAgICAgICAgICAgICAgICAgICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLl90bXBDb2xsaXNpb25Db250YWN0cy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3RtcENvbGxpc2lvbkNvbnRhY3RzW2luZGV4XS5yZXNldCA9IHRydWU7IFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIC8vIFBhcnNlIE92ZXJsYXBwaW5nIEJvZHkgQ29udGFjdCBPYmplY3RzXG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIGxldCBjb2xsaXNpb25Db3VudDpudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICBpZiAoKDxhbnk+dGhpcy5fYWJzdHJhY3RNZXNoLnBoeXNpY3NJbXBvc3RvcikudG1wQ29sbGlzaW9uT2JqZWN0cyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0bXBDb2xsaXNpb25PYmplY3RNYXA6YW55ID0gKDxhbnk+dGhpcy5fYWJzdHJhY3RNZXNoLnBoeXNpY3NJbXBvc3RvcikudG1wQ29sbGlzaW9uT2JqZWN0cztcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY29udGFjdEtleSBpbiB0bXBDb2xsaXNpb25PYmplY3RNYXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZm91bmRpbmRleDpudW1iZXIgPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250YWN0TWVzaDpCQUJZTE9OLkFic3RyYWN0TWVzaCA9IHRtcENvbGxpc2lvbk9iamVjdE1hcFtjb250YWN0S2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLl90bXBDb2xsaXNpb25Db250YWN0cy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hlY2s6QkFCWUxPTi5Db2xsaXNpb25Db250YWN0SW5mbyA9IHRoaXMuX3RtcENvbGxpc2lvbkNvbnRhY3RzW2luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrLm1lc2ggIT0gbnVsbCAmJiBjaGVjay5tZXNoID09PSBjb250YWN0TWVzaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2suc3RhdGUgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2sucmVzZXQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kaW5kZXggPSBpbmRleDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb3VuZGluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLl90bXBDb2xsaXNpb25Db250YWN0cy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluc2VydDpCQUJZTE9OLkNvbGxpc2lvbkNvbnRhY3RJbmZvID0gdGhpcy5fdG1wQ29sbGlzaW9uQ29udGFjdHNbaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluc2VydC5tZXNoID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnQubWVzaCA9IGNvbnRhY3RNZXNoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydC5zdGF0ZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zZXJ0LnJlc2V0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sbGlzaW9uQ291bnQrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29sbGlzaW9uQ291bnQgPiB0aGlzLl9tYXhDb2xsaXNpb25zKSBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAvLyBEaXNwYXRjaCBCb2R5IENvbGxpc2lvbiBDb250YWN0IFN0YXRlXG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IHRoaXMuX3RtcENvbGxpc2lvbkNvbnRhY3RzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5mbzpCQUJZTE9OLkNvbGxpc2lvbkNvbnRhY3RJbmZvID0gdGhpcy5fdG1wQ29sbGlzaW9uQ29udGFjdHNbaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZm8ucmVzZXQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEaXNwYXRjaCBPbiBDb2xsaXNpb24gRXhpdCBFdmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYXNFeGl0T2JzZXJ2ZXJzICYmIGluZm8ubWVzaCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25Db2xsaXNpb25FeGl0T2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoaW5mby5tZXNoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVzZXQgQ29sbGlzaW9uIENvbnRhY3QgSW5mbyBJdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5mby5tZXNoID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmZvLnN0YXRlID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmZvLnJlc2V0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmZvLnN0YXRlID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERpc3BhdGNoIE9uIENvbGxpc2lvbiBFbnRlciBFdmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFzRW50ZXJPYnNlcnZlcnMgJiYgaW5mby5tZXNoICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25Db2xsaXNpb25FbnRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGluZm8ubWVzaCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEaXNwYXRjaCBPbiBDb2xsaXNpb24gU3RheSBFdmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFzU3RheU9ic2VydmVycyAmJiBpbmZvLm1lc2ggIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkNvbGxpc2lvblN0YXlPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhpbmZvLm1lc2gpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByb3RlY3RlZCByZXNldEJvZHlDb2xsaXNpb25Db250YWN0cygpOnZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2lzUGh5c2ljc1JlYWR5ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaGFzRW50ZXJPYnNlcnZlcnM6Ym9vbGVhbiA9IHRoaXMub25Db2xsaXNpb25FbnRlck9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgaGFzU3RheU9ic2VydmVyczpib29sZWFuID0gdGhpcy5vbkNvbGxpc2lvblN0YXlPYnNlcnZhYmxlLmhhc09ic2VydmVycygpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGhhc0V4aXRPYnNlcnZlcnM6Ym9vbGVhbiA9IHRoaXMub25Db2xsaXNpb25FeGl0T2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKTtcbiAgICAgICAgICAgICAgICBpZiAoaGFzRW50ZXJPYnNlcnZlcnMgfHwgaGFzU3RheU9ic2VydmVycyB8fCBoYXNFeGl0T2JzZXJ2ZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICg8YW55PnRoaXMuX2Fic3RyYWN0TWVzaC5waHlzaWNzSW1wb3N0b3IpLnRtcENvbGxpc2lvbk9iamVjdHMgPSB7fTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAoPGFueT50aGlzLl9hYnN0cmFjdE1lc2gucGh5c2ljc0ltcG9zdG9yKS50bXBDb2xsaXNpb25PYmplY3RzID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vIFJpZ2lkYm9keSBQaHlzaWNzIENvbGxpc2lvbiBFdmVudCBGdW5jdGlvbnMgLy9cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIC8qKiBSZWdpc3RlciBoYW5kbGVyIHRoYXQgaXMgdHJpZ2dlcmVkIHdoZW4gdGhlIGEgY29sbGlzaW9uIGNvbnRhY3QgaGFzIGVudGVyZWQgKi9cbiAgICAgICAgcHVibGljIG9uQ29sbGlzaW9uRW50ZXJPYnNlcnZhYmxlID0gbmV3IEJBQllMT04uT2JzZXJ2YWJsZTxCQUJZTE9OLkFic3RyYWN0TWVzaD4oKTtcbiAgICAgICAgLyoqIFJlZ2lzdGVyIGhhbmRsZXIgdGhhdCBpcyB0cmlnZ2VyZWQgd2hlbiB0aGUgYSBjb2xsaXNpb24gY29udGFjdCBpcyBhY3RpdmUgKi9cbiAgICAgICAgcHVibGljIG9uQ29sbGlzaW9uU3RheU9ic2VydmFibGUgPSBuZXcgQkFCWUxPTi5PYnNlcnZhYmxlPEJBQllMT04uQWJzdHJhY3RNZXNoPigpO1xuICAgICAgICAvKiogUmVnaXN0ZXIgaGFuZGxlciB0aGF0IGlzIHRyaWdnZXJlZCB3aGVuIHRoZSBhIGNvbGxpc2lvbiBjb250YWN0IGhhcyBleGl0ZWQgKi9cbiAgICAgICAgcHVibGljIG9uQ29sbGlzaW9uRXhpdE9ic2VydmFibGUgPSBuZXcgQkFCWUxPTi5PYnNlcnZhYmxlPEJBQllMT04uQWJzdHJhY3RNZXNoPigpO1xuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAvLyBSaWdpZGJvZHkgUGh5c2ljcyBHcmF2aXR5IEFkdmFuY2VkIEhlbHBlciBGdW5jdGlvbnNcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgLyoqIFNldHMgZW50aXR5IGdyYXZpdHkgdmFsdWUgdXNpbmcgcGh5c2ljcyBpbXBvc3RvciBib2R5LiAqL1xuICAgICAgICBwdWJsaWMgc2V0R3Jhdml0eShncmF2aXR5OkJBQllMT04uVmVjdG9yMyk6dm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5fYWJzdHJhY3RNZXNoICE9IG51bGwgJiYgdGhpcy5fYWJzdHJhY3RNZXNoLnBoeXNpY3NJbXBvc3RvciAhPSBudWxsICYmIHRoaXMuX2Fic3RyYWN0TWVzaC5waHlzaWNzSW1wb3N0b3IucGh5c2ljc0JvZHkgIT0gbnVsbCAmJiB0aGlzLl9hYnN0cmFjdE1lc2gucGh5c2ljc0ltcG9zdG9yLnBoeXNpY3NCb2R5LnNldEdyYXZpdHkpIHtcbiAgICAgICAgICAgICAgICBpZiAoZ3Jhdml0eSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl90bXBHcmF2aXR5VmVjdG9yID09IG51bGwpIHRoaXMuX3RtcEdyYXZpdHlWZWN0b3IgPSBuZXcgQW1tby5idFZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RtcEdyYXZpdHlWZWN0b3Iuc2V0VmFsdWUoZ3Jhdml0eS54LCBncmF2aXR5LnksIGdyYXZpdHkueik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Fic3RyYWN0TWVzaC5waHlzaWNzSW1wb3N0b3IucGh5c2ljc0JvZHkuc2V0R3Jhdml0eSh0aGlzLl90bXBHcmF2aXR5VmVjdG9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqIEdldHMgZW50aXR5IGdyYXZpdHkgdmFsdWUgdXNpbmcgcGh5c2ljcyBpbXBvc3RvciBib2R5LiAqL1xuICAgICAgICBwdWJsaWMgZ2V0R3Jhdml0eSgpOkJBQllMT04uTnVsbGFibGU8QkFCWUxPTi5WZWN0b3IzPiB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQ6QkFCWUxPTi5WZWN0b3IzID0gbmV3IEJBQllMT04uVmVjdG9yMygwLDAsMCk7XG4gICAgICAgICAgICB0aGlzLmdldEdyYXZpdHlUb1JlZihyZXN1bHQpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICAvKiogR2V0cyBlbnRpdHkgZ3Jhdml0eSB2YWx1ZSB1c2luZyBwaHlzaWNzIGltcG9zdG9yIGJvZHkuICovXG4gICAgICAgIHB1YmxpYyBnZXRHcmF2aXR5VG9SZWYocmVzdWx0OkJBQllMT04uVmVjdG9yMyk6dm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5fYWJzdHJhY3RNZXNoICE9IG51bGwgJiYgdGhpcy5fYWJzdHJhY3RNZXNoLnBoeXNpY3NJbXBvc3RvciAhPSBudWxsICYmIHRoaXMuX2Fic3RyYWN0TWVzaC5waHlzaWNzSW1wb3N0b3IucGh5c2ljc0JvZHkgIT0gbnVsbCAmJiB0aGlzLl9hYnN0cmFjdE1lc2gucGh5c2ljc0ltcG9zdG9yLnBoeXNpY3NCb2R5LmdldEdyYXZpdHkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBncmF2aXR5OmFueSA9IHRoaXMuX2Fic3RyYWN0TWVzaC5waHlzaWNzSW1wb3N0b3IucGh5c2ljc0JvZHkuZ2V0R3Jhdml0eSgpO1xuICAgICAgICAgICAgICAgIEJBQllMT04uVXRpbGl0aWVzLkNvbnZlcnRBbW1vVmVjdG9yM1RvUmVmKGdyYXZpdHksIHJlc3VsdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gUmlnaWRib2R5IFBoeXNpY3MgSW1wb3N0b3IgSGVscGVyIEZ1bmN0aW9ucyAtICBUT0RPIC0gVXNlIE5hdGl2ZSBQaHlzaWNzIEFQSSAtID8/P1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICAvKiogR2V0cyBtYXNzIG9mIGVudGl0eSB1c2luZyBwaHlzaWNzIGltcG9zdG9yLiAqL1xuICAgICAgICBwdWJsaWMgZ2V0TWFzcygpOm51bWJlciB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0Om51bWJlciA9IDA7XG4gICAgICAgICAgICBpZiAodGhpcy5fYWJzdHJhY3RNZXNoICE9IG51bGwgJiYgdGhpcy5fYWJzdHJhY3RNZXNoLnBoeXNpY3NJbXBvc3RvciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5fYWJzdHJhY3RNZXNoLnBoeXNpY3NJbXBvc3Rvci5tYXNzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICAvKiogU2V0cyBtYXNzIHRvIGVudGl0eSB1c2luZyBwaHlzaWNzIGltcG9zdG9yLiAqL1xuICAgICAgICBwdWJsaWMgc2V0TWFzcyhtYXNzOm51bWJlcik6dm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5fYWJzdHJhY3RNZXNoICE9IG51bGwgJiYgdGhpcy5fYWJzdHJhY3RNZXNoLnBoeXNpY3NJbXBvc3RvciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2Fic3RyYWN0TWVzaC5waHlzaWNzSW1wb3N0b3IubWFzcyAhPT0gbWFzcykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hYnN0cmFjdE1lc2gucGh5c2ljc0ltcG9zdG9yLm1hc3MgPSBtYXNzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKiogR2V0cyBlbnRpdHkgZnJpY3Rpb24gbGV2ZWwgdXNpbmcgcGh5c2ljcyBpbXBvc3Rvci4gKi9cbiAgICAgICAgcHVibGljIGdldEZyaWN0aW9uKCk6bnVtYmVyIHtcbiAgICAgICAgICAgIGxldCByZXN1bHQ6bnVtYmVyID0gMDtcbiAgICAgICAgICAgIGlmICh0aGlzLl9hYnN0cmFjdE1lc2ggIT0gbnVsbCAmJiB0aGlzLl9hYnN0cmFjdE1lc2gucGh5c2ljc0ltcG9zdG9yICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLl9hYnN0cmFjdE1lc2gucGh5c2ljc0ltcG9zdG9yLmZyaWN0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICAvKiogQXBwbGllcyBmcmljdGlvbiB0byBlbnRpdHkgdXNpbmcgcGh5c2ljcyBpbXBvc3Rvci4gKi9cbiAgICAgICAgcHVibGljIHNldEZyaWN0aW9uKGZyaWN0aW9uOm51bWJlcik6dm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5fYWJzdHJhY3RNZXNoICE9IG51bGwgJiYgdGhpcy5fYWJzdHJhY3RNZXNoLnBoeXNpY3NJbXBvc3RvciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2Fic3RyYWN0TWVzaC5waHlzaWNzSW1wb3N0b3IuZnJpY3Rpb24gIT09IGZyaWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Fic3RyYWN0TWVzaC5waHlzaWNzSW1wb3N0b3IuZnJpY3Rpb24gPSBmcmljdGlvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqIEdldHMgcmVzdGl0dXRpb24gb2YgZW50aXR5IHVzaW5nIHBoeXNpY3MgaW1wb3N0b3IuICovXG4gICAgICAgIHB1YmxpYyBnZXRSZXN0aXR1dGlvbigpOm51bWJlciB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0Om51bWJlciA9IDA7XG4gICAgICAgICAgICBpZiAodGhpcy5fYWJzdHJhY3RNZXNoICE9IG51bGwgJiYgdGhpcy5fYWJzdHJhY3RNZXNoLnBoeXNpY3NJbXBvc3RvciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5fYWJzdHJhY3RNZXNoLnBoeXNpY3NJbXBvc3Rvci5yZXN0aXR1dGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIFNldHMgcmVzdGl0dXRpb24gdG8gZW50aXR5IHVzaW5nIHBoeXNpY3MgaW1wb3N0b3IuICovXG4gICAgICAgIHB1YmxpYyBzZXRSZXN0aXR1dGlvbihyZXN0aXR1dGlvbjpudW1iZXIpOnZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2Fic3RyYWN0TWVzaCAhPSBudWxsICYmIHRoaXMuX2Fic3RyYWN0TWVzaC5waHlzaWNzSW1wb3N0b3IgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9hYnN0cmFjdE1lc2gucGh5c2ljc0ltcG9zdG9yLnJlc3RpdHV0aW9uICE9PSByZXN0aXR1dGlvbikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hYnN0cmFjdE1lc2gucGh5c2ljc0ltcG9zdG9yLnJlc3RpdHV0aW9uID0gcmVzdGl0dXRpb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKiBHZXRzIGVudGl0eSBsaW5lYXIgdmVsb2NpdHkgdXNpbmcgcGh5c2ljcyBpbXBvc3Rvci4gKi9cbiAgICAgICAgcHVibGljIGdldExpbmVhclZlbG9jaXR5KCk6QkFCWUxPTi5OdWxsYWJsZTxCQUJZTE9OLlZlY3RvcjM+IHtcbiAgICAgICAgICAgIGxldCByZXN1bHQ6QkFCWUxPTi5WZWN0b3IzID0gbnVsbDtcbiAgICAgICAgICAgIGlmICh0aGlzLl9hYnN0cmFjdE1lc2ggIT0gbnVsbCAmJiB0aGlzLl9hYnN0cmFjdE1lc2gucGh5c2ljc0ltcG9zdG9yICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLl9hYnN0cmFjdE1lc2gucGh5c2ljc0ltcG9zdG9yLmdldExpbmVhclZlbG9jaXR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIC8qKiBTZXRzIGVudGl0eSBsaW5lYXIgdmVsb2NpdHkgdXNpbmcgcGh5c2ljcyBpbXBvc3Rvci4gKi9cbiAgICAgICAgcHVibGljIHNldExpbmVhclZlbG9jaXR5KHZlbG9jaXR5OkJBQllMT04uVmVjdG9yMyk6dm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5fYWJzdHJhY3RNZXNoICE9IG51bGwgJiYgdGhpcy5fYWJzdHJhY3RNZXNoLnBoeXNpY3NJbXBvc3RvciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZlbG9jaXR5ICE9IG51bGwpIHRoaXMuX2Fic3RyYWN0TWVzaC5waHlzaWNzSW1wb3N0b3Iuc2V0TGluZWFyVmVsb2NpdHkodmVsb2NpdHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKiBHZXRzIGVudGl0eSBhbmd1bGFyIHZlbG9jaXR5IHVzaW5nIHBoeXNpY3MgaW1wb3N0b3IuICovXG4gICAgICAgIHB1YmxpYyBnZXRBbmd1bGFyVmVsb2NpdHkoKTpCQUJZTE9OLk51bGxhYmxlPEJBQllMT04uVmVjdG9yMz4ge1xuICAgICAgICAgICAgbGV0IHJlc3VsdDpCQUJZTE9OLlZlY3RvcjMgPSBudWxsO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2Fic3RyYWN0TWVzaCAhPSBudWxsICYmIHRoaXMuX2Fic3RyYWN0TWVzaC5waHlzaWNzSW1wb3N0b3IgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuX2Fic3RyYWN0TWVzaC5waHlzaWNzSW1wb3N0b3IuZ2V0QW5ndWxhclZlbG9jaXR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIC8qKiBTZXRzIGVudGl0eSBhbmd1bGFyIHZlbG9jaXR5IHVzaW5nIHBoeXNpY3MgaW1wb3N0b3IuICovXG4gICAgICAgIHB1YmxpYyBzZXRBbmd1bGFyVmVsb2NpdHkodmVsb2NpdHk6QkFCWUxPTi5WZWN0b3IzKTp2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9hYnN0cmFjdE1lc2ggIT0gbnVsbCAmJiB0aGlzLl9hYnN0cmFjdE1lc2gucGh5c2ljc0ltcG9zdG9yICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAodmVsb2NpdHkgIT0gbnVsbCkgdGhpcy5fYWJzdHJhY3RNZXNoLnBoeXNpY3NJbXBvc3Rvci5zZXRBbmd1bGFyVmVsb2NpdHkodmVsb2NpdHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vIFJpZ2lkYm9keSBQaHlzaWNzIFRyYW5zZm9ybSBIZWxwZXIgRnVuY3Rpb25zXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIC8qKiBHZXRzIHRoZSBuYXRpdmUgcGh5c2ljcyB3b3JsZCB0cmFuc2Zvcm0gb2JqZWN0IHVzaW5nIHBoeXNpY3MgaW1wb3N0b3IgYm9keS4gKEFkdmFudmVkIFVzZSBPbmx5KSAqL1xuICAgICAgICBwdWJsaWMgZ2V0V29ybGRUcmFuc2Zvcm0oKTphbnkge1xuICAgICAgICAgICAgbGV0IHJlc3VsdDphbnkgPSBudWxsO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2Fic3RyYWN0TWVzaCAhPSBudWxsICYmIHRoaXMuX2Fic3RyYWN0TWVzaC5waHlzaWNzSW1wb3N0b3IgIT0gbnVsbCAmJiB0aGlzLl9hYnN0cmFjdE1lc2gucGh5c2ljc0ltcG9zdG9yLnBoeXNpY3NCb2R5ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb2xsaXNpb25PYmplY3Q6YW55ID0gQW1tby5jYXN0T2JqZWN0KHRoaXMuX2Fic3RyYWN0TWVzaC5waHlzaWNzSW1wb3N0b3IucGh5c2ljc0JvZHksIEFtbW8uYnRDb2xsaXNpb25PYmplY3QpO1xuICAgICAgICAgICAgICAgIGlmIChjb2xsaXNpb25PYmplY3QgIT0gbnVsbCAmJiBjb2xsaXNpb25PYmplY3QuZ2V0V29ybGRUcmFuc2Zvcm0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gY29sbGlzaW9uT2JqZWN0LmdldFdvcmxkVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICAvKiogR2V0cyB0aGUgZW50aXR5IHdvcmxkIHRyYW5zZm9ybSBwb3NpdGlvbiB1c2luZyBwaHlzaWNzIGltcG9zdG9yIGJvZHkuIChBZHZhbnZlZCBVc2UgT25seSkgKi9cbiAgICAgICAgcHVibGljIGdldFRyYW5zZm9ybVBvc2l0aW9uVG9SZWYocmVzdWx0OkJBQllMT04uVmVjdG9yMyk6dm9pZCB7XG4gICAgICAgICAgICBjb25zdCBidFRyYW5zZm9ybTphbnkgPSB0aGlzLmdldFdvcmxkVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICBpZiAoYnRUcmFuc2Zvcm0gIT0gbnVsbCAmJiByZXN1bHQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJ0UG9zaXRpb246YW55ID0gYnRUcmFuc2Zvcm0uZ2V0T3JpZ2luKCk7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5VdGlsaXRpZXMuQ29udmVydEFtbW9WZWN0b3IzVG9SZWYoYnRQb3NpdGlvbiwgcmVzdWx0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKiogR2V0cyB0aGUgZW50aXR5IHdvcmxkIHRyYW5zZm9ybSByb3RhdGlvbiB1c2luZyBwaHlzaWNzIGltcG9zdG9yIGJvZHkuIChBZHZhbnZlZCBVc2UgT25seSkgKi9cbiAgICAgICAgcHVibGljIGdldFRyYW5zZm9ybVJvdGF0aW9uVG9SZWYocmVzdWx0OkJBQllMT04uUXVhdGVybmlvbik6dm9pZCB7XG4gICAgICAgICAgICBjb25zdCBidFRyYW5zZm9ybTphbnkgPSB0aGlzLmdldFdvcmxkVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICBpZiAoYnRUcmFuc2Zvcm0gIT0gbnVsbCAmJiByZXN1bHQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJ0Um90YXRpb246YW55ID0gYnRUcmFuc2Zvcm0uZ2V0Um90YXRpb24oKTtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlV0aWxpdGllcy5Db252ZXJ0QW1tb1F1YXRlcm5pb25Ub1JlZihidFJvdGF0aW9uLCByZXN1bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vIFJpZ2lkYm9keSBBcHBsaWVkIFBoeXNpY3MgTW92ZW1lbnQgRnVuY3Rpb25zXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIHB1YmxpYyBjbGVhckZvcmNlcygpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9hYnN0cmFjdE1lc2ggIT0gbnVsbCAmJiB0aGlzLl9hYnN0cmFjdE1lc2gucGh5c2ljc0ltcG9zdG9yICE9IG51bGwgJiYgdGhpcy5fYWJzdHJhY3RNZXNoLnBoeXNpY3NJbXBvc3Rvci5waHlzaWNzQm9keSAhPSBudWxsICYmIHRoaXMuX2Fic3RyYWN0TWVzaC5waHlzaWNzSW1wb3N0b3IucGh5c2ljc0JvZHkuY2xlYXJGb3JjZXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hYnN0cmFjdE1lc2gucGh5c2ljc0ltcG9zdG9yLnBoeXNpY3NCb2R5LmNsZWFyRm9yY2VzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBcbiAgICAgICAgLy8gVE9ETyAtIFVzZSBGdW5jdGlvbiBTcGVjaWZpYyBUZW1wIEFtbW8gQnVmZmVyIC8vXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIFxuXG4gICAgICAgIHB1YmxpYyBhcHBseVRvcnF1ZSh0b3JxdWU6IEJBQllMT04uVmVjdG9yMyk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2Fic3RyYWN0TWVzaCAhPSBudWxsICYmIHRoaXMuX2Fic3RyYWN0TWVzaC5waHlzaWNzSW1wb3N0b3IgIT0gbnVsbCAmJiB0aGlzLl9hYnN0cmFjdE1lc2gucGh5c2ljc0ltcG9zdG9yLnBoeXNpY3NCb2R5ICE9IG51bGwgJiYgdGhpcy5fYWJzdHJhY3RNZXNoLnBoeXNpY3NJbXBvc3Rvci5waHlzaWNzQm9keS5hcHBseVRvcnF1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0b3JxdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoQkFCWUxPTi5SaWdpZGJvZHlQaHlzaWNzLlRlbXBBbW1vVmVjdG9yID09IG51bGwpIEJBQllMT04uUmlnaWRib2R5UGh5c2ljcy5UZW1wQW1tb1ZlY3RvciA9IG5ldyBBbW1vLmJ0VmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5SaWdpZGJvZHlQaHlzaWNzLlRlbXBBbW1vVmVjdG9yLnNldFZhbHVlKHRvcnF1ZS54LCB0b3JxdWUueSwgdG9ycXVlLnopO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hYnN0cmFjdE1lc2gucGh5c2ljc0ltcG9zdG9yLnBoeXNpY3NCb2R5LmFwcGx5VG9ycXVlKEJBQllMT04uUmlnaWRib2R5UGh5c2ljcy5UZW1wQW1tb1ZlY3Rvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHB1YmxpYyBhcHBseUxvY2FsVG9ycXVlKHRvcnF1ZTogQkFCWUxPTi5WZWN0b3IzKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5fYWJzdHJhY3RNZXNoICE9IG51bGwgJiYgdGhpcy5fYWJzdHJhY3RNZXNoLnBoeXNpY3NJbXBvc3RvciAhPSBudWxsICYmIHRoaXMuX2Fic3RyYWN0TWVzaC5waHlzaWNzSW1wb3N0b3IucGh5c2ljc0JvZHkgIT0gbnVsbCAmJiB0aGlzLl9hYnN0cmFjdE1lc2gucGh5c2ljc0ltcG9zdG9yLnBoeXNpY3NCb2R5LmFwcGx5TG9jYWxUb3JxdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodG9ycXVlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEJBQllMT04uUmlnaWRib2R5UGh5c2ljcy5UZW1wQW1tb1ZlY3RvciA9PSBudWxsKSBCQUJZTE9OLlJpZ2lkYm9keVBoeXNpY3MuVGVtcEFtbW9WZWN0b3IgPSBuZXcgQW1tby5idFZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgICAgICAgICAgICAgIEJBQllMT04uUmlnaWRib2R5UGh5c2ljcy5UZW1wQW1tb1ZlY3Rvci5zZXRWYWx1ZSh0b3JxdWUueCwgdG9ycXVlLnksIHRvcnF1ZS56KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWJzdHJhY3RNZXNoLnBoeXNpY3NJbXBvc3Rvci5waHlzaWNzQm9keS5hcHBseUxvY2FsVG9ycXVlKEJBQllMT04uUmlnaWRib2R5UGh5c2ljcy5UZW1wQW1tb1ZlY3Rvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGFwcGx5SW1wdWxzZShpbXB1bHNlOiBCQUJZTE9OLlZlY3RvcjMsIHJlbF9wb3M6IEJBQllMT04uVmVjdG9yMyk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2Fic3RyYWN0TWVzaCAhPSBudWxsICYmIHRoaXMuX2Fic3RyYWN0TWVzaC5waHlzaWNzSW1wb3N0b3IgIT0gbnVsbCAmJiB0aGlzLl9hYnN0cmFjdE1lc2gucGh5c2ljc0ltcG9zdG9yLnBoeXNpY3NCb2R5ICE9IG51bGwgJiYgdGhpcy5fYWJzdHJhY3RNZXNoLnBoeXNpY3NJbXBvc3Rvci5waHlzaWNzQm9keS5hcHBseUltcHVsc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW1wdWxzZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChCQUJZTE9OLlJpZ2lkYm9keVBoeXNpY3MuVGVtcEFtbW9WZWN0b3IgPT0gbnVsbCkgQkFCWUxPTi5SaWdpZGJvZHlQaHlzaWNzLlRlbXBBbW1vVmVjdG9yID0gbmV3IEFtbW8uYnRWZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICAgICAgICAgICAgICBpZiAoQkFCWUxPTi5SaWdpZGJvZHlQaHlzaWNzLlRlbXBBbW1vVmVjdG9yQXV4ID09IG51bGwpIEJBQllMT04uUmlnaWRib2R5UGh5c2ljcy5UZW1wQW1tb1ZlY3RvckF1eCA9IG5ldyBBbW1vLmJ0VmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5SaWdpZGJvZHlQaHlzaWNzLlRlbXBBbW1vVmVjdG9yLnNldFZhbHVlKGltcHVsc2UueCwgaW1wdWxzZS55LCBpbXB1bHNlLnopO1xuICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlJpZ2lkYm9keVBoeXNpY3MuVGVtcEFtbW9WZWN0b3JBdXguc2V0VmFsdWUocmVsX3Bvcy54LCByZWxfcG9zLnksIHJlbF9wb3Mueik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Fic3RyYWN0TWVzaC5waHlzaWNzSW1wb3N0b3IucGh5c2ljc0JvZHkuYXBwbHlJbXB1bHNlKEJBQllMT04uUmlnaWRib2R5UGh5c2ljcy5UZW1wQW1tb1ZlY3RvciwgQkFCWUxPTi5SaWdpZGJvZHlQaHlzaWNzLlRlbXBBbW1vVmVjdG9yQXV4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHVibGljIGFwcGx5Q2VudHJhbEltcHVsc2UoaW1wdWxzZTogQkFCWUxPTi5WZWN0b3IzKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5fYWJzdHJhY3RNZXNoICE9IG51bGwgJiYgdGhpcy5fYWJzdHJhY3RNZXNoLnBoeXNpY3NJbXBvc3RvciAhPSBudWxsICYmIHRoaXMuX2Fic3RyYWN0TWVzaC5waHlzaWNzSW1wb3N0b3IucGh5c2ljc0JvZHkgIT0gbnVsbCAmJiB0aGlzLl9hYnN0cmFjdE1lc2gucGh5c2ljc0ltcG9zdG9yLnBoeXNpY3NCb2R5LmFwcGx5Q2VudHJhbEltcHVsc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW1wdWxzZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChCQUJZTE9OLlJpZ2lkYm9keVBoeXNpY3MuVGVtcEFtbW9WZWN0b3IgPT0gbnVsbCkgQkFCWUxPTi5SaWdpZGJvZHlQaHlzaWNzLlRlbXBBbW1vVmVjdG9yID0gbmV3IEFtbW8uYnRWZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlJpZ2lkYm9keVBoeXNpY3MuVGVtcEFtbW9WZWN0b3Iuc2V0VmFsdWUoaW1wdWxzZS54LCBpbXB1bHNlLnksIGltcHVsc2Uueik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Fic3RyYWN0TWVzaC5waHlzaWNzSW1wb3N0b3IucGh5c2ljc0JvZHkuYXBwbHlDZW50cmFsSW1wdWxzZShCQUJZTE9OLlJpZ2lkYm9keVBoeXNpY3MuVGVtcEFtbW9WZWN0b3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwdWJsaWMgYXBwbHlUb3JxdWVJbXB1bHNlKHRvcnF1ZTogQkFCWUxPTi5WZWN0b3IzKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5fYWJzdHJhY3RNZXNoICE9IG51bGwgJiYgdGhpcy5fYWJzdHJhY3RNZXNoLnBoeXNpY3NJbXBvc3RvciAhPSBudWxsICYmIHRoaXMuX2Fic3RyYWN0TWVzaC5waHlzaWNzSW1wb3N0b3IucGh5c2ljc0JvZHkgIT0gbnVsbCAmJiB0aGlzLl9hYnN0cmFjdE1lc2gucGh5c2ljc0ltcG9zdG9yLnBoeXNpY3NCb2R5LmFwcGx5VG9ycXVlSW1wdWxzZSkge1xuICAgICAgICAgICAgICAgIGlmICh0b3JxdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoQkFCWUxPTi5SaWdpZGJvZHlQaHlzaWNzLlRlbXBBbW1vVmVjdG9yID09IG51bGwpIEJBQllMT04uUmlnaWRib2R5UGh5c2ljcy5UZW1wQW1tb1ZlY3RvciA9IG5ldyBBbW1vLmJ0VmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5SaWdpZGJvZHlQaHlzaWNzLlRlbXBBbW1vVmVjdG9yLnNldFZhbHVlKHRvcnF1ZS54LCB0b3JxdWUueSwgdG9ycXVlLnopO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hYnN0cmFjdE1lc2gucGh5c2ljc0ltcG9zdG9yLnBoeXNpY3NCb2R5LmFwcGx5VG9ycXVlSW1wdWxzZShCQUJZTE9OLlJpZ2lkYm9keVBoeXNpY3MuVGVtcEFtbW9WZWN0b3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwdWJsaWMgYXBwbHlGb3JjZShmb3JjZTogQkFCWUxPTi5WZWN0b3IzLCByZWxfcG9zOiBCQUJZTE9OLlZlY3RvcjMpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9hYnN0cmFjdE1lc2ggIT0gbnVsbCAmJiB0aGlzLl9hYnN0cmFjdE1lc2gucGh5c2ljc0ltcG9zdG9yICE9IG51bGwgJiYgdGhpcy5fYWJzdHJhY3RNZXNoLnBoeXNpY3NJbXBvc3Rvci5waHlzaWNzQm9keSAhPSBudWxsICYmIHRoaXMuX2Fic3RyYWN0TWVzaC5waHlzaWNzSW1wb3N0b3IucGh5c2ljc0JvZHkuYXBwbHlGb3JjZSkge1xuICAgICAgICAgICAgICAgIGlmIChmb3JjZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChCQUJZTE9OLlJpZ2lkYm9keVBoeXNpY3MuVGVtcEFtbW9WZWN0b3IgPT0gbnVsbCkgQkFCWUxPTi5SaWdpZGJvZHlQaHlzaWNzLlRlbXBBbW1vVmVjdG9yID0gbmV3IEFtbW8uYnRWZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICAgICAgICAgICAgICBpZiAoQkFCWUxPTi5SaWdpZGJvZHlQaHlzaWNzLlRlbXBBbW1vVmVjdG9yQXV4ID09IG51bGwpIEJBQllMT04uUmlnaWRib2R5UGh5c2ljcy5UZW1wQW1tb1ZlY3RvckF1eCA9IG5ldyBBbW1vLmJ0VmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5SaWdpZGJvZHlQaHlzaWNzLlRlbXBBbW1vVmVjdG9yLnNldFZhbHVlKGZvcmNlLngsIGZvcmNlLnksIGZvcmNlLnopO1xuICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlJpZ2lkYm9keVBoeXNpY3MuVGVtcEFtbW9WZWN0b3JBdXguc2V0VmFsdWUocmVsX3Bvcy54LCByZWxfcG9zLnksIHJlbF9wb3Mueik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Fic3RyYWN0TWVzaC5waHlzaWNzSW1wb3N0b3IucGh5c2ljc0JvZHkuYXBwbHlGb3JjZShCQUJZTE9OLlJpZ2lkYm9keVBoeXNpY3MuVGVtcEFtbW9WZWN0b3IsIEJBQllMT04uUmlnaWRib2R5UGh5c2ljcy5UZW1wQW1tb1ZlY3RvckF1eCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHB1YmxpYyBhcHBseUNlbnRyYWxGb3JjZShmb3JjZTogQkFCWUxPTi5WZWN0b3IzKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5fYWJzdHJhY3RNZXNoICE9IG51bGwgJiYgdGhpcy5fYWJzdHJhY3RNZXNoLnBoeXNpY3NJbXBvc3RvciAhPSBudWxsICYmIHRoaXMuX2Fic3RyYWN0TWVzaC5waHlzaWNzSW1wb3N0b3IucGh5c2ljc0JvZHkgIT0gbnVsbCAmJiB0aGlzLl9hYnN0cmFjdE1lc2gucGh5c2ljc0ltcG9zdG9yLnBoeXNpY3NCb2R5LmFwcGx5Q2VudHJhbEZvcmNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZvcmNlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEJBQllMT04uUmlnaWRib2R5UGh5c2ljcy5UZW1wQW1tb1ZlY3RvciA9PSBudWxsKSBCQUJZTE9OLlJpZ2lkYm9keVBoeXNpY3MuVGVtcEFtbW9WZWN0b3IgPSBuZXcgQW1tby5idFZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgICAgICAgICAgICAgIEJBQllMT04uUmlnaWRib2R5UGh5c2ljcy5UZW1wQW1tb1ZlY3Rvci5zZXRWYWx1ZShmb3JjZS54LCBmb3JjZS55LCBmb3JjZS56KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWJzdHJhY3RNZXNoLnBoeXNpY3NJbXBvc3Rvci5waHlzaWNzQm9keS5hcHBseUNlbnRyYWxGb3JjZShCQUJZTE9OLlJpZ2lkYm9keVBoeXNpY3MuVGVtcEFtbW9WZWN0b3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwdWJsaWMgYXBwbHlDZW50cmFsTG9jYWxGb3JjZShmb3JjZTogQkFCWUxPTi5WZWN0b3IzKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5fYWJzdHJhY3RNZXNoICE9IG51bGwgJiYgdGhpcy5fYWJzdHJhY3RNZXNoLnBoeXNpY3NJbXBvc3RvciAhPSBudWxsICYmIHRoaXMuX2Fic3RyYWN0TWVzaC5waHlzaWNzSW1wb3N0b3IucGh5c2ljc0JvZHkgIT0gbnVsbCAmJiB0aGlzLl9hYnN0cmFjdE1lc2gucGh5c2ljc0ltcG9zdG9yLnBoeXNpY3NCb2R5LmFwcGx5Q2VudHJhbExvY2FsRm9yY2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoZm9yY2UgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoQkFCWUxPTi5SaWdpZGJvZHlQaHlzaWNzLlRlbXBBbW1vVmVjdG9yID09IG51bGwpIEJBQllMT04uUmlnaWRib2R5UGh5c2ljcy5UZW1wQW1tb1ZlY3RvciA9IG5ldyBBbW1vLmJ0VmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5SaWdpZGJvZHlQaHlzaWNzLlRlbXBBbW1vVmVjdG9yLnNldFZhbHVlKGZvcmNlLngsIGZvcmNlLnksIGZvcmNlLnopO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hYnN0cmFjdE1lc2gucGh5c2ljc0ltcG9zdG9yLnBoeXNpY3NCb2R5LmFwcGx5Q2VudHJhbExvY2FsRm9yY2UoQkFCWUxPTi5SaWdpZGJvZHlQaHlzaWNzLlRlbXBBbW1vVmVjdG9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqIGdldHMgcmlnaWRib2R5IGNlbnRlciBvZiBtYXNzICovXG4gICAgICAgIHB1YmxpYyBnZXRDZW50ZXJPZk1hc3NUcmFuc2Zvcm0oKTpCQUJZTE9OLlZlY3RvcjMge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2Fic3RyYWN0TWVzaCAhPSBudWxsICYmIHRoaXMuX2Fic3RyYWN0TWVzaC5waHlzaWNzSW1wb3N0b3IgIT0gbnVsbCAmJiB0aGlzLl9hYnN0cmFjdE1lc2gucGh5c2ljc0ltcG9zdG9yLnBoeXNpY3NCb2R5ICE9IG51bGwgJiYgdGhpcy5fYWJzdHJhY3RNZXNoLnBoeXNpY3NJbXBvc3Rvci5waHlzaWNzQm9keS5nZXRDZW50ZXJPZk1hc3NUcmFuc2Zvcm0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBidHRyYW5zZm9ybTphbnkgPSB0aGlzLl9hYnN0cmFjdE1lc2gucGh5c2ljc0ltcG9zdG9yLnBoeXNpY3NCb2R5LmdldENlbnRlck9mTWFzc1RyYW5zZm9ybSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJ0cG9zaXRpb246YW55ID0gYnR0cmFuc2Zvcm0uZ2V0T3JpZ2luKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fdG1wQ2VudGVyT2ZNYXNzLnNldChidHBvc2l0aW9uLngoKSwgYnRwb3NpdGlvbi55KCksIGJ0cG9zaXRpb24ueigpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90bXBDZW50ZXJPZk1hc3M7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIFNldHMgcmlnaWRib2R5IGNlbnRlciBvZiBtYXNzICovXG4gICAgICAgIHB1YmxpYyBzZXRDZW50ZXJPZk1hc3NUcmFuc2Zvcm0oY2VudGVyOiBCQUJZTE9OLlZlY3RvcjMpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9hYnN0cmFjdE1lc2ggIT0gbnVsbCAmJiB0aGlzLl9hYnN0cmFjdE1lc2gucGh5c2ljc0ltcG9zdG9yICE9IG51bGwgJiYgdGhpcy5fYWJzdHJhY3RNZXNoLnBoeXNpY3NJbXBvc3Rvci5waHlzaWNzQm9keSAhPSBudWxsICYmIHRoaXMuX2Fic3RyYWN0TWVzaC5waHlzaWNzSW1wb3N0b3IucGh5c2ljc0JvZHkuc2V0Q2VudGVyT2ZNYXNzVHJhbnNmb3JtKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNlbnRlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChCQUJZTE9OLlJpZ2lkYm9keVBoeXNpY3MuVGVtcEFtbW9WZWN0b3IgPT0gbnVsbCkgQkFCWUxPTi5SaWdpZGJvZHlQaHlzaWNzLlRlbXBBbW1vVmVjdG9yID0gbmV3IEFtbW8uYnRWZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlJpZ2lkYm9keVBoeXNpY3MuVGVtcEFtbW9WZWN0b3Iuc2V0VmFsdWUoY2VudGVyLngsIGNlbnRlci55LCBjZW50ZXIueik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChCQUJZTE9OLlJpZ2lkYm9keVBoeXNpY3MuVGVtcENlbnRlclRyYW5zZm9ybSA9PSBudWxsKSBCQUJZTE9OLlJpZ2lkYm9keVBoeXNpY3MuVGVtcENlbnRlclRyYW5zZm9ybSA9IG5ldyBBbW1vLmJ0VHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAgICAgICAgIEJBQllMT04uUmlnaWRib2R5UGh5c2ljcy5UZW1wQ2VudGVyVHJhbnNmb3JtLnNldElkZW50aXR5KCk7XG4gICAgICAgICAgICAgICAgICAgIEJBQllMT04uUmlnaWRib2R5UGh5c2ljcy5UZW1wQ2VudGVyVHJhbnNmb3JtLnNldE9yaWdpbihCQUJZTE9OLlJpZ2lkYm9keVBoeXNpY3MuVGVtcEFtbW9WZWN0b3IpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hYnN0cmFjdE1lc2gucGh5c2ljc0ltcG9zdG9yLnBoeXNpY3NCb2R5LnNldENlbnRlck9mTWFzc1RyYW5zZm9ybShCQUJZTE9OLlJpZ2lkYm9keVBoeXNpY3MuVGVtcENlbnRlclRyYW5zZm9ybSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vIFJpZ2lkYm9keSBQaHlzaWNzIE5hdGl2ZSBCb2R5IEhlbHBlciBGdW5jdGlvbnNcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgLyoqIEdldHMgZW50aXR5IGxpbmVhciBmYWN0b3IgdXNpbmcgcGh5c2ljcyBpbXBvc3RvciBib2R5LiAqL1xuICAgICAgICBwdWJsaWMgZ2V0TGluZWFyRmFjdG9yKCk6QkFCWUxPTi5WZWN0b3IzIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9hYnN0cmFjdE1lc2ggIT0gbnVsbCAmJiB0aGlzLl9hYnN0cmFjdE1lc2gucGh5c2ljc0ltcG9zdG9yICE9IG51bGwgJiYgdGhpcy5fYWJzdHJhY3RNZXNoLnBoeXNpY3NJbXBvc3Rvci5waHlzaWNzQm9keSAhPSBudWxsICYmIHRoaXMuX2Fic3RyYWN0TWVzaC5waHlzaWNzSW1wb3N0b3IucGh5c2ljc0JvZHkuZ2V0TGluZWFyRmFjdG9yKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGluZWFyRmFjdG9yOmFueSA9IHRoaXMuX2Fic3RyYWN0TWVzaC5waHlzaWNzSW1wb3N0b3IucGh5c2ljc0JvZHkuZ2V0TGluZWFyRmFjdG9yKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fdG1wTGluZWFyRmFjdG9yLnNldChsaW5lYXJGYWN0b3IueCgpLCBsaW5lYXJGYWN0b3IueSgpLCBsaW5lYXJGYWN0b3IueigpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90bXBMaW5lYXJGYWN0b3I7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIFNldHMgZW50aXR5IGxpbmVhciBmYWN0b3IgdXNpbmcgcGh5c2ljcyBpbXBvc3RvciBib2R5LiAqL1xuICAgICAgICBwdWJsaWMgc2V0TGluZWFyRmFjdG9yKGZhY3RvcjpCQUJZTE9OLlZlY3RvcjMpOnZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2Fic3RyYWN0TWVzaCAhPSBudWxsICYmIHRoaXMuX2Fic3RyYWN0TWVzaC5waHlzaWNzSW1wb3N0b3IgIT0gbnVsbCAmJiB0aGlzLl9hYnN0cmFjdE1lc2gucGh5c2ljc0ltcG9zdG9yLnBoeXNpY3NCb2R5ICE9IG51bGwgJiYgdGhpcy5fYWJzdHJhY3RNZXNoLnBoeXNpY3NJbXBvc3Rvci5waHlzaWNzQm9keS5zZXRMaW5lYXJGYWN0b3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoQkFCWUxPTi5SaWdpZGJvZHlQaHlzaWNzLlRlbXBBbW1vVmVjdG9yID09IG51bGwpIEJBQllMT04uUmlnaWRib2R5UGh5c2ljcy5UZW1wQW1tb1ZlY3RvciA9IG5ldyBBbW1vLmJ0VmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlJpZ2lkYm9keVBoeXNpY3MuVGVtcEFtbW9WZWN0b3Iuc2V0VmFsdWUoZmFjdG9yLngsIGZhY3Rvci55LCBmYWN0b3Iueik7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWJzdHJhY3RNZXNoLnBoeXNpY3NJbXBvc3Rvci5waHlzaWNzQm9keS5zZXRMaW5lYXJGYWN0b3IoQkFCWUxPTi5SaWdpZGJvZHlQaHlzaWNzLlRlbXBBbW1vVmVjdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKiogR2V0cyBlbnRpdHkgYW5ndWxhciBmYWN0b3IgdXNpbmcgcGh5c2ljcyBpbXBvc3RvciBib2R5LiAqL1xuICAgICAgICBwdWJsaWMgZ2V0QW5ndWxhckZhY3RvcigpOkJBQllMT04uVmVjdG9yMyB7XG4gICAgICAgICAgICBpZiAodGhpcy5fYWJzdHJhY3RNZXNoICE9IG51bGwgJiYgdGhpcy5fYWJzdHJhY3RNZXNoLnBoeXNpY3NJbXBvc3RvciAhPSBudWxsICYmIHRoaXMuX2Fic3RyYWN0TWVzaC5waHlzaWNzSW1wb3N0b3IucGh5c2ljc0JvZHkgIT0gbnVsbCAmJiB0aGlzLl9hYnN0cmFjdE1lc2gucGh5c2ljc0ltcG9zdG9yLnBoeXNpY3NCb2R5LmdldEFuZ3VsYXJGYWN0b3IpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhbmd1bGFyRmFjdG9yOmFueSA9IHRoaXMuX2Fic3RyYWN0TWVzaC5waHlzaWNzSW1wb3N0b3IucGh5c2ljc0JvZHkuZ2V0QW5ndWxhckZhY3RvcigpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3RtcEFuZ3VsYXJGYWN0b3Iuc2V0KGFuZ3VsYXJGYWN0b3IueCgpLCBhbmd1bGFyRmFjdG9yLnkoKSwgYW5ndWxhckZhY3Rvci56KCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RtcEFuZ3VsYXJGYWN0b3I7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIFNldHMgZW50aXR5IGFuZ3VsYXIgZmFjdG9yIHVzaW5nIHBoeXNpY3MgaW1wb3N0b3IgYm9keS4gKi9cbiAgICAgICAgcHVibGljIHNldEFuZ3VsYXJGYWN0b3IoZmFjdG9yOkJBQllMT04uVmVjdG9yMyk6dm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5fYWJzdHJhY3RNZXNoICE9IG51bGwgJiYgdGhpcy5fYWJzdHJhY3RNZXNoLnBoeXNpY3NJbXBvc3RvciAhPSBudWxsICYmIHRoaXMuX2Fic3RyYWN0TWVzaC5waHlzaWNzSW1wb3N0b3IucGh5c2ljc0JvZHkgIT0gbnVsbCAmJiB0aGlzLl9hYnN0cmFjdE1lc2gucGh5c2ljc0ltcG9zdG9yLnBoeXNpY3NCb2R5LnNldEFuZ3VsYXJGYWN0b3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoQkFCWUxPTi5SaWdpZGJvZHlQaHlzaWNzLlRlbXBBbW1vVmVjdG9yID09IG51bGwpIEJBQllMT04uUmlnaWRib2R5UGh5c2ljcy5UZW1wQW1tb1ZlY3RvciA9IG5ldyBBbW1vLmJ0VmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlJpZ2lkYm9keVBoeXNpY3MuVGVtcEFtbW9WZWN0b3Iuc2V0VmFsdWUoZmFjdG9yLngsIGZhY3Rvci55LCBmYWN0b3Iueik7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWJzdHJhY3RNZXNoLnBoeXNpY3NJbXBvc3Rvci5waHlzaWNzQm9keS5zZXRBbmd1bGFyRmFjdG9yKEJBQllMT04uUmlnaWRib2R5UGh5c2ljcy5UZW1wQW1tb1ZlY3Rvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqIEdldHMgZW50aXR5IGFuZ3VsYXIgZGFtcGluZyB1c2luZyBwaHlzaWNzIGltcG9zdG9yIGJvZHkuICovXG4gICAgICAgIHB1YmxpYyBnZXRBbmd1bGFyRGFtcGluZygpOm51bWJlciB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0Om51bWJlciA9IDA7XG4gICAgICAgICAgICBpZiAodGhpcy5fYWJzdHJhY3RNZXNoICE9IG51bGwgJiYgdGhpcy5fYWJzdHJhY3RNZXNoLnBoeXNpY3NJbXBvc3RvciAhPSBudWxsICYmIHRoaXMuX2Fic3RyYWN0TWVzaC5waHlzaWNzSW1wb3N0b3IucGh5c2ljc0JvZHkgIT0gbnVsbCAmJiB0aGlzLl9hYnN0cmFjdE1lc2gucGh5c2ljc0ltcG9zdG9yLnBoeXNpY3NCb2R5LmdldEFuZ3VsYXJEYW1waW5nKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5fYWJzdHJhY3RNZXNoLnBoeXNpY3NJbXBvc3Rvci5waHlzaWNzQm9keS5nZXRBbmd1bGFyRGFtcGluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICAvKiogR2V0cyBlbnRpdHkgbGluZWFyIGRhbXBpbmcgdXNpbmcgcGh5c2ljcyBpbXBvc3RvciBib2R5LiAqL1xuICAgICAgICBwdWJsaWMgZ2V0TGluZWFyRGFtcGluZygpOm51bWJlciB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0Om51bWJlciA9IDA7XG4gICAgICAgICAgICBpZiAodGhpcy5fYWJzdHJhY3RNZXNoICE9IG51bGwgJiYgdGhpcy5fYWJzdHJhY3RNZXNoLnBoeXNpY3NJbXBvc3RvciAhPSBudWxsICYmIHRoaXMuX2Fic3RyYWN0TWVzaC5waHlzaWNzSW1wb3N0b3IucGh5c2ljc0JvZHkgIT0gbnVsbCAmJiB0aGlzLl9hYnN0cmFjdE1lc2gucGh5c2ljc0ltcG9zdG9yLnBoeXNpY3NCb2R5LmdldExpbmVhckRhbXBpbmcpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLl9hYnN0cmFjdE1lc2gucGh5c2ljc0ltcG9zdG9yLnBoeXNpY3NCb2R5LmdldExpbmVhckRhbXBpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIFNldHMgZW50aXR5IGRyYWcgZGFtcGluZyB1c2luZyBwaHlzaWNzIGltcG9zdG9yIGJvZHkuICovXG4gICAgICAgIHB1YmxpYyBzZXREYW1waW5nKGxpbmVhcjpudW1iZXIsIGFuZ3VsYXI6bnVtYmVyKTp2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9hYnN0cmFjdE1lc2ggIT0gbnVsbCAmJiB0aGlzLl9hYnN0cmFjdE1lc2gucGh5c2ljc0ltcG9zdG9yICE9IG51bGwgJiYgdGhpcy5fYWJzdHJhY3RNZXNoLnBoeXNpY3NJbXBvc3Rvci5waHlzaWNzQm9keSAhPSBudWxsICYmIHRoaXMuX2Fic3RyYWN0TWVzaC5waHlzaWNzSW1wb3N0b3IucGh5c2ljc0JvZHkuc2V0RGFtcGluZykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Fic3RyYWN0TWVzaC5waHlzaWNzSW1wb3N0b3IucGh5c2ljc0JvZHkuc2V0RGFtcGluZyhsaW5lYXIsIGFuZ3VsYXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKiBTZXRzIGVudGl0eSBzbGVlcGluZyB0aHJlc2hvbGQgdXNpbmcgcGh5c2ljcyBpbXBvc3RvciBib2R5LiAqL1xuICAgICAgICBwdWJsaWMgc2V0U2xlZXBpbmdUaHJlc2hvbGRzKGxpbmVhcjpudW1iZXIsIGFuZ3VsYXI6bnVtYmVyKTp2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9hYnN0cmFjdE1lc2ggIT0gbnVsbCAmJiB0aGlzLl9hYnN0cmFjdE1lc2gucGh5c2ljc0ltcG9zdG9yICE9IG51bGwgJiYgdGhpcy5fYWJzdHJhY3RNZXNoLnBoeXNpY3NJbXBvc3Rvci5waHlzaWNzQm9keSAhPSBudWxsICYmIHRoaXMuX2Fic3RyYWN0TWVzaC5waHlzaWNzSW1wb3N0b3IucGh5c2ljc0JvZHkuc2V0U2xlZXBpbmdUaHJlc2hvbGRzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWJzdHJhY3RNZXNoLnBoeXNpY3NJbXBvc3Rvci5waHlzaWNzQm9keS5zZXRTbGVlcGluZ1RocmVzaG9sZHMobGluZWFyLCBhbmd1bGFyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAvLyBSaWdpZGJvZHkgUGh5c2ljcyBOYXRpdmUgQWR2YW5jZWQgSGVscGVyIEZ1bmN0aW9uc1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgXG4gICAgICAgIC8qKiBDaGVja3MgaWYgcmlnaWRib2R5IGhhcyB3aGVlbCBjb2xsaWRlciBtZXRhZGF0YSBmb3IgdGhlIGVudGl0eS4gTm90ZTogV2hlZWwgY29sbGlkZXIgbWV0YWRhdGEgaW5mb3JtYWlvbiBpcyByZXF1aXJlZCBmb3IgdmVoaWNsZSBjb250cm9sLiAqL1xuICAgICAgICBwdWJsaWMgaGFzV2hlZWxDb2xsaWRlcnMoKTpib29sZWFuIHtcbiAgICAgICAgICAgIHJldHVybiAodGhpcy5faXNQaHlzaWNzUmVhZHkgPT09IHRydWUgJiYgdGhpcy5fYWJzdHJhY3RNZXNoLm1ldGFkYXRhICE9IG51bGwgJiYgdGhpcy5fYWJzdHJhY3RNZXNoLm1ldGFkYXRhLnVuaXR5ICE9IG51bGwgJiYgdGhpcy5fYWJzdHJhY3RNZXNoLm1ldGFkYXRhLnVuaXR5LndoZWVscyAhPSBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICAvKiogU2V0cyB0aGUgbWF4aW11bSBudW1iZXIgb2Ygc2ltdWx0YW5lb3VzIGNvbnRhY3Qgbm90ZmljYXRpb25zIHRvIGRpc3BhdGNoIHBlciBmcmFtZS4gRGVmYXVsdHMgdmFsdWUgaXMgNC4gKEFkdmFudmVkIFVzZSBPbmx5KSAqL1xuICAgICAgICBwdWJsaWMgc2V0TWF4Tm90aWZpY2F0aW9ucyhtYXg6bnVtYmVyKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLl9tYXhDb2xsaXNpb25zID0gbWF4O1xuICAgICAgICAgICAgdGhpcy5fdG1wQ29sbGlzaW9uQ29udGFjdHMgPSBbXTsgICAgICAgICAgICBcbiAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLl9tYXhDb2xsaXNpb25zOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdG1wQ29sbGlzaW9uQ29udGFjdHMucHVzaChuZXcgQ29sbGlzaW9uQ29udGFjdEluZm8oKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqIFNldHMgZW50aXR5IGNvbGxpc2lvbiBhY3RpdmF0aW9uIHN0YXRlIHVzaW5nIHBoeXNpY3MgaW1wb3N0b3IgYm9keS4gKEFkdmFudmVkIFVzZSBPbmx5KSAqL1xuICAgICAgICBwdWJsaWMgc2V0QWN0aXZhdGlvblN0YXRlKHN0YXRlOm51bWJlcik6dm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5fYWJzdHJhY3RNZXNoICE9IG51bGwgJiYgdGhpcy5fYWJzdHJhY3RNZXNoLnBoeXNpY3NJbXBvc3RvciAhPSBudWxsICYmIHRoaXMuX2Fic3RyYWN0TWVzaC5waHlzaWNzSW1wb3N0b3IucGh5c2ljc0JvZHkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbGxpc2lvbk9iamVjdDphbnkgPSBBbW1vLmNhc3RPYmplY3QodGhpcy5fYWJzdHJhY3RNZXNoLnBoeXNpY3NJbXBvc3Rvci5waHlzaWNzQm9keSwgQW1tby5idENvbGxpc2lvbk9iamVjdCk7XG4gICAgICAgICAgICAgICAgaWYgKGNvbGxpc2lvbk9iamVjdCAhPSBudWxsICYmIGNvbGxpc2lvbk9iamVjdC5zZXRBY3RpdmF0aW9uU3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29sbGlzaW9uT2JqZWN0LnNldEFjdGl2YXRpb25TdGF0ZShzdGF0ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKiBHZXRzIGVudGl0eSBjb2xsaXNpb24gZmlsdGVyIGdyb3VwIHVzaW5nIHBoeXNpY3MgaW1wb3N0b3IgYm9keS4gKEFkdmFudmVkIFVzZSBPbmx5KSAqL1xuICAgICAgICBwdWJsaWMgZ2V0Q29sbGlzaW9uRmlsdGVyR3JvdXAoKTpudW1iZXIge1xuICAgICAgICAgICAgbGV0IHJlc3VsdDpudW1iZXIgPSAtMTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9hYnN0cmFjdE1lc2ggIT0gbnVsbCAmJiB0aGlzLl9hYnN0cmFjdE1lc2gucGh5c2ljc0ltcG9zdG9yICE9IG51bGwgJiYgdGhpcy5fYWJzdHJhY3RNZXNoLnBoeXNpY3NJbXBvc3Rvci5waHlzaWNzQm9keSAhPSBudWxsICYmIHRoaXMuX2Fic3RyYWN0TWVzaC5waHlzaWNzSW1wb3N0b3IucGh5c2ljc0JvZHkuZ2V0QnJvYWRwaGFzZVByb3h5KSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5fYWJzdHJhY3RNZXNoLnBoeXNpY3NJbXBvc3Rvci5waHlzaWNzQm9keS5nZXRCcm9hZHBoYXNlUHJveHkoKS5nZXRfbV9jb2xsaXNpb25GaWx0ZXJHcm91cCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICAvKiogU2V0cyBlbnRpdHkgY29sbGlzaW9uIGZpbHRlciBncm91cCB1c2luZyBwaHlzaWNzIGltcG9zdG9yIGJvZHkuIChBZHZhbnZlZCBVc2UgT25seSkgKi9cbiAgICAgICAgcHVibGljIHNldENvbGxpc2lvbkZpbHRlckdyb3VwKGdyb3VwOm51bWJlcik6dm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5fYWJzdHJhY3RNZXNoICE9IG51bGwgJiYgdGhpcy5fYWJzdHJhY3RNZXNoLnBoeXNpY3NJbXBvc3RvciAhPSBudWxsICYmIHRoaXMuX2Fic3RyYWN0TWVzaC5waHlzaWNzSW1wb3N0b3IucGh5c2ljc0JvZHkgIT0gbnVsbCAmJiB0aGlzLl9hYnN0cmFjdE1lc2gucGh5c2ljc0ltcG9zdG9yLnBoeXNpY3NCb2R5LmdldEJyb2FkcGhhc2VQcm94eSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Fic3RyYWN0TWVzaC5waHlzaWNzSW1wb3N0b3IucGh5c2ljc0JvZHkuZ2V0QnJvYWRwaGFzZVByb3h5KCkuc2V0X21fY29sbGlzaW9uRmlsdGVyR3JvdXAoZ3JvdXApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKiBHZXRzIGVudGl0eSBjb2xsaXNpb24gZmlsdGVyIG1hc2sgdXNpbmcgcGh5c2ljcyBpbXBvc3RvciBib2R5LiAoQWR2YW52ZWQgVXNlIE9ubHkpICovXG4gICAgICAgIHB1YmxpYyBnZXRDb2xsaXNpb25GaWx0ZXJNYXNrKCk6bnVtYmVyIHtcbiAgICAgICAgICAgIGxldCByZXN1bHQ6bnVtYmVyID0gLTE7XG4gICAgICAgICAgICBpZiAodGhpcy5fYWJzdHJhY3RNZXNoICE9IG51bGwgJiYgdGhpcy5fYWJzdHJhY3RNZXNoLnBoeXNpY3NJbXBvc3RvciAhPSBudWxsICYmIHRoaXMuX2Fic3RyYWN0TWVzaC5waHlzaWNzSW1wb3N0b3IucGh5c2ljc0JvZHkgIT0gbnVsbCAmJiB0aGlzLl9hYnN0cmFjdE1lc2gucGh5c2ljc0ltcG9zdG9yLnBoeXNpY3NCb2R5LmdldEJyb2FkcGhhc2VQcm94eSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuX2Fic3RyYWN0TWVzaC5waHlzaWNzSW1wb3N0b3IucGh5c2ljc0JvZHkuZ2V0QnJvYWRwaGFzZVByb3h5KCkuZ2V0X21fY29sbGlzaW9uRmlsdGVyTWFzaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICAvKiogU2V0cyBlbnRpdHkgY29sbGlzaW9uIGZpbHRlciBtYXNrIHVzaW5nIHBoeXNpY3MgaW1wb3N0b3IgYm9keS4gKEFkdmFudmVkIFVzZSBPbmx5KSAqL1xuICAgICAgICBwdWJsaWMgc2V0Q29sbGlzaW9uRmlsdGVyTWFzayhtYXNrOm51bWJlcik6dm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5fYWJzdHJhY3RNZXNoICE9IG51bGwgJiYgdGhpcy5fYWJzdHJhY3RNZXNoLnBoeXNpY3NJbXBvc3RvciAhPSBudWxsICYmIHRoaXMuX2Fic3RyYWN0TWVzaC5waHlzaWNzSW1wb3N0b3IucGh5c2ljc0JvZHkgIT0gbnVsbCAmJiB0aGlzLl9hYnN0cmFjdE1lc2gucGh5c2ljc0ltcG9zdG9yLnBoeXNpY3NCb2R5LmdldEJyb2FkcGhhc2VQcm94eSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Fic3RyYWN0TWVzaC5waHlzaWNzSW1wb3N0b3IucGh5c2ljc0JvZHkuZ2V0QnJvYWRwaGFzZVByb3h5KCkuc2V0X21fY29sbGlzaW9uRmlsdGVyTWFzayhtYXNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKiogR2V0cyB0aGUgZW50aXR5IGNvbGxpc2lvbiBzaGFwZSB0eXBlIHVzaW5nIHBoeXNpY3MgaW1wb3N0b3IgYm9keS4gKEFkdmFudmVkIFVzZSBPbmx5KSAqL1xuICAgICAgICBwdWJsaWMgZ2V0Q29sbGlzaW9uU2hhcGVUeXBlKCk6bnVtYmVyIHtcbiAgICAgICAgICAgIGxldCByZXN1bHQ6bnVtYmVyID0gLTE7XG4gICAgICAgICAgICBpZiAodGhpcy5fYWJzdHJhY3RNZXNoICE9IG51bGwgJiYgdGhpcy5fYWJzdHJhY3RNZXNoLnBoeXNpY3NJbXBvc3RvciAhPSBudWxsICYmIHRoaXMuX2Fic3RyYWN0TWVzaC5waHlzaWNzSW1wb3N0b3IucGh5c2ljc0JvZHkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbGxpc2lvbk9iamVjdDphbnkgPSBBbW1vLmNhc3RPYmplY3QodGhpcy5fYWJzdHJhY3RNZXNoLnBoeXNpY3NJbXBvc3Rvci5waHlzaWNzQm9keSwgQW1tby5idENvbGxpc2lvbk9iamVjdCk7XG4gICAgICAgICAgICAgICAgaWYgKGNvbGxpc2lvbk9iamVjdCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbGxpc2lvblNoYXBlOmFueSA9IGNvbGxpc2lvbk9iamVjdC5nZXRDb2xsaXNpb25TaGFwZSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29sbGlzaW9uU2hhcGUgIT0gbnVsbCAmJiBjb2xsaXNpb25TaGFwZS5nZXRTaGFwZVR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGNvbGxpc2lvblNoYXBlLmdldFNoYXBlVHlwZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICAvKiogR2V0cyB0aGUgZW50aXR5IGNvbGxpc2lvbiBzaGFwZSBtYXJnaW4gdXNpbmcgcGh5c2ljcyBpbXBvc3RvciBib2R5LiAoQWR2YW52ZWQgVXNlIE9ubHkpICovXG4gICAgICAgIHB1YmxpYyBnZXRDb2xsaXNpb25TaGFwZU1hcmdpbigpOm51bWJlciB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0Om51bWJlciA9IC0xO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2Fic3RyYWN0TWVzaCAhPSBudWxsICYmIHRoaXMuX2Fic3RyYWN0TWVzaC5waHlzaWNzSW1wb3N0b3IgIT0gbnVsbCAmJiB0aGlzLl9hYnN0cmFjdE1lc2gucGh5c2ljc0ltcG9zdG9yLnBoeXNpY3NCb2R5ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb2xsaXNpb25PYmplY3Q6YW55ID0gQW1tby5jYXN0T2JqZWN0KHRoaXMuX2Fic3RyYWN0TWVzaC5waHlzaWNzSW1wb3N0b3IucGh5c2ljc0JvZHksIEFtbW8uYnRDb2xsaXNpb25PYmplY3QpO1xuICAgICAgICAgICAgICAgIGlmIChjb2xsaXNpb25PYmplY3QgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb2xsaXNpb25TaGFwZTphbnkgPSBjb2xsaXNpb25PYmplY3QuZ2V0Q29sbGlzaW9uU2hhcGUoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbGxpc2lvblNoYXBlICE9IG51bGwgJiYgY29sbGlzaW9uU2hhcGUuZ2V0TWFyZ2luKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBjb2xsaXNpb25TaGFwZS5nZXRNYXJnaW4oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIFNldHMgZW50aXR5IGNvbGxpc2lvbiBzaGFwZSBtYXJnaW4gdXNpbmcgcGh5c2ljcyBpbXBvc3RvciBib2R5LiAoQWR2YW52ZWQgVXNlIE9ubHkpICovXG4gICAgICAgIHB1YmxpYyBzZXRDb2xsaXNpb25TaGFwZU1hcmdpbihtYXJnaW46bnVtYmVyKTp2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9hYnN0cmFjdE1lc2ggIT0gbnVsbCAmJiB0aGlzLl9hYnN0cmFjdE1lc2gucGh5c2ljc0ltcG9zdG9yICE9IG51bGwgJiYgdGhpcy5fYWJzdHJhY3RNZXNoLnBoeXNpY3NJbXBvc3Rvci5waHlzaWNzQm9keSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29sbGlzaW9uT2JqZWN0OmFueSA9IEFtbW8uY2FzdE9iamVjdCh0aGlzLl9hYnN0cmFjdE1lc2gucGh5c2ljc0ltcG9zdG9yLnBoeXNpY3NCb2R5LCBBbW1vLmJ0Q29sbGlzaW9uT2JqZWN0KTtcbiAgICAgICAgICAgICAgICBpZiAoY29sbGlzaW9uT2JqZWN0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29sbGlzaW9uU2hhcGU6YW55ID0gY29sbGlzaW9uT2JqZWN0LmdldENvbGxpc2lvblNoYXBlKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb2xsaXNpb25TaGFwZSAhPSBudWxsICYmIGNvbGxpc2lvblNoYXBlLnNldE1hcmdpbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sbGlzaW9uU2hhcGUuc2V0TWFyZ2luKG1hcmdpbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqIEdldHMgdGhlIGVudGl0eSBjb250YWN0IHByb2Nlc3NpbmcgdGhyZXNob2xkIHVzaW5nIHBoeXNpY3MgaW1wb3N0b3IgYm9keS4gKEFkdmFudmVkIFVzZSBPbmx5KSAqL1xuICAgICAgICBwdWJsaWMgZ2V0Q29udGFjdFByb2Nlc3NpbmdUaHJlc2hvbGQoKTpudW1iZXIge1xuICAgICAgICAgICAgbGV0IHJlc3VsdDpudW1iZXIgPSAtMTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9hYnN0cmFjdE1lc2ggIT0gbnVsbCAmJiB0aGlzLl9hYnN0cmFjdE1lc2gucGh5c2ljc0ltcG9zdG9yICE9IG51bGwgJiYgdGhpcy5fYWJzdHJhY3RNZXNoLnBoeXNpY3NJbXBvc3Rvci5waHlzaWNzQm9keSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29sbGlzaW9uT2JqZWN0OmFueSA9IEFtbW8uY2FzdE9iamVjdCh0aGlzLl9hYnN0cmFjdE1lc2gucGh5c2ljc0ltcG9zdG9yLnBoeXNpY3NCb2R5LCBBbW1vLmJ0Q29sbGlzaW9uT2JqZWN0KTtcbiAgICAgICAgICAgICAgICBpZiAoY29sbGlzaW9uT2JqZWN0ICE9IG51bGwgJiYgY29sbGlzaW9uT2JqZWN0LmdldENvbnRhY3RQcm9jZXNzaW5nVGhyZXNob2xkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGNvbGxpc2lvbk9iamVjdC5nZXRDb250YWN0UHJvY2Vzc2luZ1RocmVzaG9sZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIFNldHMgZW50aXR5IGNvbnRhY3QgcHJvY2Vzc2luZyB0aHJlc2hvbGQgdXNpbmcgcGh5c2ljcyBpbXBvc3RvciBib2R5LiAoQWR2YW52ZWQgVXNlIE9ubHkpICovXG4gICAgICAgIHB1YmxpYyBzZXRDb250YWN0UHJvY2Vzc2luZ1RocmVzaG9sZCh0aHJlc2hvbGQ6bnVtYmVyKTp2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9hYnN0cmFjdE1lc2ggIT0gbnVsbCAmJiB0aGlzLl9hYnN0cmFjdE1lc2gucGh5c2ljc0ltcG9zdG9yICE9IG51bGwgJiYgdGhpcy5fYWJzdHJhY3RNZXNoLnBoeXNpY3NJbXBvc3Rvci5waHlzaWNzQm9keSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29sbGlzaW9uT2JqZWN0OmFueSA9IEFtbW8uY2FzdE9iamVjdCh0aGlzLl9hYnN0cmFjdE1lc2gucGh5c2ljc0ltcG9zdG9yLnBoeXNpY3NCb2R5LCBBbW1vLmJ0Q29sbGlzaW9uT2JqZWN0KTtcbiAgICAgICAgICAgICAgICBpZiAoY29sbGlzaW9uT2JqZWN0ICE9IG51bGwgJiYgY29sbGlzaW9uT2JqZWN0LnNldENvbnRhY3RQcm9jZXNzaW5nVGhyZXNob2xkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbGxpc2lvbk9iamVjdC5zZXRDb250YWN0UHJvY2Vzc2luZ1RocmVzaG9sZCh0aHJlc2hvbGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIC8vXG4gICAgICAgIC8vICogUGh5c2ljcyBQaHlzaWNzIEhlbHBlciBGdW5jdGlvbnMgKiAvL1xuICAgICAgICAvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogLy9cblxuICAgICAgICAvKiogVE9ETyAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIENyZWF0ZVBoeXNpY3NNZXRhZGF0YShtYXNzOm51bWJlciwgZHJhZzpudW1iZXIgPSAwLjAsIGFuZ3VsYXJEcmFnOm51bWJlciA9IDAuMDUsIGNlbnRlck1hc3M6VmVjdG9yMyA9IG51bGwpOiBhbnkge1xuICAgICAgICAgICAgY29uc3QgY2VudGVyOkJBQllMT04uVmVjdG9yMyA9IChjZW50ZXJNYXNzICE9IG51bGwpID8gY2VudGVyTWFzcyA6IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwwLDApO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJyaWdpZGJvZHlcIixcbiAgICAgICAgICAgICAgICBcIm1hc3NcIjogbWFzcyxcbiAgICAgICAgICAgICAgICBcImxkcmFnXCI6IGRyYWcsXG4gICAgICAgICAgICAgICAgXCJhZHJhZ1wiOiBhbmd1bGFyRHJhZyxcbiAgICAgICAgICAgICAgICBcImNlbnRlclwiOiB7XG4gICAgICAgICAgICAgICAgICAgIFwieFwiOiBjZW50ZXIueCxcbiAgICAgICAgICAgICAgICAgICAgXCJ5XCI6IGNlbnRlci55LFxuICAgICAgICAgICAgICAgICAgICBcInpcIjogY2VudGVyLnpcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqIFRPRE8gKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBDcmVhdGVDb2xsaXNpb25NZXRhZGF0YSh0eXBlOnN0cmluZywgdHJpZ2dlcjpib29sZWFuID0gZmFsc2UsIGNvbnZleG1lc2g6Ym9vbGVhbiA9IGZhbHNlLCByZXN0aXR1dGlvbjpudW1iZXIgPSAwLjAsIGR5bmFtaWNmcmljdGlvbjpudW1iZXIgPSAwLjYsIHN0YXRpY2ZyaWN0aW9uOm51bWJlciA9IDAuNik6IGFueSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIFwidHlwZVwiOiB0eXBlLFxuICAgICAgICAgICAgICAgIFwidHJpZ2dlclwiOiB0cmlnZ2VyLFxuICAgICAgICAgICAgICAgIFwiY29udmV4bWVzaFwiOiBjb252ZXhtZXNoLFxuICAgICAgICAgICAgICAgIFwicmVzdGl0dXRpb25cIjogcmVzdGl0dXRpb24sXG4gICAgICAgICAgICAgICAgXCJkeW5hbWljZnJpY3Rpb25cIjogZHluYW1pY2ZyaWN0aW9uLFxuICAgICAgICAgICAgICAgIFwic3RhdGljZnJpY3Rpb25cIjogc3RhdGljZnJpY3Rpb24sXG4gICAgICAgICAgICAgICAgXCJ3aGVlbGluZm9ybWF0aW9uXCI6IG51bGxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKiogVE9ETyAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIENyZWF0ZVBoeXNpY3NQcm9wZXJ0aWVzKG1hc3M6bnVtYmVyLCBkcmFnOm51bWJlciA9IDAuMCwgYW5ndWxhckRyYWc6bnVtYmVyID0gMC4wNSwgdXNlR3Jhdml0eTpib29sZWFuID0gdHJ1ZSwgaXNLaW5lbWF0aWM6Ym9vbGVhbiA9IGZhbHNlKTogYW55IHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgXCJtYXNzXCI6IG1hc3MsXG4gICAgICAgICAgICAgICAgXCJkcmFnXCI6IGRyYWcsXG4gICAgICAgICAgICAgICAgXCJhbmd1bGFyRHJhZ1wiOiBhbmd1bGFyRHJhZyxcbiAgICAgICAgICAgICAgICBcInVzZUdyYXZpdHlcIjogdXNlR3Jhdml0eSxcbiAgICAgICAgICAgICAgICBcImlzS2luZW1hdGljXCI6IGlzS2luZW1hdGljXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqIFRPRE8gKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBTZXR1cFBoeXNpY3NDb21wb25lbnQoc2NlbmU6QkFCWUxPTi5TY2VuZSwgZW50aXR5OiBCQUJZTE9OLkFic3RyYWN0TWVzaCk6IHZvaWQge1xuICAgICAgICAgICAgLy8gY29uc29sZS53YXJuKFwiPj4+IFRSQUNFIC0gU2V0dXAgUGh5c2ljcyBGb3I6IFwiICsgZW50aXR5Lm5hbWUpO1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZW50aXR5KTtcbiAgICAgICAgICAgIGNvbnN0IG1ldGFkYXRhOmFueSA9IChlbnRpdHkubWV0YWRhdGEgIT0gbnVsbCAmJiBlbnRpdHkubWV0YWRhdGEudW5pdHkgIT0gbnVsbCkgPyBlbnRpdHkubWV0YWRhdGEudW5pdHkgOiBudWxsO1xuICAgICAgICAgICAgaWYgKG1ldGFkYXRhICE9IG51bGwgJiYgKG1ldGFkYXRhLnBoeXNpY3MgIT0gbnVsbCB8fCBtZXRhZGF0YS5jb2xsaXNpb24gIT0gbnVsbCkpIHtcbiAgICAgICAgICAgICAgICAvLyBQaHlzaWNzIE1ldGFkYXRhXG4gICAgICAgICAgICAgICAgY29uc3QgaGFzcGh5c2ljczpib29sZWFuID0gKG1ldGFkYXRhLnBoeXNpY3MgIT0gbnVsbCk7XG4gICAgICAgICAgICAgICAgY29uc3QgaXNyb290OmJvb2xlYW4gPSAobWV0YWRhdGEucGh5c2ljcyAhPSBudWxsICYmIG1ldGFkYXRhLnBoeXNpY3Mucm9vdCAhPSBudWxsKSA/IG1ldGFkYXRhLnBoeXNpY3Mucm9vdCA6IGZhbHNlO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hc3M6bnVtYmVyID0gKG1ldGFkYXRhLnBoeXNpY3MgIT0gbnVsbCAmJiBtZXRhZGF0YS5waHlzaWNzLm1hc3MgIT0gbnVsbCkgPyBtZXRhZGF0YS5waHlzaWNzLm1hc3MgOiAwO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzc3RhdGljOmJvb2xlYW4gPSAobWFzcyA9PT0gMCk7XG4gICAgICAgICAgICAgICAgLy8gQ29sbGlzaW9uIE1ldGFkYXRhXG4gICAgICAgICAgICAgICAgY29uc3QgaGFzY29sbGlzaW9uOmJvb2xlYW4gPSAobWV0YWRhdGEuY29sbGlzaW9uICE9IG51bGwpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbGxpZGVyOnN0cmluZyA9IChtZXRhZGF0YS5jb2xsaXNpb24gIT0gbnVsbCAmJiBtZXRhZGF0YS5jb2xsaXNpb24udHlwZSAhPSBudWxsKSA/IG1ldGFkYXRhLmNvbGxpc2lvbi50eXBlIDogXCJCb3hDb2xsaWRlclwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnZleG1lc2g6Ym9vbGVhbiA9IChtZXRhZGF0YS5jb2xsaXNpb24gIT0gbnVsbCAmJiBtZXRhZGF0YS5jb2xsaXNpb24uY29udmV4bWVzaCAhPSBudWxsKSA/IG1ldGFkYXRhLmNvbGxpc2lvbi5jb252ZXhtZXNoIDogZmFsc2U7XG4gICAgICAgICAgICAgICAgY29uc3QgZHluYW1pY2ZyaWN0aW9uOm51bWJlciA9IChtZXRhZGF0YS5jb2xsaXNpb24gIT0gbnVsbCAmJiBtZXRhZGF0YS5jb2xsaXNpb24uZHluYW1pY2ZyaWN0aW9uICE9IG51bGwpID8gbWV0YWRhdGEuY29sbGlzaW9uLmR5bmFtaWNmcmljdGlvbiA6IDAuNjtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGF0aWNmcmljdGlvbjpudW1iZXIgPSAobWV0YWRhdGEuY29sbGlzaW9uICE9IG51bGwgJiYgbWV0YWRhdGEuY29sbGlzaW9uLnN0YXRpY2ZyaWN0aW9uICE9IG51bGwpID8gbWV0YWRhdGEuY29sbGlzaW9uLnN0YXRpY2ZyaWN0aW9uIDogMC42O1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3RpdHV0aW9uOm51bWJlciA9IChtZXRhZGF0YS5jb2xsaXNpb24gIT0gbnVsbCAmJiBtZXRhZGF0YS5jb2xsaXNpb24ucmVzdGl0dXRpb24gIT0gbnVsbCkgPyBtZXRhZGF0YS5jb2xsaXNpb24ucmVzdGl0dXRpb24gOiAwO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzdHJpZ2dlcjpib29sZWFuID0gKG1ldGFkYXRhLmNvbGxpc2lvbiAhPSBudWxsICYmIG1ldGFkYXRhLmNvbGxpc2lvbi50cmlnZ2VyICE9IG51bGwpID8gbWV0YWRhdGEuY29sbGlzaW9uLnRyaWdnZXIgOiBmYWxzZTtcbiAgICAgICAgICAgICAgICBsZXQgaW1wb3N0b3J0eXBlOm51bWJlciA9IEJBQllMT04uUGh5c2ljc0ltcG9zdG9yLkJveEltcG9zdG9yO1xuICAgICAgICAgICAgICAgIC8vIENvbmZpZyBQaHlzaWNzIEltcG9zdG9yXG4gICAgICAgICAgICAgICAgaWYgKGNvbGxpZGVyID09PSBcIk1lc2hDb2xsaWRlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGltcG9zdG9ydHlwZSA9IChjb252ZXhtZXNoID09PSB0cnVlKSA/IEJBQllMT04uUGh5c2ljc0ltcG9zdG9yLkNvbnZleEh1bGxJbXBvc3RvciA6IEJBQllMT04uUGh5c2ljc0ltcG9zdG9yLk1lc2hJbXBvc3RvcjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvbGxpZGVyID09PSBcIkNhcHN1bGVDb2xsaWRlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGltcG9zdG9ydHlwZSA9IEJBQllMT04uUGh5c2ljc0ltcG9zdG9yLkNhcHN1bGVJbXBvc3RvcjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvbGxpZGVyID09PSBcIlNwaGVyZUNvbGxpZGVyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaW1wb3N0b3J0eXBlID0gQkFCWUxPTi5QaHlzaWNzSW1wb3N0b3IuU3BoZXJlSW1wb3N0b3I7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaW1wb3N0b3J0eXBlID0gQkFCWUxPTi5QaHlzaWNzSW1wb3N0b3IuQm94SW1wb3N0b3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBQaHlzaWNzIEltcG9zdG9yIE5vZGVcbiAgICAgICAgICAgICAgICBpZiAoaGFzcGh5c2ljcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNyb290KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zdCBjZW50ZXI6QkFCWUxPTi5WZWN0b3IzID0gKG1ldGFkYXRhLnBoeXNpY3MgIT0gbnVsbCAmJiBtZXRhZGF0YS5waHlzaWNzLmNlbnRlciAhPSBudWxsKSA/IEJBQllMT04uVXRpbGl0aWVzLlBhcnNlVmVjdG9yMyhtZXRhZGF0YS5waHlzaWNzLmNlbnRlciwgQkFCWUxPTi5WZWN0b3IzLlplcm8oKSkgOiBCQUJZTE9OLlZlY3RvcjMuWmVybygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZub2RlczphbnlbXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZndoZWVsczphbnlbXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2hpbGRub2RlczpCQUJZTE9OLkFic3RyYWN0TWVzaFtdID0gZW50aXR5LmdldENoaWxkcmVuKG51bGwsIGZhbHNlKSBhcyBCQUJZTE9OLkFic3RyYWN0TWVzaFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkbm9kZXMgIT0gbnVsbCAmJiBjaGlsZG5vZGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZG5vZGVzLmZvckVhY2goKGNoaWxkbm9kZTpCQUJZTE9OLkFic3RyYWN0TWVzaCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGRub2RlLm1ldGFkYXRhICE9IG51bGwgJiYgY2hpbGRub2RlLm1ldGFkYXRhLnVuaXR5ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZG5vZGUubWV0YWRhdGEudW5pdHkuY29sbGlzaW9uICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjY29sbGlzaW9uOmFueSA9IGNoaWxkbm9kZS5tZXRhZGF0YS51bml0eS5jb2xsaXNpb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3doZWVsaW5mb3JtYXRpb246YW55ID0gKGNjb2xsaXNpb24ud2hlZWxpbmZvcm1hdGlvbiAhPSBudWxsKSA/IGNjb2xsaXNpb24ud2hlZWxpbmZvcm1hdGlvbiA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN3aGVlbGluZm9ybWF0aW9uICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVHJhY2UgV2hlZWwgQ29sbGlkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQkFCWUxPTi5Ub29scy5XYXJuKFwiUHVzaCByYXljYXN0IHdoZWVsIGNvbGxpZGVyOiBcIiArIGNoaWxkbm9kZS5uYW1lICsgXCIgLS0+IG9uIHRvOiBcIiArIGVudGl0eS5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZ3aGVlbHMgPT0gbnVsbCkgZndoZWVscyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmd2hlZWxzLnB1c2goY3doZWVsaW5mb3JtYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRyYWNlIENvbXBvdW5kIENvbGxpZGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJBQllMT04uVG9vbHMuV2FybihcIlB1c2ggY29tcG91bmQgY2hpbGQgY29sbGlkZXI6IFwiICsgY2hpbGRub2RlLm5hbWUgKyBcIiAtLT4gb24gdG86IFwiICsgZW50aXR5Lm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm5vZGVzID09IG51bGwpIGZub2RlcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbm9kZXMucHVzaChjaGlsZG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZ3aGVlbHMgIT0gbnVsbCAmJiBmd2hlZWxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW50aXR5Lm1ldGFkYXRhID09IG51bGwpIGVudGl0eS5tZXRhZGF0YSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbnRpdHkubWV0YWRhdGEudW5pdHkgPT0gbnVsbCkgZW50aXR5Lm1ldGFkYXRhLnVuaXR5ID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5Lm1ldGFkYXRhLnVuaXR5LndoZWVscyA9IGZ3aGVlbHM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm5vZGVzICE9IG51bGwgJiYgZm5vZGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFzY29sbGlzaW9uID09PSB0cnVlKSBmbm9kZXMudW5zaGlmdChlbnRpdHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICg8YW55PmVudGl0eSkuX2NvbXBvdW5kTm9kZXMgPSBmbm9kZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVHJhY2UgUGh5c2ljcyBSb290XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQkFCWUxPTi5Ub29scy5XYXJuKFwiU2V0dXAgcGh5c2ljcyByb290IGltcG9zdGVyIGZvcjogXCIgKyBlbnRpdHkubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5TY2VuZU1hbmFnZXIuQ3JlYXRlUGh5c2ljc0ltcG9zdG9yKHNjZW5lLCBlbnRpdHksIEJBQllMT04uUGh5c2ljc0ltcG9zdG9yLk5vSW1wb3N0b3IsIHsgbWFzczogbWFzcywgZnJpY3Rpb246IGR5bmFtaWNmcmljdGlvbiwgcmVzdGl0dXRpb246IHJlc3RpdHV0aW9uIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uUmlnaWRib2R5UGh5c2ljcy5Db25maWdSaWdpZGJvZHlQaHlzaWNzKHNjZW5lLCBlbnRpdHksIGZhbHNlLCBpc3RyaWdnZXIsIG1ldGFkYXRhLnBoeXNpY3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRub2RlcyA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFzY29sbGlzaW9uID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVHJhY2UgUGh5c2ljcyBJbXBvc3RvclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vQkFCWUxPTi5Ub29scy5XYXJuKFwiU2V0dXAgXCIgKyBCQUJZTE9OLlNjZW5lTWFuYWdlci5HZXRQaHlzaWNzSW1wb3N0ZXJUeXBlKGltcG9zdG9ydHlwZSkudG9Mb3dlckNhc2UoKSArIFwiIHBoeXNpY3MgaW1wb3N0b3IgZm9yOiBcIiArIGVudGl0eS5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlNjZW5lTWFuYWdlci5DcmVhdGVQaHlzaWNzSW1wb3N0b3Ioc2NlbmUsIGVudGl0eSwgaW1wb3N0b3J0eXBlLCB7IG1hc3M6IG1hc3MsIGZyaWN0aW9uOiAoaXNzdGF0aWMpID8gc3RhdGljZnJpY3Rpb24gOiBkeW5hbWljZnJpY3Rpb24sIHJlc3RpdHV0aW9uOiByZXN0aXR1dGlvbiB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlJpZ2lkYm9keVBoeXNpY3MuQ29uZmlnUmlnaWRib2R5UGh5c2ljcyhzY2VuZSwgZW50aXR5LCBmYWxzZSwgaXN0cmlnZ2VyLCBtZXRhZGF0YS5waHlzaWNzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKiBERVBSRUNJQVRFRFxuICAgICAgICBwdWJsaWMgc3RhdGljIFNldHVwUGh5c2ljc0NvbXBvbmVudF9MRUdBQ1koc2NlbmU6QkFCWUxPTi5TY2VuZSwgZW50aXR5OiBCQUJZTE9OLkFic3RyYWN0TWVzaCk6IHZvaWQge1xuICAgICAgICAgICAgLy8gQkFCWUxPTi5Ub29scy5XYXJuKFwiU2V0dXAgUGh5c2ljcyBDb21wb25lbnQgRm9yOiBcIiArIGVudGl0eS5uYW1lKTtcbiAgICAgICAgICAgIGNvbnN0IG1ldGFkYXRhOmFueSA9IChlbnRpdHkubWV0YWRhdGEgIT0gbnVsbCAmJiBlbnRpdHkubWV0YWRhdGEudW5pdHkgIT0gbnVsbCkgPyBlbnRpdHkubWV0YWRhdGEudW5pdHkgOiBudWxsO1xuICAgICAgICAgICAgaWYgKG1ldGFkYXRhICE9IG51bGwgJiYgbWV0YWRhdGEucGh5c2ljcyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWFzczpudW1iZXIgPSAobWV0YWRhdGEucGh5c2ljcy5tYXNzICE9IG51bGwpID8gbWV0YWRhdGEucGh5c2ljcy5tYXNzIDogMDtcbiAgICAgICAgICAgICAgICBjb25zdCBjZW50ZXI6QkFCWUxPTi5WZWN0b3IzID0gKG1ldGFkYXRhLnBoeXNpY3MuY2VudGVyICE9IG51bGwpID8gQkFCWUxPTi5VdGlsaXRpZXMuUGFyc2VWZWN0b3IzKG1ldGFkYXRhLnBoeXNpY3MuY2VudGVyLCBCQUJZTE9OLlZlY3RvcjMuWmVybygpKSA6IEJBQllMT04uVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgICAgICAgICAgaWYgKG1ldGFkYXRhLnBoeXNpY3MudHlwZSA9PT0gXCJyaWdpZGJvZHlcIikge1xuICAgICAgICAgICAgICAgICAgICBpZiAobWV0YWRhdGEuY29sbGlzaW9uICE9IG51bGwgJiYgbWV0YWRhdGEuY29sbGlzaW9uLnR5cGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNldHVwIENvbnZleCBIdWxsICYgTWVzaCBJbXBvc3RvciBDb2xsaWRlcnNcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb252ZXhtZXNoOmJvb2xlYW4gPSAobWV0YWRhdGEuY29sbGlzaW9uLmNvbnZleG1lc2ggIT0gbnVsbCkgPyBtZXRhZGF0YS5jb2xsaXNpb24uY29udmV4bWVzaCA6IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZHluYW1pY2ZyaWN0aW9uOm51bWJlciA9IChtZXRhZGF0YS5jb2xsaXNpb24uZHluYW1pY2ZyaWN0aW9uICE9IG51bGwpID8gbWV0YWRhdGEuY29sbGlzaW9uLmR5bmFtaWNmcmljdGlvbiA6IDAuNjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRpY2ZyaWN0aW9uOm51bWJlciA9IChtZXRhZGF0YS5jb2xsaXNpb24uc3RhdGljZnJpY3Rpb24gIT0gbnVsbCkgPyBtZXRhZGF0YS5jb2xsaXNpb24uc3RhdGljZnJpY3Rpb24gOiAwLjY7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN0aXR1dGlvbjpudW1iZXIgPSAobWV0YWRhdGEuY29sbGlzaW9uLnJlc3RpdHV0aW9uICE9IG51bGwpID8gbWV0YWRhdGEuY29sbGlzaW9uLnJlc3RpdHV0aW9uIDogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGltcGVyc29uYXRlOnN0cmluZyA9IChtZXRhZGF0YS5jb2xsaXNpb24uaW1wZXJzb25hdGUgIT0gbnVsbCkgPyBtZXRhZGF0YS5jb2xsaXNpb24uaW1wZXJzb25hdGUgOiBcIk5vbmVcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzdHJpZ2dlcjpib29sZWFuID0gKG1ldGFkYXRhLmNvbGxpc2lvbi50cmlnZ2VyICE9IG51bGwpID8gbWV0YWRhdGEuY29sbGlzaW9uLnRyaWdnZXIgOiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbGxpZGVyOnN0cmluZyA9IChtZXRhZGF0YS5jb2xsaXNpb24udHlwZSAhPSBudWxsKSA/IG1ldGFkYXRhLmNvbGxpc2lvbi50eXBlIDogXCJCb3hDb2xsaWRlclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGltcG9zdG9ydHlwZTpudW1iZXIgPSBCQUJZTE9OLlBoeXNpY3NJbXBvc3Rvci5Cb3hJbXBvc3RvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbXBlcnNvbmF0ZSA9PSBudWxsIHx8IGltcGVyc29uYXRlID09PSBcIlwiIHx8IGltcGVyc29uYXRlID09PSBcIk5vbmVcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb2xsaWRlciA9PT0gXCJNZXNoQ29sbGlkZXJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbXBvc3RvcnR5cGUgPSAoY29udmV4bWVzaCA9PT0gdHJ1ZSkgPyBCQUJZTE9OLlBoeXNpY3NJbXBvc3Rvci5Db252ZXhIdWxsSW1wb3N0b3IgOiBCQUJZTE9OLlBoeXNpY3NJbXBvc3Rvci5NZXNoSW1wb3N0b3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXNzID4gMCAmJiBjb252ZXhtZXNoID09PSBmYWxzZSkgQkFCWUxPTi5Ub29scy5XYXJuKFwiTm9uIHN0YXRpYyBtZXNoIGNvbGxpZGVyIG5vdCBzdXBwb3J0ZWQgZm9yIHRyYW5zZm9ybSBub2RlOiBcIiArIGVudGl0eS5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvbGxpZGVyID09PSBcIkNhcHN1bGVDb2xsaWRlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vdGU6IFVzaW5nIENvbnZleCBIdWxsIEltcG9zdG9yIFRvIFN1cHBvcnQgQ2Fwc3VsZSBSb3RhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbXBvc3RvcnR5cGUgPSBCQUJZTE9OLlBoeXNpY3NJbXBvc3Rvci5Db252ZXhIdWxsSW1wb3N0b3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjb2xsaWRlciA9PT0gXCJTcGhlcmVDb2xsaWRlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltcG9zdG9ydHlwZSA9IEJBQllMT04uUGh5c2ljc0ltcG9zdG9yLlNwaGVyZUltcG9zdG9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltcG9zdG9ydHlwZSA9IEJBQllMT04uUGh5c2ljc0ltcG9zdG9yLkJveEltcG9zdG9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGltcGVyc29uYXRlID09PSBcIlBsYW5lSW1wb3N0b3JcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbXBvc3RvcnR5cGUgPSBCQUJZTE9OLlBoeXNpY3NJbXBvc3Rvci5QbGFuZUltcG9zdG9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW1wZXJzb25hdGUgPT09IFwiU3BoZXJlSW1wb3N0b3JcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbXBvc3RvcnR5cGUgPSBCQUJZTE9OLlBoeXNpY3NJbXBvc3Rvci5TcGhlcmVJbXBvc3RvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGltcGVyc29uYXRlID09PSBcIkNhcHN1bGVJbXBvc3RvclwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltcG9zdG9ydHlwZSA9IEJBQllMT04uUGh5c2ljc0ltcG9zdG9yLkNhcHN1bGVJbXBvc3RvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGltcGVyc29uYXRlID09PSBcIkN5bGluZGVySW1wb3N0b3JcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbXBvc3RvcnR5cGUgPSBCQUJZTE9OLlBoeXNpY3NJbXBvc3Rvci5DeWxpbmRlckltcG9zdG9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW1wZXJzb25hdGUgPT09IFwiQ29udmV4SHVsbEltcG9zdG9yXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1wb3N0b3J0eXBlID0gQkFCWUxPTi5QaHlzaWNzSW1wb3N0b3IuQ29udmV4SHVsbEltcG9zdG9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltcG9zdG9ydHlwZSA9IEJBQllMT04uUGh5c2ljc0ltcG9zdG9yLkJveEltcG9zdG9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRyYWNlIE1lc2ggQ29sbGlkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJBQllMT04uVG9vbHMuV2FybihcIlNldHVwIFwiICsgQkFCWUxPTi5TY2VuZU1hbmFnZXIuR2V0UGh5c2ljc0ltcG9zdGVyVHlwZShpbXBvc3RvcnR5cGUpLnRvTG93ZXJDYXNlKCkgKyBcIiBnZW9tZXRyeSBpbXBvc3RlciBmb3I6IFwiICsgZW50aXR5Lm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5TY2VuZU1hbmFnZXIuQ3JlYXRlUGh5c2ljc0ltcG9zdG9yKHNjZW5lLCBlbnRpdHksIGltcG9zdG9ydHlwZSwgeyBtYXNzOiBtYXNzLCBmcmljdGlvbjogZHluYW1pY2ZyaWN0aW9uLCByZXN0aXR1dGlvbjogcmVzdGl0dXRpb24gfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlJpZ2lkYm9keVBoeXNpY3MuQ29uZmlnUmlnaWRib2R5UGh5c2ljcyhzY2VuZSwgZW50aXR5LCBmYWxzZSwgaXN0cmlnZ2VyLCBtZXRhZGF0YS5waHlzaWNzKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXR1cCBQcmltaXRpdmUgTWVzaCBDb21wb3VuZCBDaGlsZCBDb2xsaWRlcnNcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZmR5bmFtaWNmcmljdGlvbjpudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZzdGF0aWNmcmljdGlvbjpudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZyZXN0aXR1dGlvbjpudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZ0cmlnZ2VyOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmY291bnQ6bnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmd2hlZWxzOmFueVtdID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vdGU6IEJ1bGxldCBQaHlzaWNzIENlbnRlciBNYXNzIE11c3QgT2Zmc2V0IE1lc2hlcyAoTm8gV29ya2luZyBTZXQgQ2VudGVyIE1hc3MgUHJvcGVydHkgU3VwcG9ydClcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjZW50ZXJub2RlczpCQUJZTE9OLlRyYW5zZm9ybU5vZGVbXSA9IGVudGl0eS5nZXRDaGlsZHJlbihudWxsLCB0cnVlKSBhcyBCQUJZTE9OLlRyYW5zZm9ybU5vZGVbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjZW50ZXJub2RlcyAhPSBudWxsICYmIGNlbnRlcm5vZGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZW50ZXJub2Rlcy5mb3JFYWNoKChjZW50ZXJub2RlOkJBQllMT04uQWJzdHJhY3RNZXNoKSA9PiB7IGNlbnRlcm5vZGUucG9zaXRpb24uc3VidHJhY3RJblBsYWNlKGNlbnRlcik7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNoaWxkbm9kZXM6QkFCWUxPTi5BYnN0cmFjdE1lc2hbXSA9IGVudGl0eS5nZXRDaGlsZHJlbihudWxsLCBmYWxzZSkgYXMgQkFCWUxPTi5BYnN0cmFjdE1lc2hbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZG5vZGVzICE9IG51bGwgJiYgY2hpbGRub2Rlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRub2Rlcy5mb3JFYWNoKChjaGlsZG5vZGU6QkFCWUxPTi5BYnN0cmFjdE1lc2gpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkbm9kZS5tZXRhZGF0YSAhPSBudWxsICYmIGNoaWxkbm9kZS5tZXRhZGF0YS51bml0eSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGRub2RlLm1ldGFkYXRhLnVuaXR5LmNvbGxpc2lvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29sbGlzaW9uOmFueSA9IGNoaWxkbm9kZS5tZXRhZGF0YS51bml0eS5jb2xsaXNpb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3doZWVsaW5mb3JtYXRpb246YW55ID0gKGNvbGxpc2lvbi53aGVlbGluZm9ybWF0aW9uICE9IG51bGwpID8gY29sbGlzaW9uLndoZWVsaW5mb3JtYXRpb24gOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjd2hlZWxpbmZvcm1hdGlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRyYWNlIFdoZWVsIENvbGxpZGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJBQllMT04uVG9vbHMuV2FybihcIlNldHVwIHJheWNhc3Qgd2hlZWwgY29sbGlkZXIgZm9yOiBcIiArIGNoaWxkbm9kZS5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZ3aGVlbHMgPT0gbnVsbCkgZndoZWVscyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmd2hlZWxzLnB1c2goY3doZWVsaW5mb3JtYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERFUFJFQ0lBVEVEOiBNb3ZlIEFsbCBDb21wb3VuZCBDb2xsaWRlcnMgVW4gTWFpbiBObyBJbXBvc3RlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiAoY2hpbGRub2RlLnBhcmVudCAhPT0gZW50aXR5KSBjaGlsZG5vZGUuc2V0UGFyZW50KGVudGl0eSk7IC8vIE5lc3RlZCBDb21wb3VuZCBDb2xsaWRlcnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2R5bmFtaWNmcmljdGlvbjpudW1iZXIgPSAoY29sbGlzaW9uLmR5bmFtaWNmcmljdGlvbiAhPSBudWxsKSA/IGNvbGxpc2lvbi5keW5hbWljZnJpY3Rpb24gOiAwLjY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNzdGF0aWNmcmljdGlvbjpudW1iZXIgPSAoY29sbGlzaW9uLnN0YXRpY2ZyaWN0aW9uICE9IG51bGwpID8gY29sbGlzaW9uLnN0YXRpY2ZyaWN0aW9uIDogMC42O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjcmVzdGl0dXRpb246bnVtYmVyID0gKGNvbGxpc2lvbi5yZXN0aXR1dGlvbiAhPSBudWxsKSA/IGNvbGxpc2lvbi5yZXN0aXR1dGlvbiA6IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNpbXBlcnNvbmF0ZTpzdHJpbmcgPSAoY29sbGlzaW9uLmltcGVyc29uYXRlICE9IG51bGwpID8gY29sbGlzaW9uLmltcGVyc29uYXRlIDogXCJOb25lXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNpc3RyaWdnZXI6Ym9vbGVhbiA9IChjb2xsaXNpb24udHJpZ2dlciAhPSBudWxsKSA/IGNvbGxpc2lvbi50cmlnZ2VyIDogZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNjb2xsaWRlcjpzdHJpbmcgPSAoY29sbGlzaW9uLnR5cGUgIT0gbnVsbCkgPyBjb2xsaXNpb24udHlwZSA6IFwiQm94Q29sbGlkZXJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNpbXBvc3RvcnR5cGU6bnVtYmVyID0gQkFCWUxPTi5QaHlzaWNzSW1wb3N0b3IuQm94SW1wb3N0b3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaW1wZXJzb25hdGUgPT0gbnVsbCB8fCBjaW1wZXJzb25hdGUgPT09IFwiXCIgfHwgY2ltcGVyc29uYXRlID09PSBcIk5vbmVcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNjb2xsaWRlciA9PT0gXCJNZXNoQ29sbGlkZXJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vdGU6IEFsd2F5cyBGb3JjZSBDb252ZXggSHVsbCBJbXBvc3RvciBVc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNpbXBvc3RvcnR5cGUgPSBCQUJZTE9OLlBoeXNpY3NJbXBvc3Rvci5Db252ZXhIdWxsSW1wb3N0b3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNjb2xsaWRlciA9PT0gXCJDYXBzdWxlQ29sbGlkZXJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vdGU6IFVzaW5nIENvbnZleCBIdWxsIEltcG9zdG9yIFRvIFN1cHBvcnQgQ2Fwc3VsZSBSb3RhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNpbXBvc3RvcnR5cGUgPSBCQUJZTE9OLlBoeXNpY3NJbXBvc3Rvci5Db252ZXhIdWxsSW1wb3N0b3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNjb2xsaWRlciA9PT0gXCJTcGhlcmVDb2xsaWRlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2ltcG9zdG9ydHlwZSA9IEJBQllMT04uUGh5c2ljc0ltcG9zdG9yLlNwaGVyZUltcG9zdG9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaW1wb3N0b3J0eXBlID0gQkFCWUxPTi5QaHlzaWNzSW1wb3N0b3IuQm94SW1wb3N0b3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2ltcGVyc29uYXRlID09PSBcIlBsYW5lSW1wb3N0b3JcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNpbXBvc3RvcnR5cGUgPSBCQUJZTE9OLlBoeXNpY3NJbXBvc3Rvci5QbGFuZUltcG9zdG9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaW1wZXJzb25hdGUgPT09IFwiU3BoZXJlSW1wb3N0b3JcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNpbXBvc3RvcnR5cGUgPSBCQUJZTE9OLlBoeXNpY3NJbXBvc3Rvci5TcGhlcmVJbXBvc3RvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2ltcGVyc29uYXRlID09PSBcIkNhcHN1bGVJbXBvc3RvclwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2ltcG9zdG9ydHlwZSA9IEJBQllMT04uUGh5c2ljc0ltcG9zdG9yLkNhcHN1bGVJbXBvc3RvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2ltcGVyc29uYXRlID09PSBcIkN5bGluZGVySW1wb3N0b3JcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNpbXBvc3RvcnR5cGUgPSBCQUJZTE9OLlBoeXNpY3NJbXBvc3Rvci5DeWxpbmRlckltcG9zdG9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaW1wZXJzb25hdGUgPT09IFwiQ29udmV4SHVsbEltcG9zdG9yXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaW1wb3N0b3J0eXBlID0gQkFCWUxPTi5QaHlzaWNzSW1wb3N0b3IuQ29udmV4SHVsbEltcG9zdG9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaW1wb3N0b3J0eXBlID0gQkFCWUxPTi5QaHlzaWNzSW1wb3N0b3IuQm94SW1wb3N0b3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNkeW5hbWljZnJpY3Rpb24gPiBmZHluYW1pY2ZyaWN0aW9uKSBmZHluYW1pY2ZyaWN0aW9uID0gY2R5bmFtaWNmcmljdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNzdGF0aWNmcmljdGlvbiA+IGZzdGF0aWNmcmljdGlvbikgZnN0YXRpY2ZyaWN0aW9uID0gY3N0YXRpY2ZyaWN0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3Jlc3RpdHV0aW9uID4gZnJlc3RpdHV0aW9uKSBmcmVzdGl0dXRpb24gPSBjcmVzdGl0dXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaXN0cmlnZ2VyID09IHRydWUpIGZ0cmlnZ2VyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKDxhbnk+Y2hpbGRub2RlKS5faXNDb21wb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRyYWNlIENvbXBvdW5kIENvbGxpZGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJBQllMT04uVG9vbHMuV2FybihcIlNldHVwIFwiICsgQkFCWUxPTi5TY2VuZU1hbmFnZXIuR2V0UGh5c2ljc0ltcG9zdGVyVHlwZShjaW1wb3N0b3J0eXBlKS50b0xvd2VyQ2FzZSgpICsgXCIgY29tcG91bmQgaW1wb3N0ZXIgZm9yOiBcIiArIGNoaWxkbm9kZS5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5TY2VuZU1hbmFnZXIuQ3JlYXRlUGh5c2ljc0ltcG9zdG9yKHNjZW5lLCBjaGlsZG5vZGUsIGNpbXBvc3RvcnR5cGUsIHsgbWFzczogMCwgZnJpY3Rpb246IDAsIHJlc3RpdHV0aW9uOiAwIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlJpZ2lkYm9keVBoeXNpY3MuQ29uZmlnUmlnaWRib2R5UGh5c2ljcyhzY2VuZSwgY2hpbGRub2RlLCB0cnVlLCBmYWxzZSwgbWV0YWRhdGEucGh5c2ljcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZjb3VudCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZjb3VudCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoPGFueT5lbnRpdHkpLl9pc1Jvb3QgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRyYWNlIFBoeXNpY3MgUm9vdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJBQllMT04uVG9vbHMuV2FybihcIj4+PiBDcmVhdGVkIHBoeXNpY3Mgcm9vdCBubyBpbXBvc3RlciBmb3I6IFwiICsgZW50aXR5Lm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uU2NlbmVNYW5hZ2VyLkNyZWF0ZVBoeXNpY3NJbXBvc3RvcihzY2VuZSwgZW50aXR5LCBCQUJZTE9OLlBoeXNpY3NJbXBvc3Rvci5Ob0ltcG9zdG9yLCB7IG1hc3M6IG1hc3MsIGZyaWN0aW9uOiBmZHluYW1pY2ZyaWN0aW9uLCByZXN0aXR1dGlvbjogZnJlc3RpdHV0aW9uIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uUmlnaWRib2R5UGh5c2ljcy5Db25maWdSaWdpZGJvZHlQaHlzaWNzKHNjZW5lLCBlbnRpdHksIGZhbHNlLCBmdHJpZ2dlciwgbWV0YWRhdGEucGh5c2ljcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZndoZWVscyAhPSBudWxsICYmIGZ3aGVlbHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbnRpdHkubWV0YWRhdGEgPT0gbnVsbCkgZW50aXR5Lm1ldGFkYXRhID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVudGl0eS5tZXRhZGF0YS51bml0eSA9PSBudWxsKSBlbnRpdHkubWV0YWRhdGEudW5pdHkgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHkubWV0YWRhdGEudW5pdHkud2hlZWxzID0gZndoZWVscztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkbm9kZXMgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgICovXG4gICAgICAgIHByaXZhdGUgc3RhdGljIENvbmZpZ1JpZ2lkYm9keVBoeXNpY3Moc2NlbmU6QkFCWUxPTi5TY2VuZSwgZW50aXR5OiBCQUJZTE9OLkFic3RyYWN0TWVzaCwgY2hpbGQ6Ym9vbGVhbiwgdHJpZ2dlcjpib29sZWFuLCBwaHlzaWNzOmFueSk6dm9pZCB7XG4gICAgICAgICAgICBpZiAoZW50aXR5ID09IG51bGwpIHJldHVybjtcbiAgICAgICAgICAgIGlmIChlbnRpdHkucGh5c2ljc0ltcG9zdG9yICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBlbnRpdHkucGh5c2ljc0ltcG9zdG9yLmV4ZWN1dGVOYXRpdmVGdW5jdGlvbigod29yZDphbnksIGJvZHk6YW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChib2R5LmFjdGl2YXRlKSBib2R5LmFjdGl2YXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbG9iajphbnkgPSBBbW1vLmNhc3RPYmplY3QoYm9keSwgQW1tby5idENvbGxpc2lvbk9iamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9iai5lbnRpdHkgPSBlbnRpdHk7XG4gICAgICAgICAgICAgICAgICAgIC8vIElNUE9SVEFOVCAtIFNtb290aCBUcmlhbmdsZSBNZXNoIEVkZ2UgQ29udGFjdCBJbmZvXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHdvcmxkOmFueSA9IEJBQllMT04uU2NlbmVNYW5hZ2VyLkdldFBoeXNpY3NXb3JsZChzY2VuZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh3b3JsZCAhPSBudWxsICYmIHdvcmxkLmdlbmVyYXRlSW50ZXJuYWxFZGdlSW5mbykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29sbGlzaW9uU2hhcGU6YW55ID0gY29sb2JqLmdldENvbGxpc2lvblNoYXBlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29sbGlzaW9uU2hhcGUgIT0gbnVsbCAmJiBjb2xsaXNpb25TaGFwZS5nZXRTaGFwZVR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzaGFwZVR5cGU6bnVtYmVyID0gY29sbGlzaW9uU2hhcGUuZ2V0U2hhcGVUeXBlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNoYXBlVHlwZSA9PT0gMjEpIHsgLy8gVFJJQU5HTEVfTUVTSF9TSEFQRV9QUk9YWVRZUEVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJpYW5nbGVTaGFwZTphbnkgPSBBbW1vLmNhc3RPYmplY3QoY29sbGlzaW9uU2hhcGUsIEFtbW8uYnRCdmhUcmlhbmdsZU1lc2hTaGFwZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9iai50cmlhbmdsZU1hcEluZm8gPSBuZXcgQW1tby5idFRyaWFuZ2xlSW5mb01hcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3b3JsZC5nZW5lcmF0ZUludGVybmFsRWRnZUluZm8odHJpYW5nbGVTaGFwZSwgY29sb2JqLnRyaWFuZ2xlTWFwSW5mbyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGdyYXZpdHk6Ym9vbGVhbiA9IChwaHlzaWNzICE9IG51bGwgJiYgcGh5c2ljcy5ncmF2aXR5ICE9IG51bGwpID8gcGh5c2ljcy5ncmF2aXR5IDogdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdyYXZpdHkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYm9keS5zZXRHcmF2aXR5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keS5zZXRHcmF2aXR5KG5ldyBBbW1vLmJ0VmVjdG9yMygwLCAwLCAwKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbHMuV2FybihcIlBoeXNpY3MgZW5naW5lIHNldCBncmF2aXR5IG92ZXJyaWRlIG5vdCBzdXBwb3J0ZWQgZm9yOiBcIiArIGVudGl0eS5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAvLyBTZXR1cCBEcmFnIERhbXBpbmdcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGJvZHkuc2V0RGFtcGluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGRyYWc6bnVtYmVyID0gKHBoeXNpY3MgIT0gbnVsbCAmJiBwaHlzaWNzLmxkcmFnICE9IG51bGwpID8gcGh5c2ljcy5sZHJhZyA6IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhZHJhZzpudW1iZXIgPSAocGh5c2ljcyAhPSBudWxsICYmIHBoeXNpY3MuYWRyYWcgIT0gbnVsbCkgPyBwaHlzaWNzLmFkcmFnIDogMC4wNTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHkuc2V0RGFtcGluZyhsZHJhZywgYWRyYWcpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29scy5XYXJuKFwiUGh5c2ljcyBlbmdpbmUgc2V0IGRyYWcgZGFtcGluZyBub3Qgc3VwcG9ydGVkIGZvcjogXCIgKyBlbnRpdHkubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgLy8gU2V0dXAgQ29sbGlzaW9uIEZsYWdzXG4gICAgICAgICAgICAgICAgICAgIC8vIC4uXG4gICAgICAgICAgICAgICAgICAgIGlmIChib2R5LnNldENvbGxpc2lvbkZsYWdzICYmIGJvZHkuZ2V0Q29sbGlzaW9uRmxhZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmlnZ2VyID09PSB0cnVlKSBib2R5LnNldENvbGxpc2lvbkZsYWdzKGJvZHkuZ2V0Q29sbGlzaW9uRmxhZ3MoKSB8IEJBQllMT04uQ29sbGlzaW9uRmxhZ3MuQ0ZfTk9fQ09OVEFDVF9SRVNQT05TRSB8IEJBQllMT04uQ29sbGlzaW9uRmxhZ3MuQ0ZfQ1VTVE9NX01BVEVSSUFMX0NBTExCQUNLKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgYm9keS5zZXRDb2xsaXNpb25GbGFncyhib2R5LmdldENvbGxpc2lvbkZsYWdzKCkgfCBCQUJZTE9OLkNvbGxpc2lvbkZsYWdzLkNGX0NVU1RPTV9NQVRFUklBTF9DQUxMQkFDSyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xzLldhcm4oXCJQaHlzaWNzIGVuZ2luZSBzZXQgY29sbGlzaW9uIGZsYWdzIG5vdCBzdXBwb3J0ZWQgZm9yOiBcIiArIGVudGl0eS5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgICAgICAvLyBTZXR1cCBGcmVlemUgQ29uc3RyYWludHNcbiAgICAgICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZnJlZXplOmFueSA9IChwaHlzaWNzICE9IG51bGwgJiYgcGh5c2ljcy5mcmVlemUgIT0gbnVsbCkgPyBwaHlzaWNzLmZyZWV6ZSA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmcmVlemUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJvZHkuc2V0TGluZWFyRmFjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZnJlZXplX3Bvc194Om51bWJlciA9IChmcmVlemUucG9zaXRpb254ICE9IG51bGwgJiYgZnJlZXplLnBvc2l0aW9ueCA9PT0gdHJ1ZSkgPyAwIDogMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmcmVlemVfcG9zX3k6bnVtYmVyID0gKGZyZWV6ZS5wb3NpdGlvbnkgIT0gbnVsbCAmJiBmcmVlemUucG9zaXRpb255ID09PSB0cnVlKSA/IDAgOiAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZyZWV6ZV9wb3NfejpudW1iZXIgPSAoZnJlZXplLnBvc2l0aW9ueiAhPSBudWxsICYmIGZyZWV6ZS5wb3NpdGlvbnogPT09IHRydWUpID8gMCA6IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keS5zZXRMaW5lYXJGYWN0b3IobmV3IEFtbW8uYnRWZWN0b3IzKGZyZWV6ZV9wb3NfeCwgZnJlZXplX3Bvc195LCBmcmVlemVfcG9zX3opKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29scy5XYXJuKFwiUGh5c2ljcyBlbmdpbmUgc2V0IGxpbmVhciBmYWN0b3Igbm90IHN1cHBvcnRlZCBmb3I6IFwiICsgZW50aXR5Lm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJvZHkuc2V0QW5ndWxhckZhY3Rvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZyZWV6ZV9yb3RfeDpudW1iZXIgPSAoZnJlZXplLnJvdGF0aW9ueCAhPSBudWxsICYmIGZyZWV6ZS5yb3RhdGlvbnggPT09IHRydWUpID8gMCA6IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZnJlZXplX3JvdF95Om51bWJlciA9IChmcmVlemUucm90YXRpb255ICE9IG51bGwgJiYgZnJlZXplLnJvdGF0aW9ueSA9PT0gdHJ1ZSkgPyAwIDogMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmcmVlemVfcm90X3o6bnVtYmVyID0gKGZyZWV6ZS5yb3RhdGlvbnogIT0gbnVsbCAmJiBmcmVlemUucm90YXRpb256ID09PSB0cnVlKSA/IDAgOiAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHkuc2V0QW5ndWxhckZhY3RvcihuZXcgQW1tby5idFZlY3RvcjMoZnJlZXplX3JvdF94LCBmcmVlemVfcm90X3ksIGZyZWV6ZV9yb3RfeikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xzLldhcm4oXCJQaHlzaWNzIGVuZ2luZSBzZXQgYW5ndWxhciBmYWN0b3Igbm90IHN1cHBvcnRlZCBmb3I6IFwiICsgZW50aXR5Lm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIEJBQllMT04uVG9vbHMuV2FybihcIk5vIHZhbGlkIHBoeXNpY3MgaW1wb3N0b3IgdG8gc2V0dXAgZm9yIFwiICsgZW50aXR5Lm5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJhYnlsb24gY29sbGlzaW9uIGNvbnRhY3QgaW5mbyBwcm8gY2xhc3MgKE5hdGl2ZSBCdWxsZXQgUGh5c2ljcyAyLjgyKVxuICAgICAqIEBjbGFzcyBDb2xsaXNpb25Db250YWN0SW5mbyAtIEFsbCByaWdodHMgcmVzZXJ2ZWQgKGMpIDIwMjAgTWFja2V5IEtpbmFyZFxuICAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBDb2xsaXNpb25Db250YWN0SW5mbyB7XG4gICAgICAgIHB1YmxpYyBtZXNoOkJBQllMT04uQWJzdHJhY3RNZXNoID0gbnVsbDtcbiAgICAgICAgcHVibGljIHN0YXRlOm51bWJlciA9IDA7XG4gICAgICAgIHB1YmxpYyByZXNldDpib29sZWFuID0gZmFsc2U7XG4gICAgfSAgICBcbn0iLCJtb2R1bGUgQkFCWUxPTiB7XG4gICAgLyoqXG4gICAgICogQmFieWxvbiBzaHVyaWtlbiBwYXJ0aWNsZSBzeXN0ZW0gcHJvIGNsYXNzIChVbml0eSBTdHlsZSBTaHVyaWtlbiBQYXJ0aWNsZSBTeXN0ZW0pXG4gICAgICogQGNsYXNzIFNodXJpa2VuUGFydGljbGVzIC0gQWxsIHJpZ2h0cyByZXNlcnZlZCAoYykgMjAyMCBNYWNrZXkgS2luYXJkXG4gICAgICovXG4gICAgZXhwb3J0IGNsYXNzIFNodXJpa2VuUGFydGljbGVzIGV4dGVuZHMgQkFCWUxPTi5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwcm90ZWN0ZWQgYXdha2UoKTogdm9pZCB7IC8qIEF3YWtlIGNvbXBvbmVudCBmdW5jdGlvbiAqLyB9XG4gICAgICAgIHByb3RlY3RlZCBzdGFydCgpOiB2b2lkIHsgLyogU3RhcnQgcmVuZGVyIGxvb3AgZnVuY3Rpb24gKi8gfVxuICAgICAgICBwcm90ZWN0ZWQgdXBkYXRlKCk6IHZvaWQgeyAvKiBVcGRhdGUgcmVuZGVyIGxvb3AgZnVuY3Rpb24gKi8gfVxuICAgICAgICBwcm90ZWN0ZWQgbGF0ZSgpOiB2b2lkIHsgLyogTGF0ZSB1cGRhdGUgcmVuZGVyIGxvb3AgZnVuY3Rpb24gKi8gfVxuICAgICAgICBwcm90ZWN0ZWQgYWZ0ZXIoKTogdm9pZCB7IC8qIEFmdGVyIHJlbmRlciBsb29wIGZ1bmN0aW9uICovIH1cbiAgICAgICAgcHJvdGVjdGVkIGRlc3Ryb3koKTogdm9pZCB7IC8qIERlc3Ryb3kgY29tcG9uZW50IGZ1bmN0aW9uICovIH1cbiAgICB9XG59IiwibW9kdWxlIEJBQllMT04ge1xuICAgIC8qKlxuICAgICAqIEJhYnlsb24gd2luZG93IHNvY2tldCBjb250cm9sbGVyIHBybyBjbGFzcyAoU29ja2V0LklPKVxuICAgICAqIEBjbGFzcyBTb2NrZXRDb250cm9sbGVyIC0gQWxsIHJpZ2h0cyByZXNlcnZlZCAoYykgMjAyMCBNYWNrZXkgS2luYXJkXG4gICAgICovXG4gICAgZXhwb3J0IGNsYXNzIFNvY2tldENvbnRyb2xsZXIge1xuICAgICAgICAvKiogUmVnaXN0ZXJzIGFuIGhhbmRsZXIgZm9yIHdpbmRvdyBzb2NrZXQgY29ubmVjdCBldmVudCAqL1xuICAgICAgICBwdWJsaWMgc3RhdGljIFJlZ2lzdGVyT25Tb2NrZXRDb25uZWN0KGZ1bmM6KCk9PnZvaWQpOnZvaWQge1xuICAgICAgICAgICAgQkFCWUxPTi5TY2VuZU1hbmFnZXIuU2V0V2luZG93U3RhdGUoXCJvblNvY2tldENvbm5lY3RcIiwgZnVuYyk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIFJlZ2lzdGVycyBhbiBoYW5kbGVyIGZvciB3aW5kb3cgc29ja2V0IGRpc2Nvbm5lY3QgZXZlbnQgKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBSZWdpc3Rlck9uU29ja2V0RGlzY29ubmVjdChmdW5jOigpPT52b2lkKTp2b2lkIHtcbiAgICAgICAgICAgIEJBQllMT04uU2NlbmVNYW5hZ2VyLlNldFdpbmRvd1N0YXRlKFwib25Tb2NrZXREaXNjb25uZWN0XCIsIGZ1bmMpO1xuICAgICAgICB9XG4gICAgICAgIC8qKiBDb25uZWN0cyBhIHdpbmRvdyBzdGF0ZSBzb2NrZXQgKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBDb25uZWN0V2luZG93U29ja2V0KGNvbm5lY3Rpb246c3RyaW5nKTpTb2NrZXRJT0NsaWVudC5Tb2NrZXQge1xuICAgICAgICAgICAgbGV0IHNvY2tldDphbnkgPSBudWxsO1xuICAgICAgICAgICAgaWYgKHdpbmRvdy5mcmFtZUVsZW1lbnQgIT0gbnVsbCAmJiBwYXJlbnQgIT0gbnVsbCAmJiBwYXJlbnQud2luZG93ICE9IG51bGwgJiYgcGFyZW50LndpbmRvd1tcInNvY2tldENvbm5lY3RcIl0pIHtcbiAgICAgICAgICAgICAgICBzb2NrZXQgPSBwYXJlbnQud2luZG93W1wic29ja2V0Q29ubmVjdFwiXShjb25uZWN0aW9uKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAod2luZG93W1wic29ja2V0Q29ubmVjdFwiXSkge1xuICAgICAgICAgICAgICAgIHNvY2tldCA9IHdpbmRvd1tcInNvY2tldENvbm5lY3RcIl0oY29ubmVjdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc29ja2V0O1xuICAgICAgICB9XG4gICAgICAgIC8qKiBHZXQgdGhlIHdpbmRvdyBzdGF0ZSBzb2NrZXQgKi9cbiAgICAgICAgcHVibGljIHN0YXRpYyBHZXRXaW5kb3dTb2NrZXQoKTpTb2NrZXRJT0NsaWVudC5Tb2NrZXQge1xuICAgICAgICAgICAgcmV0dXJuIEJBQllMT04uU2NlbmVNYW5hZ2VyLkdldFdpbmRvd1N0YXRlKFwic29ja2V0XCIpO1xuICAgICAgICB9XG4gICAgfVxufSIsIm1vZHVsZSBCQUJZTE9OIHtcbiAgICAvKipcbiAgICAgKiBCYWJ5bG9uIHdlYiB2aWRlbyBwbGF5ZXIgcHJvIGNsYXNzIChVbml0eSBTdHlsZSBTaHVyaWtlbiBQYXJ0aWNsZSBTeXN0ZW0pXG4gICAgICogQGNsYXNzIFdlYlZpZGVvUGxheWVyIC0gQWxsIHJpZ2h0cyByZXNlcnZlZCAoYykgMjAyMCBNYWNrZXkgS2luYXJkXG4gICAgICovXG4gICAgZXhwb3J0IGNsYXNzIFdlYlZpZGVvUGxheWVyIGV4dGVuZHMgQkFCWUxPTi5TY3JpcHRDb21wb25lbnQge1xuICAgICAgICBwdWJsaWMgZ2V0VmlkZW9NYXRlcmlhbCgpOkJBQllMT04uU3RhbmRhcmRNYXRlcmlhbCB7IHJldHVybiB0aGlzLm1fdmlkZW9NYXRlcmlhbDsgfVxuICAgICAgICBwdWJsaWMgZ2V0VmlkZW9UZXh0dXJlKCk6QkFCWUxPTi5WaWRlb1RleHR1cmUgeyByZXR1cm4gdGhpcy5tX3ZpZGVvVGV4dHVyZTsgfVxuICAgICAgICBwdWJsaWMgZ2V0VmlkZW9FbGVtZW50KCk6SFRNTFZpZGVvRWxlbWVudCB7IHJldHVybiAodGhpcy5tX3ZpZGVvVGV4dHVyZSAhPSBudWxsKSA/IHRoaXMubV92aWRlb1RleHR1cmUudmlkZW8gOiBudWxsOyB9XG4gICAgICAgIHB1YmxpYyBnZXRWaWRlb1NjcmVlbigpOkJBQllMT04uQWJzdHJhY3RNZXNoIHsgcmV0dXJuIHRoaXMubV9hYnN0cmFjdE1lc2g7IH1cblxuICAgICAgICBwcm90ZWN0ZWQgbV9hYnN0cmFjdE1lc2g6QkFCWUxPTi5BYnN0cmFjdE1lc2ggPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgbV92aWRlb1RleHR1cmU6QkFCWUxPTi5WaWRlb1RleHR1cmUgPSBudWxsO1xuICAgICAgICBwcm90ZWN0ZWQgbV92aWRlb01hdGVyaWFsOkJBQllMT04uU3RhbmRhcmRNYXRlcmlhbCA9IG51bGw7XG5cbiAgICAgICAgcHJvdGVjdGVkIGF3YWtlKCk6IHZvaWQgeyB0aGlzLmF3YWtlV2ViVmlkZW9QbGF5ZXIoKTsgfVxuICAgICAgICBwcm90ZWN0ZWQgZGVzdHJveSgpOiB2b2lkIHsgdGhpcy5kZXN0cm95V2ViVmlkZW9QbGF5ZXIoKTsgfVxuXG4gICAgICAgIHByb3RlY3RlZCBhd2FrZVdlYlZpZGVvUGxheWVyKCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5tX2Fic3RyYWN0TWVzaCA9IHRoaXMuZ2V0QWJzdHJhY3RNZXNoKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5tX2Fic3RyYWN0TWVzaCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3ZpZGVvTWF0ZXJpYWwgPSBuZXcgQkFCWUxPTi5TdGFuZGFyZE1hdGVyaWFsKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5WaWRlb01hdFwiLCB0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fdmlkZW9NYXRlcmlhbC5yb3VnaG5lc3MgPSAxO1xuICAgICAgICAgICAgICAgIHRoaXMubV92aWRlb01hdGVyaWFsLmVtaXNzaXZlQ29sb3IgPSBuZXcgQkFCWUxPTi5Db2xvcjMoMSwxLDEpO1xuICAgICAgICAgICAgICAgIHRoaXMubV9hYnN0cmFjdE1lc2gubWF0ZXJpYWwgPSB0aGlzLm1fdmlkZW9NYXRlcmlhbDtcbiAgICAgICAgICAgICAgICAvLyAuLlxuICAgICAgICAgICAgICAgIC8vIEluaXRpYWwgVmlkZW8gU291cmNlIFNldHVwXG4gICAgICAgICAgICAgICAgLy8gLi5cbiAgICAgICAgICAgICAgICBjb25zdCB2aWRlb1VybDpzdHJpbmcgPSB0aGlzLmdldFByb3BlcnR5KFwidXJsXCIsIG51bGwpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHZpZGVvU3JjOkJBQllMT04uSVVuaXR5VmlkZW9DbGlwID0gdGhpcy5nZXRQcm9wZXJ0eShcInNvdXJjZVwiLCBudWxsKTtcbiAgICAgICAgICAgICAgICBsZXQgcGxheVVybDpzdHJpbmcgPSB2aWRlb1VybDtcbiAgICAgICAgICAgICAgICBpZiAodmlkZW9TcmMgIT0gbnVsbCAmJiB2aWRlb1NyYy5maWxlbmFtZSAhPSBudWxsICYmIHZpZGVvU3JjLmZpbGVuYW1lICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJvb3RVcmw6c3RyaW5nID0gQkFCWUxPTi5TY2VuZU1hbmFnZXIuR2V0Um9vdFVybCh0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICAgICAgcGxheVVybCA9IChyb290VXJsICsgdmlkZW9TcmMuZmlsZW5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocGxheVVybCAhPSBudWxsICYmIHBsYXlVcmwgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmlkZW9NdXRlZDpib29sZWFuID0gdGhpcy5nZXRQcm9wZXJ0eShcIm11dGVkXCIsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmlkZW9Qb3N0ZXI6c3RyaW5nID0gdGhpcy5nZXRQcm9wZXJ0eShcInBvc3RlclwiLCBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmlkZW9JbnZlcnQ6Ym9vbGVhbiA9IHRoaXMuZ2V0UHJvcGVydHkoXCJpbnZlcnR5XCIsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2aWRlb1NhbXBsZTpudW1iZXIgPSB0aGlzLmdldFByb3BlcnR5KFwic2FtcGxpbmdcIiwgMyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZpZGVvTWlwbWFwczpib29sZWFuID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1pcG1hcHNcIiwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2aWRlb0xvb3Bpbmc6Ym9vbGVhbiA9IHRoaXMuZ2V0UHJvcGVydHkoXCJsb29waW5nXCIsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmlkZW9QbGF5T25Bd2FrZTpib29sZWFuID0gdGhpcy5nZXRQcm9wZXJ0eShcInBsYXlvbmF3YWtlXCIsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2aWRlb1ZvbHVtZTpudW1iZXIgPSB0aGlzLmdldFByb3BlcnR5KFwidm9sdW1lXCIsIDEuMCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZpZGVvUGxheWJhY2s6bnVtYmVyID0gdGhpcy5nZXRQcm9wZXJ0eShcInBsYXliYWNrc3BlZWRcIiwgMS4wKTtcbiAgICAgICAgICAgICAgICAgICAgLy9jb25zdCB2aWRlb1NraXBPbkRyb3A6Ym9vbGVhbiA9IHRoaXMuZ2V0UHJvcGVydHkoXCJza2lwb25kcm9wXCIsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAvL2NvbnN0IHZpZGVvV2FpdEZvckZpcnN0RnJhbWU6Ym9vbGVhbiA9IHRoaXMuZ2V0UHJvcGVydHkoXCJ3YWl0Zm9yZmlyc3RmcmFtZVwiLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgLy9jb25zdCB2aWRlb1RhcmdldE1hdGVyaWFsUHJvcGVydHk6c3RyaW5nID0gdGhpcy5nZXRQcm9wZXJ0eShcInRhcmdldG1hdGVyaWFscHJvcGVydHlcIiwgXCJfTWFpblRleFwiKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmlkZW9TZXR0aW5nczpCQUJZTE9OLlZpZGVvVGV4dHVyZVNldHRpbmdzID0geyBhdXRvVXBkYXRlVGV4dHVyZTogdHJ1ZSwgYXV0b1BsYXk6IHZpZGVvUGxheU9uQXdha2UsIGxvb3A6IHZpZGVvTG9vcGluZywgbXV0ZWQ6IHZpZGVvTXV0ZWQsIHBvc3RlcjogdmlkZW9Qb3N0ZXIgfTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRWaWRlb1NvdXJjZShwbGF5VXJsLCB2aWRlb01pcG1hcHMsIHZpZGVvSW52ZXJ0LCB2aWRlb1NhbXBsZSwgdmlkZW9TZXR0aW5ncywgdmlkZW9Wb2x1bWUsIHZpZGVvUGxheWJhY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29scy5XYXJuKFwiTm8gdmlkZW8gbWVzaCBhdmFpbGFibGUgZm9yOiBcIiArIHRoaXMudHJhbnNmb3JtLm5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByb3RlY3RlZCBkZXN0cm95V2ViVmlkZW9QbGF5ZXIoKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLm1fYWJzdHJhY3RNZXNoID0gbnVsbDtcbiAgICAgICAgICAgIGlmICh0aGlzLm1fdmlkZW9UZXh0dXJlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1fdmlkZW9UZXh0dXJlLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fdmlkZW9UZXh0dXJlID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLm1fdmlkZW9NYXRlcmlhbCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3ZpZGVvTWF0ZXJpYWwuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMubV92aWRlb01hdGVyaWFsID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKiogU2V0IHdlYiB2aWRlbyBwbGF5ZXIgc291cmNlICovXG4gICAgICAgIHB1YmxpYyBzZXRWaWRlb1NvdXJjZShzcmM6IHN0cmluZyB8IHN0cmluZ1tdIHwgSFRNTFZpZGVvRWxlbWVudCwgZ2VuZXJhdGVNaXBNYXBzOiBib29sZWFuID0gZmFsc2UsIGludmVydFk6Ym9vbGVhbiA9IHRydWUsIHNhbXBsaW5nTW9kZTogbnVtYmVyID0gQkFCWUxPTi5UZXh0dXJlLlRSSUxJTkVBUl9TQU1QTElOR01PREUsIHNldHRpbmdzPzogQkFCWUxPTi5WaWRlb1RleHR1cmVTZXR0aW5ncywgdm9sdW1lOm51bWJlciA9IDEuMCwgc3BlZWQ6bnVtYmVyID0gMS4wKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5tX2Fic3RyYWN0TWVzaCAhPSBudWxsICYmIHRoaXMubV92aWRlb01hdGVyaWFsICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1fdmlkZW9NYXRlcmlhbC5kaWZmdXNlVGV4dHVyZSA9IG51bGw7ICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1fdmlkZW9UZXh0dXJlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX3ZpZGVvVGV4dHVyZS5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV92aWRlb1RleHR1cmUgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLm1fdmlkZW9UZXh0dXJlID0gbmV3IEJBQllMT04uVmlkZW9UZXh0dXJlKHRoaXMudHJhbnNmb3JtLm5hbWUgKyBcIi5WaWRlb1RleFwiLCBzcmMsIHRoaXMuc2NlbmUsIGdlbmVyYXRlTWlwTWFwcywgaW52ZXJ0WSwgc2FtcGxpbmdNb2RlLCBzZXR0aW5ncyk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubV92aWRlb1RleHR1cmUgIT0gbnVsbCAmJiB0aGlzLm1fdmlkZW9UZXh0dXJlLnZpZGVvICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX3ZpZGVvVGV4dHVyZS52aWRlby52b2x1bWUgPSB2b2x1bWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV92aWRlb1RleHR1cmUudmlkZW8ucGxheWJhY2tSYXRlID0gc3BlZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMubV92aWRlb01hdGVyaWFsLmRpZmZ1c2VUZXh0dXJlID0gdGhpcy5tX3ZpZGVvVGV4dHVyZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgQkFCWUxPTi5Ub29scy5XYXJuKFwiTm8gdmlkZW8gbWVzaCBvciBtYXRlcmlhbCBhdmFpbGFibGUgZm9yOiBcIiArIHRoaXMudHJhbnNmb3JtLm5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSJdfQ==

// Project Shader Fixes
if (BABYLON.Effect.IncludesShadersStore["pbrBlockFinalColorComposition"]) BABYLON.Effect.IncludesShadersStore["pbrBlockFinalColorComposition"] = BABYLON.Effect.IncludesShadersStore["pbrBlockFinalColorComposition"].replace("finalColor.rgb*=lightmapColor.rgb", "finalColor.rgb*=(lightmapColor.rgb+finalEmissive.rgb)");
if (BABYLON.Effect.ShadersStore["defaultPixelShader"]) BABYLON.Effect.ShadersStore["defaultPixelShader"] = BABYLON.Effect.ShadersStore["defaultPixelShader"].replace("color.rgb *= lightmapColor.rgb", "color.rgb *= (lightmapColor.rgb + finalEmissive.rgb)");
